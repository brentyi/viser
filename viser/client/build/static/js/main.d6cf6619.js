/*! For license information please see main.d6cf6619.js.LICENSE.txt */
(()=>{var e={823:e=>{"use strict";e.exports=function(e,t){if(null===e||"undefined"===typeof e)throw new TypeError("expected first argument to be an object.");if("undefined"===typeof t||"undefined"===typeof Symbol)return e;if("function"!==typeof Object.getOwnPropertySymbols)return e;for(var n=Object.prototype.propertyIsEnumerable,r=Object(e),i=arguments.length,o=0;++o<i;)for(var a=Object(arguments[o]),s=Object.getOwnPropertySymbols(a),l=0;l<s.length;l++){var c=s[l];n.call(a,c)&&(r[c]=a[c])}return r}},998:(e,t)=>{"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}return!0}},1:function(e,t){"use strict";var n,r,i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){n.set(this,!1),r.set(this,new Set)}get acquired(){return i(this,n,"f")}acquireAsync(){let e,t,{timeout:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,n,"f")?null==a?new Promise((e=>{i(this,r,"f").add(e)})):Promise.race([new Promise((n=>{e=()=>{clearTimeout(t),n()},i(this,r,"f").add(e)})),new Promise(((n,o)=>{t=setTimeout((()=>{i(this,r,"f").delete(e),o(new Error("Timed out waiting for lock"))}),a)}))]):(o(this,n,!0,"f"),Promise.resolve())}tryAcquire(){return!i(this,n,"f")&&(o(this,n,!0,"f"),!0)}release(){if(!i(this,n,"f"))throw new Error("Cannot release an unacquired lock");if(i(this,r,"f").size>0){const[e]=i(this,r,"f");i(this,r,"f").delete(e),e()}else o(this,n,!1,"f")}},n=new WeakMap,r=new WeakMap},892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",l="week",c="month",u="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,a=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:s,D:h,h:a,m:o,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",x={};x[b]=g;var w=function(e){return e instanceof C},S=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();x[o]&&(i=o),n&&(x[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;x[s]=t,i=s}return!r&&i&&(b=i),i||!r&&b},E=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},M=y;M.l=S,M.i=w,M.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e)}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(M.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return M},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return E(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<E(e)},v.$g=function(e,t,n){return M.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!M.u(t)||t,u=M.p(e),f=function(e,t){var i=M.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},p=function(e,t){return M.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?f(1,0):f(31,11);case c:return r?f(1,g):f(0,g+1);case l:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return f(r?v-x:v+(6-x),g);case s:case h:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=M.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[s]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],p=l===s?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[M.p(e)]()},v.add=function(r,u){var h,f=this;r=Number(r);var p=M.p(u),m=function(e){var t=E(f);return M.w(t.date(t.date()+Math.round(e*r)),f)};if(p===c)return this.set(c,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===s)return m(1);if(p===l)return m(7);var g=(h={},h[o]=t,h[a]=n,h[i]=e,h)[p]||1,v=this.$d.getTime()+r*g;return M.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=M.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},d=function(e){return M.s(o%12||12,e,"0")},h=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:M.s(this.$y,4,"0"),M:s+1,MM:M.s(s+1,2,"0"),MMM:u(n.monthsShort,s,c,3),MMMM:u(c,s),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:M.s(o,2,"0"),h:d(1),hh:d(2),a:h(o,a,!0),A:h(o,a,!1),m:String(a),mm:M.s(a,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:i};return r.replace(m,(function(e,t){return t||p[e]||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,f){var p,m=M.p(h),g=E(r),v=(g.utcOffset()-this.utcOffset())*t,y=this-g,b=M.m(this,g);return b=(p={},p[d]=b/12,p[c]=b,p[u]=b/3,p[l]=(y-v)/6048e5,p[s]=(y-v)/864e5,p[a]=y/n,p[o]=y/t,p[i]=y/e,p)[m]||y,f?b:M.a(b)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return x[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return M.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),_=C.prototype;return E.prototype=_,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",c],["$y",d],["$D",h]].forEach((function(e){_[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,C,E),e.$i=!0),E},E.locale=S,E.isDayjs=w,E.unix=function(e){return E(1e3*e)},E.en=x[b],E.Ls=x,E.p={},E}()},494:e=>{function t(e,t,n){var r,i,o,a,s;function l(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var c=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}t.debounce=t,e.exports=t},456:(e,t,n)=>{"use strict";var r=n(583);function i(e,t){for(var n in t)o(t,n)&&(e[n]=t[n])}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e){r(e)||(e={});for(var t=arguments.length,n=1;n<t;n++){var o=arguments[n];r(o)&&i(e,o)}return e}},583:e=>{"use strict";e.exports=function(e){return"undefined"!==typeof e&&null!==e&&("object"===typeof e||"function"===typeof e)}},845:e=>{"use strict";e.exports=function(e,t,n){for(var r in e)if(!1===t.call(n,e[r],r,e))break}},944:e=>{function t(e){return e?Array.isArray(e)?e.join("."):e:""}e.exports=function(e,n,r,i,o){if(null===(a=e)||"object"!==typeof a&&"function"!==typeof a||!n)return e;var a;if(n=t(n),r&&(n+="."+t(r)),i&&(n+="."+t(i)),o&&(n+="."+t(o)),n in e)return e[n];for(var s=n.split("."),l=s.length,c=-1;e&&++c<l;){for(var u=s[c];"\\"===u[u.length-1];)u=u.slice(0,-1)+"."+s[++c];e=e[u]}return e}},110:(e,t,n)=>{"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=w},309:(e,t,n)=>{"use strict";e.exports=n(746)},105:(e,t,n)=>{"use strict";var r=n(807);e.exports=function(e){return r(e)||"function"===typeof e||Array.isArray(e)}},807:(e,t,n)=>{"use strict";var r=n(863);function i(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==i(e)&&("function"===typeof(t=e.constructor)&&(!1!==i(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},863:e=>{"use strict";e.exports=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)}},260:e=>{var t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&l.call(e)==n}(e))return t;if(c(e)){var u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var d=o.test(e);return d||a.test(e)?s(e.slice(2),d?2:8):i.test(e)?t:+e}e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=u(n))===n?n:0),void 0!==t&&(t=(t=u(t))===t?t:0),function(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}(u(e),t,n)}},89:(e,t,n)=>{"use strict";var r=n(105),i=n(46),o=n(944),a=n(809);e.exports=function(e,t,n){if(!r(e))throw new TypeError("expected an object");if("string"!==typeof t||null==n)return i.apply(null,arguments);if("string"===typeof n)return a(e,t,n),e;var s=o(e,t);return r(n)&&r(s)&&(n=i({},s,n)),a(e,t,n),e}},46:(e,t,n)=>{"use strict";var r=n(105),i=n(845);function o(e,t){for(var n=arguments.length,r=0;++r<n;){var o=arguments[r];s(o)&&i(o,a,e)}return e}function a(e,t){if(function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}(t)){var n=this[t];s(e)&&s(n)?o(n,e):this[t]=e}}function s(e){return r(e)&&!Array.isArray(e)}e.exports=o},888:(e,t,n)=>{"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:(e,t,n)=>{e.exports=n(888)()},47:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(e,t,n)=>{"use strict";var r=n(791),i=n(71);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var z,F=Object.assign;function N(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function j(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case C:return"Profiler";case M:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ee=null;function Me(e){if(e=mi(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=vi(t),we(e.stateNode,e.type,t))}}function Ce(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function _e(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Te(e,t){return e(t)}function Ae(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ee)&&(Ae(),_e())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=vi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var ke={};Object.defineProperty(ke,"passive",{get:function(){Re=!0}}),window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch(tu){Re=!1}function Ie(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,ze=null,Fe=!1,Ne=null,Be={onError:function(e){Le=!0,ze=e}};function Ue(e,t,n,r,i,o,a,s,l){Le=!1,ze=null,Ie.apply(Be,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(je(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,qe=i.unstable_requestPaint,Ke=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,$e=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/st|0)|0},at=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ut(s):0!==(o&=a)&&(r=ut(o))}else 0!==(a=n&~i)?r=ut(a):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,St,Et,Mt,Ct=!1,_t=[],Tt=null,At=null,Pt=null,Ot=new Map,Dt=new Map,Rt=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=pi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Mt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Nt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),Ot.forEach(Nt),Dt.forEach(Nt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function jt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==At&&Ut(At,e),null!==Pt&&Ut(Pt,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)zt(n),null===n.blockedOn&&Rt.shift()}var Ht=x.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,r){var i=yt,o=Ht.transition;Ht.transition=null;try{yt=1,Yt(e,t,n,r)}finally{yt=i,Ht.transition=o}}function Wt(e,t,n,r){var i=yt,o=Ht.transition;Ht.transition=null;try{yt=4,Yt(e,t,n,r)}finally{yt=i,Ht.transition=o}}function Yt(e,t,n,r){if(Vt){var i=Qt(e,t,n,r);if(null===i)Ur(e,t,r,Xt,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Lt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Lt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<kt.indexOf(e)){for(;null!==i;){var o=mi(i);if(null!==o&&xt(o),null===(o=Qt(e,t,n,r))&&Ur(e,t,r,Xt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Xt=null;function Qt(e,t,n,r){if(Xt=null,null!==(e=pi(e=xe(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case $e:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Kt=null,Zt=null,Jt=null;function $t(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var on,an,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=F({},ln,{view:0,detail:0}),dn=rn(un),hn=F({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,an=e.screenY-sn.screenY):an=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=rn(hn),pn=rn(F({},hn,{dataTransfer:0})),mn=rn(F({},un,{relatedTarget:0})),gn=rn(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=rn(F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=rn(F({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function En(){return Sn}var Mn=rn(F({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Cn=rn(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=rn(F({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Tn=rn(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=rn(F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Dn,kn=u&&(!On||Dn&&8<Dn&&11>=Dn),In=String.fromCharCode(32),Ln=!1;function zn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function jn(e,t,n,r){Ce(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Vn=null;function Gn(e){Ir(e,0)}function Wn(e){if(X(gi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Qn;if(u){var qn="oninput"in document;if(!qn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),qn="function"===typeof Kn.oninput}Qn=qn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function Zn(){Hn&&(Hn.detachEvent("onpropertychange",Jn),Vn=Hn=null)}function Jn(e){if("value"===e.propertyName&&Wn(Vn)){var t=[];jn(t,Vn,e,xe(e)),Oe(Gn,t)}}function $n(e,t,n){"focusin"===e?(Zn(),Vn=n,(Hn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&Zn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Vn)}function tr(e,t){if("click"===e)return Wn(t)}function nr(e,t){if("input"===e||"change"===e)return Wn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ar(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ur(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&cr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ar(n,o);var a=ar(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=u&&"documentMode"in document&&11>=document.documentMode,hr=null,fr=null,pr=null,mr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==hr||hr!==Q(r)||("selectionStart"in(r=hr)&&cr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=Hr(fr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionend:vr("Transition","TransitionEnd")},br={},xr={};function wr(e){if(br[e])return br[e];if(!yr[e])return e;var t,n=yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return br[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var Sr=wr("animationend"),Er=wr("animationiteration"),Mr=wr("animationstart"),Cr=wr("transitionend"),_r=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){_r.set(e,t),l(t,[e])}for(var Pr=0;Pr<Tr.length;Pr++){var Or=Tr[Pr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(Sr,"onAnimationEnd"),Ar(Er,"onAnimationIteration"),Ar(Mr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=ze;Le=!1,ze=null,Fe||(Fe=!0,Ne=u)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;kr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;kr(i,s,c),o=l}}}if(Fe)throw e=Ne,Fe=!1,Ne=null,e}function Lr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){if(!e[Fr]){e[Fr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,zr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(qt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=pi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,i=xe(n),a=[];e:{var s=_r.get(e);if(void 0!==s){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case Sr:case Er:case Mr:l=gn;break;case Cr:l=Tn;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(jr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!pi(c)&&!c[ui])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?pi(c):null)&&(c!==(d=je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:gi(l),f=null==c?s:gi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,pi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Vr(f))p++;for(f=0,m=h;m;m=Vr(m))f++;for(;0<p-f;)u=Vr(u),p--;for(;0<f-p;)h=Vr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Vr(u),h=Vr(h)}u=null}else u=null;null!==l&&Gr(a,s,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(s=r?gi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Un(s))if(Xn)g=nr;else{g=er;var v=$n}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=tr);switch(g&&(g=g(e,r))?jn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?gi(r):window,e){case"focusin":(Un(v)||"true"===v.contentEditable)&&(hr=v,fr=r,pr=null);break;case"focusout":pr=fr=hr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(a,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Nn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(kn&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Nn&&(y=$t()):(Zt="value"in(Kt=i)?Kt.value:Kt.textContent,Nn=!0)),0<(v=Hr(r,b)).length&&(b=new yn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Fn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Ln=!0,In);case"textInput":return(e=t.data)===In&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!On&&zn(e,t)?(e=$t(),Jt=Zt=Kt=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ir(a,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(jr(e,o,i)),null!=(o=De(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=De(n,o))&&a.unshift(jr(n,l,s)):i||null!=(l=De(n,o))&&a.push(jr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function qr(){}var Kr=null,Zr=null;function Jr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:$r;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),li="__reactFiber$"+si,ci="__reactProps$"+si,ui="__reactContainer$"+si,di="__reactEvents$"+si,hi="__reactListeners$"+si,fi="__reactHandles$"+si;function pi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ai(e);null!==e;){if(n=e[li])return n;e=ai(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[li]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function vi(e){return e[ci]||null}var yi=[],bi=-1;function xi(e){return{current:e}}function wi(e){0>bi||(e.current=yi[bi],yi[bi]=null,bi--)}function Si(e,t){bi++,yi[bi]=e.current,e.current=t}var Ei={},Mi=xi(Ei),Ci=xi(!1),_i=Ei;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){wi(Ci),wi(Mi)}function Oi(e,t,n){if(Mi.current!==Ei)throw Error(o(168));Si(Mi,t),Si(Ci,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return F({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,_i=Mi.current,Si(Mi,e),Si(Ci,Ci.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,wi(Ci),wi(Mi),Si(Mi,e)):wi(Ci),Si(Ci,n)}var Ii=null,Li=!1,zi=!1;function Fi(e){null===Ii?Ii=[e]:Ii.push(e)}function Ni(){if(!zi&&null!==Ii){zi=!0;var e=0,t=yt;try{var n=Ii;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ii=null,Li=!1}catch(i){throw null!==Ii&&(Ii=Ii.slice(e+1)),Ye(Je,Ni),i}finally{yt=t,zi=!1}}return null}var Bi=[],Ui=0,ji=null,Hi=0,Vi=[],Gi=0,Wi=null,Yi=1,Xi="";function Qi(e,t){Bi[Ui++]=Hi,Bi[Ui++]=ji,ji=e,Hi=t}function qi(e,t,n){Vi[Gi++]=Yi,Vi[Gi++]=Xi,Vi[Gi++]=Wi,Wi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var o=32-ot(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-ot(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function Ki(e){null!==e.return&&(Qi(e,1),qi(e,1,0))}function Zi(e){for(;e===ji;)ji=Bi[--Ui],Bi[Ui]=null,Hi=Bi[--Ui],Bi[Ui]=null;for(;e===Wi;)Wi=Vi[--Gi],Vi[Gi]=null,Xi=Vi[--Gi],Vi[Gi]=null,Yi=Vi[--Gi],Vi[Gi]=null}var Ji=null,$i=null,eo=!1,to=null;function no(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ro(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ji=e,$i=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ji=e,$i=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ji=e,$i=null,!0);default:return!1}}function io(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function oo(e){if(eo){var t=$i;if(t){var n=t;if(!ro(e,t)){if(io(e))throw Error(o(418));t=oi(n.nextSibling);var r=Ji;t&&ro(e,t)?no(r,n):(e.flags=-4097&e.flags|2,eo=!1,Ji=e)}}else{if(io(e))throw Error(o(418));e.flags=-4097&e.flags|2,eo=!1,Ji=e}}}function ao(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ji=e}function so(e){if(e!==Ji)return!1;if(!eo)return ao(e),eo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Jr(e.type,e.memoizedProps)),t&&(t=$i)){if(io(e))throw lo(),Error(o(418));for(;t;)no(e,t),t=oi(t.nextSibling)}if(ao(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){$i=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}$i=null}}else $i=Ji?oi(e.stateNode.nextSibling):null;return!0}function lo(){for(var e=$i;e;)e=oi(e.nextSibling)}function co(){$i=Ji=null,eo=!1}function uo(e){null===to?to=[e]:to.push(e)}var ho=x.ReactCurrentBatchConfig;function fo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var po=xi(null),mo=null,go=null,vo=null;function yo(){vo=go=mo=null}function bo(e){var t=po.current;wi(po),e._currentValue=t}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wo(e,t){mo=e,vo=go=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(gs=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(vo!==e)if(e={context:e,memoizedValue:t,next:null},null===go){if(null===mo)throw Error(o(308));go=e,mo.dependencies={lanes:0,firstContext:e}}else go=go.next=e;return t}var Eo=null;function Mo(e){null===Eo?Eo=[e]:Eo.push(e)}function Co(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Mo(t)):(n.next=i.next,i.next=n),t.interleaved=n,_o(e,r)}function _o(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var To=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_o(e,n)}return null===(i=r.interleaved)?(t.next=t,Mo(r)):(t.next=i.next,i.next=t),r.interleaved=t,_o(e,n)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function ko(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Io(e,t,n,r){var i=e.updateQueue;To=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:To=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);kl|=a,e.lanes=a,e.memoizedState=d}}function Lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var No={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=Jl(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&($l(t,e,i,r),Ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=Jl(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&($l(t,e,i,r),Ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=Jl(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Do(e,i,r))&&($l(t,e,r,n),Ro(t,e,r))}};function Bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,o))}function Uo(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"===typeof o&&null!==o?o=So(o):(i=Ai(t)?_i:Mi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=No,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function jo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=So(o):(o=Ai(t)?_i:Mi.current,i.context=Ti(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&No.enqueueReplaceState(i,i.state,null),Io(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Wo(o)===t.type)?((r=i(t,n.props)).ref=Vo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Vo(e,null,t),n.return=e,n;case S:return(t=Lc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),eo&&Qi(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return eo&&Qi(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),eo&&Qi(i,m),c}function g(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),eo&&Qi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return eo&&Qi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),eo&&Qi(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Wo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((o=Rc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=Vo(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Lc(a,r.mode,l)).return=r,r=o}return s(r);case R:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(L(a))return g(r,o,a,l);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Ic(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Xo=Yo(!0),Qo=Yo(!1),qo={},Ko=xi(qo),Zo=xi(qo),Jo=xi(qo);function $o(e){if(e===qo)throw Error(o(174));return e}function ea(e,t){switch(Si(Jo,t),Si(Zo,e),Si(Ko,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wi(Ko),Si(Ko,t)}function ta(){wi(Ko),wi(Zo),wi(Jo)}function na(e){$o(Jo.current);var t=$o(Ko.current),n=le(t,e.type);t!==n&&(Si(Zo,e),Si(Ko,n))}function ra(e){Zo.current===e&&(wi(Ko),wi(Zo))}var ia=xi(0);function oa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function sa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var la=x.ReactCurrentDispatcher,ca=x.ReactCurrentBatchConfig,ua=0,da=null,ha=null,fa=null,pa=!1,ma=!1,ga=0,va=0;function ya(){throw Error(o(321))}function ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,i,a){if(ua=a,da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),ma){a=0;do{if(ma=!1,ga=0,25<=a)throw Error(o(301));a+=1,fa=ha=null,t.updateQueue=null,la.current=os,e=n(r,i)}while(ma)}if(la.current=ns,t=null!==ha&&null!==ha.next,ua=0,fa=ha=da=null,pa=!1,t)throw Error(o(300));return e}function wa(){var e=0!==ga;return ga=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?da.memoizedState=fa=e:fa=fa.next=e,fa}function Ea(){if(null===ha){var e=da.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===fa?da.memoizedState:fa.next;if(null!==t)fa=t,ha=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===fa?da.memoizedState=fa=e:fa=fa.next=e}return fa}function Ma(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((ua&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,da.lanes|=d,kl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,rr(r,t.memoizedState)||(gs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,da.lanes|=a,kl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);rr(a,t.memoizedState)||(gs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ta(){}function Aa(e,t){var n=da,r=Ea(),i=t(),a=!rr(r.memoizedState,i);if(a&&(r.memoizedState=i,gs=!0),r=r.queue,Ua(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==fa&&1&fa.memoizedState.tag){if(n.flags|=2048,La(9,Oa.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(o(349));0!==(30&ua)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&ka(e)}function Da(e,t,n){return n((function(){Ra(t)&&ka(e)}))}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function ka(e){var t=_o(e,1);null!==t&&$l(t,e,1,-1)}function Ia(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t.queue=e,e=e.dispatch=Ja.bind(null,da,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return Ea().memoizedState}function Fa(e,t,n,r){var i=Sa();da.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var i=Ea();r=void 0===r?null:r;var o=void 0;if(null!==ha){var a=ha.memoizedState;if(o=a.destroy,null!==r&&ba(r,a.deps))return void(i.memoizedState=La(t,n,o,r))}da.flags|=e,i.memoizedState=La(1|t,n,o,r)}function Ba(e,t){return Fa(8390656,8,e,t)}function Ua(e,t){return Na(2048,8,e,t)}function ja(e,t){return Na(4,2,e,t)}function Ha(e,t){return Na(4,4,e,t)}function Va(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4,4,Va.bind(null,t,e),n)}function Wa(){}function Ya(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,gs=!0),e.memoizedState=n):(rr(n,t)||(n=pt(),da.lanes|=n,kl|=n,e.baseState=!0),t)}function qa(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ca.transition;ca.transition={};try{e(!1),t()}finally{yt=n,ca.transition=r}}function Ka(){return Ea().memoizedState}function Za(e,t,n){var r=Jl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$a(e))es(t,n);else if(null!==(n=Co(e,t,n,r))){$l(n,e,r,Zl()),ts(n,t,r)}}function Ja(e,t,n){var r=Jl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($a(e))es(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,rr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Mo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Co(e,t,i,r))&&($l(n,e,r,i=Zl()),ts(n,t,r))}}function $a(e){var t=e.alternate;return e===da||null!==t&&t===da}function es(e,t){ma=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var ns={readContext:So,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},rs={readContext:So,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:Ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Za.bind(null,da,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Ia,useDebugValue:Wa,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=qa.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=da,i=Sa();if(eo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===_l)throw Error(o(349));0!==(30&ua)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ba(Da.bind(null,r,a,e),[e]),r.flags|=2048,La(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=_l.identifierPrefix;if(eo){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ga++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=va++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:So,useCallback:Ya,useContext:So,useEffect:Ua,useImperativeHandle:Ga,useInsertionEffect:ja,useLayoutEffect:Ha,useMemo:Xa,useReducer:Ca,useRef:za,useState:function(){return Ca(Ma)},useDebugValue:Wa,useDeferredValue:function(e){return Qa(Ea(),ha.memoizedState,e)},useTransition:function(){return[Ca(Ma)[0],Ea().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Aa,useId:Ka,unstable_isNewReconciler:!1},os={readContext:So,useCallback:Ya,useContext:So,useEffect:Ua,useImperativeHandle:Ga,useInsertionEffect:ja,useLayoutEffect:Ha,useMemo:Xa,useReducer:_a,useRef:za,useState:function(){return _a(Ma)},useDebugValue:Wa,useDeferredValue:function(e){var t=Ea();return null===ha?t.memoizedState=e:Qa(t,ha.memoizedState,e)},useTransition:function(){return[_a(Ma)[0],Ea().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Aa,useId:Ka,unstable_isNewReconciler:!1};function as(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ss(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var cs="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jl||(jl=!0,Hl=r),ls(0,t)},n}function ds(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ls(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ls(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new cs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function fs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ps(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ms=x.ReactCurrentOwner,gs=!1;function vs(e,t,n,r){t.child=null===e?Qo(t,null,n,r):Xo(t,e.child,n,r)}function ys(e,t,n,r,i){n=n.render;var o=t.ref;return wo(t,i),r=xa(e,t,n,r,o,i),n=wa(),null===e||gs?(eo&&n&&Ki(t),t.flags|=1,vs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,js(e,t,i))}function bs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(a,r)&&e.ref===t.ref)return js(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ir(o,r)&&e.ref===t.ref){if(gs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,js(e,t,i);0!==(131072&e.flags)&&(gs=!0)}}return Es(e,t,n,r,i)}function ws(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Si(Ol,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(Ol,Pl),Pl|=r;return vs(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var o=Ai(n)?_i:Mi.current;return o=Ti(t,o),wo(t,i),n=xa(e,t,n,r,o,i),r=wa(),null===e||gs?(eo&&r&&Ki(t),t.flags|=1,vs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,js(e,t,i))}function Ms(e,t,n,r,i){if(Ai(n)){var o=!0;Ri(t)}else o=!1;if(wo(t,i),null===t.stateNode)Us(e,t),Uo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=So(c):c=Ti(t,c=Ai(n)?_i:Mi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&jo(t,a,r,c),To=!1;var h=t.memoizedState;a.state=h,Io(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ci.current||To?("function"===typeof u&&(Fo(t,n,u,r),l=t.memoizedState),(s=To||Bo(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Po(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:fo(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=So(l):l=Ti(t,l=Ai(n)?_i:Mi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&jo(t,a,r,l),To=!1,h=t.memoizedState,a.state=h,Io(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ci.current||To?("function"===typeof f&&(Fo(t,n,f,r),p=t.memoizedState),(c=To||Bo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,o,i)}function Cs(e,t,n,r,i,o){Ss(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ki(t,n,!1),js(e,t,o);r=t.stateNode,ms.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):vs(e,t,s,o),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function _s(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ea(e,t.containerInfo)}function Ts(e,t,n,r,i){return co(),uo(i),t.flags|=256,vs(e,t,n,r),t.child}var As,Ps,Os,Ds,Rs={dehydrated:null,treeContext:null,retryLane:0};function ks(e){return{baseLanes:e,cachePool:null,transitions:null}}function Is(e,t,n){var r,i=t.pendingProps,a=ia.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(ia,1&a),null===e)return oo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=kc(l,i,0,null),e=Rc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ks(n),t.memoizedState=Rs,e):Ls(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ss(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=kc({mode:"visible",children:r.children},i,0,null),(a=Rc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=ks(s),t.memoizedState=Rs,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=ss(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),gs||l){if(null!==(r=_l)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,_o(e,i),$l(r,e,i,-1))}return hc(),zs(e,t,s,r=ss(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,$i=oi(i.nextSibling),Ji=t,eo=!0,to=null,null!==e&&(Vi[Gi++]=Yi,Vi[Gi++]=Xi,Vi[Gi++]=Wi,Yi=e.id,Xi=e.overflow,Wi=t),t=Ls(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Rc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?ks(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ls(e,t){return(t=kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&uo(r),Xo(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function Ns(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(vs(e,t,r.children,n),0!==(2&(r=ia.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ia,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ns(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ns(t,!0,n,null,o);break;case"together":Ns(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function js(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!eo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(Zi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:case 17:return Ai(t.type)&&Pi(),Vs(t),null;case 3:return r=t.stateNode,ta(),wi(Ci),wi(Mi),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(so(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==to&&(rc(to),to=null))),Ps(e,t),Vs(t),null;case 5:ra(t);var i=$o(Jo.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Vs(t),null}if(e=$o(Ko.current),so(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[li]=t,r[ci]=a,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Lr(Dr[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":K(r,a),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",r);break;case"textarea":ie(r,a),Lr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Lr("scroll",r)}switch(n){case"input":Y(r),$(r,a,!0);break;case"textarea":Y(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[li]=t,e[ci]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),i=r;break;case"iframe":case"object":case"embed":Lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Lr(Dr[i],e);i=r;break;case"source":Lr("error",e),i=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=r;break;case"details":Lr("toggle",e),i=r;break;case"input":K(e,r),i=q(e,r),Lr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Lr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Lr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":Y(e),$(e,r,!1);break;case"textarea":Y(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(Jo.current),$o(Ko.current),so(t)){if(r=t.stateNode,n=t.memoizedProps,r[li]=t,(a=r.nodeValue!==n)&&null!==(e=Ji))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[li]=t,t.stateNode=r}return Vs(t),null;case 13:if(wi(ia),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(eo&&null!==$i&&0!==(1&t.mode)&&0===(128&t.flags))lo(),co(),t.flags|=98560,a=!1;else if(a=so(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[li]=t}else co(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),a=!1}else null!==to&&(rc(to),to=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ia.current)?0===Dl&&(Dl=3):hc())),null!==t.updateQueue&&(t.flags|=4),Vs(t),null);case 4:return ta(),Ps(e,t),null===e&&Nr(t.stateNode.containerInfo),Vs(t),null;case 10:return bo(t.type._context),Vs(t),null;case 19:if(wi(ia),null===(a=t.memoizedState))return Vs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=oa(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ia,1&ia.current|2),t.child}e=e.sibling}null!==a.tail&&Ke()>Bl&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=oa(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!eo)return Vs(t),null}else 2*Ke()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,n=ia.current,Si(ia,r?1&n|2:1&n),t):(Vs(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ws(e,t){switch(Zi(t),t.tag){case 1:return Ai(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ta(),wi(Ci),wi(Mi),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ra(t),null;case 13:if(wi(ia),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));co()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wi(ia),null;case 4:return ta(),null;case 10:return bo(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$o(Ko.current);var o,a=null;switch(n){case"input":i=q(e,i),r=q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=qr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Lr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,qs=null;function Ks(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){wc(e,t,r)}else n.current=null}function Zs(e,t,n){try{n()}catch(r){wc(e,t,r)}}var Js=!1;function $s(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Zs(t,n,o)}i=i.next}while(i!==r)}}function el(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nl(e){var t=e.alternate;null!==t&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[li],delete t[ci],delete t[di],delete t[hi],delete t[fi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}var sl=null,ll=!1;function cl(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Xs||Ks(n,t);case 6:var r=sl,i=ll;sl=null,cl(e,t,n),ll=i,null!==(sl=r)&&(ll?(e=sl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):sl.removeChild(n.stateNode));break;case 18:null!==sl&&(ll?(e=sl,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),jt(e)):ii(sl,n.stateNode));break;case 4:r=sl,i=ll,sl=n.stateNode.containerInfo,ll=!0,cl(e,t,n),sl=r,ll=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&Zs(n,t,a),i=i.next}while(i!==r)}cl(e,t,n);break;case 1:if(!Xs&&(Ks(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wc(n,t,s)}cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,cl(e,t,n),Xs=r):cl(e,t,n);break;default:cl(e,t,n)}}function dl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:sl=l.stateNode,ll=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===sl)throw Error(o(160));ul(a,s,i),sl=null,ll=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){wc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),pl(e),4&r){try{$s(3,e,e.return),el(3,e)}catch(g){wc(e,e.return,g)}try{$s(5,e,e.return)}catch(g){wc(e,e.return,g)}}break;case 1:hl(t,e),pl(e),512&r&&null!==n&&Ks(n,n.return);break;case 5:if(hl(t,e),pl(e),512&r&&null!==n&&Ks(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){wc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(i,a),ye(l,s);var u=ye(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[ci]=a}catch(g){wc(e,e.return,g)}}break;case 6:if(hl(t,e),pl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){wc(e,e.return,g)}}break;case 3:if(hl(t,e),pl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(g){wc(e,e.return,g)}break;case 4:default:hl(t,e),pl(e);break;case 13:hl(t,e),pl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Nl=Ke())),4&r&&dl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,hl(t,e),Xs=u):hl(t,e),pl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(qs=e,d=e.child;null!==d;){for(h=qs=d;null!==qs;){switch(p=(f=qs).child,f.tag){case 0:case 11:case 14:case 15:$s(4,f,f.return);break;case 1:Ks(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){wc(r,n,g)}}break;case 5:Ks(f,f.return);break;case 22:if(null!==f.memoizedState){yl(h);continue}}null!==p?(p.return=f,qs=p):yl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",s))}catch(g){wc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){wc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hl(t,e),pl(e),4&r&&dl(e);case 21:}}function pl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),al(e,il(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ol(e,il(e),a);break;default:throw Error(o(161))}}catch(s){wc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ml(e,t,n){qs=e,gl(e,t,n)}function gl(e,t,n){for(var r=0!==(1&e.mode);null!==qs;){var i=qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=a,(Xs=l)&&!c)for(qs=i;null!==qs;)l=(a=qs).child,22===a.tag&&null!==a.memoizedState?bl(i):null!==l?(l.return=a,qs=l):bl(i);for(;null!==o;)qs=o,gl(o,t,n),o=o.sibling;qs=i,Ys=s,Xs=c}vl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,qs=o):vl(e)}}function vl(e){for(;null!==qs;){var t=qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||el(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:fo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Lo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Lo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&tl(t)}catch(f){wc(t,t.return,f)}}if(t===e){qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,qs=n;break}qs=t.return}}function yl(e){for(;null!==qs;){var t=qs;if(t===e){qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qs=n;break}qs=t.return}}function bl(e){for(;null!==qs;){var t=qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{el(4,t)}catch(l){wc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){wc(t,i,l)}}var o=t.return;try{tl(t)}catch(l){wc(t,o,l)}break;case 5:var a=t.return;try{tl(t)}catch(l){wc(t,a,l)}}}catch(l){wc(t,t.return,l)}if(t===e){qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,qs=s;break}qs=t.return}}var xl,wl=Math.ceil,Sl=x.ReactCurrentDispatcher,El=x.ReactCurrentOwner,Ml=x.ReactCurrentBatchConfig,Cl=0,_l=null,Tl=null,Al=0,Pl=0,Ol=xi(0),Dl=0,Rl=null,kl=0,Il=0,Ll=0,zl=null,Fl=null,Nl=0,Bl=1/0,Ul=null,jl=!1,Hl=null,Vl=null,Gl=!1,Wl=null,Yl=0,Xl=0,Ql=null,ql=-1,Kl=0;function Zl(){return 0!==(6&Cl)?Ke():-1!==ql?ql:ql=Ke()}function Jl(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Al?Al&-Al:null!==ho.transition?(0===Kl&&(Kl=pt()),Kl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function $l(e,t,n,r){if(50<Xl)throw Xl=0,Ql=null,Error(o(185));gt(e,n,r),0!==(2&Cl)&&e===_l||(e===_l&&(0===(2&Cl)&&(Il|=n),4===Dl&&ic(e,Al)),ec(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Bl=Ke()+500,Li&&Ni()))}function ec(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ot(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===_l?Al:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Li=!0,Fi(e)}(oc.bind(null,e)):Fi(oc.bind(null,e)),ni((function(){0===(6&Cl)&&Ni()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=$e;break;case 16:default:n=et;break;case 536870912:n=nt}n=_c(n,tc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tc(e,t){if(ql=-1,Kl=0,0!==(6&Cl))throw Error(o(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=dt(e,e===_l?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fc(e,r);else{t=r;var i=Cl;Cl|=2;var a=dc();for(_l===e&&Al===t||(Ul=null,Bl=Ke()+500,cc(e,t));;)try{mc();break}catch(l){uc(e,l)}yo(),Sl.current=a,Cl=i,null!==Tl?t=0:(_l=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=nc(e,i))),1===t)throw n=Rl,cc(e,0),ic(e,r),ec(e,Ke()),n;if(6===t)ic(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=fc(e,r))&&(0!==(a=ft(e))&&(r=a,t=nc(e,a))),1===t))throw n=Rl,cc(e,0),ic(e,r),ec(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:yc(e,Fl,Ul);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Nl+500-Ke())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$r(yc.bind(null,e,Fl,Ul),t);break}yc(e,Fl,Ul);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wl(r/1960))-r)){e.timeoutHandle=$r(yc.bind(null,e,Fl,Ul),r);break}yc(e,Fl,Ul);break;default:throw Error(o(329))}}}return ec(e,Ke()),e.callbackNode===n?tc.bind(null,e):null}function nc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(cc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Fl,Fl=n,null!==t&&rc(t)),e}function rc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ic(e,t){for(t&=~Ll,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Cl))throw Error(o(327));bc();var t=dt(e,0);if(0===(1&t))return ec(e,Ke()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=nc(e,r))}if(1===n)throw n=Rl,cc(e,0),ic(e,t),ec(e,Ke()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Fl,Ul),ec(e,Ke()),null}function ac(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=Ke()+500,Li&&Ni())}}function sc(e){null!==Wl&&0===Wl.tag&&0===(6&Cl)&&bc();var t=Cl;Cl|=1;var n=Ml.transition,r=yt;try{if(Ml.transition=null,yt=1,e)return e()}finally{yt=r,Ml.transition=n,0===(6&(Cl=t))&&Ni()}}function lc(){Pl=Ol.current,wi(Ol)}function cc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(Zi(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:ta(),wi(Ci),wi(Mi),sa();break;case 5:ra(r);break;case 4:ta();break;case 13:case 19:wi(ia);break;case 10:bo(r.type._context);break;case 22:case 23:lc()}n=n.return}if(_l=e,Tl=e=Oc(e.current,null),Al=Pl=t,Dl=0,Rl=null,Ll=Il=kl=0,Fl=zl=null,null!==Eo){for(t=0;t<Eo.length;t++)if(null!==(r=(n=Eo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Eo=null}return e}function uc(e,t){for(;;){var n=Tl;try{if(yo(),la.current=ns,pa){for(var r=da.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}pa=!1}if(ua=0,fa=ha=da=null,ma=!1,ga=0,El.current=null,null===n||null===n.return){Dl=1,Rl=t,Tl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=fs(s);if(null!==p){p.flags&=-257,ps(p,s,l,0,t),1&p.mode&&hs(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){hs(a,u,t),hc();break e}c=Error(o(426))}else if(eo&&1&l.mode){var v=fs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ps(v,s,l,0,t),uo(as(c,l));break e}}a=c=as(c,l),4!==Dl&&(Dl=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,ko(a,us(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,ko(a,ds(a,l,t));break e}}a=a.return}while(null!==a)}vc(n)}catch(x){t=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function dc(){var e=Sl.current;return Sl.current=ns,null===e?ns:e}function hc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===_l||0===(268435455&kl)&&0===(268435455&Il)||ic(_l,Al)}function fc(e,t){var n=Cl;Cl|=2;var r=dc();for(_l===e&&Al===t||(Ul=null,cc(e,t));;)try{pc();break}catch(i){uc(e,i)}if(yo(),Cl=n,Sl.current=r,null!==Tl)throw Error(o(261));return _l=null,Al=0,Dl}function pc(){for(;null!==Tl;)gc(Tl)}function mc(){for(;null!==Tl&&!Qe();)gc(Tl)}function gc(e){var t=xl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?vc(e):Tl=t,El.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Pl)))return void(Tl=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Dl&&(Dl=5)}function yc(e,t,n){var r=yt,i=Ml.transition;try{Ml.transition=null,yt=1,function(e,t,n,r){do{bc()}while(null!==Wl);if(0!==(6&Cl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===_l&&(Tl=_l=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,_c(et,(function(){return bc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ml.transition,Ml.transition=null;var s=yt;yt=1;var l=Cl;Cl|=4,El.current=null,function(e,t){if(Kr=Vt,cr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zr={focusedElem:e,selectionRange:n},Vt=!1,qs=t;null!==qs;)if(e=(t=qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qs=e;else for(;null!==qs;){t=qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:fo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){wc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,qs=e;break}qs=t.return}m=Js,Js=!1}(e,n),fl(n,e),ur(Zr),Vt=!!Kr,Zr=Kr=null,e.current=n,ml(n,e,i),qe(),Cl=l,yt=s,Ml.transition=a}else e.current=n;if(Gl&&(Gl=!1,Wl=e,Yl=i),a=e.pendingLanes,0===a&&(Vl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ec(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jl)throw jl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&bc(),a=e.pendingLanes,0!==(1&a)?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,Ni()}(e,t,n,r)}finally{Ml.transition=i,yt=r}return null}function bc(){if(null!==Wl){var e=bt(Yl),t=Ml.transition,n=yt;try{if(Ml.transition=null,yt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Yl=0,0!==(6&Cl))throw Error(o(331));var i=Cl;for(Cl|=4,qs=e.current;null!==qs;){var a=qs,s=a.child;if(0!==(16&qs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(qs=u;null!==qs;){var d=qs;switch(d.tag){case 0:case 11:case 15:$s(8,d,a)}var h=d.child;if(null!==h)h.return=d,qs=h;else for(;null!==qs;){var f=(d=qs).sibling,p=d.return;if(nl(d),d===u){qs=null;break}if(null!==f){f.return=p,qs=f;break}qs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,qs=s;else e:for(;null!==qs;){if(0!==(2048&(a=qs).flags))switch(a.tag){case 0:case 11:case 15:$s(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,qs=y;break e}qs=a.return}}var b=e.current;for(qs=b;null!==qs;){var x=(s=qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,qs=x;else e:for(s=b;null!==qs;){if(0!==(2048&(l=qs).flags))try{switch(l.tag){case 0:case 11:case 15:el(9,l)}}catch(S){wc(l,l.return,S)}if(l===s){qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,qs=w;break e}qs=l.return}}if(Cl=i,Ni(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(S){}r=!0}return r}finally{yt=n,Ml.transition=t}}return!1}function xc(e,t,n){e=Do(e,t=us(0,t=as(n,t),1),1),t=Zl(),null!==e&&(gt(e,1,t),ec(e,t))}function wc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Do(t,e=ds(t,e=as(n,e),1),1),e=Zl(),null!==t&&(gt(t,1,e),ec(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>Ke()-Nl?cc(e,0):Ll|=n),ec(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Zl();null!==(e=_o(e,t))&&(gt(e,t,n),ec(e,n))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ec(e,n)}function _c(e,t){return Ye(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Tc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Rc(n.children,i,a,t);case M:s=8,i|=8;break;case C:return(e=Ac(12,n,t,2|i)).elementType=C,e.lanes=a,e;case P:return(e=Ac(13,n,t,i)).elementType=P,e.lanes=a,e;case O:return(e=Ac(19,n,t,i)).elementType=O,e.lanes=a,e;case k:return kc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case T:s=9;break e;case A:s=11;break e;case D:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function kc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=k,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,o,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function Nc(e){if(!e)return Ei;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Di(e,n,t)}return t}function Bc(e,t,n,r,i,o,a,s,l){return(e=Fc(n,r,!0,e,0,o,0,s,l)).context=Nc(null),n=e.current,(o=Oo(r=Zl(),i=Jl(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,i),e.current.lanes=i,gt(e,i,r),ec(e,r),e}function Uc(e,t,n,r){var i=t.current,o=Zl(),a=Jl(i);return n=Nc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Do(i,t,a))&&($l(e,i,a,o),Ro(e,i,a)),a}function jc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)gs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return gs=!1,function(e,t,n){switch(t.tag){case 3:_s(t),co();break;case 5:na(t);break;case 1:Ai(t.type)&&Ri(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(po,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ia,1&ia.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Is(e,t,n):(Si(ia,1&ia.current),null!==(e=js(e,t,n))?e.sibling:null);Si(ia,1&ia.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ia,ia.current),r)break;return null;case 22:case 23:return t.lanes=0,ws(e,t,n)}return js(e,t,n)}(e,t,n);gs=0!==(131072&e.flags)}else gs=!1,eo&&0!==(1048576&t.flags)&&qi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Us(e,t),e=t.pendingProps;var i=Ti(t,Mi.current);wo(t,n),i=xa(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=No,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,eo&&a&&Ki(t),vs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===D)return 14}return 2}(r),e=fo(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Ms(null,t,r,e,n);break e;case 11:t=ys(null,t,r,e,n);break e;case 14:t=bs(null,t,r,fo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:fo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:fo(r,i),n);case 3:e:{if(_s(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Po(e,t),Io(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ts(e,t,r,n,i=as(Error(o(423)),t));break e}if(r!==i){t=Ts(e,t,r,n,i=as(Error(o(424)),t));break e}for($i=oi(t.stateNode.containerInfo.firstChild),Ji=t,eo=!0,to=null,n=Qo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(co(),r===i){t=js(e,t,n);break e}vs(e,t,r,n)}t=t.child}return t;case 5:return na(t),null===e&&oo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Jr(r,i)?s=null:null!==a&&Jr(r,a)&&(t.flags|=32),Ss(e,t),vs(e,t,s,n),t.child;case 6:return null===e&&oo(t),null;case 13:return Is(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):vs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ys(e,t,r,i=t.elementType===r?i:fo(r,i),n);case 7:return vs(e,t,t.pendingProps,n),t.child;case 8:case 12:return vs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Si(po,r._currentValue),r._currentValue=s,null!==a)if(rr(a.value,s)){if(a.children===i.children&&!Ci.current){t=js(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Oo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),xo(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}vs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wo(t,n),r=r(i=So(i)),t.flags|=1,vs(e,t,r,n),t.child;case 14:return i=fo(r=t.type,t.pendingProps),bs(e,t,r,i=fo(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fo(r,i),Us(e,t),t.tag=1,Ai(r)?(e=!0,Ri(t)):e=!1,wo(t,n),Uo(t,r,i),Ho(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return ws(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qc(){}function Kc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=jc(a);s.call(e)}}Uc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=jc(a);o.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",qc);return e._reactRootContainer=a,e[ui]=a.current,Nr(8===e.nodeType?e.parentNode:e),sc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=jc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",qc);return e._reactRootContainer=l,e[ui]=l.current,Nr(8===e.nodeType?e.parentNode:e),sc((function(){Uc(t,l,n,r)})),l}(n,t,e,i,r);return jc(a)}Yc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Uc(e,t,null,null)},Yc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sc((function(){Uc(null,e,null,null)})),t[ui]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&zt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),ec(t,Ke()),0===(6&Cl)&&(Bl=Ke()+500,Ni()))}break;case 13:sc((function(){var t=_o(e,1);if(null!==t){var n=Zl();$l(t,e,1,n)}})),Vc(e,1)}},wt=function(e){if(13===e.tag){var t=_o(e,134217728);if(null!==t)$l(t,e,134217728,Zl());Vc(e,134217728)}},St=function(e){if(13===e.tag){var t=Jl(e),n=_o(e,t);if(null!==n)$l(n,e,t,Zl());Vc(e,t)}},Et=function(){return yt},Mt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vi(r);if(!i)throw Error(o(90));X(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=ac,Ae=sc;var Zc={usingClientEntryPoint:!1,Events:[mi,gi,vi,Ce,_e,ac]},Jc={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$c={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{rt=eu.inject($c),it=eu}catch(tu){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[ui]=t.current,Nr(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return sc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(o(200));return Kc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,s),e[ui]=t.current,Nr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(o(200));return Kc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(o(40));return!!e._reactRootContainer&&(sc((function(){Kc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ui]=null}))})),!0)},t.unstable_batchedUpdates=ac,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Kc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},67:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,k(S);else{var t=r(u);null!==t&&I(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var o=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&I(w,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,M=!1,C=null,_=-1,T=5,A=-1;function P(){return!(t.unstable_now()-A<T)}function O(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?E():(M=!1,C=null)}}else M=!1}if("function"===typeof b)E=function(){b(O)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=O,E=function(){R.postMessage(null)}}else E=function(){v(O,0)};function k(e){C=e,M||(M=!0,E())}function I(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,k(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,I(w,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,k(S))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},71:(e,t,n)=>{"use strict";e.exports=n(67)},976:(e,t)=>{"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},721:(e,t,n)=>{e.exports=function(e){var t={},r=n(791),i=n(296),o=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var x=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function S(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=w&&e[w]||e["@@iterator"])?e:null}function E(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return E(e(t))}catch(n){}}return null}function M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function C(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function _(e){if(C(e)!==e)throw Error(a(188))}function T(e){var t=e.alternate;if(!t){if(null===(t=C(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _(i),e;if(o===r)return _(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function A(e){return null!==(e=T(e))?P(e):null}function P(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=P(e);if(null!==t)return t;e=e.sibling}return null}function O(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=O(e);if(null!==t)return t}e=e.sibling}return null}var D,R=Array.isArray,k=e.getPublicInstance,I=e.getRootHostContext,L=e.getChildHostContext,z=e.prepareForCommit,F=e.resetAfterCommit,N=e.createInstance,B=e.appendInitialChild,U=e.finalizeInitialChildren,j=e.prepareUpdate,H=e.shouldSetTextContent,V=e.createTextInstance,G=e.scheduleTimeout,W=e.cancelTimeout,Y=e.noTimeout,X=e.isPrimaryRenderer,Q=e.supportsMutation,q=e.supportsPersistence,K=e.supportsHydration,Z=e.getInstanceFromNode,J=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,oe=e.getBoundingRect,ae=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,de=e.appendChild,he=e.appendChildToContainer,fe=e.commitTextUpdate,pe=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ve=e.insertInContainerBefore,ye=e.removeChild,be=e.removeChildFromContainer,xe=e.resetTextContent,we=e.hideInstance,Se=e.hideTextInstance,Ee=e.unhideInstance,Me=e.unhideTextInstance,Ce=e.clearContainer,_e=e.cloneInstance,Te=e.createContainerChildSet,Ae=e.appendChildToContainerChildSet,Pe=e.finalizeContainerChildren,Oe=e.replaceContainerChildren,De=e.cloneHiddenInstance,Re=e.cloneHiddenTextInstance,ke=e.canHydrateInstance,Ie=e.canHydrateTextInstance,Le=e.canHydrateSuspenseInstance,ze=e.isSuspenseInstancePending,Fe=e.isSuspenseInstanceFallback,Ne=e.registerSuspenseInstanceRetry,Be=e.getNextHydratableSibling,Ue=e.getFirstHydratableChild,je=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,Ve=e.hydrateInstance,Ge=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,Ye=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,Qe=e.commitHydratedSuspenseInstance,qe=e.clearSuspenseBoundary,Ke=e.clearSuspenseBoundaryFromContainer,Ze=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],ot=-1;function at(e){return{current:e}}function st(e){0>ot||(e.current=it[ot],it[ot]=null,ot--)}function lt(e,t){ot++,it[ot]=e.current,e.current=t}var ct={},ut=at(ct),dt=at(!1),ht=ct;function ft(e,t){var n=e.type.contextTypes;if(!n)return ct;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mt(){st(dt),st(ut)}function gt(e,t,n){if(ut.current!==ct)throw Error(a(168));lt(ut,t),lt(dt,n)}function vt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,M(e)||"Unknown",i));return o({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ct,ht=ut.current,lt(ut,e),lt(dt,dt.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vt(e,t,ht),r.__reactInternalMemoizedMergedChildContext=e,st(dt),st(ut),lt(ut,e)):st(dt),lt(dt,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(wt(e)/St|0)|0},wt=Math.log,St=Math.LN2;var Et=64,Mt=4194304;function Ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _t(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=Ct(s):0!==(o&=a)&&(r=Ct(o))}else 0!==(a=n&~i)?r=Ct(a):0!==o&&(r=Ct(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function Tt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function At(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ot(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var It=i.unstable_scheduleCallback,Lt=i.unstable_cancelCallback,zt=i.unstable_shouldYield,Ft=i.unstable_requestPaint,Nt=i.unstable_now,Bt=i.unstable_ImmediatePriority,Ut=i.unstable_UserBlockingPriority,jt=i.unstable_NormalPriority,Ht=i.unstable_IdlePriority,Vt=null,Gt=null;var Wt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Yt=null,Xt=!1,Qt=!1;function qt(e){null===Yt?Yt=[e]:Yt.push(e)}function Kt(){if(!Qt&&null!==Yt){Qt=!0;var e=0,t=Rt;try{var n=Yt;for(Rt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Yt=null,Xt=!1}catch(i){throw null!==Yt&&(Yt=Yt.slice(e+1)),It(Bt,Kt),i}finally{Rt=t,Qt=!1}}return null}var Zt=s.ReactCurrentBatchConfig;function Jt(e,t){if(Wt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=at(null),nn=null,rn=null,on=null;function an(){on=rn=nn=null}function sn(e,t,n){X?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;st(tn),X?e._currentValue=t:e._currentValue2=t}function cn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function un(e,t){nn=e,on=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(zi=!0),e.firstContext=null)}function dn(e){var t=X?e._currentValue:e._currentValue2;if(on!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(a(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var hn=null,fn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==qo&&0!==(1&e.mode)&&0===(2&Qo)?(null===(e=n.interleaved)?(t.next=t,null===hn?hn=[n]:hn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Dt(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xn(e,t,n,r){var i=e.updateQueue;fn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(null!==a){var h=i.baseState;for(s=0,d=u=c=null,l=a;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(f=t,p=n,g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(p,h,f):m)||void 0===f)break e;h=o({},h,f);break e;case 2:fn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(u=d=p,c=h):d=d.next=p,s|=f;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(f=l).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===d&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);na|=s,e.lanes=s,e.memoizedState=h}}function wn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Sn=(new r.Component).refs;function En(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Mn={isMounted:function(e){return!!(e=e._reactInternals)&&C(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wa(),i=Sa(e),o=gn(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),vn(e,o),null!==(t=Ea(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wa(),i=Sa(e),o=gn(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),vn(e,o),null!==(t=Ea(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wa(),r=Sa(e),i=gn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),vn(e,i),null!==(t=Ea(e,r,n))&&yn(t,e,r)}};function Cn(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,r)||!Jt(i,o))}function _n(e,t,n){var r=!1,i=ct,o=t.contextType;return"object"===typeof o&&null!==o?o=dn(o):(i=pt(t)?ht:ut.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?ft(e,i):ct),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Tn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mn.enqueueReplaceState(t,t.state,null)}function An(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Sn,pn(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=dn(o):(o=pt(t)?ht:ut.current,i.context=ft(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(En(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mn.enqueueReplaceState(i,i.state,null),xn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Pn=[],On=0,Dn=null,Rn=0,kn=[],In=0,Ln=null,zn=1,Fn="";function Nn(e,t){Pn[On++]=Rn,Pn[On++]=Dn,Dn=e,Rn=t}function Bn(e,t,n){kn[In++]=zn,kn[In++]=Fn,kn[In++]=Ln,Ln=e;var r=zn;e=Fn;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var o=32-xt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,zn=1<<32-xt(t)+i|n<<i|r,Fn=o+e}else zn=1<<o|n<<i|r,Fn=e}function Un(e){null!==e.return&&(Nn(e,1),Bn(e,1,0))}function jn(e){for(;e===Dn;)Dn=Pn[--On],Pn[On]=null,Rn=Pn[--On],Pn[On]=null;for(;e===Ln;)Ln=kn[--In],kn[In]=null,Fn=kn[--In],kn[In]=null,zn=kn[--In],kn[In]=null}var Hn=null,Vn=null,Gn=!1,Wn=!1,Yn=null;function Xn(e,t){var n=Ja(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Qn(e,t){switch(e.tag){case 5:return null!==(t=ke(t,e.type,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=Ue(t),!0);case 6:return null!==(t=Ie(t,e.pendingProps))&&(e.stateNode=t,Hn=e,Vn=null,!0);case 13:if(null!==(t=Le(t))){var n=null!==Ln?{id:zn,overflow:Fn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ja(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Hn=e,Vn=null,!0}return!1;default:return!1}}function qn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Kn(e){if(Gn){var t=Vn;if(t){var n=t;if(!Qn(e,t)){if(qn(e))throw Error(a(418));t=Be(n);var r=Hn;t&&Qn(e,t)?Xn(r,n):(e.flags=-4097&e.flags|2,Gn=!1,Hn=e)}}else{if(qn(e))throw Error(a(418));e.flags=-4097&e.flags|2,Gn=!1,Hn=e}}}function Zn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function Jn(e){if(!K||e!==Hn)return!1;if(!Gn)return Zn(e),Gn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ze(e.type)&&!H(e.type,e.memoizedProps))){var t=Vn;if(t){if(qn(e)){for(e=Vn;e;)e=Be(e);throw Error(a(418))}for(;t;)Xn(e,t),t=Be(t)}}if(Zn(e),13===e.tag){if(!K)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));Vn=Ye(e)}else Vn=Hn?Be(e.stateNode):null;return!0}function $n(){K&&(Vn=Hn=null,Wn=Gn=!1)}function er(e){null===Yn?Yn=[e]:Yn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Sn&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var o=n.type;return o===u?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===b&&rr(o)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=os(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=ns(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case c:return(t=os(t,e.mode,n)).return=e,t;case b:return m(e,(0,t._init)(t._payload),n)}if(R(t)||S(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:d(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?h(e,t,n,r):null;case c:return n.key===i?f(e,t,n,r):null;case b:return g(e,t,(i=n._init)(n._payload),r)}if(R(n)||S(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return d(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case c:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return v(e,t,n,(0,r._init)(r._payload),i)}if(R(r)||S(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,a,s,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=g(i,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),a=o(p,a,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===s.length)return n(i,d),Gn&&Nn(i,h),c;if(null===d){for(;h<s.length;h++)null!==(d=m(i,s[h],l))&&(a=o(d,a,h),null===u?c=d:u.sibling=d,u=d);return Gn&&Nn(i,h),c}for(d=r(i,d);h<s.length;h++)null!==(f=v(d,i,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=o(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),Gn&&Nn(i,h),c}function x(i,s,l,c){var u=S(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,h=s,f=s=0,p=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=g(i,h,y.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),s=o(b,s,f),null===d?u=b:d.sibling=b,d=b,h=p}if(y.done)return n(i,h),Gn&&Nn(i,f),u;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=m(i,y.value,c))&&(s=o(y,s,f),null===d?u=y:d.sibling=y,d=y);return Gn&&Nn(i,f),u}for(h=r(i,h);!y.done;f++,y=l.next())null!==(y=v(h,i,f,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),s=o(y,s,f),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach((function(e){return t(i,e)})),Gn&&Nn(i,f),u}return function e(r,o,a,d){if("object"===typeof a&&null!==a&&a.type===u&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case l:e:{for(var h=a.key,f=o;null!==f;){if(f.key===h){if((h=a.type)===u){if(7===f.tag){n(r,f.sibling),(o=i(f,a.props.children)).return=r,r=o;break e}}else if(f.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===b&&rr(h)===f.type){n(r,f.sibling),(o=i(f,a.props)).ref=tr(r,f,a),o.return=r,r=o;break e}n(r,f);break}t(r,f),f=f.sibling}a.type===u?((o=ns(a.props.children,r.mode,d,a.key)).return=r,r=o):((d=ts(a.type,a.key,a.props,null,r.mode,d)).ref=tr(r,o,a),d.return=r,r=d)}return s(r);case c:e:{for(f=a.key;null!==o;){if(o.key===f){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=os(a,r.mode,d)).return=r,r=o}return s(r);case b:return e(r,o,(f=a._init)(a._payload),d)}if(R(a))return y(r,o,a,d);if(S(a))return x(r,o,a,d);nr(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=is(a,r.mode,d)).return=r,r=o),s(r)):n(r,o)}}var or=ir(!0),ar=ir(!1),sr={},lr=at(sr),cr=at(sr),ur=at(sr);function dr(e){if(e===sr)throw Error(a(174));return e}function hr(e,t){lt(ur,t),lt(cr,e),lt(lr,sr),e=I(t),st(lr),lt(lr,e)}function fr(){st(lr),st(cr),st(ur)}function pr(e){var t=dr(ur.current),n=dr(lr.current);n!==(t=L(n,e.type,t))&&(lt(cr,e),lt(lr,t))}function mr(e){cr.current===e&&(st(lr),st(cr))}var gr=at(0);function vr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||ze(n)||Fe(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function br(){for(var e=0;e<yr.length;e++){var t=yr[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var xr=s.ReactCurrentDispatcher,wr=s.ReactCurrentBatchConfig,Sr=0,Er=null,Mr=null,Cr=null,_r=!1,Tr=!1,Ar=0,Pr=0;function Or(){throw Error(a(321))}function Dr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Rr(e,t,n,r,i,o){if(Sr=o,Er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xr.current=null===e||null===e.memoizedState?pi:mi,e=n(r,i),Tr){o=0;do{if(Tr=!1,Ar=0,25<=o)throw Error(a(301));o+=1,Cr=Mr=null,t.updateQueue=null,xr.current=gi,e=n(r,i)}while(Tr)}if(xr.current=fi,t=null!==Mr&&null!==Mr.next,Sr=0,Cr=Mr=Er=null,_r=!1,t)throw Error(a(300));return e}function kr(){var e=0!==Ar;return Ar=0,e}function Ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Cr?Er.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function Lr(){if(null===Mr){var e=Er.alternate;e=null!==e?e.memoizedState:null}else e=Mr.next;var t=null===Cr?Er.memoizedState:Cr.next;if(null!==t)Cr=t,Mr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Mr=e).memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},null===Cr?Er.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function zr(e,t){return"function"===typeof t?t(e):t}function Fr(e){var t=Lr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Mr,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((Sr&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,Er.lanes|=d,na|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,Wt(r,t.memoizedState)||(zi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,Er.lanes|=o,na|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nr(e){var t=Lr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Wt(o,t.memoizedState)||(zi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Br(){}function Ur(e,t){var n=Er,r=Lr(),i=t(),o=!Wt(r.memoizedState,i);if(o&&(r.memoizedState=i,zi=!0),r=r.queue,Zr(Vr.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Cr&&1&Cr.memoizedState.tag){if(n.flags|=2048,Yr(9,Hr.bind(null,n,r,i,t),void 0,null),null===qo)throw Error(a(349));0!==(30&Sr)||jr(n,t,i)}return i}function jr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Er.updateQueue)?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Hr(e,t,n,r){t.value=n,t.getSnapshot=r,Gr(t)&&Ea(e,1,-1)}function Vr(e,t,n){return n((function(){Gr(t)&&Ea(e,1,-1)}))}function Gr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function Wr(e){var t=Ir();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,Er,e),[t.memoizedState,e]}function Yr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Er.updateQueue)?(t={lastEffect:null,stores:null},Er.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return Lr().memoizedState}function Qr(e,t,n,r){var i=Ir();Er.flags|=e,i.memoizedState=Yr(1|t,n,void 0,void 0===r?null:r)}function qr(e,t,n,r){var i=Lr();r=void 0===r?null:r;var o=void 0;if(null!==Mr){var a=Mr.memoizedState;if(o=a.destroy,null!==r&&Dr(r,a.deps))return void(i.memoizedState=Yr(t,n,o,r))}Er.flags|=e,i.memoizedState=Yr(1|t,n,o,r)}function Kr(e,t){return Qr(8390656,8,e,t)}function Zr(e,t){return qr(2048,8,e,t)}function Jr(e,t){return qr(4,2,e,t)}function $r(e,t){return qr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Dr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Lr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Dr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oi(e,t){var n=Rt;Rt=0!==n&&4>n?n:4,e(!0);var r=wr.transition;wr.transition={};try{e(!1),t()}finally{Rt=n,wr.transition=r}}function ai(){return Lr().memoizedState}function si(e,t,n){var r=Sa(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ci(e)?ui(t,n):(di(e,t,n),null!==(e=Ea(e,r,n=wa()))&&hi(e,t,r))}function li(e,t,n){var r=Sa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ci(e))ui(t,i);else{di(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Wt(s,a))return}catch(l){}null!==(e=Ea(e,r,n=wa()))&&hi(e,t,r)}}function ci(e){var t=e.alternate;return e===Er||null!==t&&t===Er}function ui(e,t){Tr=_r=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function di(e,t,n){null!==qo&&0!==(1&e.mode)&&0===(2&Qo)?(null===(e=t.interleaved)?(n.next=n,null===hn?hn=[t]:hn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function hi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Dt(e,n)}}var fi={readContext:dn,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},pi={readContext:dn,useCallback:function(e,t){return Ir().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Kr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Qr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qr(4,2,e,t)},useMemo:function(e,t){var n=Ir();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ir();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=si.bind(null,Er,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ir().memoizedState=e},useState:Wr,useDebugValue:ni,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return Kr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=oi.bind(null,e[1]),Ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Er,i=Ir();if(Gn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===qo)throw Error(a(349));0!==(30&Sr)||jr(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Kr(Vr.bind(null,r,o,e),[e]),r.flags|=2048,Yr(9,Hr.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ir(),t=qo.identifierPrefix;if(Gn){var n=Fn;t=":"+t+"R"+(n=(zn&~(1<<32-xt(zn)-1)).toString(32)+n),0<(n=Ar++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Pr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:$r,useMemo:ii,useReducer:Fr,useRef:Xr,useState:function(){return Fr(zr)},useDebugValue:ni,useDeferredValue:function(e){var t=Fr(zr),n=t[0],r=t[1];return Zr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Fr(zr)[0],Lr().memoizedState]},useMutableSource:Br,useSyncExternalStore:Ur,useId:ai,unstable_isNewReconciler:!1},gi={readContext:dn,useCallback:ri,useContext:dn,useEffect:Zr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:$r,useMemo:ii,useReducer:Nr,useRef:Xr,useState:function(){return Nr(zr)},useDebugValue:ni,useDeferredValue:function(e){var t=Nr(zr),n=t[0],r=t[1];return Zr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Nr(zr)[0],Lr().memoizedState]},useMutableSource:Br,useSyncExternalStore:Ur,useId:ai,unstable_isNewReconciler:!1};function vi(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi,xi,wi,Si,Ei="function"===typeof WeakMap?WeakMap:Map;function Mi(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){da||(da=!0,ha=r),yi(0,t)},n}function Ci(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!==typeof r&&(null===fa?fa=new Set([this]):fa.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function _i(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Ei;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ya.bind(null,e,t,n),t.then(e,e))}function Ti(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ai(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=gn(-1,1)).tag=2,vn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Pi(e){e.flags|=4}function Oi(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Q)bi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xi=function(){},wi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var o=t.stateNode,a=dr(lr.current);n=j(o,n,e,r,i,a),(t.updateQueue=n)&&Pi(t)}},Si=function(e,t,n,r){n!==r&&Pi(t)};else if(q){bi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=De(o,i.type,i.memoizedProps,i)),B(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Re(o,i.memoizedProps,i)),B(e,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(o=i.child)&&(o.return=i),bi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Di=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=De(o,i.type,i.memoizedProps,i)),Ae(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Re(o,i.memoizedProps,i)),Ae(e,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(o=i.child)&&(o.return=i),Di(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};xi=function(e,t){var n=t.stateNode;if(!Oi(e,t)){e=n.containerInfo;var r=Te(e);Di(r,t,!1,!1),n.pendingChildren=r,Pi(t),Pe(e,r)}},wi=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps;if((e=Oi(e,t))&&a===r)t.stateNode=o;else{var s=t.stateNode,l=dr(lr.current),c=null;a!==r&&(c=j(s,n,a,r,i,l)),e&&null===c?t.stateNode=o:(o=_e(o,c,n,a,r,t,e,s),U(o,n,r,i,l)&&Pi(t),t.stateNode=o,e?Pi(t):bi(o,t,!1,!1))}},Si=function(e,t,n,r){n!==r?(e=dr(ur.current),n=dr(lr.current),t.stateNode=V(r,e,n,t),Pi(t)):t.stateNode=e.stateNode}}else xi=function(){},wi=function(){},Si=function(){};function Ri(e,t){if(!Gn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ki(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ii(e,t,n){var r=t.pendingProps;switch(jn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(t),null;case 1:case 17:return pt(t.type)&&mt(),ki(t),null;case 3:return r=t.stateNode,fr(),st(dt),st(ut),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Jn(t)?Pi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Yn&&(Aa(Yn),Yn=null))),xi(e,t),ki(t),null;case 5:mr(t),n=dr(ur.current);var i=t.type;if(null!==e&&null!=t.stateNode)wi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ki(t),null}if(e=dr(lr.current),Jn(t)){if(!K)throw Error(a(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Pi(t)}else{var o=N(i,r,n,e,t);bi(o,t,!1,!1),t.stateNode=o,U(o,i,r,n,e)&&Pi(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ki(t),null;case 6:if(e&&null!=t.stateNode)Si(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=dr(ur.current),n=dr(lr.current),Jn(t)){if(!K)throw Error(a(176));if(e=t.stateNode,r=t.memoizedProps,(n=Ge(e,r,t,!Wn))&&null!==(i=Hn))switch(o=0!==(1&i.mode),i.tag){case 3:Je(i.stateNode.containerInfo,e,r,o);break;case 5:$e(i.type,i.memoizedProps,i.stateNode,e,r,o)}n&&Pi(t)}else t.stateNode=V(r,e,n,t)}return ki(t),null;case 13:if(st(gr),r=t.memoizedState,Gn&&null!==Vn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Vn;e;)e=Be(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Jn(t),null===e){if(!r)throw Error(a(318));if(!K)throw Error(a(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(317));We(e,t)}else $n(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ki(t),null}return null!==Yn&&(Aa(Yn),Yn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Jn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&gr.current)?0===ea&&(ea=3):za())),null!==t.updateQueue&&(t.flags|=4),ki(t),null);case 4:return fr(),xi(e,t),null===e&&J(t.stateNode.containerInfo),ki(t),null;case 10:return ln(t.type._context),ki(t),null;case 19:if(st(gr),null===(i=t.memoizedState))return ki(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Ri(i,!1);else{if(0!==ea||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=vr(e))){for(t.flags|=128,Ri(i,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(o=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(gr,1&gr.current|2),t.child}e=e.sibling}null!==i.tail&&Nt()>la&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=vr(o))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ri(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Gn)return ki(t),null}else 2*Nt()-i.renderingStartTime>la&&1073741824!==n&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nt(),t.sibling=null,e=gr.current,lt(gr,r?1&e|2:1&e),t):(ki(t),null);case 22:case 23:return Ra(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Jo)&&(ki(t),Q&&6&t.subtreeFlags&&(t.flags|=8192)):ki(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}var Li=s.ReactCurrentOwner,zi=!1;function Fi(e,t,n,r){t.child=null===e?ar(t,null,n,r):or(t,e.child,n,r)}function Ni(e,t,n,r,i){n=n.render;var o=t.ref;return un(t,i),r=Rr(e,t,n,r,o,i),n=kr(),null===e||zi?(Gn&&n&&Un(t),t.flags|=1,Fi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,io(e,t,i))}function Bi(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||$a(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ui(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Jt)(a,r)&&e.ref===t.ref)return io(e,t,i)}return t.flags|=1,(e=es(o,r)).ref=t.ref,e.return=t,t.child=e}function Ui(e,t,n,r,i){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(zi=!1,0===(e.lanes&i))return t.lanes=e.lanes,io(e,t,i);0!==(131072&e.flags)&&(zi=!0)}return Vi(e,t,n,r,i)}function ji(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt($o,Jo),Jo|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt($o,Jo),Jo|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==o?o.baseLanes:n,lt($o,Jo),Jo|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,lt($o,Jo),Jo|=r;return Fi(e,t,i,n),t.child}function Hi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vi(e,t,n,r,i){var o=pt(n)?ht:ut.current;return o=ft(t,o),un(t,i),n=Rr(e,t,n,r,o,i),r=kr(),null===e||zi?(Gn&&r&&Un(t),t.flags|=1,Fi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,io(e,t,i))}function Gi(e,t,n,r,i){if(pt(n)){var o=!0;yt(t)}else o=!1;if(un(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_n(t,n,r),An(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=dn(c):c=ft(t,c=pt(n)?ht:ut.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Tn(t,a,r,c),fn=!1;var h=t.memoizedState;a.state=h,xn(t,r,a,i),l=t.memoizedState,s!==r||h!==l||dt.current||fn?("function"===typeof u&&(En(t,n,u,r),l=t.memoizedState),(s=fn||Cn(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,mn(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:en(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=dn(l):l=ft(t,l=pt(n)?ht:ut.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Tn(t,a,r,l),fn=!1,h=t.memoizedState,a.state=h,xn(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||dt.current||fn?("function"===typeof f&&(En(t,n,f,r),p=t.memoizedState),(c=fn||Cn(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,o,i)}function Wi(e,t,n,r,i,o){Hi(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&bt(t,n,!1),io(e,t,o);r=t.stateNode,Li.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=or(t,e.child,null,o),t.child=or(t,null,s,o)):Fi(e,t,s,o),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function Yi(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),hr(e,t.containerInfo)}function Xi(e,t,n,r,i){return $n(),er(i),t.flags|=256,Fi(e,t,n,r),t.child}var Qi={dehydrated:null,treeContext:null,retryLane:0};function qi(e){return{baseLanes:e,cachePool:null}}function Ki(e,t,n){var r,i=t.pendingProps,o=gr.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),lt(gr,1&o),null===e)return Kn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Fe(e)?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=rs(o,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=qi(n),t.memoizedState=Qi,e):Zi(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,eo(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=rs({mode:"visible",children:i.children},o,0,null),(s=ns(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&or(t,e.child,null,n),t.child.memoizedState=qi(n),t.memoizedState=Qi,s);if(0===(1&t.mode))t=eo(e,t,n,null);else if(Fe(r))t=eo(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),zi||i){if(null!==(i=qo)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Ea(e,i,-1))}za(),t=eo(e,t,n,Error(a(421)))}else ze(r)?(t.flags|=128,t.child=e.child,t=Qa.bind(null,e),Ne(r,t),t=null):(n=o.treeContext,K&&(Vn=He(r),Hn=t,Gn=!0,Yn=null,Wn=!1,null!==n&&(kn[In++]=zn,kn[In++]=Fn,kn[In++]=Ln,zn=n.id,Fn=n.overflow,Ln=t)),(t=Zi(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?qi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Qi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=$i(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?qi(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Qi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}function Zi(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ji(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $i(e,t,n,r,i){var o=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=es(a,r):(r=ns(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function eo(e,t,n,r){return null!==r&&er(r),or(t,e.child,null,n),(e=Zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function to(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),cn(e.return,t,n)}function no(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ro(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fi(e,t,r.children,n),0!==(2&(r=gr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&to(e,n,t);else if(19===e.tag)to(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(gr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===vr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),no(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===vr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}no(t,!0,n,null,o);break;case"together":no(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function io(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),na|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=es(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function oo(e,t){switch(jn(t),t.tag){case 1:return pt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return fr(),st(dt),st(ut),br(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mr(t),null;case 13:if(st(gr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(gr),null;case 4:return fr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Ra(),null;default:return null}}var ao=!1,so=!1,lo="function"===typeof WeakSet?WeakSet:Set,co=null;function uo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Wa(e,t,r)}else n.current=null}function ho(e,t,n){try{n()}catch(r){Wa(e,t,r)}}var fo=!1;function po(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ho(t,n,o)}i=i.next}while(i!==r)}}function mo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function go(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=k(n);else e=n;"function"===typeof t?t(e):t.current=e}}function vo(e,t,n){if(Gt&&"function"===typeof Gt.onCommitFiberUnmount)try{Gt.onCommitFiberUnmount(Vt,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&ho(t,n,o),r=r.next}while(r!==e)}break;case 1:if(uo(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Wa(t,n,a)}break;case 5:uo(t,n);break;case 4:Q?Co(e,t,n):q&&q&&(t=t.stateNode.containerInfo,n=Te(t),Oe(t,n))}}function yo(e,t,n){for(var r=t;;)if(vo(e,r,n),null===r.child||Q&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function bo(e){var t=e.alternate;null!==t&&(e.alternate=null,bo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xo(e){return 5===e.tag||3===e.tag||4===e.tag}function wo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function So(e){if(Q){e:{for(var t=e.return;null!==t;){if(xo(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(xe(t),n.flags&=-33),Mo(e,n=wo(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,Eo(e,n=wo(e),t);break;default:throw Error(a(161))}}}function Eo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Eo(e,t,n),e=e.sibling;null!==e;)Eo(e,t,n),e=e.sibling}function Mo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(Mo(e,t,n),e=e.sibling;null!==e;)Mo(e,t,n),e=e.sibling}function Co(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag)yo(e,o,n),i?be(r,o.stateNode):ye(r,o.stateNode);else if(18===o.tag)i?Ke(r,o.stateNode):qe(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(vo(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function _o(e,t){if(Q){switch(t.tag){case 0:case 11:case 14:case 15:return po(3,t,t.return),mo(3,t),void po(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&me(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(a(162));return n=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(K&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo));case 13:case 19:return void To(t)}throw Error(a(163))}switch(t.tag){case 0:case 11:case 14:case 15:return po(3,t,t.return),mo(3,t),void po(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void To(t);case 3:K&&null!==e&&e.memoizedState.isDehydrated&&Xe(t.stateNode.containerInfo)}e:if(q){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Oe(t.containerInfo,t.pendingChildren);break e}throw Error(a(163))}}function To(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new lo),t.forEach((function(t){var r=qa.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ao(e,t,n){co=e,Po(e,t,n)}function Po(e,t,n){for(var r=0!==(1&e.mode);null!==co;){var i=co,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||ao;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||so;s=ao;var c=so;if(ao=a,(so=l)&&!c)for(co=i;null!==co;)l=(a=co).child,22===a.tag&&null!==a.memoizedState?Ro(i):null!==l?(l.return=a,co=l):Ro(i);for(;null!==o;)co=o,Po(o,t,n),o=o.sibling;co=i,ao=s,so=c}Oo(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,co=o):Oo(e)}}function Oo(e){for(;null!==co;){var t=co;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:so||mo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!so)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&wn(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=k(t.child.stateNode);break;case 1:n=t.child.stateNode}wn(t,s,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(K&&null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Qe(d)}}}break;default:throw Error(a(163))}so||512&t.flags&&go(t)}catch(h){Wa(t,t.return,h)}}if(t===e){co=null;break}if(null!==(n=t.sibling)){n.return=t.return,co=n;break}co=t.return}}function Do(e){for(;null!==co;){var t=co;if(t===e){co=null;break}var n=t.sibling;if(null!==n){n.return=t.return,co=n;break}co=t.return}}function Ro(e){for(;null!==co;){var t=co;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mo(4,t)}catch(l){Wa(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Wa(t,i,l)}}var o=t.return;try{go(t)}catch(l){Wa(t,o,l)}break;case 5:var a=t.return;try{go(t)}catch(l){Wa(t,a,l)}}}catch(l){Wa(t,t.return,l)}if(t===e){co=null;break}var s=t.sibling;if(null!==s){s.return=t.return,co=s;break}co=t.return}}var ko=0,Io=1,Lo=2,zo=3,Fo=4;if("function"===typeof Symbol&&Symbol.for){var No=Symbol.for;ko=No("selector.component"),Io=No("selector.has_pseudo_class"),Lo=No("selector.role"),zo=No("selector.test_id"),Fo=No("selector.text")}function Bo(e){var t=Z(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=ie(e)))throw Error(a(362));return e.stateNode.current}function Uo(e,t){switch(t.$$typeof){case ko:if(e.type===t.value)return!0;break;case Io:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!se(r)){for(;null!=o&&Uo(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Lo:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Fo:if((5===e.tag||6===e.tag)&&(null!==(e=ae(e))&&0<=e.indexOf(t.value)))return!0;break;case zo:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function jo(e){switch(e.$$typeof){case ko:return"<"+(E(e.value)||"Unknown")+">";case Io:return":has("+(jo(e)||"")+")";case Lo:return'[role="'+e.value+'"]';case Fo:return'"'+e.value+'"';case zo:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function Ho(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],o=e[r++],a=t[o];if(5!==i.tag||!se(i)){for(;null!=a&&Uo(i,a);)a=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function Vo(e,t){if(!re)throw Error(a(363));e=Ho(e=Bo(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Go=Math.ceil,Wo=s.ReactCurrentDispatcher,Yo=s.ReactCurrentOwner,Xo=s.ReactCurrentBatchConfig,Qo=0,qo=null,Ko=null,Zo=0,Jo=0,$o=at(0),ea=0,ta=null,na=0,ra=0,ia=0,oa=null,aa=null,sa=0,la=1/0;function ca(){la=Nt()+500}var ua,da=!1,ha=null,fa=null,pa=!1,ma=null,ga=0,va=0,ya=null,ba=-1,xa=0;function wa(){return 0!==(6&Qo)?Nt():-1!==ba?ba:ba=Nt()}function Sa(e){return 0===(1&e.mode)?1:0!==(2&Qo)&&0!==Zo?Zo&-Zo:null!==Zt.transition?(0===xa&&(e=Et,0===(4194240&(Et<<=1))&&(Et=64),xa=e),xa):0!==(e=Rt)?e:$()}function Ea(e,t,n){if(50<va)throw va=0,ya=null,Error(a(185));var r=Ma(e,t);return null===r?null:(Ot(r,t,n),0!==(2&Qo)&&r===qo||(r===qo&&(0===(2&Qo)&&(ra|=t),4===ea&&Pa(r,Zo)),Ca(r,n),1===t&&0===Qo&&0===(1&e.mode)&&(ca(),Xt&&Kt())),r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ca(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-xt(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=Tt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=_t(e,e===qo?Zo:0);if(0===r)null!==n&&Lt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Lt(n),1===t)0===e.tag?function(e){Xt=!0,qt(e)}(Oa.bind(null,e)):qt(Oa.bind(null,e)),te?ne((function(){0===Qo&&Kt()})):It(Bt,Kt),n=null;else{switch(kt(r)){case 1:n=Bt;break;case 4:n=Ut;break;case 16:default:n=jt;break;case 536870912:n=Ht}n=Ka(n,_a.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _a(e,t){if(ba=-1,xa=0,0!==(6&Qo))throw Error(a(327));var n=e.callbackNode;if(Va()&&e.callbackNode!==n)return null;var r=_t(e,e===qo?Zo:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Fa(e,r);else{t=r;var i=Qo;Qo|=2;var o=La();for(qo===e&&Zo===t||(ca(),ka(e,t));;)try{Ba();break}catch(l){Ia(e,l)}an(),Wo.current=o,Qo=i,null!==Ko?t=0:(qo=null,Zo=0,t=ea)}if(0!==t){if(2===t&&(0!==(i=At(e))&&(r=i,t=Ta(e,i))),1===t)throw n=ta,ka(e,0),Pa(e,r),Ca(e,Nt()),n;if(6===t)Pa(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wt(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Fa(e,r))&&(0!==(o=At(e))&&(r=o,t=Ta(e,o))),1===t))throw n=ta,ka(e,0),Pa(e,r),Ca(e,Nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ha(e,aa);break;case 3:if(Pa(e,r),(130023424&r)===r&&10<(t=sa+500-Nt())){if(0!==_t(e,0))break;if(((i=e.suspendedLanes)&r)!==r){wa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=G(Ha.bind(null,e,aa),t);break}Ha(e,aa);break;case 4:if(Pa(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-xt(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Nt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Go(r/1960))-r)){e.timeoutHandle=G(Ha.bind(null,e,aa),r);break}Ha(e,aa);break;default:throw Error(a(329))}}}return Ca(e,Nt()),e.callbackNode===n?_a.bind(null,e):null}function Ta(e,t){var n=oa;return e.current.memoizedState.isDehydrated&&(ka(e,t).flags|=256),2!==(e=Fa(e,t))&&(t=aa,aa=n,null!==t&&Aa(t)),e}function Aa(e){null===aa?aa=e:aa.push.apply(aa,e)}function Pa(e,t){for(t&=~ia,t&=~ra,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Oa(e){if(0!==(6&Qo))throw Error(a(327));Va();var t=_t(e,0);if(0===(1&t))return Ca(e,Nt()),null;var n=Fa(e,t);if(0!==e.tag&&2===n){var r=At(e);0!==r&&(t=r,n=Ta(e,r))}if(1===n)throw n=ta,ka(e,0),Pa(e,t),Ca(e,Nt()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ha(e,aa),Ca(e,Nt()),null}function Da(e){null!==ma&&0===ma.tag&&0===(6&Qo)&&Va();var t=Qo;Qo|=1;var n=Xo.transition,r=Rt;try{if(Xo.transition=null,Rt=1,e)return e()}finally{Rt=r,Xo.transition=n,0===(6&(Qo=t))&&Kt()}}function Ra(){Jo=$o.current,st($o)}function ka(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Y&&(e.timeoutHandle=Y,W(n)),null!==Ko)for(n=Ko.return;null!==n;){var r=n;switch(jn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mt();break;case 3:fr(),st(dt),st(ut),br();break;case 5:mr(r);break;case 4:fr();break;case 13:case 19:st(gr);break;case 10:ln(r.type._context);break;case 22:case 23:Ra()}n=n.return}if(qo=e,Ko=e=es(e.current,null),Zo=Jo=t,ea=0,ta=null,ia=ra=na=0,aa=oa=null,null!==hn){for(t=0;t<hn.length;t++)if(null!==(r=(n=hn[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}hn=null}return e}function Ia(e,t){for(;;){var n=Ko;try{if(an(),xr.current=fi,_r){for(var r=Er.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}_r=!1}if(Sr=0,Cr=Mr=Er=null,Tr=!1,Ar=0,Yo.current=null,null===n||null===n.return){ea=1,ta=t,Ko=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Zo,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ti(s);if(null!==p){p.flags&=-257,Ai(p,s,l,0,t),1&p.mode&&_i(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){_i(o,u,t),za();break e}c=Error(a(426))}else if(Gn&&1&l.mode){var v=Ti(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ai(v,s,l,0,t),er(c);break e}}o=c,4!==ea&&(ea=2),null===oa?oa=[o]:oa.push(o),c=vi(c,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Mi(0,c,t));break e;case 1:o=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===fa||!fa.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Ci(l,o,t));break e}}l=l.return}while(null!==l)}ja(n)}catch(x){t=x,Ko===n&&null!==n&&(Ko=n=n.return);continue}break}}function La(){var e=Wo.current;return Wo.current=fi,null===e?fi:e}function za(){0!==ea&&3!==ea&&2!==ea||(ea=4),null===qo||0===(268435455&na)&&0===(268435455&ra)||Pa(qo,Zo)}function Fa(e,t){var n=Qo;Qo|=2;var r=La();for(qo===e&&Zo===t||ka(e,t);;)try{Na();break}catch(i){Ia(e,i)}if(an(),Qo=n,Wo.current=r,null!==Ko)throw Error(a(261));return qo=null,Zo=0,ea}function Na(){for(;null!==Ko;)Ua(Ko)}function Ba(){for(;null!==Ko&&!zt();)Ua(Ko)}function Ua(e){var t=ua(e.alternate,e,Jo);e.memoizedProps=e.pendingProps,null===t?ja(e):Ko=t,Yo.current=null}function ja(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ii(n,t,Jo)))return void(Ko=n)}else{if(null!==(n=oo(n,t)))return n.flags&=32767,void(Ko=n);if(null===e)return ea=6,void(Ko=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ko=t);Ko=t=e}while(null!==t);0===ea&&(ea=5)}function Ha(e,t){var n=Rt,r=Xo.transition;try{Xo.transition=null,Rt=1,function(e,t,n){do{Va()}while(null!==ma);if(0!==(6&Qo))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===qo&&(Ko=qo=null,Zo=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||pa||(pa=!0,Ka(jt,(function(){return Va(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Xo.transition,Xo.transition=null;var s=Rt;Rt=1;var l=Qo;Qo|=4,Yo.current=null,function(e,t){for(z(e.containerInfo),co=t;null!==co;)if(t=(e=co).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,co=t;else for(;null!==co;){e=co;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,o=e.stateNode,s=o.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);o.__reactInternalSnapshotBeforeUpdate=s}break;case 3:Q&&Ce(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(l){Wa(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,co=t;break}co=e.return}n=fo,fo=!1}(e,r),function(e,t){for(co=t;null!==co;){var n=(t=co).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e;Q?Co(o,i,t):yo(o,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(w){Wa(i,t,w)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,co=n;else for(;null!==co;){t=co;try{var s=t.flags;if(32&s&&Q&&xe(t.stateNode),512&s){var l=t.alternate;if(null!==l){var c=l.ref;null!==c&&("function"===typeof c?c(null):c.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var u=t.alternate;null!==u&&null!==u.memoizedState||(sa=Nt())}break;case 22:var d=null!==t.memoizedState,h=t.alternate,f=null!==h&&null!==h.memoizedState;if(n=t,Q)e:if(r=n,i=d,o=null,Q)for(var p=r;;){if(5===p.tag){if(null===o){o=p;var m=p.stateNode;i?we(m):Ee(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===o){var g=p.stateNode;i?Se(g):Me(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;o===p&&(o=null),p=p.return}o===p&&(o=null),p.sibling.return=p.return,p=p.sibling}if(d&&!f&&0!==(1&n.mode)){co=n;for(var v=n.child;null!==v;){for(n=co=v;null!==co;){var y=(r=co).child;switch(r.tag){case 0:case 11:case 14:case 15:po(4,r,r.return);break;case 1:uo(r,r.return);var b=r.stateNode;if("function"===typeof b.componentWillUnmount){var x=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(w){Wa(r,x,w)}}break;case 5:uo(r,r.return);break;case 22:if(null!==r.memoizedState){Do(n);continue}}null!==y?(y.return=r,co=y):Do(n)}v=v.sibling}}}switch(4102&s){case 2:So(t),t.flags&=-3;break;case 6:So(t),t.flags&=-3,_o(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,_o(t.alternate,t);break;case 4:_o(t.alternate,t)}}catch(w){Wa(t,t.return,w)}if(null!==(n=t.sibling)){n.return=t.return,co=n;break}co=t.return}}}(e,r),F(e.containerInfo),e.current=r,Ao(r,e,i),Ft(),Qo=l,Rt=s,Xo.transition=o}else e.current=r;if(pa&&(pa=!1,ma=e,ga=i),o=e.pendingLanes,0===o&&(fa=null),function(e){if(Gt&&"function"===typeof Gt.onCommitFiberRoot)try{Gt.onCommitFiberRoot(Vt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Ca(e,Nt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(da)throw da=!1,e=ha,ha=null,e;0!==(1&ga)&&0!==e.tag&&Va(),o=e.pendingLanes,0!==(1&o)?e===ya?va++:(va=0,ya=e):va=0,Kt()}(e,t,n)}finally{Xo.transition=r,Rt=n}return null}function Va(){if(null!==ma){var e=kt(ga),t=Xo.transition,n=Rt;try{if(Xo.transition=null,Rt=16>e?16:e,null===ma)var r=!1;else{if(e=ma,ma=null,ga=0,0!==(6&Qo))throw Error(a(331));var i=Qo;for(Qo|=4,co=e.current;null!==co;){var o=co,s=o.child;if(0!==(16&co.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(co=u;null!==co;){var d=co;switch(d.tag){case 0:case 11:case 15:po(8,d,o)}var h=d.child;if(null!==h)h.return=d,co=h;else for(;null!==co;){var f=(d=co).sibling,p=d.return;if(bo(d),d===u){co=null;break}if(null!==f){f.return=p,co=f;break}co=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}co=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,co=s;else e:for(;null!==co;){if(0!==(2048&(o=co).flags))switch(o.tag){case 0:case 11:case 15:po(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,co=y;break e}co=o.return}}var b=e.current;for(co=b;null!==co;){var x=(s=co).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,co=x;else e:for(s=b;null!==co;){if(0!==(2048&(l=co).flags))try{switch(l.tag){case 0:case 11:case 15:mo(9,l)}}catch(S){Wa(l,l.return,S)}if(l===s){co=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,co=w;break e}co=l.return}}if(Qo=i,Kt(),Gt&&"function"===typeof Gt.onPostCommitFiberRoot)try{Gt.onPostCommitFiberRoot(Vt,e)}catch(S){}r=!0}return r}finally{Rt=n,Xo.transition=t}}return!1}function Ga(e,t,n){vn(e,t=Mi(0,t=vi(n,t),1)),t=wa(),null!==(e=Ma(e,1))&&(Ot(e,1,t),Ca(e,t))}function Wa(e,t,n){if(3===e.tag)Ga(e,e,n);else for(;null!==t;){if(3===t.tag){Ga(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===fa||!fa.has(r))){vn(t,e=Ci(t,e=vi(n,e),1)),e=wa(),null!==(t=Ma(t,1))&&(Ot(t,1,e),Ca(t,e));break}}t=t.return}}function Ya(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=wa(),e.pingedLanes|=e.suspendedLanes&n,qo===e&&(Zo&n)===n&&(4===ea||3===ea&&(130023424&Zo)===Zo&&500>Nt()-sa?ka(e,0):ia|=n),Ca(e,t)}function Xa(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Mt,0===(130023424&(Mt<<=1))&&(Mt=4194304)));var n=wa();null!==(e=Ma(e,t))&&(Ot(e,t,n),Ca(e,n))}function Qa(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Xa(e,n)}function qa(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Xa(e,n)}function Ka(e,t){return It(e,t)}function Za(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ja(e,t,n,r){return new Za(e,t,n,r)}function $a(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=Ja(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)$a(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case u:return ns(n.children,i,o,t);case d:s=8,i|=8;break;case h:return(e=Ja(12,n,t,2|i)).elementType=h,e.lanes=o,e;case g:return(e=Ja(13,n,t,i)).elementType=g,e.lanes=o,e;case v:return(e=Ja(19,n,t,i)).elementType=v,e.lanes=o,e;case x:return rs(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:s=10;break e;case p:s=9;break e;case m:s=11;break e;case y:s=14;break e;case b:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ja(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ns(e,t,n,r){return(e=Ja(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=Ja(22,e,r,t)).elementType=x,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=Ja(6,e,null,t)).lanes=n,e}function os(e,t,n){return(t=Ja(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function as(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Y,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pt(0),this.expirationTimes=Pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.identifierPrefix=r,this.onRecoverableError=i,K&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,o,a,s,l){return e=new as(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ja(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(o),e}function ls(e){if(!e)return ct;e:{if(C(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(pt(n))return vt(e,n,t)}return t}function cs(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=A(t))?null:e.stateNode}function us(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ds(e,t){us(e,t),(e=e.alternate)&&us(e,t)}function hs(e){return null===(e=A(e))?null:e.stateNode}function fs(){return null}return ua=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)zi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return zi=!1,function(e,t,n){switch(t.tag){case 3:Yi(t),$n();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:hr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(gr,1&gr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ki(e,t,n):(lt(gr,1&gr.current),null!==(e=io(e,t,n))?e.sibling:null);lt(gr,1&gr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ro(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return io(e,t,n)}(e,t,n);zi=0!==(131072&e.flags)}else zi=!1,Gn&&0!==(1048576&t.flags)&&Bn(t,Rn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ft(t,ut.current);un(t,n),i=Rr(null,t,r,e,i,n);var o=kr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(o=!0,yt(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=Mn,t.stateNode=i,i._reactInternals=t,An(t,r,e,n),t=Wi(null,t,r,!0,o,n)):(t.tag=0,Gn&&o&&Un(t),Fi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return $a(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===m)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Vi(null,t,r,e,n);break e;case 1:t=Gi(null,t,r,e,n);break e;case 11:t=Ni(null,t,r,e,n);break e;case 14:t=Bi(null,t,r,en(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Gi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Yi(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,mn(e,t),xn(t,r,null,n);var s=t.memoizedState;if(r=s.element,K&&o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Xi(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Xi(e,t,r,n,i=Error(a(424)));break e}for(K&&(Vn=je(t.stateNode.containerInfo),Hn=t,Gn=!0,Yn=null,Wn=!1),n=ar(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===i){t=io(e,t,n);break e}Fi(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Kn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,H(r,i)?s=null:null!==o&&H(r,o)&&(t.flags|=32),Hi(e,t),Fi(e,t,s,n),t.child;case 6:return null===e&&Kn(t),null;case 13:return Ki(e,t,n);case 4:return hr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=or(t,null,r,n):Fi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ni(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Fi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,sn(0,r,s=i.value),null!==o)if(Wt(o.value,s)){if(o.children===i.children&&!dt.current){t=io(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=gn(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),cn(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),cn(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Fi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,un(t,n),r=r(i=dn(i)),t.flags|=1,Fi(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Bi(e,t,r,i=en(r.type,i),n);case 15:return Ui(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,un(t,n),_n(t,r,i),An(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return ro(e,t,n);case 22:return ji(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(Ea(e,134217728,wa()),ds(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=wa(),n=Sa(e);Ea(e,n,t),ds(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ct(t.pendingLanes);0!==n&&(Dt(t,1|n),Ca(t,Nt()),0===(6&Qo)&&(ca(),Kt()))}break;case 13:var r=wa();Da((function(){return Ea(e,1,r)})),ds(e,1)}},t.batchedUpdates=function(e,t){var n=Qo;Qo|=1;try{return e(t)}finally{0===(Qo=n)&&(ca(),Xt&&Kt())}},t.createComponentSelector=function(e){return{$$typeof:ko,value:e}},t.createContainer=function(e,t,n,r,i,o,a){return ss(e,t,!1,null,0,r,0,o,a)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Io,value:e}},t.createHydrationContainer=function(e,t,n,r,i,o,a,s,l){return(e=ss(n,r,!0,e,0,o,0,s,l)).context=ls(null),n=e.current,(o=gn(r=wa(),i=Sa(n))).callback=void 0!==t&&null!==t?t:null,vn(n,o),e.current.lanes=i,Ot(e,i,r),Ca(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Lo,value:e}},t.createTestNameSelector=function(e){return{$$typeof:zo,value:e}},t.createTextSelector=function(e){return{$$typeof:Fo,value:e}},t.deferredUpdates=function(e){var t=Rt,n=Xo.transition;try{return Xo.transition=null,Rt=16,e()}finally{Rt=t,Xo.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var o=Rt,a=Xo.transition;try{return Xo.transition=null,Rt=1,e(t,n,r,i)}finally{Rt=o,Xo.transition=a,0===Qo&&ca()}},t.findAllNodes=Vo,t.findBoundingRects=function(e,t){if(!re)throw Error(a(363));t=Vo(e,t),e=[];for(var n=0;n<t.length;n++)e.push(oe(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,h=c.y,f=h+c.height;if(r>=u&&o>=h&&i<=d&&s<=f){e.splice(t,1);break}if(!(r!==u||n.width!==c.width||f<o||h>s)){h>o&&(c.height+=h-o,c.y=o),f<s&&(c.height=s-h),e.splice(t,1);break}if(!(o!==h||n.height!==c.height||d<r||u>i)){u>r&&(c.width+=u-r,c.x=r),d<i&&(c.width=i-u),e.splice(t,1);break}}return e},t.findHostInstance=cs,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=T(e))?O(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return cs(e)},t.flushControlled=function(e){var t=Qo;Qo|=1;var n=Xo.transition,r=Rt;try{Xo.transition=null,Rt=1,e()}finally{Rt=r,Xo.transition=n,0===(Qo=t)&&(ca(),Kt())}},t.flushPassiveEffects=Va,t.flushSync=Da,t.focusWithin=function(e,t){if(!re)throw Error(a(363));for(t=Ho(e=Bo(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Rt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(a(363));var n=0,r=[];e=[Bo(e),0];for(var i=0;i<e.length;){var o=e[i++],s=e[i++],l=t[s];if((5!==o.tag||!se(o))&&(Uo(o,l)&&(r.push(jo(l)),++s>n&&(n=s)),s<t.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(jo(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?k(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:hs,findFiberByHostInstance:e.findFiberByHostInstance||fs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Vt=t.inject(e),Gt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(a(363));e=Vo(e,t);var i=ue(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,o=wa(),a=Sa(i);return n=ls(n),null===t.context?t.context=n:t.pendingContext=n,(t=gn(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vn(i,t),null!==(e=Ea(i,a,o))&&yn(e,i,a),a},t}},585:(e,t,n)=>{"use strict";e.exports=n(976)},258:(e,t,n)=>{"use strict";e.exports=n(721)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!M.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+A(l,0):o,w(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),P(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+A(s=e[c],c);l+=P(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=P(s=s.value,t,i,u=o+A(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},k={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:k,ReactCurrentOwner:E};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!M.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,k(S);else{var t=r(u);null!==t&&I(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var o=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&I(w,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,M=!1,C=null,_=-1,T=5,A=-1;function P(){return!(t.unstable_now()-A<T)}function O(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?E():(M=!1,C=null)}}else M=!1}if("function"===typeof b)E=function(){b(O)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=O,E=function(){R.postMessage(null)}}else E=function(){v(O,0)};function k(e){C=e,M||(M=!0,E())}function I(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,k(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,I(w,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,k(S))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},809:(e,t,n)=>{"use strict";var r=n(18),i=n(456),o=n(807),a=n(240);function s(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}e.exports=function(e,t,n){if(!a(e))return e;if(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),"string"!==typeof t)return e;for(var l=r(t,{sep:".",brackets:!0}).filter(s),c=l.length,u=-1,d=e;++u<c;){var h=l[u];u===c-1?o(d[h])&&o(n)?d[h]=i({},d[h],n):d[h]=n:(a(d[h])||(d[h]={}),d=d[h])}return e}},240:e=>{"use strict";e.exports=function(e){return"undefined"!==typeof e&&null!==e&&("object"===typeof e||"function"===typeof e)}},18:(e,t,n)=>{"use strict";var r=n(955);function i(e,t,n,r){var o=e.indexOf(t,n);return"\\"===e.charAt(o-1)?i(e,t,o+1):o}function o(e,t){return!0===t.keepDoubleQuotes&&'"'===e||(!0===t.keepSingleQuotes&&"'"===e||t.keepQuotes)}function a(e,t,n){return"function"===typeof e.keepEscaping?e.keepEscaping(t,n):!0===e.keepEscaping||"\\"===t[n+1]}e.exports=function(e,t,n){if("string"!==typeof e)throw new TypeError("expected a string");"function"===typeof t&&(n=t,t=null),"string"===typeof t&&(t={sep:t});var s,l=r({sep:"."},t),c=l.quotes||['"',"'","`"];!0===l.brackets?s={"<":">","(":")","[":"]","{":"}"}:l.brackets&&(s=l.brackets);var u,d=[],h=[],f=[""],p=l.sep,m=e.length,g=-1;function v(){if(s&&h.length)return s[h[h.length-1]]}for(;++g<m;){var y=e[g],b=e[g+1],x={val:y,idx:g,arr:f,str:e};if(d.push(x),"\\"!==y){if(s&&s[y]){h.push(y);var w=v(),S=g+1;if(-1!==e.indexOf(w,S+1))for(;h.length&&S<m;){var E=e[++S];if("\\"!==E)if(-1===c.indexOf(E)){if(w=v(),h.length&&-1===e.indexOf(w,S+1))break;s[E]?h.push(E):w===E&&h.pop()}else S=i(e,E,S+1);else E++}if(-1===(u=S)){f[f.length-1]+=y;continue}y=e.slice(g,u+1),x.val=y,x.idx=g=u}if(-1!==c.indexOf(y)){if(-1===(u=i(e,y,g+1))){f[f.length-1]+=y;continue}y=!0===o(y,l)?e.slice(g,u+1):e.slice(g+1,u),x.val=y,x.idx=g=u}"function"===typeof n&&(n(x,d),y=x.val,g=x.idx),x.val!==p||!1===x.split?f[f.length-1]+=x.val:f.push("")}else x.val=!0===a(l,e,g)?y+b:b,x.escaped=!0,"function"===typeof n&&n(x),f[f.length-1]+=x.val,g++}return f}},955:(e,t,n)=>{"use strict";var r=n(105),i=n(823);function o(e,t){for(var n in t)c(t,n)&&(e[n]=t[n])}function a(e){return e&&"string"===typeof e}function s(e){var t={};for(var n in e)t[n]=e[n];return t}function l(e){return e&&"object"===typeof e||r(e)}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null===e||"undefined"===typeof e)throw new TypeError("Cannot convert undefined or null to object");l(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];a(n)&&(n=s(n)),l(n)&&(o(e,n),i(e,n))}return e}},49:function(e){e.exports=function(){var e=function(){function t(e){return i.appendChild(e.dom),e}function n(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";r=e}var r=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(e){e.preventDefault(),n(++r%i.children.length)}),!1);var o=(performance||Date).now(),a=o,s=0,l=t(new e.Panel("FPS","#0ff","#002")),c=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(c.update(e-o,200),e>a+1e3&&(l.update(1e3*s/(e-a),100),a=e,s=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:i,setMode:n}};return e.Panel=function(e,t,n){var r=1/0,i=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,l=48*a,c=3*a,u=2*a,d=3*a,h=15*a,f=74*a,p=30*a,m=document.createElement("canvas");m.width=s,m.height=l,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,s,l),g.fillStyle=t,g.fillText(e,c,u),g.fillRect(d,h,f,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(d,h,f,p),{dom:m,update:function(l,v){r=Math.min(r,l),i=Math.max(i,l),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,s,h),g.fillStyle=t,g.fillText(o(l)+" "+e+" ("+o(r)+"-"+o(i)+")",c,u),g.drawImage(m,d+a,h,f-a,p,d,h,f-a,p),g.fillRect(d+f-a,h,a,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(d+f-a,h,a,o((1-l/v)*p))}}},e}()},561:(e,t,n)=>{"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),a((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},595:(e,t,n)=>{"use strict";var r=n(791),i=n(248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=a(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},248:(e,t,n)=>{"use strict";e.exports=n(561)},327:(e,t,n)=>{"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r={};(()=>{"use strict";n.d(r,{Z:()=>Qce});var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:()=>re,AddEquation:()=>_,AddOperation:()=>J,AdditiveAnimationBlendMode:()=>Rt,AdditiveBlending:()=>S,AlphaFormat:()=>Le,AlwaysDepth:()=>V,AlwaysStencilFunc:()=>ln,AmbientLight:()=>mh,AmbientLightProbe:()=>Rh,AnimationAction:()=>sf,AnimationClip:()=>Bd,AnimationLoader:()=>Qd,AnimationMixer:()=>cf,AnimationObjectGroup:()=>af,AnimationUtils:()=>_d,ArcCurve:()=>Vc,ArrayCamera:()=>ml,ArrowHelper:()=>ep,Audio:()=>Gh,AudioAnalyser:()=>Kh,AudioContext:()=>Ph,AudioListener:()=>Vh,AudioLoader:()=>Oh,AxesHelper:()=>tp,BackSide:()=>v,BasicDepthPacking:()=>Nt,BasicShadowMap:()=>h,Bone:()=>ic,BooleanKeyframeTrack:()=>Rd,Box2:()=>wf,Box3:()=>fr,Box3Helper:()=>qf,BoxBufferGeometry:()=>rp,BoxGeometry:()=>Co,BoxHelper:()=>Qf,BufferAttribute:()=>Ui,BufferGeometry:()=>io,BufferGeometryLoader:()=>Sh,ByteType:()=>Ce,Cache:()=>jd,Camera:()=>Do,CameraHelper:()=>Wf,CanvasTexture:()=>Uc,CapsuleBufferGeometry:()=>ip,CapsuleGeometry:()=>uu,CatmullRomCurve3:()=>qc,CineonToneMapping:()=>ne,CircleBufferGeometry:()=>op,CircleGeometry:()=>du,ClampToEdgeWrapping:()=>he,Clock:()=>Fh,Color:()=>Oi,ColorKeyframeTrack:()=>kd,ColorManagement:()=>qn,CompressedArrayTexture:()=>Bc,CompressedTexture:()=>Nc,CompressedTextureLoader:()=>qd,ConeBufferGeometry:()=>ap,ConeGeometry:()=>fu,CubeCamera:()=>Io,CubeReflectionMapping:()=>ae,CubeRefractionMapping:()=>se,CubeTexture:()=>Lo,CubeTextureLoader:()=>Zd,CubeUVReflectionMapping:()=>ue,CubicBezierCurve:()=>$c,CubicBezierCurve3:()=>eu,CubicInterpolant:()=>Ad,CullFaceBack:()=>c,CullFaceFront:()=>u,CullFaceFrontBack:()=>d,CullFaceNone:()=>l,Curve:()=>jc,CurvePath:()=>su,CustomBlending:()=>C,CustomToneMapping:()=>ie,CylinderBufferGeometry:()=>sp,CylinderGeometry:()=>hu,Cylindrical:()=>bf,Data3DTexture:()=>ar,DataArrayTexture:()=>ir,DataTexture:()=>oc,DataTextureLoader:()=>Jd,DataUtils:()=>Fi,DecrementStencilOp:()=>Kt,DecrementWrapStencilOp:()=>Jt,DefaultLoadingManager:()=>Vd,DepthFormat:()=>Be,DepthStencilFormat:()=>Ue,DepthTexture:()=>bl,DirectionalLight:()=>ph,DirectionalLightHelper:()=>Hf,DiscreteInterpolant:()=>Od,DisplayP3ColorSpace:()=>Wt,DodecahedronBufferGeometry:()=>lp,DodecahedronGeometry:()=>mu,DoubleSide:()=>y,DstAlphaFactor:()=>F,DstColorFactor:()=>B,DynamicCopyUsage:()=>gn,DynamicDrawUsage:()=>un,DynamicReadUsage:()=>fn,EdgesGeometry:()=>xu,EllipseCurve:()=>Hc,EqualDepth:()=>Y,EqualStencilFunc:()=>nn,EquirectangularReflectionMapping:()=>le,EquirectangularRefractionMapping:()=>ce,Euler:()=>Kr,EventDispatcher:()=>wn,ExtrudeBufferGeometry:()=>cp,ExtrudeGeometry:()=>Ku,FileLoader:()=>Xd,Float16BufferAttribute:()=>Qi,Float32BufferAttribute:()=>qi,Float64BufferAttribute:()=>Ki,FloatType:()=>Oe,Fog:()=>Tl,FogExp2:()=>_l,FramebufferTexture:()=>Fc,FrontSide:()=>g,Frustum:()=>Vo,GLBufferAttribute:()=>pf,GLSL1:()=>yn,GLSL3:()=>bn,GreaterDepth:()=>Q,GreaterEqualDepth:()=>X,GreaterEqualStencilFunc:()=>sn,GreaterStencilFunc:()=>on,GridHelper:()=>Ff,Group:()=>gl,HalfFloatType:()=>De,HemisphereLight:()=>th,HemisphereLightHelper:()=>zf,HemisphereLightProbe:()=>Dh,IcosahedronBufferGeometry:()=>up,IcosahedronGeometry:()=>Ju,ImageBitmapLoader:()=>Th,ImageLoader:()=>Kd,ImageUtils:()=>Zn,IncrementStencilOp:()=>qt,IncrementWrapStencilOp:()=>Zt,InstancedBufferAttribute:()=>cc,InstancedBufferGeometry:()=>wh,InstancedInterleavedBuffer:()=>ff,InstancedMesh:()=>vc,Int16BufferAttribute:()=>Gi,Int32BufferAttribute:()=>Yi,Int8BufferAttribute:()=>ji,IntType:()=>Ae,InterleavedBuffer:()=>Pl,InterleavedBufferAttribute:()=>Dl,Interpolant:()=>Td,InterpolateDiscrete:()=>Ct,InterpolateLinear:()=>_t,InterpolateSmooth:()=>Tt,InvertStencilOp:()=>$t,KeepStencilOp:()=>Xt,KeyframeTrack:()=>Dd,LOD:()=>Kl,LatheBufferGeometry:()=>dp,LatheGeometry:()=>cu,Layers:()=>Zr,LessDepth:()=>G,LessEqualDepth:()=>W,LessEqualStencilFunc:()=>rn,LessStencilFunc:()=>tn,Light:()=>eh,LightProbe:()=>yh,Line:()=>Mc,Line3:()=>Mf,LineBasicMaterial:()=>yc,LineCurve:()=>tu,LineCurve3:()=>nu,LineDashedMaterial:()=>bd,LineLoop:()=>Ac,LineSegments:()=>Tc,LinearEncoding:()=>zt,LinearFilter:()=>be,LinearInterpolant:()=>Pd,LinearMipMapLinearFilter:()=>Ee,LinearMipMapNearestFilter:()=>we,LinearMipmapLinearFilter:()=>Se,LinearMipmapNearestFilter:()=>xe,LinearSRGBColorSpace:()=>Gt,LinearToneMapping:()=>ee,Loader:()=>Gd,LoaderUtils:()=>xh,LoadingManager:()=>Hd,LoopOnce:()=>St,LoopPingPong:()=>Mt,LoopRepeat:()=>Et,LuminanceAlphaFormat:()=>Ne,LuminanceFormat:()=>Fe,MOUSE:()=>a,Material:()=>Ci,MaterialLoader:()=>bh,MathUtils:()=>Ln,Matrix3:()=>Fn,Matrix4:()=>Ur,MaxEquation:()=>O,Mesh:()=>Eo,MeshBasicMaterial:()=>Ri,MeshDepthMaterial:()=>cl,MeshDistanceMaterial:()=>ul,MeshLambertMaterial:()=>vd,MeshMatcapMaterial:()=>yd,MeshNormalMaterial:()=>gd,MeshPhongMaterial:()=>pd,MeshPhysicalMaterial:()=>fd,MeshStandardMaterial:()=>hd,MeshToonMaterial:()=>md,MinEquation:()=>P,MirroredRepeatWrapping:()=>fe,MixOperation:()=>Z,MultiplyBlending:()=>M,MultiplyOperation:()=>K,NearestFilter:()=>pe,NearestMipMapLinearFilter:()=>ye,NearestMipMapNearestFilter:()=>ge,NearestMipmapLinearFilter:()=>ve,NearestMipmapNearestFilter:()=>me,NeverDepth:()=>H,NeverStencilFunc:()=>en,NoBlending:()=>x,NoColorSpace:()=>Ht,NoToneMapping:()=>$,NormalAnimationBlendMode:()=>Dt,NormalBlending:()=>w,NotEqualDepth:()=>q,NotEqualStencilFunc:()=>an,NumberKeyframeTrack:()=>Id,Object3D:()=>di,ObjectLoader:()=>Eh,ObjectSpaceNormalMap:()=>jt,OctahedronBufferGeometry:()=>hp,OctahedronGeometry:()=>$u,OneFactor:()=>R,OneMinusDstAlphaFactor:()=>N,OneMinusDstColorFactor:()=>U,OneMinusSrcAlphaFactor:()=>z,OneMinusSrcColorFactor:()=>I,OrthographicCamera:()=>ra,PCFShadowMap:()=>f,PCFSoftShadowMap:()=>p,PMREMGenerator:()=>fa,Path:()=>lu,PerspectiveCamera:()=>Ro,Plane:()=>Uo,PlaneBufferGeometry:()=>fp,PlaneGeometry:()=>Yo,PlaneHelper:()=>Kf,PointLight:()=>hh,PointLightHelper:()=>Rf,Points:()=>Ic,PointsMaterial:()=>Pc,PolarGridHelper:()=>Nf,PolyhedronBufferGeometry:()=>pp,PolyhedronGeometry:()=>pu,PositionalAudio:()=>qh,PropertyBinding:()=>of,PropertyMixer:()=>Zh,QuadraticBezierCurve:()=>ru,QuadraticBezierCurve3:()=>iu,Quaternion:()=>cr,QuaternionKeyframeTrack:()=>zd,QuaternionLinearInterpolant:()=>Ld,RED_GREEN_RGTC2_Format:()=>xt,RED_RGTC1_Format:()=>yt,REVISION:()=>o,RGBADepthPacking:()=>Bt,RGBAFormat:()=>ze,RGBAIntegerFormat:()=>We,RGBA_ASTC_10x10_Format:()=>pt,RGBA_ASTC_10x5_Format:()=>dt,RGBA_ASTC_10x6_Format:()=>ht,RGBA_ASTC_10x8_Format:()=>ft,RGBA_ASTC_12x10_Format:()=>mt,RGBA_ASTC_12x12_Format:()=>gt,RGBA_ASTC_4x4_Format:()=>rt,RGBA_ASTC_5x4_Format:()=>it,RGBA_ASTC_5x5_Format:()=>ot,RGBA_ASTC_6x5_Format:()=>at,RGBA_ASTC_6x6_Format:()=>st,RGBA_ASTC_8x5_Format:()=>lt,RGBA_ASTC_8x6_Format:()=>ct,RGBA_ASTC_8x8_Format:()=>ut,RGBA_BPTC_Format:()=>vt,RGBA_ETC2_EAC_Format:()=>nt,RGBA_PVRTC_2BPPV1_Format:()=>$e,RGBA_PVRTC_4BPPV1_Format:()=>Je,RGBA_S3TC_DXT1_Format:()=>Xe,RGBA_S3TC_DXT3_Format:()=>Qe,RGBA_S3TC_DXT5_Format:()=>qe,RGB_ETC1_Format:()=>et,RGB_ETC2_Format:()=>tt,RGB_PVRTC_2BPPV1_Format:()=>Ze,RGB_PVRTC_4BPPV1_Format:()=>Ke,RGB_S3TC_DXT1_Format:()=>Ye,RGFormat:()=>Ve,RGIntegerFormat:()=>Ge,RawShaderMaterial:()=>dd,Ray:()=>Br,Raycaster:()=>mf,RectAreaLight:()=>gh,RedFormat:()=>je,RedIntegerFormat:()=>He,ReinhardToneMapping:()=>te,RepeatWrapping:()=>de,ReplaceStencilOp:()=>Qt,ReverseSubtractEquation:()=>A,RingBufferGeometry:()=>mp,RingGeometry:()=>ed,SIGNED_RED_GREEN_RGTC2_Format:()=>wt,SIGNED_RED_RGTC1_Format:()=>bt,SRGBColorSpace:()=>Vt,Scene:()=>Al,ShaderChunk:()=>Xo,ShaderLib:()=>qo,ShaderMaterial:()=>Oo,ShadowMaterial:()=>ud,Shape:()=>wu,ShapeBufferGeometry:()=>gp,ShapeGeometry:()=>td,ShapePath:()=>np,ShapeUtils:()=>Xu,ShortType:()=>_e,Skeleton:()=>lc,SkeletonHelper:()=>Of,SkinnedMesh:()=>rc,Source:()=>Jn,Sphere:()=>Dr,SphereBufferGeometry:()=>vp,SphereGeometry:()=>nd,Spherical:()=>yf,SphericalHarmonics3:()=>vh,SplineCurve:()=>ou,SpotLight:()=>sh,SpotLightHelper:()=>_f,Sprite:()=>Yl,SpriteMaterial:()=>Rl,SrcAlphaFactor:()=>L,SrcAlphaSaturateFactor:()=>j,SrcColorFactor:()=>k,StaticCopyUsage:()=>mn,StaticDrawUsage:()=>cn,StaticReadUsage:()=>hn,StereoCamera:()=>zh,StreamCopyUsage:()=>vn,StreamDrawUsage:()=>dn,StreamReadUsage:()=>pn,StringKeyframeTrack:()=>Fd,SubtractEquation:()=>T,SubtractiveBlending:()=>E,TOUCH:()=>s,TangentSpaceNormalMap:()=>Ut,TetrahedronBufferGeometry:()=>yp,TetrahedronGeometry:()=>rd,Texture:()=>tr,TextureLoader:()=>$d,TorusBufferGeometry:()=>bp,TorusGeometry:()=>id,TorusKnotBufferGeometry:()=>xp,TorusKnotGeometry:()=>od,Triangle:()=>Ei,TriangleFanDrawMode:()=>Lt,TriangleStripDrawMode:()=>It,TrianglesDrawMode:()=>kt,TubeBufferGeometry:()=>wp,TubeGeometry:()=>ad,TwoPassDoubleSide:()=>b,UVMapping:()=>oe,Uint16BufferAttribute:()=>Wi,Uint32BufferAttribute:()=>Xi,Uint8BufferAttribute:()=>Hi,Uint8ClampedBufferAttribute:()=>Vi,Uniform:()=>uf,UniformsGroup:()=>hf,UniformsLib:()=>Qo,UniformsUtils:()=>Po,UnsignedByteType:()=>Me,UnsignedInt248Type:()=>Ie,UnsignedIntType:()=>Pe,UnsignedShort4444Type:()=>Re,UnsignedShort5551Type:()=>ke,UnsignedShortType:()=>Te,VSMShadowMap:()=>m,Vector2:()=>zn,Vector3:()=>ur,Vector4:()=>nr,VectorKeyframeTrack:()=>Nd,VideoTexture:()=>zc,WebGL1Renderer:()=>Cl,WebGL3DRenderTarget:()=>sr,WebGLArrayRenderTarget:()=>or,WebGLCubeRenderTarget:()=>zo,WebGLMultipleRenderTargets:()=>lr,WebGLRenderTarget:()=>rr,WebGLRenderer:()=>Ml,WebGLUtils:()=>pl,WireframeGeometry:()=>sd,WrapAroundEnding:()=>Ot,ZeroCurvatureEnding:()=>At,ZeroFactor:()=>D,ZeroSlopeEnding:()=>Pt,ZeroStencilOp:()=>Yt,_SRGBAFormat:()=>xn,sRGBEncoding:()=>Ft});var t=n(791),i=n.t(t,2);const o="151",a={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},s={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},l=0,c=1,u=2,d=3,h=0,f=1,p=2,m=3,g=0,v=1,y=2,b=2,x=0,w=1,S=2,E=3,M=4,C=5,_=100,T=101,A=102,P=103,O=104,D=200,R=201,k=202,I=203,L=204,z=205,F=206,N=207,B=208,U=209,j=210,H=0,V=1,G=2,W=3,Y=4,X=5,Q=6,q=7,K=0,Z=1,J=2,$=0,ee=1,te=2,ne=3,re=4,ie=5,oe=300,ae=301,se=302,le=303,ce=304,ue=306,de=1e3,he=1001,fe=1002,pe=1003,me=1004,ge=1004,ve=1005,ye=1005,be=1006,xe=1007,we=1007,Se=1008,Ee=1008,Me=1009,Ce=1010,_e=1011,Te=1012,Ae=1013,Pe=1014,Oe=1015,De=1016,Re=1017,ke=1018,Ie=1020,Le=1021,ze=1023,Fe=1024,Ne=1025,Be=1026,Ue=1027,je=1028,He=1029,Ve=1030,Ge=1031,We=1033,Ye=33776,Xe=33777,Qe=33778,qe=33779,Ke=35840,Ze=35841,Je=35842,$e=35843,et=36196,tt=37492,nt=37496,rt=37808,it=37809,ot=37810,at=37811,st=37812,lt=37813,ct=37814,ut=37815,dt=37816,ht=37817,ft=37818,pt=37819,mt=37820,gt=37821,vt=36492,yt=36283,bt=36284,xt=36285,wt=36286,St=2200,Et=2201,Mt=2202,Ct=2300,_t=2301,Tt=2302,At=2400,Pt=2401,Ot=2402,Dt=2500,Rt=2501,kt=0,It=1,Lt=2,zt=3e3,Ft=3001,Nt=3200,Bt=3201,Ut=0,jt=1,Ht="",Vt="srgb",Gt="srgb-linear",Wt="display-p3",Yt=0,Xt=7680,Qt=7681,qt=7682,Kt=7683,Zt=34055,Jt=34056,$t=5386,en=512,tn=513,nn=514,rn=515,on=516,an=517,sn=518,ln=519,cn=35044,un=35048,dn=35040,hn=35045,fn=35049,pn=35041,mn=35046,gn=35050,vn=35042,yn="100",bn="300 es",xn=1035;class wn{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const Sn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let En=1234567;const Mn=Math.PI/180,Cn=180/Math.PI;function _n(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Sn[255&e]+Sn[e>>8&255]+Sn[e>>16&255]+Sn[e>>24&255]+"-"+Sn[255&t]+Sn[t>>8&255]+"-"+Sn[t>>16&15|64]+Sn[t>>24&255]+"-"+Sn[63&n|128]+Sn[n>>8&255]+"-"+Sn[n>>16&255]+Sn[n>>24&255]+Sn[255&r]+Sn[r>>8&255]+Sn[r>>16&255]+Sn[r>>24&255]).toLowerCase()}function Tn(e,t,n){return Math.max(t,Math.min(n,e))}function An(e,t){return(e%t+t)%t}function Pn(e,t,n){return(1-n)*e+n*t}function On(e){return 0===(e&e-1)&&0!==e}function Dn(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Rn(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function kn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function In(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Ln={DEG2RAD:Mn,RAD2DEG:Cn,generateUUID:_n,clamp:Tn,euclideanModulo:An,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Pn,damp:function(e,t,n,r){return Pn(e,t,1-Math.exp(-n*r))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(An(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(En=e);let t=En+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Mn},radToDeg:function(e){return e*Cn},isPowerOfTwo:On,ceilPowerOfTwo:Dn,floorPowerOfTwo:Rn,setQuaternionFromProperEuler:function(e,t,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((t+r)/2),u=a((t+r)/2),d=o((t-r)/2),h=a((t-r)/2),f=o((r-t)/2),p=a((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:In,denormalize:kn};class zn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;zn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Tn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Fn{constructor(){Fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,i,o,a,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],w=r[5],S=r[8];return i[0]=o*p+a*v+s*x,i[3]=o*m+a*y+s*w,i[6]=o*g+a*b+s*S,i[1]=l*p+c*v+u*x,i[4]=l*m+c*y+u*w,i[7]=l*g+c*b+u*S,i[2]=d*p+h*v+f*x,i[5]=d*m+h*y+f*w,i[8]=d*g+h*b+f*S,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*i*c+n*a*s+r*i*l-r*o*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=c*o-a*l,d=a*s-c*i,h=l*i-o*s,f=t*u+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(a*n-r*o)*p,e[3]=d*p,e[4]=(c*t-r*s)*p,e[5]=(r*i-a*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(o*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Nn.makeScale(e,t)),this}rotate(e){return this.premultiply(Nn.makeRotation(-e)),this}translate(e,t){return this.premultiply(Nn.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Nn=new Fn;function Bn(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const Un={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function jn(e,t){return new Un[e](t)}function Hn(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Vn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Gn(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const Wn=(new Fn).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Yn=(new Fn).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);const Xn={[Gt]:e=>e,[Vt]:e=>e.convertSRGBToLinear(),[Wt]:function(e){return e.convertSRGBToLinear().applyMatrix3(Yn)}},Qn={[Gt]:e=>e,[Vt]:e=>e.convertLinearToSRGB(),[Wt]:function(e){return e.applyMatrix3(Wn).convertLinearToSRGB()}},qn={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return Gt},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=Xn[t],i=Qn[n];if(void 0===r||void 0===i)throw new Error(`Unsupported color space conversion, "${t}" to "${n}".`);return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}};let Kn;class Zn{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Kn&&(Kn=Hn("canvas")),Kn.width=e.width,Kn.height=e.height;const n=Kn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Kn}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=Hn("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*Vn(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Vn(t[e]/255)):t[e]=Vn(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Jn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,this.uuid=_n(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push($n(r[t].image)):e.push($n(r[t]))}else e=$n(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function $n(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Zn.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let er=0;class tr extends wn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:he,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:be,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Se,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ze,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Me,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:tr.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:zt;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:er++}),this.uuid=_n(),this.name="",this.source=new Jn(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new zn(0,0),this.repeat=new zn(1,1),this.center=new zn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==oe)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case de:e.x=e.x-Math.floor(e.x);break;case he:e.x=e.x<0?0:1;break;case fe:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case de:e.y=e.y-Math.floor(e.y);break;case he:e.y=e.y<0?0:1;break;case fe:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}tr.DEFAULT_IMAGE=null,tr.DEFAULT_MAPPING=oe,tr.DEFAULT_ANISOTROPY=1;class nr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;nr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=.01,a=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-d)<o&&Math.abs(u-p)<o&&Math.abs(f-m)<o){if(Math.abs(c+d)<a&&Math.abs(u+p)<a&&Math.abs(f+m)<a&&Math.abs(l+h+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,v=(g+1)/2,y=(c+d)/4,b=(u+p)/4,x=(f+m)/4;return e>s&&e>v?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>v?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=x/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-p)/v,this.z=(d-c)/v,this.w=Math.acos((l+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class rr extends wn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new nr(0,0,e,t),this.scissorTest=!1,this.viewport=new nr(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new tr(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:be,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Jn(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ir extends tr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=pe,this.minFilter=pe,this.wrapR=he,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class or extends rr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new ir(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class ar extends tr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=pe,this.minFilter=pe,this.wrapR=he,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class sr extends rr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new ar(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class lr extends rr{constructor(){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGLMultipleRenderTargets=!0;const t=this.texture;this.texture=[];for(let n=0;n<e;n++)this.texture[n]=t.clone(),this.texture[n].isRenderTargetTexture=!0}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class cr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,o,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const d=i[o+0],h=i[o+1],f=i[o+2],p=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=d,e[t+1]=h,e[t+2]=f,void(e[t+3]=p);if(u!==p||s!==d||l!==h||c!==f){let e=1-a;const t=s*d+l*h+c*f+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*e+d*i,l=l*e+h*i,c=c*e+f*i,u=u*e+p*i,e===1-a){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[o],d=i[o+1],h=i[o+2],f=i[o+3];return e[t]=a*f+c*u+s*h-l*d,e[t+1]=s*f+c*d+l*u-a*h,e[t+2]=l*f+c*h+a*d-s*u,e[t+3]=c*f-a*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(o){case"XYZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"YXZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"ZXY":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"ZYX":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"YZX":this._x=d*c*u+l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u-d*h*f;break;case"XZY":this._x=d*c*u-l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+a+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(o-r)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(i-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(o-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Tn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=o*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=i*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ur{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;ur.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(hr.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(hr.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*n,c=s*n+a*t-i*r,u=s*r+i*n-o*t,d=-i*t-o*n-a*r;return this.x=l*s+d*-i+c*-a-u*-o,this.y=c*s+d*-o+u*-i-l*-a,this.z=u*s+d*-a+l*-o-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return dr.copy(this).projectOnVector(e),this.sub(dr)}reflect(e){return this.sub(dr.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Tn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const dr=new ur,hr=new cr;class fr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ur(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(mr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(mr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=mr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),gr.copy(e.boundingBox),gr.applyMatrix4(e.matrixWorld),this.union(gr);else{const n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,r=t.count;n<r;n++)mr.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(mr)}else null===n.boundingBox&&n.computeBoundingBox(),gr.copy(n.boundingBox),gr.applyMatrix4(e.matrixWorld),this.union(gr)}const n=e.children;for(let r=0,i=n.length;r<i;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,mr),mr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Er),Mr.subVectors(this.max,Er),vr.subVectors(e.a,Er),yr.subVectors(e.b,Er),br.subVectors(e.c,Er),xr.subVectors(yr,vr),wr.subVectors(br,yr),Sr.subVectors(vr,br);let t=[0,-xr.z,xr.y,0,-wr.z,wr.y,0,-Sr.z,Sr.y,xr.z,0,-xr.x,wr.z,0,-wr.x,Sr.z,0,-Sr.x,-xr.y,xr.x,0,-wr.y,wr.x,0,-Sr.y,Sr.x,0];return!!Tr(t,vr,yr,br,Mr)&&(t=[1,0,0,0,1,0,0,0,1],!!Tr(t,vr,yr,br,Mr)&&(Cr.crossVectors(xr,wr),t=[Cr.x,Cr.y,Cr.z],Tr(t,vr,yr,br,Mr)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,mr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(mr).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(pr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),pr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),pr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),pr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),pr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),pr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),pr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),pr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(pr)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const pr=[new ur,new ur,new ur,new ur,new ur,new ur,new ur,new ur],mr=new ur,gr=new fr,vr=new ur,yr=new ur,br=new ur,xr=new ur,wr=new ur,Sr=new ur,Er=new ur,Mr=new ur,Cr=new ur,_r=new ur;function Tr(e,t,n,r,i){for(let o=0,a=e.length-3;o<=a;o+=3){_r.fromArray(e,o);const a=i.x*Math.abs(_r.x)+i.y*Math.abs(_r.y)+i.z*Math.abs(_r.z),s=t.dot(_r),l=n.dot(_r),c=r.dot(_r);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const Ar=new fr,Pr=new ur,Or=new ur;class Dr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Ar.setFromPoints(e).getCenter(n);let r=0;for(let i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Pr.subVectors(e,this.center);const t=Pr.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Pr,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Or.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Pr.copy(e.center).add(Or)),this.expandByPoint(Pr.copy(e.center).sub(Or))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Rr=new ur,kr=new ur,Ir=new ur,Lr=new ur,zr=new ur,Fr=new ur,Nr=new ur;class Br{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Rr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Rr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Rr.copy(this.origin).addScaledVector(this.direction,t),Rr.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){kr.copy(e).add(t).multiplyScalar(.5),Ir.copy(t).sub(e).normalize(),Lr.copy(this.origin).sub(kr);const i=.5*e.distanceTo(t),o=-this.direction.dot(Ir),a=Lr.dot(this.direction),s=-Lr.dot(Ir),l=Lr.lengthSq(),c=Math.abs(1-o*o);let u,d,h,f;if(c>0)if(u=o*s-a,d=o*a-s,f=i*c,u>=0)if(d>=-f)if(d<=f){const e=1/c;u*=e,d*=e,h=u*(u+o*d+2*a)+d*(o*u+d+2*s)+l}else d=i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d=-i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d<=-f?(u=Math.max(0,-(-o*i+a)),d=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l):d<=f?(u=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(u=Math.max(0,-(o*i+a)),d=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l);else d=o>0?-i:i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(kr).addScaledVector(Ir,d),h}intersectSphere(e,t){Rr.subVectors(e.center,this.origin);const n=Rr.dot(this.direction),r=Rr.dot(Rr)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Rr)}intersectTriangle(e,t,n,r,i){zr.subVectors(t,e),Fr.subVectors(n,e),Nr.crossVectors(zr,Fr);let o,a=this.direction.dot(Nr);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Lr.subVectors(this.origin,e);const s=o*this.direction.dot(Fr.crossVectors(Lr,Fr));if(s<0)return null;const l=o*this.direction.dot(zr.cross(Lr));if(l<0)return null;if(s+l>a)return null;const c=-o*Lr.dot(Nr);return c<0?null:this.at(c/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Ur{constructor(){Ur.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ur).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/jr.setFromMatrixColumn(e,0).length(),i=1/jr.setFromMatrixColumn(e,1).length(),o=1/jr.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-a*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=o*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*a,t[4]=r*a-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=o*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*a,t[4]=-o*u,t[8]=r+n*a,t[1]=n+r*a,t[5]=o*c,t[9]=i-e*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=o*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=a*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Vr,e,Gr)}lookAt(e,t,n){const r=this.elements;return Xr.subVectors(e,t),0===Xr.lengthSq()&&(Xr.z=1),Xr.normalize(),Wr.crossVectors(n,Xr),0===Wr.lengthSq()&&(1===Math.abs(n.z)?Xr.x+=1e-4:Xr.z+=1e-4,Xr.normalize(),Wr.crossVectors(n,Xr)),Wr.normalize(),Yr.crossVectors(Xr,Wr),r[0]=Wr.x,r[4]=Yr.x,r[8]=Xr.x,r[1]=Wr.y,r[5]=Yr.y,r[9]=Xr.y,r[2]=Wr.z,r[6]=Yr.z,r[10]=Xr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],w=r[0],S=r[4],E=r[8],M=r[12],C=r[1],_=r[5],T=r[9],A=r[13],P=r[2],O=r[6],D=r[10],R=r[14],k=r[3],I=r[7],L=r[11],z=r[15];return i[0]=o*w+a*C+s*P+l*k,i[4]=o*S+a*_+s*O+l*I,i[8]=o*E+a*T+s*D+l*L,i[12]=o*M+a*A+s*R+l*z,i[1]=c*w+u*C+d*P+h*k,i[5]=c*S+u*_+d*O+h*I,i[9]=c*E+u*T+d*D+h*L,i[13]=c*M+u*A+d*R+h*z,i[2]=f*w+p*C+m*P+g*k,i[6]=f*S+p*_+m*O+g*I,i[10]=f*E+p*T+m*D+g*L,i[14]=f*M+p*A+m*R+g*z,i[3]=v*w+y*C+b*P+x*k,i[7]=v*S+y*_+b*O+x*I,i[11]=v*E+y*T+b*D+x*L,i[15]=v*M+y*A+b*R+x*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-r*l*u-i*a*d+n*l*d+r*a*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*o*d-r*o*h+r*l*c-i*s*c)+e[11]*(+t*l*u-t*a*h-i*o*u+n*o*h+i*a*c-n*l*c)+e[15]*(-r*a*c-t*s*u+t*a*d+r*o*u-n*o*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*d*l+p*s*h-a*m*h-u*s*g+a*d*g,y=f*d*l-c*m*l-f*s*h+o*m*h+c*s*g-o*d*g,b=c*p*l-f*u*l+f*a*h-o*p*h-c*a*g+o*u*g,x=f*u*s-c*p*s-f*a*d+o*p*d+c*a*m-o*u*m,w=t*v+n*y+r*b+i*x;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/w;return e[0]=v*S,e[1]=(p*d*i-u*m*i-p*r*h+n*m*h+u*r*g-n*d*g)*S,e[2]=(a*m*i-p*s*i+p*r*l-n*m*l-a*r*g+n*s*g)*S,e[3]=(u*s*i-a*d*i-u*r*l+n*d*l+a*r*h-n*s*h)*S,e[4]=y*S,e[5]=(c*m*i-f*d*i+f*r*h-t*m*h-c*r*g+t*d*g)*S,e[6]=(f*s*i-o*m*i-f*r*l+t*m*l+o*r*g-t*s*g)*S,e[7]=(o*d*i-c*s*i+c*r*l-t*d*l-o*r*h+t*s*h)*S,e[8]=b*S,e[9]=(f*u*i-c*p*i-f*n*h+t*p*h+c*n*g-t*u*g)*S,e[10]=(o*p*i-f*a*i+f*n*l-t*p*l-o*n*g+t*a*g)*S,e[11]=(c*a*i-o*u*i-c*n*l+t*u*l+o*n*h-t*a*h)*S,e[12]=x*S,e[13]=(c*p*r-f*u*r+f*n*d-t*p*d-c*n*m+t*u*m)*S,e[14]=(f*a*r-o*p*r-f*n*s+t*p*s+o*n*m-t*a*m)*S,e[15]=(o*u*r-c*a*r+c*n*s-t*u*s-o*n*d+t*a*d)*S,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,c=o+o,u=a+a,d=i*l,h=i*c,f=i*u,p=o*c,m=o*u,g=a*u,v=s*l,y=s*c,b=s*u,x=n.x,w=n.y,S=n.z;return r[0]=(1-(p+g))*x,r[1]=(h+b)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(h-b)*w,r[5]=(1-(d+g))*w,r[6]=(m+v)*w,r[7]=0,r[8]=(f+y)*S,r[9]=(m-v)*S,r[10]=(1-(d+p))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=jr.set(r[0],r[1],r[2]).length();const o=jr.set(r[4],r[5],r[6]).length(),a=jr.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Hr.copy(this);const s=1/i,l=1/o,c=1/a;return Hr.elements[0]*=s,Hr.elements[1]*=s,Hr.elements[2]*=s,Hr.elements[4]*=l,Hr.elements[5]*=l,Hr.elements[6]*=l,Hr.elements[8]*=c,Hr.elements[9]*=c,Hr.elements[10]*=c,t.setFromRotationMatrix(Hr),n.x=i,n.y=o,n.z=a,this}makePerspective(e,t,n,r,i,o){const a=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),d=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,r,i,o){const a=this.elements,s=1/(t-e),l=1/(n-r),c=1/(o-i),u=(t+e)*s,d=(n+r)*l,h=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const jr=new ur,Hr=new Ur,Vr=new ur(0,0,0),Gr=new ur(1,1,1),Wr=new ur,Yr=new ur,Xr=new ur,Qr=new Ur,qr=new cr;class Kr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Kr.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(Tn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Tn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Tn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Tn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Tn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Tn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Qr.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Qr,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return qr.setFromEuler(this),this.setFromQuaternion(qr,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Kr.DEFAULT_ORDER="XYZ";class Zr{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&(1<<e|0))}}let Jr=0;const $r=new ur,ei=new cr,ti=new Ur,ni=new ur,ri=new ur,ii=new ur,oi=new cr,ai=new ur(1,0,0),si=new ur(0,1,0),li=new ur(0,0,1),ci={type:"added"},ui={type:"removed"};class di extends wn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Jr++}),this.uuid=_n(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=di.DEFAULT_UP.clone();const e=new ur,t=new Kr,n=new cr,r=new ur(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ur},normalMatrix:{value:new Fn}}),this.matrix=new Ur,this.matrixWorld=new Ur,this.matrixAutoUpdate=di.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=di.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Zr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ei.setFromAxisAngle(e,t),this.quaternion.multiply(ei),this}rotateOnWorldAxis(e,t){return ei.setFromAxisAngle(e,t),this.quaternion.premultiply(ei),this}rotateX(e){return this.rotateOnAxis(ai,e)}rotateY(e){return this.rotateOnAxis(si,e)}rotateZ(e){return this.rotateOnAxis(li,e)}translateOnAxis(e,t){return $r.copy(e).applyQuaternion(this.quaternion),this.position.add($r.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(ai,e)}translateY(e){return this.translateOnAxis(si,e)}translateZ(e){return this.translateOnAxis(li,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ti.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?ni.copy(e):ni.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ri.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ti.lookAt(ri,ni,this.up):ti.lookAt(ni,ri,this.up),this.quaternion.setFromRotationMatrix(ti),r&&(ti.extractRotation(r.matrixWorld),ei.setFromRotationMatrix(ti),this.quaternion.premultiply(ei.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ci)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ui)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(ui)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ti.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ti.multiply(e.parent.matrixWorld)),e.applyMatrix4(ti),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,i=this.children.length;r<i;r++){const i=this.children[r].getObjectsByProperty(e,t);i.length>0&&(n=n.concat(i))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ri,e,ii),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ri,oi,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),a=o(e.images),s=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}di.DEFAULT_UP=new ur(0,1,0),di.DEFAULT_MATRIX_AUTO_UPDATE=!0,di.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const hi=new ur,fi=new ur,pi=new ur,mi=new ur,gi=new ur,vi=new ur,yi=new ur,bi=new ur,xi=new ur,wi=new ur;let Si=!1;class Ei{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ur;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),hi.subVectors(e,t),r.cross(hi);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){hi.subVectors(r,t),fi.subVectors(n,t),pi.subVectors(e,t);const o=hi.dot(hi),a=hi.dot(fi),s=hi.dot(pi),l=fi.dot(fi),c=fi.dot(pi),u=o*l-a*a;if(0===u)return i.set(-2,-1,-1);const d=1/u,h=(l*s-a*c)*d,f=(o*c-a*s)*d;return i.set(1-h-f,f,h)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,mi),mi.x>=0&&mi.y>=0&&mi.x+mi.y<=1}static getUV(e,t,n,r,i,o,a,s){return!1===Si&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Si=!0),this.getInterpolation(e,t,n,r,i,o,a,s)}static getInterpolation(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,mi),s.setScalar(0),s.addScaledVector(i,mi.x),s.addScaledVector(o,mi.y),s.addScaledVector(a,mi.z),s}static isFrontFacing(e,t,n,r){return hi.subVectors(n,t),fi.subVectors(e,t),hi.cross(fi).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return hi.subVectors(this.c,this.b),fi.subVectors(this.a,this.b),.5*hi.cross(fi).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ei.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ei.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return!1===Si&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Si=!0),Ei.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}getInterpolation(e,t,n,r,i){return Ei.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return Ei.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ei.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let o,a;gi.subVectors(r,n),vi.subVectors(i,n),bi.subVectors(e,n);const s=gi.dot(bi),l=vi.dot(bi);if(s<=0&&l<=0)return t.copy(n);xi.subVectors(e,r);const c=gi.dot(xi),u=vi.dot(xi);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return o=s/(s-c),t.copy(n).addScaledVector(gi,o);wi.subVectors(e,i);const h=gi.dot(wi),f=vi.dot(wi);if(f>=0&&h<=f)return t.copy(i);const p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return a=l/(l-f),t.copy(n).addScaledVector(vi,a);const m=c*f-h*u;if(m<=0&&u-c>=0&&h-f>=0)return yi.subVectors(i,r),a=(u-c)/(u-c+(h-f)),t.copy(r).addScaledVector(yi,a);const g=1/(m+p+d);return o=p*g,a=d*g,t.copy(n).addScaledVector(gi,o).addScaledVector(vi,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Mi=0;class Ci extends wn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Mi++}),this.uuid=_n(),this.name="",this.type="Material",this.blending=w,this.side=g,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=L,this.blendDst=z,this.blendEquation=_,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=W,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ln,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Xt,this.stencilZFail=Xt,this.stencilZPass=Xt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==w&&(n.blending=this.blending),this.side!==g&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const _i={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ti={h:0,s:0,l:0},Ai={h:0,s:0,l:0};function Pi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Oi{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,qn.toWorkingColorSpace(this,t),this}setRGB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qn.workingColorSpace;return this.r=e,this.g=t,this.b=n,qn.toWorkingColorSpace(this,r),this}setHSL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qn.workingColorSpace;if(e=An(e,1),t=Tn(t,0,1),n=Tn(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Pi(i,r,e+1/3),this.g=Pi(i,r,e),this.b=Pi(i,r,e-1/3)}return qn.toWorkingColorSpace(this,r),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=t[1],a=t[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,qn.toWorkingColorSpace(this,n),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,qn.toWorkingColorSpace(this,n),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const e=parseFloat(i[1])/360,t=parseFloat(i[2])/100,o=parseFloat(i[3])/100;return r(i[4]),this.setHSL(e,t,o,n)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=t[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt;const n=_i[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Vn(e.r),this.g=Vn(e.g),this.b=Vn(e.b),this}copyLinearToSRGB(e){return this.r=Gn(e.r),this.g=Gn(e.g),this.b=Gn(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return qn.fromWorkingColorSpace(Di.copy(this),e),Tn(255*Di.r,0,255)<<16^Tn(255*Di.g,0,255)<<8^Tn(255*Di.b,0,255)<<0}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn.workingColorSpace;qn.fromWorkingColorSpace(Di.copy(this),t);const n=Di.r,r=Di.g,i=Di.b,o=Math.max(n,r,i),a=Math.min(n,r,i);let s,l;const c=(a+o)/2;if(a===o)s=0,l=0;else{const e=o-a;switch(l=c<=.5?e/(o+a):e/(2-o-a),o){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn.workingColorSpace;return qn.fromWorkingColorSpace(Di.copy(this),t),e.r=Di.r,e.g=Di.g,e.b=Di.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;qn.fromWorkingColorSpace(Di.copy(this),e);const t=Di.r,n=Di.g,r=Di.b;return e!==Vt?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${255*t|0},${255*n|0},${255*r|0})`}offsetHSL(e,t,n){return this.getHSL(Ti),Ti.h+=e,Ti.s+=t,Ti.l+=n,this.setHSL(Ti.h,Ti.s,Ti.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ti),e.getHSL(Ai);const n=Pn(Ti.h,Ai.h,t),r=Pn(Ti.s,Ai.s,t),i=Pn(Ti.l,Ai.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Di=new Oi;Oi.NAMES=_i;class Ri extends Ci{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Oi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ki=Ii();function Ii(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;0===(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,o[l]=e|t}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function Li(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Tn(e,-65504,65504),ki.floatView[0]=e;const t=ki.uint32View[0],n=t>>23&511;return ki.baseTable[n]+((8388607&t)>>ki.shiftTable[n])}function zi(e){const t=e>>10;return ki.uint32View[0]=ki.mantissaTable[ki.offsetTable[t]+(1023&e)]+ki.exponentTable[t],ki.floatView[0]}const Fi={toHalfFloat:Li,fromHalfFloat:zi},Ni=new ur,Bi=new zn;class Ui{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=cn,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Bi.fromBufferAttribute(this,t),Bi.applyMatrix3(e),this.setXY(t,Bi.x,Bi.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Ni.fromBufferAttribute(this,t),Ni.applyMatrix3(e),this.setXYZ(t,Ni.x,Ni.y,Ni.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ni.fromBufferAttribute(this,t),Ni.applyMatrix4(e),this.setXYZ(t,Ni.x,Ni.y,Ni.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ni.fromBufferAttribute(this,t),Ni.applyNormalMatrix(e),this.setXYZ(t,Ni.x,Ni.y,Ni.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ni.fromBufferAttribute(this,t),Ni.transformDirection(e),this.setXYZ(t,Ni.x,Ni.y,Ni.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=kn(t,this.array)),t}setX(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=kn(t,this.array)),t}setY(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=kn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=kn(t,this.array)),t}setW(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),n=In(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),n=In(n,this.array),r=In(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),n=In(n,this.array),r=In(r,this.array),i=In(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==cn&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class ji extends Ui{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Hi extends Ui{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Vi extends Ui{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Gi extends Ui{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Wi extends Ui{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Yi extends Ui{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Xi extends Ui{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Qi extends Ui{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=zi(this.array[e*this.itemSize]);return this.normalized&&(t=kn(t,this.array)),t}setX(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize]=Li(t),this}getY(e){let t=zi(this.array[e*this.itemSize+1]);return this.normalized&&(t=kn(t,this.array)),t}setY(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+1]=Li(t),this}getZ(e){let t=zi(this.array[e*this.itemSize+2]);return this.normalized&&(t=kn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+2]=Li(t),this}getW(e){let t=zi(this.array[e*this.itemSize+3]);return this.normalized&&(t=kn(t,this.array)),t}setW(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+3]=Li(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),n=In(n,this.array)),this.array[e+0]=Li(t),this.array[e+1]=Li(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),n=In(n,this.array),r=In(r,this.array)),this.array[e+0]=Li(t),this.array[e+1]=Li(n),this.array[e+2]=Li(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),n=In(n,this.array),r=In(r,this.array),i=In(i,this.array)),this.array[e+0]=Li(t),this.array[e+1]=Li(n),this.array[e+2]=Li(r),this.array[e+3]=Li(i),this}}class qi extends Ui{constructor(e,t,n){super(new Float32Array(e),t,n)}}class Ki extends Ui{constructor(e,t,n){super(new Float64Array(e),t,n)}}let Zi=0;const Ji=new Ur,$i=new di,eo=new ur,to=new fr,no=new fr,ro=new ur;class io extends wn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Zi++}),this.uuid=_n(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Bn(e)?Xi:Wi)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Fn).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ji.makeRotationFromQuaternion(e),this.applyMatrix4(Ji),this}rotateX(e){return Ji.makeRotationX(e),this.applyMatrix4(Ji),this}rotateY(e){return Ji.makeRotationY(e),this.applyMatrix4(Ji),this}rotateZ(e){return Ji.makeRotationZ(e),this.applyMatrix4(Ji),this}translate(e,t,n){return Ji.makeTranslation(e,t,n),this.applyMatrix4(Ji),this}scale(e,t,n){return Ji.makeScale(e,t,n),this.applyMatrix4(Ji),this}lookAt(e){return $i.lookAt(e),$i.updateMatrix(),this.applyMatrix4($i.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(eo).negate(),this.translate(eo.x,eo.y,eo.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new qi(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new fr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ur(-1/0,-1/0,-1/0),new ur(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];to.setFromBufferAttribute(e),this.morphTargetsRelative?(ro.addVectors(this.boundingBox.min,to.min),this.boundingBox.expandByPoint(ro),ro.addVectors(this.boundingBox.max,to.max),this.boundingBox.expandByPoint(ro)):(this.boundingBox.expandByPoint(to.min),this.boundingBox.expandByPoint(to.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Dr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ur,1/0);if(e){const n=this.boundingSphere.center;if(to.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];no.setFromBufferAttribute(n),this.morphTargetsRelative?(ro.addVectors(to.min,no.min),to.expandByPoint(ro),ro.addVectors(to.max,no.max),to.expandByPoint(ro)):(to.expandByPoint(no.min),to.expandByPoint(no.max))}to.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)ro.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(ro));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],a=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)ro.fromBufferAttribute(o,t),a&&(eo.fromBufferAttribute(e,t),ro.add(eo)),r=Math.max(r,n.distanceToSquared(ro))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,i=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Ui(new Float32Array(4*a),4));const s=this.getAttribute("tangent").array,l=[],c=[];for(let C=0;C<a;C++)l[C]=new ur,c[C]=new ur;const u=new ur,d=new ur,h=new ur,f=new zn,p=new zn,m=new zn,g=new ur,v=new ur;function y(e,t,n){u.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),f.fromArray(o,2*e),p.fromArray(o,2*t),m.fromArray(o,2*n),d.sub(u),h.sub(u),p.sub(f),m.sub(f);const i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(g.copy(d).multiplyScalar(m.y).addScaledVector(h,-p.y).multiplyScalar(i),v.copy(h).multiplyScalar(p.x).addScaledVector(d,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),c[e].add(v),c[t].add(v),c[n].add(v))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let C=0,_=b.length;C<_;++C){const e=b[C],t=e.start;for(let r=t,i=t+e.count;r<i;r+=3)y(n[r+0],n[r+1],n[r+2])}const x=new ur,w=new ur,S=new ur,E=new ur;function M(e){S.fromArray(i,3*e),E.copy(S);const t=l[e];x.copy(t),x.sub(S.multiplyScalar(S.dot(t))).normalize(),w.crossVectors(E,t);const n=w.dot(c[e])<0?-1:1;s[4*e]=x.x,s[4*e+1]=x.y,s[4*e+2]=x.z,s[4*e+3]=n}for(let C=0,_=b.length;C<_;++C){const e=b[C],t=e.start;for(let r=t,i=t+e.count;r<i;r+=3)M(n[r+0]),M(n[r+1]),M(n[r+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Ui(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new ur,i=new ur,o=new ur,a=new ur,s=new ur,l=new ur,c=new ur,u=new ur;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),f=e.getX(d+1),p=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,f),o.fromBufferAttribute(t,p),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),a.add(c),s.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ro.fromBufferAttribute(e,t),ro.normalize(),e.setXYZ(t,ro.x,ro.y,ro.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let a=0,s=0;for(let l=0,c=t.length;l<c;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)o[s++]=n[a++]}return new Ui(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new io,n=this.index.array,r=this.attributes;for(const a in r){const i=e(r[a],n);t.setAttribute(a,i)}const i=this.morphAttributes;for(const a in i){const r=[],o=i[a];for(let t=0,i=o.length;t<i;t++){const i=e(o[t],n);r.push(i)}t.morphAttributes[a]=r}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,s=o.length;a<s;a++){const e=o[a];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const oo=new Ur,ao=new Br,so=new Dr,lo=new ur,co=new ur,uo=new ur,ho=new ur,fo=new ur,po=new ur,mo=new zn,go=new zn,vo=new zn,yo=new ur,bo=new ur,xo=new ur,wo=new ur,So=new ur;class Eo extends di{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new io,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ri;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(i&&a){po.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=a[n],s=i[n];0!==r&&(fo.fromBufferAttribute(s,e),o?po.addScaledVector(fo,r):po.addScaledVector(fo.sub(t),r))}t.add(po)}return this.isSkinnedMesh&&this.applyBoneTransform(e,t),t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),so.copy(n.boundingSphere),so.applyMatrix4(i),ao.copy(e.ray).recast(e.near),!1===so.containsPoint(ao.origin)){if(null===ao.intersectSphere(so,lo))return;if(ao.origin.distanceToSquared(lo)>(e.far-e.near)**2)return}if(oo.copy(i).invert(),ao.copy(e.ray).applyMatrix4(oo),null!==n.boundingBox&&!1===ao.intersectsBox(n.boundingBox))return;let o;const a=n.index,s=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,u=n.attributes.normal,d=n.groups,h=n.drawRange;if(null!==a)if(Array.isArray(r))for(let f=0,p=d.length;f<p;f++){const n=d[f],i=r[n.materialIndex];for(let r=Math.max(n.start,h.start),s=Math.min(a.count,Math.min(n.start+n.count,h.start+h.count));r<s;r+=3){const s=a.getX(r),d=a.getX(r+1),h=a.getX(r+2);o=Mo(this,i,e,ao,l,c,u,s,d,h),o&&(o.faceIndex=Math.floor(r/3),o.face.materialIndex=n.materialIndex,t.push(o))}}else{for(let n=Math.max(0,h.start),i=Math.min(a.count,h.start+h.count);n<i;n+=3){const i=a.getX(n),s=a.getX(n+1),d=a.getX(n+2);o=Mo(this,r,e,ao,l,c,u,i,s,d),o&&(o.faceIndex=Math.floor(n/3),t.push(o))}}else if(void 0!==s)if(Array.isArray(r))for(let f=0,p=d.length;f<p;f++){const n=d[f],i=r[n.materialIndex];for(let r=Math.max(n.start,h.start),a=Math.min(s.count,Math.min(n.start+n.count,h.start+h.count));r<a;r+=3){o=Mo(this,i,e,ao,l,c,u,r,r+1,r+2),o&&(o.faceIndex=Math.floor(r/3),o.face.materialIndex=n.materialIndex,t.push(o))}}else{for(let n=Math.max(0,h.start),i=Math.min(s.count,h.start+h.count);n<i;n+=3){o=Mo(this,r,e,ao,l,c,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),t.push(o))}}}}function Mo(e,t,n,r,i,o,a,s,l,c){e.getVertexPosition(s,co),e.getVertexPosition(l,uo),e.getVertexPosition(c,ho);const u=function(e,t,n,r,i,o,a,s){let l;if(l=t.side===v?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side===g,s),null===l)return null;So.copy(s),So.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(So);return c<n.near||c>n.far?null:{distance:c,point:So.clone(),object:e}}(e,t,n,r,co,uo,ho,wo);if(u){i&&(mo.fromBufferAttribute(i,s),go.fromBufferAttribute(i,l),vo.fromBufferAttribute(i,c),u.uv=Ei.getInterpolation(wo,co,uo,ho,mo,go,vo,new zn)),o&&(mo.fromBufferAttribute(o,s),go.fromBufferAttribute(o,l),vo.fromBufferAttribute(o,c),u.uv2=Ei.getInterpolation(wo,co,uo,ho,mo,go,vo,new zn)),a&&(yo.fromBufferAttribute(a,s),bo.fromBufferAttribute(a,l),xo.fromBufferAttribute(a,c),u.normal=Ei.getInterpolation(wo,co,uo,ho,yo,bo,xo,new ur),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const e={a:s,b:l,c:c,normal:new ur,materialIndex:0};Ei.getNormal(co,uo,ho,e.normal),u.face=e}return u}class Co extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],l=[],c=[],u=[];let d=0,h=0;function f(e,t,n,r,i,o,f,p,m,g,v){const y=o/m,b=f/g,x=o/2,w=f/2,S=p/2,E=m+1,M=g+1;let C=0,_=0;const T=new ur;for(let a=0;a<M;a++){const o=a*b-w;for(let s=0;s<E;s++){const d=s*y-x;T[e]=d*r,T[t]=o*i,T[n]=S,l.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=p>0?1:-1,c.push(T.x,T.y,T.z),u.push(s/m),u.push(1-a/g),C+=1}}for(let a=0;a<g;a++)for(let e=0;e<m;e++){const t=d+e+E*a,n=d+e+E*(a+1),r=d+(e+1)+E*(a+1),i=d+(e+1)+E*a;s.push(t,n,i),s.push(n,r,i),_+=6}a.addGroup(h,_,v),h+=_,d+=C}f("z","y","x",-1,-1,n,t,e,o,i,0),f("z","y","x",1,-1,n,t,-e,o,i,1),f("x","z","y",1,1,e,n,t,r,o,2),f("x","z","y",1,-1,e,n,-t,r,o,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new qi(l,3)),this.setAttribute("normal",new qi(c,3)),this.setAttribute("uv",new qi(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Co(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function _o(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function To(e){const t={};for(let n=0;n<e.length;n++){const r=_o(e[n]);for(const e in r)t[e]=r[e]}return t}function Ao(e){return null===e.getRenderTarget()&&e.outputEncoding===Ft?Vt:Gt}const Po={clone:_o,merge:To};class Oo extends Ci{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_o(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Do extends di{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ur,this.projectionMatrix=new Ur,this.projectionMatrixInverse=new Ur}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Ro extends Do{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Cn*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Mn*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Cn*Math.atan(Math.tan(.5*Mn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Mn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/a,r*=o.width/e,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ko=-90;class Io extends di{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new Ro(ko,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const i=new Ro(ko,1,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(-1,0,0),this.add(i);const o=new Ro(ko,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Ro(ko,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const s=new Ro(ko,1,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(0,0,1),this.add(s);const l=new Ro(ko,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,i,o,a,s,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=$,e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class Lo extends tr{constructor(e,t,n,r,i,o,a,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:ae,n,r,i,o,a,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class zo extends rr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Lo(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:be}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Co(5,5,5),i=new Oo({name:"CubemapFromEquirect",uniforms:_o(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:v,blending:x});i.uniforms.tEquirect.value=t;const o=new Eo(r,i),a=t.minFilter;t.minFilter===Se&&(t.minFilter=be);return new Io(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}const Fo=new ur,No=new ur,Bo=new Fn;class Uo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ur(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Fo.subVectors(n,t).cross(No.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Fo),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Bo.getNormalMatrix(e),r=this.coplanarPoint(Fo).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const jo=new Dr,Ho=new ur;class Vo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uo,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Uo,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Uo,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Uo,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Uo;this.planes=[e,t,n,r,i,o]}set(e,t,n,r,i,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,u-s,p-d,y-m).normalize(),t[1].setComponents(a+r,u+s,p+d,y+m).normalize(),t[2].setComponents(a+i,u+l,p+h,y+g).normalize(),t[3].setComponents(a-i,u-l,p-h,y-g).normalize(),t[4].setComponents(a-o,u-c,p-f,y-v).normalize(),t[5].setComponents(a+o,u+c,p+f,y+v).normalize(),this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),jo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),jo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(jo)}intersectsSprite(e){return jo.center.set(0,0,0),jo.radius=.7071067811865476,jo.applyMatrix4(e.matrixWorld),this.intersectsSphere(jo)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Ho.x=r.normal.x>0?e.max.x:e.min.x,Ho.y=r.normal.y>0?e.max.y:e.min.y,Ho.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ho)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Go(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Wo(e,t){const n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const o=r.get(t);void 0===o?r.set(t,function(t,r){const i=t.array,o=t.usage,a=e.createBuffer();let s;if(e.bindBuffer(r,a),e.bufferData(r,i,o),t.onUploadCallback(),i instanceof Float32Array)s=5126;else if(i instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=5131}else s=5123;else if(i instanceof Int16Array)s=5122;else if(i instanceof Uint32Array)s=5125;else if(i instanceof Int32Array)s=5124;else if(i instanceof Int8Array)s=5120;else if(i instanceof Uint8Array)s=5121;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=5121}return{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){const o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}class Yo extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,o=t/2,a=Math.floor(n),s=Math.floor(r),l=a+1,c=s+1,u=e/a,d=t/s,h=[],f=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*d-o;for(let t=0;t<l;t++){const n=t*u-i;f.push(n,-e,0),p.push(0,0,1),m.push(t/a),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<a;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;h.push(t,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new qi(f,3)),this.setAttribute("normal",new qi(p,3)),this.setAttribute("uv",new qi(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yo(e.width,e.height,e.widthSegments,e.heightSegments)}}const Xo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\t\n\t\tvec2 lodFudge = pow( 1.95, lod ) / fullSize;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec2 fullSize = vec2( textureSize( sampler, 0 ) );\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_UV2\n\tattribute vec2 uv2;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Qo={common:{diffuse:{value:new Oi(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Fn},alphaMap:{value:null},alphaMapTransform:{value:new Fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Fn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Fn},normalScale:{value:new zn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Oi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Oi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Fn}},sprite:{diffuse:{value:new Oi(16777215)},opacity:{value:1},center:{value:new zn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Fn},alphaMap:{value:null},alphaTest:{value:0}}},qo={basic:{uniforms:To([Qo.common,Qo.specularmap,Qo.envmap,Qo.aomap,Qo.lightmap,Qo.fog]),vertexShader:Xo.meshbasic_vert,fragmentShader:Xo.meshbasic_frag},lambert:{uniforms:To([Qo.common,Qo.specularmap,Qo.envmap,Qo.aomap,Qo.lightmap,Qo.emissivemap,Qo.bumpmap,Qo.normalmap,Qo.displacementmap,Qo.fog,Qo.lights,{emissive:{value:new Oi(0)}}]),vertexShader:Xo.meshlambert_vert,fragmentShader:Xo.meshlambert_frag},phong:{uniforms:To([Qo.common,Qo.specularmap,Qo.envmap,Qo.aomap,Qo.lightmap,Qo.emissivemap,Qo.bumpmap,Qo.normalmap,Qo.displacementmap,Qo.fog,Qo.lights,{emissive:{value:new Oi(0)},specular:{value:new Oi(1118481)},shininess:{value:30}}]),vertexShader:Xo.meshphong_vert,fragmentShader:Xo.meshphong_frag},standard:{uniforms:To([Qo.common,Qo.envmap,Qo.aomap,Qo.lightmap,Qo.emissivemap,Qo.bumpmap,Qo.normalmap,Qo.displacementmap,Qo.roughnessmap,Qo.metalnessmap,Qo.fog,Qo.lights,{emissive:{value:new Oi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xo.meshphysical_vert,fragmentShader:Xo.meshphysical_frag},toon:{uniforms:To([Qo.common,Qo.aomap,Qo.lightmap,Qo.emissivemap,Qo.bumpmap,Qo.normalmap,Qo.displacementmap,Qo.gradientmap,Qo.fog,Qo.lights,{emissive:{value:new Oi(0)}}]),vertexShader:Xo.meshtoon_vert,fragmentShader:Xo.meshtoon_frag},matcap:{uniforms:To([Qo.common,Qo.bumpmap,Qo.normalmap,Qo.displacementmap,Qo.fog,{matcap:{value:null}}]),vertexShader:Xo.meshmatcap_vert,fragmentShader:Xo.meshmatcap_frag},points:{uniforms:To([Qo.points,Qo.fog]),vertexShader:Xo.points_vert,fragmentShader:Xo.points_frag},dashed:{uniforms:To([Qo.common,Qo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xo.linedashed_vert,fragmentShader:Xo.linedashed_frag},depth:{uniforms:To([Qo.common,Qo.displacementmap]),vertexShader:Xo.depth_vert,fragmentShader:Xo.depth_frag},normal:{uniforms:To([Qo.common,Qo.bumpmap,Qo.normalmap,Qo.displacementmap,{opacity:{value:1}}]),vertexShader:Xo.meshnormal_vert,fragmentShader:Xo.meshnormal_frag},sprite:{uniforms:To([Qo.sprite,Qo.fog]),vertexShader:Xo.sprite_vert,fragmentShader:Xo.sprite_frag},background:{uniforms:{uvTransform:{value:new Fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Xo.background_vert,fragmentShader:Xo.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Xo.backgroundCube_vert,fragmentShader:Xo.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Xo.cube_vert,fragmentShader:Xo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xo.equirect_vert,fragmentShader:Xo.equirect_frag},distanceRGBA:{uniforms:To([Qo.common,Qo.displacementmap,{referencePosition:{value:new ur},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xo.distanceRGBA_vert,fragmentShader:Xo.distanceRGBA_frag},shadow:{uniforms:To([Qo.lights,Qo.fog,{color:{value:new Oi(0)},opacity:{value:1}}]),vertexShader:Xo.shadow_vert,fragmentShader:Xo.shadow_frag}};qo.physical={uniforms:To([qo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Fn},clearcoatNormalScale:{value:new zn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Fn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Fn},sheen:{value:0},sheenColor:{value:new Oi(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Fn},transmissionSamplerSize:{value:new zn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Fn},attenuationDistance:{value:0},attenuationColor:{value:new Oi(0)},specularColor:{value:new Oi(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Fn}}]),vertexShader:Xo.meshphysical_vert,fragmentShader:Xo.meshphysical_frag};const Ko={r:0,b:0,g:0};function Zo(e,t,n,r,i,o,a){const s=new Oi(0);let l,c,u=!0===o?0:1,d=null,h=0,f=null;function p(t,n){t.getRGB(Ko,Ao(e)),r.buffers.color.setClear(Ko.r,Ko.g,Ko.b,n,a)}return{getClearColor:function(){return s},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),u=t,p(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,p(s,u)},render:function(r,o){let a=!1,m=!0===o.isScene?o.background:null;if(m&&m.isTexture){m=(o.backgroundBlurriness>0?n:t).get(m)}const y=e.xr,b=y.getSession&&y.getSession();b&&"additive"===b.environmentBlendMode&&(m=null),null===m?p(s,u):m&&m.isColor&&(p(m,1),a=!0),(e.autoClear||a)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.mapping===ue)?(void 0===c&&(c=new Eo(new Co(1,1,1),new Oo({name:"BackgroundCubeMaterial",uniforms:_o(qo.backgroundCube.uniforms),vertexShader:qo.backgroundCube.vertexShader,fragmentShader:qo.backgroundCube.fragmentShader,side:v,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=m,c.material.uniforms.flipEnvMap.value=m.isCubeTexture&&!1===m.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=o.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=o.backgroundIntensity,c.material.toneMapped=m.encoding!==Ft,d===m&&h===m.version&&f===e.toneMapping||(c.material.needsUpdate=!0,d=m,h=m.version,f=e.toneMapping),c.layers.enableAll(),r.unshift(c,c.geometry,c.material,0,0,null)):m&&m.isTexture&&(void 0===l&&(l=new Eo(new Yo(2,2),new Oo({name:"BackgroundMaterial",uniforms:_o(qo.background.uniforms),vertexShader:qo.background.vertexShader,fragmentShader:qo.background.fragmentShader,side:g,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=m,l.material.uniforms.backgroundIntensity.value=o.backgroundIntensity,l.material.toneMapped=m.encoding!==Ft,!0===m.matrixAutoUpdate&&m.updateMatrix(),l.material.uniforms.uvTransform.value.copy(m.matrix),d===m&&h===m.version&&f===e.toneMapping||(l.material.needsUpdate=!0,d=m,h=m.version,f=e.toneMapping),l.layers.enableAll(),r.unshift(l,l.geometry,l.material,0,0,null))}}}function Jo(e,t,n,r){const i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=f(null);let c=l,u=!1;function d(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function f(e){const t=[],n=[],r=[];for(let o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function m(e){g(e,0)}function g(n,i){const o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;if(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i){(r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function v(){const t=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,a,s)}function b(){x(),u=!0,c!==l&&(c=l,d(c.object))}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,h,b,x){let w=!1;if(a){const t=function(t,n,i){const a=!0===i.wireframe;let l=s[t.id];void 0===l&&(l={},s[t.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[a];void 0===u&&(u=f(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),c[a]=u);return u}(b,h,l);c!==t&&(c=t,d(c.object)),w=function(e,t,n,r){const i=c.attributes,o=t.attributes;let a=0;const s=n.getAttributes();for(const l in s){if(s[l].location>=0){const t=i[l];let n=o[l];if(void 0===n&&("instanceMatrix"===l&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;a++}}return c.attributesNum!==a||c.index!==r}(i,b,h,x),w&&function(e,t,n,r){const i={},o=t.attributes;let a=0;const s=n.getAttributes();for(const l in s){if(s[l].location>=0){let t=o[l];void 0===t&&("instanceMatrix"===l&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[l]=n,a++}}c.attributes=i,c.attributesNum=a,c.index=r}(i,b,h,x)}else{const e=!0===l.wireframe;c.geometry===b.id&&c.program===h.id&&c.wireframe===e||(c.geometry=b.id,c.program=h.id,c.wireframe=e,w=!0)}null!==x&&n.update(x,34963),(w||u)&&(u=!1,function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();const l=s.attributes,c=a.getAttributes(),u=o.defaultAttributeValues;for(const t in c){const r=c[t];if(r.location>=0){let o=l[t];if(void 0===o&&("instanceMatrix"===t&&i.instanceMatrix&&(o=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(o=i.instanceColor)),void 0!==o){const t=o.normalized,a=o.itemSize,l=n.get(o);if(void 0===l)continue;const c=l.buffer,u=l.type,d=l.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,l=n.stride,h=o.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)g(r.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<r.locationSize;e++)m(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)y(r.location+e,a/r.locationSize,u,t,l*d,(h+a/r.locationSize*e)*d)}else{if(o.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)g(r.location+e,o.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let e=0;e<r.locationSize;e++)m(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)y(r.location+e,a/r.locationSize,u,t,a*d,a/r.locationSize*e*d)}}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r.location,n);break;case 3:e.vertexAttrib3fv(r.location,n);break;case 4:e.vertexAttrib4fv(r.location,n);break;default:e.vertexAttrib1fv(r.location,n)}}}}v()}(i,l,h,b),null!==x&&e.bindBuffer(34963,n.get(x).buffer))},reset:b,resetDefaultState:x,dispose:function(){b();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const n in t){const e=t[n];for(const t in e)h(e[t].object),delete e[t];delete t[n]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)h(r[e].object),delete r[e];delete n[e.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:v}}function $o(e,t,n,r){const i=r.isWebGL2;let o;this.setMode=function(e){o=e},this.render=function(t,r){e.drawArrays(o,t,r),n.update(r,o,1)},this.renderInstances=function(r,a,s){if(0===s)return;let l,c;if(i)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,r,a,s),n.update(a,o,s)}}function ea(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name;let a=void 0!==n.precision?n.precision:"highp";const s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const l=o||t.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),d=e.getParameter(35660),h=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),g=e.getParameter(36348),v=e.getParameter(36349),y=d>0,b=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:o?e.getParameter(36183):0}}function ta(e){const t=this;let n=null,r=0,i=!1,o=!1;const a=new Uo,s=new Fn,l={value:null,needsUpdate:!1};function c(e,n,r,i){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==i||null===c){const t=r+4*o,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==o;++n,l+=4)a.copy(e[n]).applyMatrix4(i,s),a.normal.toArray(c,l),c[l+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(a,s,u){const d=a.clippingPlanes,h=a.clipIntersection,f=a.clipShadows,p=e.get(a);if(!i||null===d||0===d.length||o&&!f)o?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=o?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=c(d,s,t,u);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function na(e){let t=new WeakMap;function n(e,t){return t===le?e.mapping=ae:t===ce&&(e.mapping=se),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const o=i.mapping;if(o===le||o===ce){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const a=new zo(o.height/2);return a.fromEquirectangularTexture(e,i),t.set(i,a),i.addEventListener("dispose",r),n(a.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class ra extends Do{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const ia=4,oa=[.125,.215,.35,.446,.526,.582],aa=20,sa=new ra,la=new Oi;let ca=null;const ua=(1+Math.sqrt(5))/2,da=1/ua,ha=[new ur(1,1,1),new ur(-1,1,1),new ur(1,1,-1),new ur(-1,1,-1),new ur(0,ua,da),new ur(0,ua,-da),new ur(da,0,ua),new ur(-da,0,ua),new ur(ua,da,0),new ur(-ua,da,0)];class fa{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;ca=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=va(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=ga(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ca),e.scissorTest=!1,ma(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ae||e.mapping===se?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ca=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:be,minFilter:be,generateMipmaps:!1,type:De,format:ze,encoding:zt,depthBuffer:!1},r=pa(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=pa(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const o=e-ia+1+oa.length;for(let a=0;a<o;a++){const o=Math.pow(2,i);n.push(o);let s=1/o;a>e-ia?s=oa[a-e+ia-1]:0===a&&(s=0),r.push(s);const l=1/(o-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*h),y=new Float32Array(m*f*h),b=new Float32Array(g*f*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*f*e),y.set(d,m*f*e);const i=[e,e,e,e,e,e];b.set(i,g*f*e)}const x=new io;x.setAttribute("position",new Ui(v,p)),x.setAttribute("uv",new Ui(y,m)),x.setAttribute("faceIndex",new Ui(b,g)),t.push(x),i>ia&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(aa),i=new ur(0,1,0),o=new Oo({name:"SphericalGaussianBlur",defines:{n:aa,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:ya(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:x,depthTest:!1,depthWrite:!1});return o}(r,e,t)}return r}_compileMaterial(e){const t=new Eo(this._lodPlanes[0],e);this._renderer.compile(t,sa)}_sceneToCubeUV(e,t,n,r){const i=new Ro(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(la),s.toneMapping=$,s.autoClear=!1;const u=new Ri({name:"PMREM.Background",side:v,depthWrite:!1,depthTest:!1}),d=new Eo(new Co,u);let h=!1;const f=e.background;f?f.isColor&&(u.color.copy(f),e.background=null,h=!0):(u.color.copy(la),h=!0);for(let p=0;p<6;p++){const t=p%3;0===t?(i.up.set(0,o[p],0),i.lookAt(a[p],0,0)):1===t?(i.up.set(0,0,o[p]),i.lookAt(0,a[p],0)):(i.up.set(0,o[p],0),i.lookAt(0,0,a[p]));const n=this._cubeSize;ma(r,t*n,p>2?n:0,n,n),s.setRenderTarget(r),h&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=f}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===ae||e.mapping===se;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=va()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=ga());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new Eo(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const a=this._cubeSize;ma(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,sa)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const t=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=ha[(r-1)%ha.length];this._blur(e,r-1,r,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,o,a){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new Eo(this._lodPlanes[r],l),u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/(2*aa-1),f=i/h,p=isFinite(i)?1+Math.floor(3*f):aa;p>aa&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to ${aa}`);const m=[];let g=0;for(let b=0;b<aa;++b){const e=b/f,t=Math.exp(-e*e/2);m.push(t),0===b?g+=t:b<p&&(g+=2*t)}for(let b=0;b<m.length;b++)m[b]=m[b]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a);const{_lodMax:v}=this;u.dTheta.value=h,u.mipInt.value=v-n;const y=this._sizeLods[r];ma(t,3*y*(r>v-ia?r-v+ia:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,sa)}}function pa(e,t,n){const r=new rr(e,t,n);return r.texture.mapping=ue,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ma(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function ga(){return new Oo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ya(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:x,depthTest:!1,depthWrite:!1})}function va(){return new Oo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ya(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:x,depthTest:!1,depthWrite:!1})}function ya(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function ba(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping,a=o===le||o===ce,s=o===ae||o===se;if(a||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new fa(e)),r=a?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{const o=i.image;if(a&&o&&o.height>0||s&&o&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(o)){null===n&&(n=new fa(e));const o=a?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,o),i.addEventListener("dispose",r),o.texture}return null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function xa(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function wa(e,t,n,r){const i={},o=new WeakMap;function a(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);s.removeEventListener("dispose",a),delete i[s.id];const l=o.get(s);l&&(t.remove(l),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{const e=i.array;a=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const s=new(Bn(n)?Xi:Wi)(n,1);s.version=a;const l=o.get(e);l&&t.remove(l),o.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(e){const n=e.attributes;for(const i in n)t.update(n[i],34962);const r=e.morphAttributes;for(const i in r){const e=r[i];for(let n=0,r=e.length;n<r;n++)t.update(e[n],34962)}},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function Sa(e,t,n,r){const i=r.isWebGL2;let o,a,s;this.setMode=function(e){o=e},this.setIndex=function(e){a=e.type,s=e.bytesPerElement},this.render=function(t,r){e.drawElements(o,r,a,t*s),n.update(r,o,1)},this.renderInstances=function(r,l,c){if(0===c)return;let u,d;if(i)u=e,d="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[d](o,l,a,r*s,c),n.update(l,o,c)}}function Ea(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Ma(e,t){return e[0]-t[0]}function Ca(e,t){return Math.abs(t[1])-Math.abs(e[1])}function _a(e,t,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new nr,s=[];for(let l=0;l<8;l++)s[l]=[l,0];return{update:function(l,c,u){const d=l.morphTargetInfluences;if(!0===t.isWebGL2){const h=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,f=void 0!==h?h.length:0;let p=o.get(c);if(void 0===p||p.count!==f){void 0!==p&&p.texture.dispose();const v=void 0!==c.morphAttributes.position,y=void 0!==c.morphAttributes.normal,b=void 0!==c.morphAttributes.color,x=c.morphAttributes.position||[],w=c.morphAttributes.normal||[],S=c.morphAttributes.color||[];let E=0;!0===v&&(E=1),!0===y&&(E=2),!0===b&&(E=3);let M=c.attributes.position.count*E,C=1;M>t.maxTextureSize&&(C=Math.ceil(M/t.maxTextureSize),M=t.maxTextureSize);const _=new Float32Array(M*C*4*f),T=new ir(_,M,C,f);T.type=Oe,T.needsUpdate=!0;const A=4*E;for(let O=0;O<f;O++){const D=x[O],R=w[O],k=S[O],I=M*C*4*O;for(let L=0;L<D.count;L++){const z=L*A;!0===v&&(a.fromBufferAttribute(D,L),_[I+z+0]=a.x,_[I+z+1]=a.y,_[I+z+2]=a.z,_[I+z+3]=0),!0===y&&(a.fromBufferAttribute(R,L),_[I+z+4]=a.x,_[I+z+5]=a.y,_[I+z+6]=a.z,_[I+z+7]=0),!0===b&&(a.fromBufferAttribute(k,L),_[I+z+8]=a.x,_[I+z+9]=a.y,_[I+z+10]=a.z,_[I+z+11]=4===k.itemSize?a.w:1)}}function P(){T.dispose(),o.delete(c),c.removeEventListener("dispose",P)}p={count:f,texture:T,size:new zn(M,C)},o.set(c,p),c.addEventListener("dispose",P)}let m=0;for(let F=0;F<d.length;F++)m+=d[F];const g=c.morphTargetsRelative?1:1-m;u.getUniforms().setValue(e,"morphTargetBaseInfluence",g),u.getUniforms().setValue(e,"morphTargetInfluences",d),u.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),u.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{const N=void 0===d?0:d.length;let B=r[c.id];if(void 0===B||B.length!==N){B=[];for(let G=0;G<N;G++)B[G]=[G,0];r[c.id]=B}for(let W=0;W<N;W++){const Y=B[W];Y[0]=W,Y[1]=d[W]}B.sort(Ca);for(let X=0;X<8;X++)X<N&&B[X][1]?(s[X][0]=B[X][0],s[X][1]=B[X][1]):(s[X][0]=Number.MAX_SAFE_INTEGER,s[X][1]=0);s.sort(Ma);const U=c.morphAttributes.position,j=c.morphAttributes.normal;let H=0;for(let Q=0;Q<8;Q++){const q=s[Q],K=q[0],Z=q[1];K!==Number.MAX_SAFE_INTEGER&&Z?(U&&c.getAttribute("morphTarget"+Q)!==U[K]&&c.setAttribute("morphTarget"+Q,U[K]),j&&c.getAttribute("morphNormal"+Q)!==j[K]&&c.setAttribute("morphNormal"+Q,j[K]),i[Q]=Z,H+=Z):(U&&!0===c.hasAttribute("morphTarget"+Q)&&c.deleteAttribute("morphTarget"+Q),j&&!0===c.hasAttribute("morphNormal"+Q)&&c.deleteAttribute("morphNormal"+Q),i[Q]=0)}const V=c.morphTargetsRelative?1:1-H;u.getUniforms().setValue(e,"morphTargetBaseInfluence",V),u.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Ta(e,t,n,r){let i=new WeakMap;function o(e){const t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){const a=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==a&&(t.update(l),i.set(l,a)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",o)&&e.addEventListener("dispose",o),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}const Aa=new tr,Pa=new ir,Oa=new ar,Da=new Lo,Ra=[],ka=[],Ia=new Float32Array(16),La=new Float32Array(9),za=new Float32Array(4);function Fa(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=Ra[i];if(void 0===o&&(o=new Float32Array(i),Ra[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function Na(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Ba(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Ua(e,t){let n=ka[t];void 0===n&&(n=new Int32Array(t),ka[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function ja(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Ha(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Na(n,t))return;e.uniform2fv(this.addr,t),Ba(n,t)}}function Va(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Na(n,t))return;e.uniform3fv(this.addr,t),Ba(n,t)}}function Ga(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Na(n,t))return;e.uniform4fv(this.addr,t),Ba(n,t)}}function Wa(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Na(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ba(n,t)}else{if(Na(n,r))return;za.set(r),e.uniformMatrix2fv(this.addr,!1,za),Ba(n,r)}}function Ya(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Na(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ba(n,t)}else{if(Na(n,r))return;La.set(r),e.uniformMatrix3fv(this.addr,!1,La),Ba(n,r)}}function Xa(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Na(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ba(n,t)}else{if(Na(n,r))return;Ia.set(r),e.uniformMatrix4fv(this.addr,!1,Ia),Ba(n,r)}}function Qa(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function qa(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Na(n,t))return;e.uniform2iv(this.addr,t),Ba(n,t)}}function Ka(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Na(n,t))return;e.uniform3iv(this.addr,t),Ba(n,t)}}function Za(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Na(n,t))return;e.uniform4iv(this.addr,t),Ba(n,t)}}function Ja(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function $a(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Na(n,t))return;e.uniform2uiv(this.addr,t),Ba(n,t)}}function es(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Na(n,t))return;e.uniform3uiv(this.addr,t),Ba(n,t)}}function ts(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Na(n,t))return;e.uniform4uiv(this.addr,t),Ba(n,t)}}function ns(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Aa,i)}function rs(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Oa,i)}function is(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Da,i)}function os(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Pa,i)}function as(e,t){e.uniform1fv(this.addr,t)}function ss(e,t){const n=Fa(t,this.size,2);e.uniform2fv(this.addr,n)}function ls(e,t){const n=Fa(t,this.size,3);e.uniform3fv(this.addr,n)}function cs(e,t){const n=Fa(t,this.size,4);e.uniform4fv(this.addr,n)}function us(e,t){const n=Fa(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ds(e,t){const n=Fa(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function hs(e,t){const n=Fa(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function fs(e,t){e.uniform1iv(this.addr,t)}function ps(e,t){e.uniform2iv(this.addr,t)}function ms(e,t){e.uniform3iv(this.addr,t)}function gs(e,t){e.uniform4iv(this.addr,t)}function vs(e,t){e.uniform1uiv(this.addr,t)}function ys(e,t){e.uniform2uiv(this.addr,t)}function bs(e,t){e.uniform3uiv(this.addr,t)}function xs(e,t){e.uniform4uiv(this.addr,t)}function ws(e,t,n){const r=this.cache,i=t.length,o=Ua(n,i);Na(r,o)||(e.uniform1iv(this.addr,o),Ba(r,o));for(let a=0;a!==i;++a)n.setTexture2D(t[a]||Aa,o[a])}function Ss(e,t,n){const r=this.cache,i=t.length,o=Ua(n,i);Na(r,o)||(e.uniform1iv(this.addr,o),Ba(r,o));for(let a=0;a!==i;++a)n.setTexture3D(t[a]||Oa,o[a])}function Es(e,t,n){const r=this.cache,i=t.length,o=Ua(n,i);Na(r,o)||(e.uniform1iv(this.addr,o),Ba(r,o));for(let a=0;a!==i;++a)n.setTextureCube(t[a]||Da,o[a])}function Ms(e,t,n){const r=this.cache,i=t.length,o=Ua(n,i);Na(r,o)||(e.uniform1iv(this.addr,o),Ba(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(t[a]||Pa,o[a])}class Cs{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ja;case 35664:return Ha;case 35665:return Va;case 35666:return Ga;case 35674:return Wa;case 35675:return Ya;case 35676:return Xa;case 5124:case 35670:return Qa;case 35667:case 35671:return qa;case 35668:case 35672:return Ka;case 35669:case 35673:return Za;case 5125:return Ja;case 36294:return $a;case 36295:return es;case 36296:return ts;case 35678:case 36198:case 36298:case 36306:case 35682:return ns;case 35679:case 36299:case 36307:return rs;case 35680:case 36300:case 36308:case 36293:return is;case 36289:case 36303:case 36311:case 36292:return os}}(t.type)}}class _s{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return as;case 35664:return ss;case 35665:return ls;case 35666:return cs;case 35674:return us;case 35675:return ds;case 35676:return hs;case 5124:case 35670:return fs;case 35667:case 35671:return ps;case 35668:case 35672:return ms;case 35669:case 35673:return gs;case 5125:return vs;case 36294:return ys;case 36295:return bs;case 36296:return xs;case 35678:case 36198:case 36298:case 36306:case 35682:return ws;case 35679:case 36299:case 36307:return Ss;case 35680:case 36300:case 36308:case 36293:return Es;case 36289:case 36303:case 36311:case 36292:return Ms}}(t.type)}}class Ts{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}}}const As=/(\w+)(\])?(\[|\.)?/g;function Ps(e,t){e.seq.push(t),e.map[t.id]=t}function Os(e,t,n){const r=e.name,i=r.length;for(As.lastIndex=0;;){const o=As.exec(r),a=As.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){Ps(n,void 0===c?new Cs(s,e,t):new _s(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new Ts(s),Ps(n,e)),n=e}}}class Ds{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);Os(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function Rs(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let ks=0;function Is(e,t,n){const r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let a=i;a<o;a++){const e=a+1;r.push(`${e===t?">":" "} ${e}: ${n[a]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function Ls(e,t){const n=function(e){switch(e){case zt:return["Linear","( value )"];case Ft:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function zs(e,t){let n;switch(t){case ee:n="Linear";break;case te:n="Reinhard";break;case ne:n="OptimizedCineon";break;case re:n="ACESFilmic";break;case ie:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Fs(e){return""!==e}function Ns(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Bs(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Us=/^[ \t]*#include +<([\w\d./]+)>/gm;function js(e){return e.replace(Us,Hs)}function Hs(e,t){const n=Xo[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return js(n)}const Vs=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Gs(e){return e.replace(Vs,Ws)}function Ws(e,t,n,r){let i="";for(let o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Ys(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Xs(e,t,n,r){const i=e.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===f?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===p?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===m&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ae:case se:t="ENVMAP_TYPE_CUBE";break;case ue:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===se&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case K:t="ENVMAP_BLENDING_MULTIPLY";break;case Z:t="ENVMAP_BLENDING_MIX";break;case J:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),g=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Fs).join("\n")}(n),v=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(o),y=i.createProgram();let b,x,w=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(b=[v].filter(Fs).join("\n"),b.length>0&&(b+="\n"),x=[g,v].filter(Fs).join("\n"),x.length>0&&(x+="\n")):(b=[Ys(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs2?"#define USE_UV2":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Fs).join("\n"),x=[g,Ys(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs2?"#define USE_UV2":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==$?"#define TONE_MAPPING":"",n.toneMapping!==$?Xo.tonemapping_pars_fragment:"",n.toneMapping!==$?zs("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Xo.encodings_pars_fragment,Ls("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Fs).join("\n")),a=js(a),a=Ns(a,n),a=Bs(a,n),s=js(s),s=Ns(s,n),s=Bs(s,n),a=Gs(a),s=Gs(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(w="#version 300 es\n",b=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+b,x=["#define varying in",n.glslVersion===bn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===bn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+x);const S=w+x+s,E=Rs(i,35633,w+b+a),M=Rs(i,35632,S);if(i.attachShader(y,E),i.attachShader(y,M),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),e.debug.checkShaderErrors){const t=i.getProgramInfoLog(y).trim(),n=i.getShaderInfoLog(E).trim(),r=i.getShaderInfoLog(M).trim();let o=!0,a=!0;if(!1===i.getProgramParameter(y,35714))if(o=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(i,y,E,M);else{const e=Is(i,E,"vertex"),n=Is(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,35715)+"\n\nProgram Info Log: "+t+"\n"+e+"\n"+n)}else""!==t?console.warn("THREE.WebGLProgram: Program Info Log:",t):""!==n&&""!==r||(a=!1);a&&(this.diagnostics={runnable:o,programLog:t,vertexShader:{log:n,prefix:b},fragmentShader:{log:r,prefix:x}})}let C,_;return i.deleteShader(E),i.deleteShader(M),this.getUniforms=function(){return void 0===C&&(C=new Ds(i,y)),C},this.getAttributes=function(){return void 0===_&&(_=function(e,t){const n={},r=e.getProgramParameter(t,35721);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),o=r.name;let a=1;35674===r.type&&(a=2),35675===r.type&&(a=3),35676===r.type&&(a=4),n[o]={type:r.type,location:e.getAttribLocation(t,o),locationSize:a}}return n}(i,y)),_},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=ks++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=M,this}let Qs=0;class qs{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Ks(e),t.set(e,n)),n}}class Ks{constructor(e){this.id=Qs++,this.code=e,this.usedTimes=0}}function Zs(e,t,n,r,i,o,a){const s=new Zr,l=new qs,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.vertexTextures;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return 1===e?"uv2":"uv"}return{getParameters:function(o,s,c,g,b){const x=g.fog,S=b.geometry,E=o.isMeshStandardMaterial?g.environment:null,M=(o.isMeshStandardMaterial?n:t).get(o.envMap||E),C=M&&M.mapping===ue?M.image.height:null,_=p[o.type];null!==o.precision&&(f=i.getMaxPrecision(o.precision),f!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",f,"instead."));const T=S.morphAttributes.position||S.morphAttributes.normal||S.morphAttributes.color,A=void 0!==T?T.length:0;let P,O,D,R,k=0;if(void 0!==S.morphAttributes.position&&(k=1),void 0!==S.morphAttributes.normal&&(k=2),void 0!==S.morphAttributes.color&&(k=3),_){const e=qo[_];P=e.vertexShader,O=e.fragmentShader}else P=o.vertexShader,O=o.fragmentShader,l.update(o),D=l.getVertexShaderID(o),R=l.getFragmentShaderID(o);const I=e.getRenderTarget(),L=!0===b.isInstancedMesh,z=!!o.map,F=!!o.matcap,N=!!M,B=!!o.aoMap,U=!!o.lightMap,j=!!o.bumpMap,H=!!o.normalMap,V=!!o.displacementMap,G=!!o.emissiveMap,W=!!o.metalnessMap,Y=!!o.roughnessMap,X=o.clearcoat>0,Q=o.iridescence>0,q=o.sheen>0,K=o.transmission>0,Z=X&&!!o.clearcoatMap,J=X&&!!o.clearcoatNormalMap,ee=X&&!!o.clearcoatRoughnessMap,te=Q&&!!o.iridescenceMap,ne=Q&&!!o.iridescenceThicknessMap,re=q&&!!o.sheenColorMap,ie=q&&!!o.sheenRoughnessMap,oe=!!o.specularMap,ae=!!o.specularColorMap,se=!!o.specularIntensityMap,le=K&&!!o.transmissionMap,ce=K&&!!o.thicknessMap,de=!!o.gradientMap,he=!!o.alphaMap,fe=o.alphaTest>0,pe=!!o.extensions,me=!!S.attributes.uv2;return{isWebGL2:u,shaderID:_,shaderName:o.type,vertexShader:P,fragmentShader:O,defines:o.defines,customVertexShaderID:D,customFragmentShaderID:R,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:f,instancing:L,instancingColor:L&&null!==b.instanceColor,supportsVertexTextures:h,outputEncoding:null===I?e.outputEncoding:!0===I.isXRRenderTarget?I.texture.encoding:zt,map:z,matcap:F,envMap:N,envMapMode:N&&M.mapping,envMapCubeUVHeight:C,aoMap:B,lightMap:U,bumpMap:j,normalMap:H,displacementMap:h&&V,emissiveMap:G,normalMapObjectSpace:H&&o.normalMapType===jt,normalMapTangentSpace:H&&o.normalMapType===Ut,decodeVideoTexture:z&&!0===o.map.isVideoTexture&&o.map.encoding===Ft,metalnessMap:W,roughnessMap:Y,clearcoat:X,clearcoatMap:Z,clearcoatNormalMap:J,clearcoatRoughnessMap:ee,iridescence:Q,iridescenceMap:te,iridescenceThicknessMap:ne,sheen:q,sheenColorMap:re,sheenRoughnessMap:ie,specularMap:oe,specularColorMap:ae,specularIntensityMap:se,transmission:K,transmissionMap:le,thicknessMap:ce,gradientMap:de,opaque:!1===o.transparent&&o.blending===w,alphaMap:he,alphaTest:fe,combine:o.combine,mapUv:z&&m(o.map.channel),aoMapUv:B&&m(o.aoMap.channel),lightMapUv:U&&m(o.lightMap.channel),bumpMapUv:j&&m(o.bumpMap.channel),normalMapUv:H&&m(o.normalMap.channel),displacementMapUv:V&&m(o.displacementMap.channel),emissiveMapUv:G&&m(o.emissiveMap.channel),metalnessMapUv:W&&m(o.metalnessMap.channel),roughnessMapUv:Y&&m(o.roughnessMap.channel),clearcoatMapUv:Z&&m(o.clearcoatMap.channel),clearcoatNormalMapUv:J&&m(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ee&&m(o.clearcoatRoughnessMap.channel),iridescenceMapUv:te&&m(o.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&m(o.iridescenceThicknessMap.channel),sheenColorMapUv:re&&m(o.sheenColorMap.channel),sheenRoughnessMapUv:ie&&m(o.sheenRoughnessMap.channel),specularMapUv:oe&&m(o.specularMap.channel),specularColorMapUv:ae&&m(o.specularColorMap.channel),specularIntensityMapUv:se&&m(o.specularIntensityMap.channel),transmissionMapUv:le&&m(o.transmissionMap.channel),thicknessMapUv:ce&&m(o.thicknessMap.channel),alphaMapUv:he&&m(o.alphaMap.channel),vertexTangents:H&&!!S.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!S.attributes.color&&4===S.attributes.color.itemSize,vertexUvs2:me,pointsUvs:!0===b.isPoints&&!!S.attributes.uv&&(z||he),fog:!!x,useFog:!0===o.fog,fogExp2:x&&x.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===b.isSkinnedMesh,morphTargets:void 0!==S.morphAttributes.position,morphNormals:void 0!==S.morphAttributes.normal,morphColors:void 0!==S.morphAttributes.color,morphTargetsCount:A,morphTextureStride:k,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:$,useLegacyLights:e.useLegacyLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===y,flipSided:o.side===v,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:pe&&!0===o.extensions.derivatives,extensionFragDepth:pe&&!0===o.extensions.fragDepth,extensionDrawBuffers:pe&&!0===o.extensions.drawBuffers,extensionShaderTextureLOD:pe&&!0===o.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUvs2&&s.enable(13);t.vertexTangents&&s.enable(14);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.decodeVideoTexture&&s.enable(17);t.opaque&&s.enable(18);t.pointsUvs&&s.enable(19);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=qo[t];n=Po.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=c.length;e<i;e++){const t=c[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new Xs(e,n,t,o),c.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function Js(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function $s(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function el(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function tl(){const e=[];let t=0;const n=[],r=[],i=[];function o(n,r,i,o,a,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.push(u):!0===a.transparent?i.push(u):n.push(u)},unshift:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||$s),r.length>1&&r.sort(t||el),i.length>1&&i.sort(t||el)}}}function nl(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new tl,e.set(t,[i])):n>=r.length?(i=new tl,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function rl(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new ur,color:new Oi};break;case"SpotLight":n={position:new ur,direction:new ur,color:new Oi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ur,color:new Oi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ur,skyColor:new Oi,groundColor:new Oi};break;case"RectAreaLight":n={color:new Oi,position:new ur,halfWidth:new ur,halfHeight:new ur}}return e[t.id]=n,n}}}let il=0;function ol(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function al(e,t){const n=new rl,r=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new zn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new zn,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let l=0;l<9;l++)i.probe.push(new ur);const o=new ur,a=new Ur,s=new Ur;return{setup:function(o,a){let s=0,l=0,c=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let u=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0;o.sort(ol);const x=!0===a?Math.PI:1;for(let e=0,t=o.length;e<t;e++){const t=o[e],a=t.color,w=t.intensity,S=t.distance,E=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=a.r*w*x,l+=a.g*w*x,c+=a.b*w*x;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],w);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*x),t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[u]=n,i.directionalShadowMap[u]=E,i.directionalShadowMatrix[u]=t.shadow.matrix,m++}i.directional[u]=e,u++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(a).multiplyScalar(w*x),e.distance=S,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,i.spot[h]=e;const o=t.shadow;if(t.map&&(i.spotLightMap[y]=t.map,y++,o.updateMatrices(t),t.castShadow&&b++),i.spotLightMatrix[h]=o.matrix,t.castShadow){const e=r.get(t);e.shadowBias=o.bias,e.shadowNormalBias=o.normalBias,e.shadowRadius=o.radius,e.shadowMapSize=o.mapSize,i.spotShadow[h]=e,i.spotShadowMap[h]=E,v++}h++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(a).multiplyScalar(w),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[f]=e,f++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*x),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[d]=n,i.pointShadowMap[d]=E,i.pointShadowMatrix[d]=t.shadow.matrix,g++}i.point[d]=e,d++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(w*x),e.groundColor.copy(t.groundColor).multiplyScalar(w*x),i.hemi[p]=e,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Qo.LTC_FLOAT_1,i.rectAreaLTC2=Qo.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Qo.LTC_HALF_1,i.rectAreaLTC2=Qo.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=c;const w=i.hash;w.directionalLength===u&&w.pointLength===d&&w.spotLength===h&&w.rectAreaLength===f&&w.hemiLength===p&&w.numDirectionalShadows===m&&w.numPointShadows===g&&w.numSpotShadows===v&&w.numSpotMaps===y||(i.directional.length=u,i.spot.length=h,i.rectArea.length=f,i.point.length=d,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=v+y-b,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=b,w.directionalLength=u,w.pointLength=d,w.spotLength=h,w.rectAreaLength=f,w.hemiLength=p,w.numDirectionalShadows=m,w.numPointShadows=g,w.numSpotShadows=v,w.numSpotMaps=y,i.version=il++)},setupView:function(e,t){let n=0,r=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,f=e.length;h<f;h++){const t=e[h];if(t.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s.identity(),a.copy(t.matrixWorld),a.premultiply(d),s.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(t.isPointLight){const e=i.point[r];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),r++}else if(t.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}},state:i}}function sl(e,t){const n=new al(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function ll(e,t){let n=new WeakMap;return{get:function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const o=n.get(r);let a;return void 0===o?(a=new sl(e,t),n.set(r,[a])):i>=o.length?(a=new sl(e,t),o.push(a)):a=o[i],a},dispose:function(){n=new WeakMap}}}class cl extends Ci{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Nt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class ul extends Ci{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function dl(e,t,n){let r=new Vo;const i=new zn,o=new zn,a=new nr,s=new cl({depthPacking:Bt}),l=new ul,c={},u=n.maxTextureSize,d={[g]:v,[v]:g,[y]:y},h=new Oo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new zn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const b=new io;b.setAttribute("position",new Ui(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new Eo(b,h),S=this;function E(n,r){const o=t.update(w);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new rr(i.x,i.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,o,h,w,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,o,p,w,null)}function M(t,n,r,i){let o=null;const a=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)o=a;else if(o=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=o.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=o.clone(),r[t]=i),o=i}if(o.visible=n.visible,o.wireframe=n.wireframe,o.side=i===m?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial){e.properties.get(o).light=r}return o}function C(n,i,o,a,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===m)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=i[c.materialIndex];if(u&&u.visible){const t=M(n,u,a,s);e.renderBufferDirect(o,null,r,t,n,c)}}}else if(i.visible){const t=M(n,i,a,s);e.renderBufferDirect(o,null,r,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)C(l[e],i,o,a,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=f,this.render=function(t,n,s){if(!1===S.enabled)return;if(!1===S.autoUpdate&&!1===S.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(x),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(let f=0,p=t.length;f<p;f++){const l=t[f],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const d=c.getFrameExtents();if(i.multiply(d),o.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/d.x),i.x=o.x*d.x,c.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/d.y),i.y=o.y*d.y,c.mapSize.y=o.y)),null===c.map){const e=this.type!==m?{minFilter:pe,magFilter:pe}:{};c.map=new rr(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const p=c.getViewportCount();for(let e=0;e<p;e++){const t=c.getViewport(e);a.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),h.viewport(a),c.updateMatrices(l,e),r=c.getFrustum(),C(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===m&&E(c,s),c.needsUpdate=!1}S.needsUpdate=!1,e.setRenderTarget(l,c,d)}}function hl(e,t,n){const r=n.isWebGL2;const i=new function(){let t=!1;const n=new nr;let r=null;const i=new nr(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(e){e?we(2929):Se(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case H:e.depthFunc(512);break;case V:e.depthFunc(519);break;case G:e.depthFunc(513);break;case W:e.depthFunc(515);break;case Y:e.depthFunc(514);break;case X:e.depthFunc(518);break;case Q:e.depthFunc(516);break;case q:e.depthFunc(517);break;default:e.depthFunc(515)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},a=new function(){let t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?we(2960):Se(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null}}},s=new WeakMap,d=new WeakMap;let h={},f={},p=new WeakMap,m=[],g=null,b=!1,K=null,Z=null,J=null,$=null,ee=null,te=null,ne=null,re=!1,ie=null,oe=null,ae=null,se=null,le=null;const ce=e.getParameter(35661);let ue=!1,de=0;const he=e.getParameter(7938);-1!==he.indexOf("WebGL")?(de=parseFloat(/^WebGL (\d)/.exec(he)[1]),ue=de>=1):-1!==he.indexOf("OpenGL ES")&&(de=parseFloat(/^OpenGL ES (\d)/.exec(he)[1]),ue=de>=2);let fe=null,pe={};const me=e.getParameter(3088),ge=e.getParameter(2978),ve=(new nr).fromArray(me),ye=(new nr).fromArray(ge);function be(t,n,r){const i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}const xe={};function we(t){!0!==h[t]&&(e.enable(t),h[t]=!0)}function Se(t){!1!==h[t]&&(e.disable(t),h[t]=!1)}xe[3553]=be(3553,3553,1),xe[34067]=be(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),a.setClear(0),we(2929),o.setFunc(W),_e(!1),Te(c),we(2884),Ce(x);const Ee={[_]:32774,[T]:32778,[A]:32779};if(r)Ee[P]=32775,Ee[O]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(Ee[P]=e.MIN_EXT,Ee[O]=e.MAX_EXT)}const Me={[D]:0,[R]:1,[k]:768,[L]:770,[j]:776,[B]:774,[F]:772,[I]:769,[z]:771,[U]:775,[N]:773};function Ce(t,n,r,i,o,a,s,l){if(t!==x){if(!1===b&&(we(3042),b=!0),t===C)o=o||n,a=a||r,s=s||i,n===Z&&o===ee||(e.blendEquationSeparate(Ee[n],Ee[o]),Z=n,ee=o),r===J&&i===$&&a===te&&s===ne||(e.blendFuncSeparate(Me[r],Me[i],Me[a],Me[s]),J=r,$=i,te=a,ne=s),K=t,re=!1;else if(t!==K||l!==re){if(Z===_&&ee===_||(e.blendEquation(32774),Z=_,ee=_),l)switch(t){case w:e.blendFuncSeparate(1,771,1,771);break;case S:e.blendFunc(1,1);break;case E:e.blendFuncSeparate(0,769,0,1);break;case M:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case w:e.blendFuncSeparate(770,771,1,771);break;case S:e.blendFunc(770,1);break;case E:e.blendFuncSeparate(0,769,0,1);break;case M:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}J=null,$=null,te=null,ne=null,K=t,re=l}}else!0===b&&(Se(3042),b=!1)}function _e(t){ie!==t&&(t?e.frontFace(2304):e.frontFace(2305),ie=t)}function Te(t){t!==l?(we(2884),t!==oe&&(t===c?e.cullFace(1029):t===u?e.cullFace(1028):e.cullFace(1032))):Se(2884),oe=t}function Ae(t,n,r){t?(we(32823),se===n&&le===r||(e.polygonOffset(n,r),se=n,le=r)):Se(32823)}return{buffers:{color:i,depth:o,stencil:a},enable:we,disable:Se,bindFramebuffer:function(t,n){return f[t]!==n&&(e.bindFramebuffer(t,n),f[t]=n,r&&(36009===t&&(f[36160]=n),36160===t&&(f[36009]=n)),!0)},drawBuffers:function(r,i){let o=m,a=!1;if(r)if(o=p.get(i),void 0===o&&(o=[],p.set(i,o)),r.isWebGLMultipleRenderTargets){const e=r.texture;if(o.length!==e.length||36064!==o[0]){for(let t=0,n=e.length;t<n;t++)o[t]=36064+t;o.length=e.length,a=!0}}else 36064!==o[0]&&(o[0]=36064,a=!0);else 1029!==o[0]&&(o[0]=1029,a=!0);a&&(n.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(t){return g!==t&&(e.useProgram(t),g=t,!0)},setBlending:Ce,setMaterial:function(e,t){e.side===y?Se(2884):we(2884);let n=e.side===v;t&&(n=!n),_e(n),e.blending===w&&!1===e.transparent?Ce(x):Ce(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite);const r=e.stencilWrite;a.setTest(r),r&&(a.setMask(e.stencilWriteMask),a.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),a.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Ae(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?we(32926):Se(32926)},setFlipSided:_e,setCullFace:Te,setLineWidth:function(t){t!==ae&&(ue&&e.lineWidth(t),ae=t)},setPolygonOffset:Ae,setScissorTest:function(e){e?we(3089):Se(3089)},activeTexture:function(t){void 0===t&&(t=33984+ce-1),fe!==t&&(e.activeTexture(t),fe=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===fe?33984+ce-1:fe);let i=pe[r];void 0===i&&(i={type:void 0,texture:void 0},pe[r]=i),i.type===t&&i.texture===n||(fe!==r&&(e.activeTexture(r),fe=r),e.bindTexture(t,n||xe[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=pe[fe];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){let r=d.get(n);void 0===r&&(r=new WeakMap,d.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=d.get(n).get(t);s.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),s.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===ve.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ve.copy(t))},viewport:function(t){!1===ye.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),ye.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===r&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},fe=null,pe={},f={},p=new WeakMap,m=[],g=null,b=!1,K=null,Z=null,J=null,$=null,ee=null,te=null,ne=null,re=!1,ie=null,oe=null,ae=null,se=null,le=null,ve.set(0,0,e.canvas.width,e.canvas.height),ye.set(0,0,e.canvas.width,e.canvas.height),i.reset(),o.reset(),a.reset()}}}function fl(e,t,n,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(H){}function y(e,t){return v?new OffscreenCanvas(e,t):Hn("canvas")}function b(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?Rn:Math.floor,o=r(i*e.width),a=r(i*e.height);void 0===m&&(m=y(o,a));const s=n?y(o,a):m;s.width=o,s.height=a;return s.getContext("2d").drawImage(e,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+a+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function x(e){return On(e.width)&&On(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==pe&&e.minFilter!==be}function S(t){e.generateMipmap(t)}function E(n,r,i,o){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===s)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=r;return 6403===r&&(5126===i&&(l=33326),5131===i&&(l=33325),5121===i&&(l=33321)),33319===r&&(5126===i&&(l=33328),5131===i&&(l=33327),5121===i&&(l=33323)),6408===r&&(5126===i&&(l=34836),5131===i&&(l=34842),5121===i&&(l=o===Ft&&!1===a?35907:32856),32819===i&&(l=32854),32820===i&&(l=32855)),33325!==l&&33326!==l&&33327!==l&&33328!==l&&34842!==l&&34836!==l||t.get("EXT_color_buffer_float"),l}function M(e,t,n){return!0===w(e,n)||e.isFramebufferTexture&&e.minFilter!==pe&&e.minFilter!==be?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function C(e){return e===pe||e===me||e===ve?9728:9729}function _(e){const t=e.target;t.removeEventListener("dispose",_),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=g.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&A(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}(t),t.isVideoTexture&&p.delete(t)}function T(t){const n=t.target;n.removeEventListener("dispose",T),function(t){const n=t.texture,i=r.get(t),o=r.get(n);void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),a.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++)e.deleteFramebuffer(i.__webglFramebuffer[r]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[r]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let s=0,l=n.length;s<l;s++){const t=r.get(n[s]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),a.memory.textures--),r.remove(n[s])}r.remove(n),r.remove(t)}(n)}function A(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete g.get(i)[n.__cacheKey],a.memory.textures--}let P=0;function O(e,t){const i=r.get(e);if(e.isVideoTexture&&function(e){const t=a.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){const n=e.image;if(null===n)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==n.complete)return void L(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,i.__webglTexture,33984+t)}const D={[de]:10497,[he]:33071,[fe]:33648},R={[pe]:9728,[me]:9984,[ve]:9986,[be]:9729,[xe]:9985,[Se]:9987};function k(n,o,a){if(a?(e.texParameteri(n,10242,D[o.wrapS]),e.texParameteri(n,10243,D[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,D[o.wrapR]),e.texParameteri(n,10240,R[o.magFilter]),e.texParameteri(n,10241,R[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===he&&o.wrapT===he||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,C(o.magFilter)),e.texParameteri(n,10241,C(o.minFilter)),o.minFilter!==pe&&o.minFilter!==be&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const a=t.get("EXT_texture_filter_anisotropic");if(o.magFilter===pe)return;if(o.minFilter!==ve&&o.minFilter!==Se)return;if(o.type===Oe&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&o.type===De&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function I(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",_));const i=n.source;let o=g.get(i);void 0===o&&(o={},g.set(i,o));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),o[s].usedTimes++;const i=o[t.__cacheKey];void 0!==i&&(o[t.__cacheKey].usedTimes--,0===i.usedTimes&&A(n)),t.__cacheKey=s,t.__webglTexture=o[s].texture}return r}function L(t,i,a){let l=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(l=35866),i.isData3DTexture&&(l=32879);const c=I(t,i),d=i.source;n.bindTexture(l,t.__webglTexture,33984+a);const h=r.get(d);if(d.version!==h.__version||!0===c){n.activeTexture(33984+a),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);const t=function(e){return!s&&(e.wrapS!==he||e.wrapT!==he||e.minFilter!==pe&&e.minFilter!==be)}(i)&&!1===x(i.image);let r=b(i.image,t,!1,u);r=j(i,r);const f=x(r)||s,p=o.convert(i.format,i.encoding);let m,g=o.convert(i.type),v=E(i.internalFormat,p,g,i.encoding,i.isVideoTexture);k(l,i,f);const y=i.mipmaps,C=s&&!0!==i.isVideoTexture,_=void 0===h.__version||!0===c,T=M(i,r,f);if(i.isDepthTexture)v=6402,s?v=i.type===Oe?36012:i.type===Pe?33190:i.type===Ie?35056:33189:i.type===Oe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Be&&6402===v&&i.type!==Te&&i.type!==Pe&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Pe,g=o.convert(i.type)),i.format===Ue&&6402===v&&(v=34041,i.type!==Ie&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Ie,g=o.convert(i.type))),_&&(C?n.texStorage2D(3553,1,v,r.width,r.height):n.texImage2D(3553,0,v,r.width,r.height,0,p,g,null));else if(i.isDataTexture)if(y.length>0&&f){C&&_&&n.texStorage2D(3553,T,v,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],C?n.texSubImage2D(3553,e,0,0,m.width,m.height,p,g,m.data):n.texImage2D(3553,e,v,m.width,m.height,0,p,g,m.data);i.generateMipmaps=!1}else C?(_&&n.texStorage2D(3553,T,v,r.width,r.height),n.texSubImage2D(3553,0,0,0,r.width,r.height,p,g,r.data)):n.texImage2D(3553,0,v,r.width,r.height,0,p,g,r.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){C&&_&&n.texStorage3D(35866,T,v,y[0].width,y[0].height,r.depth);for(let e=0,t=y.length;e<t;e++)m=y[e],i.format!==ze?null!==p?C?n.compressedTexSubImage3D(35866,e,0,0,0,m.width,m.height,r.depth,p,m.data,0,0):n.compressedTexImage3D(35866,e,v,m.width,m.height,r.depth,0,m.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?n.texSubImage3D(35866,e,0,0,0,m.width,m.height,r.depth,p,g,m.data):n.texImage3D(35866,e,v,m.width,m.height,r.depth,0,p,g,m.data)}else{C&&_&&n.texStorage2D(3553,T,v,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],i.format!==ze?null!==p?C?n.compressedTexSubImage2D(3553,e,0,0,m.width,m.height,p,m.data):n.compressedTexImage2D(3553,e,v,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?n.texSubImage2D(3553,e,0,0,m.width,m.height,p,g,m.data):n.texImage2D(3553,e,v,m.width,m.height,0,p,g,m.data)}else if(i.isDataArrayTexture)C?(_&&n.texStorage3D(35866,T,v,r.width,r.height,r.depth),n.texSubImage3D(35866,0,0,0,0,r.width,r.height,r.depth,p,g,r.data)):n.texImage3D(35866,0,v,r.width,r.height,r.depth,0,p,g,r.data);else if(i.isData3DTexture)C?(_&&n.texStorage3D(32879,T,v,r.width,r.height,r.depth),n.texSubImage3D(32879,0,0,0,0,r.width,r.height,r.depth,p,g,r.data)):n.texImage3D(32879,0,v,r.width,r.height,r.depth,0,p,g,r.data);else if(i.isFramebufferTexture){if(_)if(C)n.texStorage2D(3553,T,v,r.width,r.height);else{let e=r.width,t=r.height;for(let r=0;r<T;r++)n.texImage2D(3553,r,v,e,t,0,p,g,null),e>>=1,t>>=1}}else if(y.length>0&&f){C&&_&&n.texStorage2D(3553,T,v,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],C?n.texSubImage2D(3553,e,0,0,p,g,m):n.texImage2D(3553,e,v,p,g,m);i.generateMipmaps=!1}else C?(_&&n.texStorage2D(3553,T,v,r.width,r.height),n.texSubImage2D(3553,0,0,0,p,g,r)):n.texImage2D(3553,0,v,p,g,r);w(i,f)&&S(l),h.__version=d.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function z(t,i,a,s,l){const c=o.convert(a.format,a.encoding),u=o.convert(a.type),d=E(a.internalFormat,c,u,a.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,d,i.width,i.height,i.depth,0,c,u,null):n.texImage2D(l,0,d,i.width,i.height,0,c,u,null)),n.bindFramebuffer(36160,t),U(i)?h.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(a).__webglTexture,0,B(i)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,s,l,r.get(a).__webglTexture,0),n.bindFramebuffer(36160,null)}function F(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r||U(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Oe?i=36012:t.type===Pe&&(i=33190));const r=B(n);U(n)?h.renderbufferStorageMultisampleEXT(36161,r,i,n.width,n.height):e.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){const i=B(n);r&&!1===U(n)?e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height):U(n)?h.renderbufferStorageMultisampleEXT(36161,i,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){const a=t[i],s=o.convert(a.format,a.encoding),l=o.convert(a.type),c=E(a.internalFormat,s,l,a.encoding),u=B(n);r&&!1===U(n)?e.renderbufferStorageMultisample(36161,u,c,n.width,n.height):U(n)?h.renderbufferStorageMultisampleEXT(36161,u,c,n.width,n.height):e.renderbufferStorage(36161,c,n.width,n.height)}}e.bindRenderbuffer(36161,null)}function N(t){const i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),O(i.depthTexture,0);const o=r.get(i.depthTexture).__webglTexture,a=B(i);if(i.depthTexture.format===Be)U(i)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,o,0,a):e.framebufferTexture2D(36160,36096,3553,o,0);else{if(i.depthTexture.format!==Ue)throw new Error("Unknown depthTexture format");U(i)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,o,0,a):e.framebufferTexture2D(36160,33306,3553,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(36160,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),F(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),F(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function B(e){return Math.min(d,e.samples)}function U(e){const n=r.get(e);return s&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function j(e,n){const r=e.encoding,i=e.format,o=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===xn||r!==zt&&(r===Ft?!1===s?!0===t.has("EXT_sRGB")&&i===ze?(e.format=xn,e.minFilter=be,e.generateMipmaps=!1):n=Zn.sRGBToLinear(n):i===ze&&o===Me||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){const e=P;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=O,this.setTexture2DArray=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?L(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?L(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?function(t,i,a){if(6!==i.image.length)return;const l=I(t,i),u=i.source;n.bindTexture(34067,t.__webglTexture,33984+a);const d=r.get(u);if(u.version!==d.__version||!0===l){n.activeTexture(33984+a),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);const t=i.isCompressedTexture||i.image[0].isCompressedTexture,r=i.image[0]&&i.image[0].isDataTexture,h=[];for(let e=0;e<6;e++)h[e]=t||r?r?i.image[e].image:i.image[e]:b(i.image[e],!1,!0,c),h[e]=j(i,h[e]);const f=h[0],p=x(f)||s,m=o.convert(i.format,i.encoding),g=o.convert(i.type),v=E(i.internalFormat,m,g,i.encoding),y=s&&!0!==i.isVideoTexture,C=void 0===d.__version||!0===l;let _,T=M(i,f,p);if(k(34067,i,p),t){y&&C&&n.texStorage2D(34067,T,v,f.width,f.height);for(let e=0;e<6;e++){_=h[e].mipmaps;for(let t=0;t<_.length;t++){const r=_[t];i.format!==ze?null!==m?y?n.compressedTexSubImage2D(34069+e,t,0,0,r.width,r.height,m,r.data):n.compressedTexImage2D(34069+e,t,v,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?n.texSubImage2D(34069+e,t,0,0,r.width,r.height,m,g,r.data):n.texImage2D(34069+e,t,v,r.width,r.height,0,m,g,r.data)}}}else{_=i.mipmaps,y&&C&&(_.length>0&&T++,n.texStorage2D(34067,T,v,h[0].width,h[0].height));for(let e=0;e<6;e++)if(r){y?n.texSubImage2D(34069+e,0,0,0,h[e].width,h[e].height,m,g,h[e].data):n.texImage2D(34069+e,0,v,h[e].width,h[e].height,0,m,g,h[e].data);for(let t=0;t<_.length;t++){const r=_[t].image[e].image;y?n.texSubImage2D(34069+e,t+1,0,0,r.width,r.height,m,g,r.data):n.texImage2D(34069+e,t+1,v,r.width,r.height,0,m,g,r.data)}}else{y?n.texSubImage2D(34069+e,0,0,0,m,g,h[e]):n.texImage2D(34069+e,0,v,m,g,h[e]);for(let t=0;t<_.length;t++){const r=_[t];y?n.texSubImage2D(34069+e,t+1,0,0,m,g,r.image[e]):n.texImage2D(34069+e,t+1,v,m,g,r.image[e])}}}w(i,p)&&S(34067),d.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(a,t,i):n.bindTexture(34067,a.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){const i=r.get(e);void 0!==t&&z(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&N(e)},this.setupRenderTarget=function(t){const l=t.texture,c=r.get(t),u=r.get(l);t.addEventListener("dispose",T),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=l.version,a.memory.textures++);const d=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,f=x(t)||s;if(d){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(c.__webglFramebuffer=e.createFramebuffer(),h)if(i.drawBuffers){const n=t.texture;for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&t.samples>0&&!1===U(t)){const r=h?l:[l];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer[n]);const a=o.convert(i.format,i.encoding),s=o.convert(i.type),l=E(i.internalFormat,a,s,i.encoding,!0===t.isXRRenderTarget),u=B(t);e.renderbufferStorageMultisample(36161,u,l,t.width,t.height),e.framebufferRenderbuffer(36160,36064+n,36161,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),F(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(d){n.bindTexture(34067,u.__webglTexture),k(34067,l,f);for(let e=0;e<6;e++)z(c.__webglFramebuffer[e],t,l,36064,34069+e);w(l,f)&&S(34067),n.unbindTexture()}else if(h){const e=t.texture;for(let i=0,o=e.length;i<o;i++){const o=e[i],a=r.get(o);n.bindTexture(3553,a.__webglTexture),k(3553,o,f),z(c.__webglFramebuffer,t,o,36064+i,3553),w(o,f)&&S(3553)}n.unbindTexture()}else{let e=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(s?e=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(e,u.__webglTexture),k(e,l,f),z(c.__webglFramebuffer,t,l,36064,e),w(l,f)&&S(e),n.unbindTexture()}t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(e){const t=x(e)||s,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let o=0,a=i.length;o<a;o++){const a=i[o];if(w(a,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,i=r.get(a).__webglTexture;n.bindTexture(t,i),S(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(s&&t.samples>0&&!1===U(t)){const i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=t.width,a=t.height;let s=16384;const l=[],c=t.stencilBuffer?33306:36096,u=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,null),n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,null,0);n.bindFramebuffer(36008,u.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,u.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(36064+n),t.depthBuffer&&l.push(c);const h=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===h&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),d&&e.framebufferRenderbuffer(36008,36064,36161,u.__webglColorRenderbuffer[n]),!0===h&&(e.invalidateFramebuffer(36008,[c]),e.invalidateFramebuffer(36009,[c])),d){const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,t,0)}e.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728),f&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,u.__webglColorRenderbuffer[t]);const o=r.get(i[t]).__webglTexture;n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,o,0)}n.bindFramebuffer(36009,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=N,this.setupFrameBufferTexture=z,this.useMultisampledRTT=U}function pl(e,t,n){const r=n.isWebGL2;return{convert:function(n){let i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===Me)return 5121;if(n===Re)return 32819;if(n===ke)return 32820;if(n===Ce)return 5120;if(n===_e)return 5122;if(n===Te)return 5123;if(n===Ae)return 5124;if(n===Pe)return 5125;if(n===Oe)return 5126;if(n===De)return r?5131:(i=t.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(n===Le)return 6406;if(n===ze)return 6408;if(n===Fe)return 6409;if(n===Ne)return 6410;if(n===Be)return 6402;if(n===Ue)return 34041;if(n===xn)return i=t.get("EXT_sRGB"),null!==i?i.SRGB_ALPHA_EXT:null;if(n===je)return 6403;if(n===He)return 36244;if(n===Ve)return 33319;if(n===Ge)return 33320;if(n===We)return 36249;if(n===Ye||n===Xe||n===Qe||n===qe)if(o===Ft){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===Ye)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Xe)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Qe)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===qe)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===Ye)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Xe)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Qe)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===qe)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Ke||n===Ze||n===Je||n===$e){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===Ke)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Ze)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Je)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===$e)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===et)return i=t.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===tt||n===nt){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===tt)return o===Ft?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===nt)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===rt||n===it||n===ot||n===at||n===st||n===lt||n===ct||n===ut||n===dt||n===ht||n===ft||n===pt||n===mt||n===gt){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===rt)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===it)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===ot)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===at)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===st)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===lt)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===ct)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ut)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===dt)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===ht)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===ft)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===pt)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===mt)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===gt)return o===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===vt){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===vt)return o===Ft?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===yt||n===bt||n===xt||n===wt){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===vt)return i.COMPRESSED_RED_RGTC1_EXT;if(n===bt)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===xt)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===wt)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Ie?r?34042:(i=t.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}}}class ml extends Ro{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.cameras=e}}class gl extends di{constructor(){super(),this.isGroup=!0,this.type="Group"}}const vl={type:"move"};class yl{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new gl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new gl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ur,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ur),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new gl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ur,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ur),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n),r=this._getHandJoint(l,o);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(vl)))}return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new gl;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class bl extends tr{constructor(e,t,n,r,i,o,a,s,l,c){if((c=void 0!==c?c:Be)!==Be&&c!==Ue)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Be&&(n=Pe),void 0===n&&c===Ue&&(n=Ie),super(null,r,i,o,a,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:pe,this.minFilter=void 0!==s?s:pe,this.flipY=!1,this.generateMipmaps=!1}}class xl extends wn{constructor(e,t){super();const n=this;let r=null,i=1,o=null,a="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,f=null;const p=t.getContextAttributes();let m=null,g=null;const v=[],y=[],b=new Set,x=new Map,w=new Ro;w.layers.enable(1),w.viewport=new nr;const S=new Ro;S.layers.enable(2),S.viewport=new nr;const E=[w,S],M=new ml;M.layers.enable(1),M.layers.enable(2);let C=null,_=null;function T(e){const t=y.indexOf(e.inputSource);if(-1===t)return;const n=v[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}function A(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",A),r.removeEventListener("inputsourceschange",P);for(let e=0;e<v.length;e++){const t=y[e];null!==t&&(y[e]=null,v[e].disconnect(t))}C=null,_=null,e.setRenderTarget(m),h=null,d=null,u=null,r=null,g=null,I.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function P(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=y.indexOf(n);r>=0&&(y[r]=null,v[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=y.indexOf(n);if(-1===r){for(let e=0;e<v.length;e++){if(e>=y.length){y.push(n),r=e;break}if(null===y[e]){y[e]=n,r=e;break}}if(-1===r)break}const i=v[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=v[e];return void 0===t&&(t=new yl,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new yl,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new yl,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(m=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",A),r.addEventListener("inputsourceschange",P),!0!==p.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),g=new rr(h.framebufferWidth,h.framebufferHeight,{format:ze,type:Me,encoding:e.outputEncoding,stencilBuffer:p.stencil})}else{let n=null,o=null,a=null;p.depth&&(a=p.stencil?35056:33190,n=p.stencil?Ue:Be,o=p.stencil?Ie:Pe);const s={colorFormat:32856,depthFormat:a,scaleFactor:i};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(s),r.updateRenderState({layers:[d]}),g=new rr(d.textureWidth,d.textureHeight,{format:ze,type:Me,depthTexture:new bl(d.textureWidth,d.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});e.properties.get(g).__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(s),l=null,o=await r.requestReferenceSpace(a),I.setContext(r),I.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const O=new ur,D=new ur;function R(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;M.near=S.near=w.near=e.near,M.far=S.far=w.far=e.far,C===M.near&&_===M.far||(r.updateRenderState({depthNear:M.near,depthFar:M.far}),C=M.near,_=M.far);const t=e.parent,n=M.cameras;R(M,t);for(let r=0;r<n.length;r++)R(n[r],t);2===n.length?function(e,t,n){O.setFromMatrixPosition(t.matrixWorld),D.setFromMatrixPosition(n.matrixWorld);const r=O.distanceTo(D),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(o[8]+1)/o[0],h=a*u,f=a*d,p=r/(-u+d),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=a+p,v=s+p,y=h-m,b=f+(r-m),x=l*s/v*g,w=c*s/v*g;e.projectionMatrix.makePerspective(y,b,x,w,g,v),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(M,w,S):M.projectionMatrix.copy(w.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0);const r=e.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(!0);e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Cn*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,M,t)},this.getCamera=function(){return M},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.getPlanes=function(){return b};let k=null;const I=new Go;I.setAnimationLoop((function(t,r){if(c=r.getViewerPose(l||o),f=r,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let n=!1;t.length!==M.cameras.length&&(M.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let o=null;if(null!==h)o=h.getViewport(i);else{const t=u.getViewSubImage(d,i);o=t.viewport,0===r&&(e.setRenderTargetTextures(g,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(g))}let a=E[r];void 0===a&&(a=new Ro,a.layers.enable(r),a.viewport=new nr,E[r]=a),a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(i.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(o.x,o.y,o.width,o.height),0===r&&(M.matrix.copy(a.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),!0===n&&M.cameras.push(a)}}for(let e=0;e<v.length;e++){const t=y[e],n=v[e];null!==t&&void 0!==n&&n.update(t,r,l||o)}if(k&&k(t,r),r.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:r.detectedPlanes});let e=null;for(const t of b)r.detectedPlanes.has(t)||(null===e&&(e=[]),e.push(t));if(null!==e)for(const t of e)b.delete(t),x.delete(t),n.dispatchEvent({type:"planeremoved",data:t});for(const t of r.detectedPlanes)if(b.has(t)){const e=x.get(t);t.lastChangedTime>e&&(x.set(t,t.lastChangedTime),n.dispatchEvent({type:"planechanged",data:t}))}else b.add(t),x.set(t,r.lastChangedTime),n.dispatchEvent({type:"planeadded",data:t})}f=null})),this.setAnimationLoop=function(e){k=e},this.dispose=function(){}}}function wl(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===v&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===v&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);const o=t.get(i).envMap;if(o&&(r.envMap.value=o,r.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;const t=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*t,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Ao(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,o,a,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));const i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===v&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,o,a):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Sl(e,t,n,r){let i={},o={},a=[];const s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){const r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{const e=Array.isArray(r)?r:[r],i=[];for(let t=0;t<e.length;t++)i.push(e[t].clone());n[t]=i}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else{const e=Array.isArray(n[t])?n[t]:[n[t]],i=Array.isArray(r)?r:[r];for(let t=0;t<e.length;t++){const n=e[t];if(!1===n.equals(i[t]))return n.copy(i[t]),!0}}return!1}function c(e){const t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=a.indexOf(n.__bindingPointIndex);a.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete o[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){let h=i[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const r=16;let i=0;for(let o=0,a=t.length;o<a;o++){const e=t[o],a={boundary:0,storage:0},s=Array.isArray(e.value)?e.value:[e.value];for(let t=0,n=s.length;t<n;t++){const e=c(s[t]);a.boundary+=e.boundary,a.storage+=e.storage}if(e.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),e.__offset=n,o>0){i=n%r;0!==i&&r-i-a.boundary<0&&(n+=r-i,e.__offset=n)}n+=a.storage}i=n%r,i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,o=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,o),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",u));const f=d.program;r.updateUBOMapping(n,f);const p=t.render.frame;o[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,o=t.__cache;e.bindBuffer(35345,n);for(let i=0,a=r.length;i<a;i++){const t=r[i];if(!0===l(t,i,o)){const n=t.__offset,r=Array.isArray(t.value)?t.value:[t.value];let i=0;for(let o=0;o<r.length;o++){const a=r[o],s=c(a);"number"===typeof a?(t.__data[0]=a,e.bufferSubData(35345,n+i,t.__data)):a.isMatrix3?(t.__data[0]=a.elements[0],t.__data[1]=a.elements[1],t.__data[2]=a.elements[2],t.__data[3]=a.elements[0],t.__data[4]=a.elements[3],t.__data[5]=a.elements[4],t.__data[6]=a.elements[5],t.__data[7]=a.elements[0],t.__data[8]=a.elements[6],t.__data[9]=a.elements[7],t.__data[10]=a.elements[8],t.__data[11]=a.elements[0]):(a.toArray(t.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,n,t.__data)}}e.bindBuffer(35345,null)}(n),o[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);a=[],i={},o={}}}}function El(){const e=Hn("canvas");return e.style.display="block",e}class Ml{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=El(),context:n=null,depth:r=!0,stencil:i=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;let h;this.isWebGLRenderer=!0,h=null!==n?n.getContextAttributes().alpha:a;let f=null,p=null;const m=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=zt,this.useLegacyLights=!0,this.toneMapping=$,this.toneMappingExposure=1;const x=this;let w=!1,S=0,E=0,M=null,C=-1,_=null;const T=new nr,A=new nr;let P=null,O=t.width,D=t.height,R=1,k=null,I=null;const L=new nr(0,0,O,D),z=new nr(0,0,O,D);let F=!1;const N=new Vo;let B=!1,U=!1,j=null;const H=new Ur,V=new ur,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return null===M?R:1}let Y,X,Q,q,K,Z,J,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,he,fe,pe,me,ge,ve=n;function ye(e,n){for(let r=0;r<e.length;r++){const i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{const e={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${o}`),t.addEventListener("webglcontextlost",we,!1),t.addEventListener("webglcontextrestored",Ee,!1),t.addEventListener("webglcontextcreationerror",Ce,!1),null===ve){const t=["webgl2","webgl","experimental-webgl"];if(!0===x.isWebGL1Renderer&&t.shift(),ve=ye(t,e),null===ve)throw ye(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ve.getShaderPrecisionFormat&&(ve.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ue){throw console.error("THREE.WebGLRenderer: "+Ue.message),Ue}function be(){Y=new xa(ve),X=new ea(ve,Y,e),Y.init(X),pe=new pl(ve,Y,X),Q=new hl(ve,Y,X),q=new Ea,K=new Js,Z=new fl(ve,Y,Q,K,X,pe,q),J=new na(x),ee=new ba(x),te=new Wo(ve,X),me=new Jo(ve,Y,te,X),ne=new wa(ve,te,q,me),re=new Ta(ve,ne,te,q),de=new _a(ve,X,Z),le=new ta(K),ie=new Zs(x,J,ee,Y,X,me,le),oe=new wl(x,K),ae=new nl,se=new ll(Y,X),ue=new Zo(x,J,ee,Q,re,h,l),ce=new dl(x,re,X),ge=new Sl(ve,q,X,Q),he=new $o(ve,Y,q,X),fe=new Sa(ve,Y,q,X),q.programs=ie.programs,x.capabilities=X,x.extensions=Y,x.properties=K,x.renderLists=ae,x.shadowMap=ce,x.state=Q,x.info=q}be();const xe=new xl(x,ve);function we(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Ee(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const e=q.autoReset,t=ce.enabled,n=ce.autoUpdate,r=ce.needsUpdate,i=ce.type;be(),q.autoReset=e,ce.enabled=t,ce.autoUpdate=n,ce.needsUpdate=r,ce.type=i}function Ce(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function _e(e){const t=e.target;t.removeEventListener("dispose",_e),function(e){(function(e){const t=K.get(e).programs;void 0!==t&&(t.forEach((function(e){ie.releaseProgram(e)})),e.isShaderMaterial&&ie.releaseShaderCache(e))})(e),K.remove(e)}(t)}this.xr=xe,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){const e=Y.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=Y.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(e){void 0!==e&&(R=e,this.setSize(O,D,!1))},this.getSize=function(e){return e.set(O,D)},this.setSize=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];xe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=e,D=n,t.width=Math.floor(e*R),t.height=Math.floor(n*R),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(O*R,D*R).floor()},this.setDrawingBufferSize=function(e,n,r){O=e,D=n,R=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(T)},this.getViewport=function(e){return e.copy(L)},this.setViewport=function(e,t,n,r){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,r),Q.viewport(T.copy(L).multiplyScalar(R).floor())},this.getScissor=function(e){return e.copy(z)},this.setScissor=function(e,t,n,r){e.isVector4?z.set(e.x,e.y,e.z,e.w):z.set(e,t,n,r),Q.scissor(A.copy(z).multiplyScalar(R).floor())},this.getScissorTest=function(){return F},this.setScissorTest=function(e){Q.setScissorTest(F=e)},this.setOpaqueSort=function(e){k=e},this.setTransparentSort=function(e){I=e},this.getClearColor=function(e){return e.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(){let e=0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e|=16384),(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e|=256),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(e|=1024),ve.clear(e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",we,!1),t.removeEventListener("webglcontextrestored",Ee,!1),t.removeEventListener("webglcontextcreationerror",Ce,!1),ae.dispose(),se.dispose(),K.dispose(),J.dispose(),ee.dispose(),re.dispose(),me.dispose(),ge.dispose(),ie.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",Ae),xe.removeEventListener("sessionend",Pe),j&&(j.dispose(),j=null),Re.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=G);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=G);Z.resetTextureUnits();const o=t.fog,a=r.isMeshStandardMaterial?t.environment:null,s=null===M?x.outputEncoding:!0===M.isXRRenderTarget?M.texture.encoding:zt,l=(r.isMeshStandardMaterial?ee:J).get(r.envMap||a),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!r.normalMap&&!!n.attributes.tangent,d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,f=!!n.morphAttributes.color,m=r.toneMapped?x.toneMapping:$,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==g?g.length:0,y=K.get(r),b=p.state.lights;if(!0===B&&(!0===U||e!==_)){const t=e===_&&r.id===C;le.setState(r,e,t)}let w=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==b.state.version||y.outputEncoding!==s||i.isInstancedMesh&&!1===y.instancing?w=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?w=!0:i.isSkinnedMesh||!0!==y.skinning?y.envMap!==l||!0===r.fog&&y.fog!==o?w=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===le.numPlanes&&y.numIntersection===le.numIntersection?(y.vertexAlphas!==c||y.vertexTangents!==u||y.morphTargets!==d||y.morphNormals!==h||y.morphColors!==f||y.toneMapping!==m||!0===X.isWebGL2&&y.morphTargetsCount!==v)&&(w=!0):w=!0:w=!0:w=!0:(w=!0,y.__version=r.version);let S=y.currentProgram;!0===w&&(S=Ne(r,t,i));let E=!1,T=!1,A=!1;const P=S.getUniforms(),O=y.uniforms;Q.useProgram(S.program)&&(E=!0,T=!0,A=!0);r.id!==C&&(C=r.id,T=!0);if(E||_!==e){if(P.setValue(ve,"projectionMatrix",e.projectionMatrix),X.logarithmicDepthBuffer&&P.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),_!==e&&(_=e,T=!0,A=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const t=P.map.cameraPosition;void 0!==t&&t.setValue(ve,V.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&P.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&P.setValue(ve,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){P.setOptional(ve,i,"bindMatrix"),P.setOptional(ve,i,"bindMatrixInverse");const e=i.skeleton;e&&(X.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),P.setValue(ve,"boneTexture",e.boneTexture,Z),P.setValue(ve,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const k=n.morphAttributes;(void 0!==k.position||void 0!==k.normal||void 0!==k.color&&!0===X.isWebGL2)&&de.update(i,n,S);(T||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,P.setValue(ve,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(O.envMap.value=l,O.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);T&&(P.setValue(ve,"toneMappingExposure",x.toneMappingExposure),y.needsLights&&(L=A,(I=O).ambientLightColor.needsUpdate=L,I.lightProbe.needsUpdate=L,I.directionalLights.needsUpdate=L,I.directionalLightShadows.needsUpdate=L,I.pointLights.needsUpdate=L,I.pointLightShadows.needsUpdate=L,I.spotLights.needsUpdate=L,I.spotLightShadows.needsUpdate=L,I.rectAreaLights.needsUpdate=L,I.hemisphereLights.needsUpdate=L),o&&!0===r.fog&&oe.refreshFogUniforms(O,o),oe.refreshMaterialUniforms(O,r,R,D,j),Ds.upload(ve,y.uniformsList,O,Z));var I,L;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Ds.upload(ve,y.uniformsList,O,Z),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&P.setValue(ve,"center",i.center);if(P.setValue(ve,"modelViewMatrix",i.modelViewMatrix),P.setValue(ve,"normalMatrix",i.normalMatrix),P.setValue(ve,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(X.isWebGL2){const n=e[t];ge.update(n,S),ge.bind(n,S)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return S}(e,t,n,r,i);Q.setMaterial(r,a);let l=n.index,c=1;!0===r.wireframe&&(l=ne.getWireframeAttribute(n),c=2);const u=n.drawRange,d=n.attributes.position;let h=u.start*c,f=(u.start+u.count)*c;null!==o&&(h=Math.max(h,o.start*c),f=Math.min(f,(o.start+o.count)*c)),null!==l?(h=Math.max(h,0),f=Math.min(f,l.count)):void 0!==d&&null!==d&&(h=Math.max(h,0),f=Math.min(f,d.count));const m=f-h;if(m<0||m===1/0)return;let g;me.setup(i,r,s,n,l);let v=he;if(null!==l&&(g=te.get(l),v=fe,v.setIndex(g)),i.isMesh)!0===r.wireframe?(Q.setLineWidth(r.wireframeLinewidth*W()),v.setMode(1)):v.setMode(4);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),Q.setLineWidth(e*W()),i.isLineSegments?v.setMode(1):i.isLineLoop?v.setMode(2):v.setMode(3)}else i.isPoints?v.setMode(0):i.isSprite&&v.setMode(4);if(i.isInstancedMesh)v.renderInstances(h,m,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);v.renderInstances(h,m,t)}else v.render(h,m)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===y&&!1===e.forceSinglePass?(e.side=v,e.needsUpdate=!0,Ne(e,t,n),e.side=g,e.needsUpdate=!0,Ne(e,t,n),e.side=y):Ne(e,t,n)}p=se.get(e),p.init(),b.push(p),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(p.pushLight(e),e.castShadow&&p.pushShadow(e))})),p.setupLights(x.useLegacyLights),e.traverse((function(t){const r=t.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),b.pop(),p=null};let Te=null;function Ae(){Re.stop()}function Pe(){Re.start()}const Re=new Go;function ke(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)p.pushLight(e),e.castShadow&&p.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||N.intersectsSprite(e)){r&&V.setFromMatrixPosition(e.matrixWorld).applyMatrix4(H);const t=re.update(e),i=e.material;i.visible&&f.push(e,t,i,n,V.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==q.render.frame&&(e.skeleton.update(),e.skeleton.frame=q.render.frame),!e.frustumCulled||N.intersectsObject(e))){r&&V.setFromMatrixPosition(e.matrixWorld).applyMatrix4(H);const t=re.update(e),i=e.material;if(Array.isArray(i)){const r=t.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&f.push(e,t,s,n,V.z,a)}}else i.visible&&f.push(e,t,i,n,V.z,null)}const i=e.children;for(let o=0,a=i.length;o<a;o++)ke(i[o],t,n,r)}function Ie(e,t,n,r){const i=e.opaque,o=e.transmissive,a=e.transparent;p.setupLightsView(n),!0===B&&le.setGlobalState(x.clippingPlanes,n),o.length>0&&function(e,t,n,r){if(null===j){const e=X.isWebGL2;j=new rr(1024,1024,{generateMipmaps:!0,type:Y.has("EXT_color_buffer_half_float")?De:Me,minFilter:Se,samples:e&&!0===s?4:0})}const i=x.getRenderTarget();x.setRenderTarget(j),x.clear();const o=x.toneMapping;x.toneMapping=$,Le(e,n,r),Z.updateMultisampleRenderTarget(j),Z.updateRenderTargetMipmap(j);let a=!1;for(let s=0,l=t.length;s<l;s++){const e=t[s],i=e.object,o=e.geometry,l=e.material,c=e.group;if(l.side===y&&i.layers.test(r.layers)){const e=l.side;l.side=v,l.needsUpdate=!0,Fe(i,n,r,o,l,c),l.side=e,l.needsUpdate=!0,a=!0}}!0===a&&(Z.updateMultisampleRenderTarget(j),Z.updateRenderTargetMipmap(j));x.setRenderTarget(i),x.toneMapping=o}(i,o,t,n),r&&Q.viewport(T.copy(r)),i.length>0&&Le(i,t,n),o.length>0&&Le(o,t,n),a.length>0&&Le(a,t,n),Q.buffers.depth.setTest(!0),Q.buffers.depth.setMask(!0),Q.buffers.color.setMask(!0),Q.setPolygonOffset(!1)}function Le(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],a=o.object,s=o.geometry,l=null===r?o.material:r,c=o.group;a.layers.test(n.layers)&&Fe(a,t,n,s,l,c)}}function Fe(e,t,n,r,i,o){e.onBeforeRender(x,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(x,t,n,r,e,o),!0===i.transparent&&i.side===y&&!1===i.forceSinglePass?(i.side=v,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,o),i.side=g,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,o),i.side=y):x.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(x,t,n,r,i,o)}function Ne(e,t,n){!0!==t.isScene&&(t=G);const r=K.get(e),i=p.state.lights,o=p.state.shadowsArray,a=i.state.version,s=ie.getParameters(e,i.state,o,t,n),l=ie.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ee:J).get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",_e),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return Be(e,s),u}else s.uniforms=ie.getUniforms(e),e.onBuild(n,s,x),e.onBeforeCompile(s,x),u=ie.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=le.uniform),Be(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);const h=u.getUniforms(),f=Ds.seqWithValue(h.seq,d);return r.currentProgram=u,r.uniformsList=f,u}function Be(e,t){const n=K.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Re.setAnimationLoop((function(e){Te&&Te(e)})),"undefined"!==typeof self&&Re.setContext(self),this.setAnimationLoop=function(e){Te=e,xe.setAnimationLoop(e),null===e?Re.stop():Re.start()},xe.addEventListener("sessionstart",Ae),xe.addEventListener("sessionend",Pe),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===w)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===xe.enabled&&!0===xe.isPresenting&&(!0===xe.cameraAutoUpdate&&xe.updateCamera(t),t=xe.getCamera()),!0===e.isScene&&e.onBeforeRender(x,e,t,M),p=se.get(e,b.length),p.init(),b.push(p),H.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),N.setFromProjectionMatrix(H),U=this.localClippingEnabled,B=le.init(this.clippingPlanes,U),f=ae.get(e,m.length),f.init(),m.push(f),ke(e,t,0,x.sortObjects),f.finish(),!0===x.sortObjects&&f.sort(k,I),!0===B&&le.beginShadows();const n=p.state.shadowsArray;if(ce.render(n,e,t),!0===B&&le.endShadows(),!0===this.info.autoReset&&this.info.reset(),ue.render(f,e),p.setupLights(x.useLegacyLights),t.isArrayCamera){const n=t.cameras;for(let t=0,r=n.length;t<r;t++){const r=n[t];Ie(f,e,r,r.viewport)}}else Ie(f,e,t);null!==M&&(Z.updateMultisampleRenderTarget(M),Z.updateRenderTargetMipmap(M)),!0===e.isScene&&e.onAfterRender(x,e,t),me.resetDefaultState(),C=-1,_=null,b.pop(),p=b.length>0?b[b.length-1]:null,m.pop(),f=m.length>0?m[m.length-1]:null},this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(e,t,n){K.get(e.texture).__webglTexture=t,K.get(e.depthTexture).__webglTexture=n;const r=K.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===Y.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=K.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;M=e,S=t,E=n;let r=!0,i=null,o=!1,a=!1;if(e){const n=K.get(e);void 0!==n.__useDefaultFramebuffer?(Q.bindFramebuffer(36160,null),r=!1):void 0===n.__webglFramebuffer?Z.setupRenderTarget(e):n.__hasExternalTextures&&Z.rebindTextures(e,K.get(e.texture).__webglTexture,K.get(e.depthTexture).__webglTexture);const s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(a=!0);const l=K.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],o=!0):i=X.isWebGL2&&e.samples>0&&!1===Z.useMultisampledRTT(e)?K.get(e).__webglMultisampledFramebuffer:l,T.copy(e.viewport),A.copy(e.scissor),P=e.scissorTest}else T.copy(L).multiplyScalar(R).floor(),A.copy(z).multiplyScalar(R).floor(),P=F;if(Q.bindFramebuffer(36160,i)&&X.drawBuffers&&r&&Q.drawBuffers(e,i),Q.viewport(T),Q.scissor(A),Q.setScissorTest(P),o){const r=K.get(e.texture);ve.framebufferTexture2D(36160,36064,34069+t,r.__webglTexture,n)}else if(a){const r=K.get(e.texture),i=t||0;ve.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,i)}C=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=K.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){Q.bindFramebuffer(36160,s);try{const a=e.texture,s=a.format,l=a.type;if(s!==ze&&pe.convert(s)!==ve.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===De&&(Y.has("EXT_color_buffer_half_float")||X.isWebGL2&&Y.has("EXT_color_buffer_float"));if(l!==Me&&pe.convert(l)!==ve.getParameter(35738)&&(l!==Oe||!(X.isWebGL2||Y.has("OES_texture_float")||Y.has("WEBGL_color_buffer_float")))&&!c)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ve.readPixels(t,n,r,i,pe.convert(s),pe.convert(l),o)}finally{const e=null!==M?K.get(M).__webglFramebuffer:null;Q.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r);Z.setTexture2D(t,0),ve.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,o),Q.unbindTexture()},this.copyTextureToTexture=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=t.image.width,o=t.image.height,a=pe.convert(n.format),s=pe.convert(n.type);Z.setTexture2D(n,0),ve.pixelStorei(37440,n.flipY),ve.pixelStorei(37441,n.premultiplyAlpha),ve.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ve.texSubImage2D(3553,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?ve.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):ve.texSubImage2D(3553,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&ve.generateMipmap(3553),Q.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(x.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=e.max.x-e.min.x+1,a=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=pe.convert(r.format),c=pe.convert(r.type);let u;if(r.isData3DTexture)Z.setTexture3D(r,0),u=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Z.setTexture2DArray(r,0),u=35866}ve.pixelStorei(37440,r.flipY),ve.pixelStorei(37441,r.premultiplyAlpha),ve.pixelStorei(3317,r.unpackAlignment);const d=ve.getParameter(3314),h=ve.getParameter(32878),f=ve.getParameter(3316),p=ve.getParameter(3315),m=ve.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;ve.pixelStorei(3314,g.width),ve.pixelStorei(32878,g.height),ve.pixelStorei(3316,e.min.x),ve.pixelStorei(3315,e.min.y),ve.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?ve.texSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ve.compressedTexSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,g.data)):ve.texSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,c,g),ve.pixelStorei(3314,d),ve.pixelStorei(32878,h),ve.pixelStorei(3316,f),ve.pixelStorei(3315,p),ve.pixelStorei(32877,m),0===i&&r.generateMipmaps&&ve.generateMipmap(u),Q.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?Z.setTextureCube(e,0):e.isData3DTexture?Z.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Z.setTexture2DArray(e,0):Z.setTexture2D(e,0),Q.unbindTexture()},this.resetState=function(){S=0,E=0,M=null,Q.reset(),me.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}class Cl extends Ml{}Cl.prototype.isWebGL1Renderer=!0;class _l{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;this.isFogExp2=!0,this.name="",this.color=new Oi(e),this.density=t}clone(){return new _l(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Tl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new Oi(e),this.near=t,this.far=n}clone(){return new Tl(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Al extends di{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Pl{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=cn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=_n()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=_n()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=_n()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ol=new ur;class Dl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Ol.fromBufferAttribute(this,t),Ol.applyMatrix4(e),this.setXYZ(t,Ol.x,Ol.y,Ol.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ol.fromBufferAttribute(this,t),Ol.applyNormalMatrix(e),this.setXYZ(t,Ol.x,Ol.y,Ol.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ol.fromBufferAttribute(this,t),Ol.transformDirection(e),this.setXYZ(t,Ol.x,Ol.y,Ol.z);return this}setX(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=kn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=kn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=kn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=kn(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=In(t,this.array),n=In(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=In(t,this.array),n=In(n,this.array),r=In(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=In(t,this.array),n=In(n,this.array),r=In(r,this.array),i=In(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Ui(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Dl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Rl extends Ci{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Oi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let kl;const Il=new ur,Ll=new ur,zl=new ur,Fl=new zn,Nl=new zn,Bl=new Ur,Ul=new ur,jl=new ur,Hl=new ur,Vl=new zn,Gl=new zn,Wl=new zn;class Yl extends di{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",void 0===kl){kl=new io;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Pl(e,5);kl.setIndex([0,1,2,0,2,3]),kl.setAttribute("position",new Dl(t,3,0,!1)),kl.setAttribute("uv",new Dl(t,2,3,!1))}this.geometry=kl,this.material=void 0!==e?e:new Rl,this.center=new zn(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ll.setFromMatrixScale(this.matrixWorld),Bl.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),zl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ll.multiplyScalar(-zl.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;Xl(Ul.set(-.5,-.5,0),zl,o,Ll,r,i),Xl(jl.set(.5,-.5,0),zl,o,Ll,r,i),Xl(Hl.set(.5,.5,0),zl,o,Ll,r,i),Vl.set(0,0),Gl.set(1,0),Wl.set(1,1);let a=e.ray.intersectTriangle(Ul,jl,Hl,!1,Il);if(null===a&&(Xl(jl.set(-.5,.5,0),zl,o,Ll,r,i),Gl.set(0,1),a=e.ray.intersectTriangle(Ul,Hl,jl,!1,Il),null===a))return;const s=e.ray.origin.distanceTo(Il);s<e.near||s>e.far||t.push({distance:s,point:Il.clone(),uv:Ei.getInterpolation(Il,Ul,jl,Hl,Vl,Gl,Wl,new zn),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Xl(e,t,n,r,i,o){Fl.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Nl.x=o*Fl.x-i*Fl.y,Nl.y=i*Fl.x+o*Fl.y):Nl.copy(Fl),e.copy(t),e.x+=Nl.x,e.y+=Nl.y,e.applyMatrix4(Bl)}const Ql=new ur,ql=new ur;class Kl extends di{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Ql.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(Ql);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ql.setFromMatrixPosition(e.matrixWorld),ql.setFromMatrixPosition(this.matrixWorld);const n=Ql.distanceTo(ql)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const Zl=new ur,Jl=new nr,$l=new nr,ec=new ur,tc=new Ur,nc=new ur;class rc extends Eo{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ur,this.bindMatrixInverse=new Ur,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new fr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)nc.fromBufferAttribute(t,n),this.applyBoneTransform(n,nc),this.boundingBox.expandByPoint(nc)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Dr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)nc.fromBufferAttribute(t,n),this.applyBoneTransform(n,nc),this.boundingSphere.expandByPoint(nc)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new nr,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;Jl.fromBufferAttribute(r.attributes.skinIndex,e),$l.fromBufferAttribute(r.attributes.skinWeight,e),Zl.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=$l.getComponent(i);if(0!==e){const r=Jl.getComponent(i);tc.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(ec.copy(Zl).applyMatrix4(tc),e)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class ic extends di{constructor(){super(),this.isBone=!0,this.type="Bone"}}class oc extends tr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:pe,arguments.length>9&&void 0!==arguments[9]?arguments[9]:pe,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ac=new Ur,sc=new Ur;class lc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=_n(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Ur)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Ur;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,o=e.length;i<o;i++){const r=e[i]?e[i].matrixWorld:sc;ac.multiplyMatrices(r,t[i]),ac.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new lc(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=Dn(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new oc(t,e,e,ze,Oe);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new ic),this.bones.push(i),this.boneInverses.push((new Ur).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const o=n[r];e.boneInverses.push(o.toArray())}return e}}class cc extends Ui{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const uc=new Ur,dc=new Ur,hc=[],fc=new fr,pc=new Ur,mc=new Eo,gc=new Dr;class vc extends Eo{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new cc(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,pc)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new fr),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,uc),fc.copy(e.boundingBox).applyMatrix4(uc),this.boundingBox.union(fc)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Dr),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,uc),gc.copy(e.boundingSphere).applyMatrix4(uc),this.boundingSphere.union(gc)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(mc.geometry=this.geometry,mc.material=this.material,void 0!==mc.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),gc.copy(this.boundingSphere),gc.applyMatrix4(n),!1!==e.ray.intersectsSphere(gc)))for(let i=0;i<r;i++){this.getMatrixAt(i,uc),dc.multiplyMatrices(n,uc),mc.matrixWorld=dc,mc.raycast(e,hc);for(let e=0,n=hc.length;e<n;e++){const n=hc[e];n.instanceId=i,n.object=this,t.push(n)}hc.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new cc(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class yc extends Ci{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Oi(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const bc=new ur,xc=new ur,wc=new Ur,Sc=new Br,Ec=new Dr;class Mc extends di{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new io,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yc;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)bc.fromBufferAttribute(t,e-1),xc.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=bc.distanceTo(xc);e.setAttribute("lineDistance",new qi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ec.copy(n.boundingSphere),Ec.applyMatrix4(r),Ec.radius+=i,!1===e.ray.intersectsSphere(Ec))return;wc.copy(r).invert(),Sc.copy(e.ray).applyMatrix4(wc);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new ur,c=new ur,u=new ur,d=new ur,h=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f){for(let n=Math.max(0,o.start),r=Math.min(f.count,o.start+o.count)-1;n<r;n+=h){const r=f.getX(n),i=f.getX(n+1);l.fromBufferAttribute(p,r),c.fromBufferAttribute(p,i);if(Sc.distanceSqToSegment(l,c,d,u)>s)continue;d.applyMatrix4(this.matrixWorld);const o=e.ray.origin.distanceTo(d);o<e.near||o>e.far||t.push({distance:o,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else{for(let n=Math.max(0,o.start),r=Math.min(p.count,o.start+o.count)-1;n<r;n+=h){l.fromBufferAttribute(p,n),c.fromBufferAttribute(p,n+1);if(Sc.distanceSqToSegment(l,c,d,u)>s)continue;d.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(d);r<e.near||r>e.far||t.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}const Cc=new ur,_c=new ur;class Tc extends Mc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)Cc.fromBufferAttribute(t,e),_c.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Cc.distanceTo(_c);e.setAttribute("lineDistance",new qi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Ac extends Mc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Pc extends Ci{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Oi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Oc=new Ur,Dc=new Br,Rc=new Dr,kc=new ur;class Ic extends di{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new io,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pc;super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Rc.copy(n.boundingSphere),Rc.applyMatrix4(r),Rc.radius+=i,!1===e.ray.intersectsSphere(Rc))return;Oc.copy(r).invert(),Dc.copy(e.ray).applyMatrix4(Oc);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,o.start),i=Math.min(l.count,o.start+o.count);n<i;n++){const i=l.getX(n);kc.fromBufferAttribute(c,i),Lc(kc,i,s,r,e,t,this)}}else{for(let n=Math.max(0,o.start),i=Math.min(c.count,o.start+o.count);n<i;n++)kc.fromBufferAttribute(c,n),Lc(kc,n,s,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Lc(e,t,n,r,i,o,a){const s=Dc.distanceSqToPoint(e);if(s<n){const n=new ur;Dc.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:a})}}class zc extends tr{constructor(e,t,n,r,i,o,a,s,l){super(e,t,n,r,i,o,a,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:be,this.magFilter=void 0!==i?i:be,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Fc extends tr{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=pe,this.minFilter=pe,this.generateMipmaps=!1,this.needsUpdate=!0}}class Nc extends tr{constructor(e,t,n,r,i,o,a,s,l,c,u,d){super(null,o,a,s,l,c,r,i,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Bc extends Nc{constructor(e,t,n,r,i,o){super(e,t,n,i,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=he}}class Uc extends tr{constructor(e,t,n,r,i,o,a,s,l){super(e,t,n,r,i,o,a,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class jc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let o;o=t||e*n[i-1];let a,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const c=n[r];return(r+(o-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new zn:new ur);return s.copy(a).sub(o).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new ur,r=[],i=[],o=[],a=new ur,s=new Ur;for(let h=0;h<=e;h++){const t=h/e;r[h]=this.getTangentAt(t,new ur)}i[0]=new ur,o[0]=new ur;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(Tn(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(a,e))}o[h].crossVectors(r[h],i[h])}if(!0===t){let t=Math.acos(Tn(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Hc extends jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s}getPoint(e,t){const n=t||new zn,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const a=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Vc extends Hc{constructor(e,t,n,r,i,o){super(e,t,n,n,r,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Gc(){let e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){let l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+s)+(r-n)/s;l*=a,c*=a,i(t,n,l,c)},calc:function(i){const o=i*i;return e+t*i+n*o+r*(o*i)}}}const Wc=new ur,Yc=new Gc,Xc=new Gc,Qc=new Gc;class qc extends jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur,n=this.points,r=n.length,i=(r-(this.closed?0:1))*e;let o,a,s=Math.floor(i),l=i-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:0===l&&s===r-1&&(s=r-2,l=1),this.closed||s>0?o=n[(s-1)%r]:(Wc.subVectors(n[0],n[1]).add(n[0]),o=Wc);const c=n[s%r],u=n[(s+1)%r];if(this.closed||s+2<r?a=n[(s+2)%r]:(Wc.subVectors(n[r-1],n[r-2]).add(n[r-1]),a=Wc),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(u),e),r=Math.pow(u.distanceToSquared(a),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),Yc.initNonuniformCatmullRom(o.x,c.x,u.x,a.x,t,n,r),Xc.initNonuniformCatmullRom(o.y,c.y,u.y,a.y,t,n,r),Qc.initNonuniformCatmullRom(o.z,c.z,u.z,a.z,t,n,r)}else"catmullrom"===this.curveType&&(Yc.initCatmullRom(o.x,c.x,u.x,a.x,this.tension),Xc.initCatmullRom(o.y,c.y,u.y,a.y,this.tension),Qc.initCatmullRom(o.z,c.z,u.z,a.z,this.tension));return t.set(Yc.calc(l),Xc.calc(l),Qc.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new ur).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Kc(e,t,n,r,i){const o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function Zc(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Jc(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class $c extends jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new zn,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new zn;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zn,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(Jc(e,n.x,r.x,i.x,o.x),Jc(e,n.y,r.y,i.y,o.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eu extends jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ur,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ur;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(Jc(e,n.x,r.x,i.x,o.x),Jc(e,n.y,r.y,i.y,o.y),Jc(e,n.z,r.z,i.z,o.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class tu extends jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zn;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zn;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zn).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nu extends jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ru extends jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new zn;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zn,n=this.v0,r=this.v1,i=this.v2;return t.set(Zc(e,n.x,r.x,i.x),Zc(e,n.y,r.y,i.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iu extends jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ur;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur,n=this.v0,r=this.v1,i=this.v2;return t.set(Zc(e,n.x,r.x,i.x),Zc(e,n.y,r.y,i.y),Zc(e,n.z,r.z,i.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ou extends jc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zn,n=this.points,r=(n.length-1)*e,i=Math.floor(r),o=r-i,a=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],c=n[i>n.length-3?n.length-1:i+2];return t.set(Kc(o,a.x,s.x,l.x,c.x),Kc(o,a.y,s.y,l.y,c.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new zn).fromArray(n))}return this}}var au=Object.freeze({__proto__:null,ArcCurve:Vc,CatmullRomCurve3:qc,CubicBezierCurve:$c,CubicBezierCurve3:eu,EllipseCurve:Hc,LineCurve:tu,LineCurve3:nu,QuadraticBezierCurve:ru,QuadraticBezierCurve3:iu,SplineCurve:ou});class su extends jc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new tu(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,o=this.curves[i],a=o.getLength(),s=0===a?0:1-e/a;return o.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],a=o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new au[n.type]).fromJSON(n))}return this}}class lu extends su{constructor(e){super(),this.type="Path",this.currentPoint=new zn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new tu(this.currentPoint.clone(),new zn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new ru(this.currentPoint.clone(),new zn(e,t),new zn(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,o){const a=new $c(this.currentPoint.clone(),new zn(e,t),new zn(n,r),new zn(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new ou(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,o){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this}absarc(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}ellipse(e,t,n,r,i,o,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,o,a,s),this}absellipse(e,t,n,r,i,o,a,s){const l=new Hc(e,t,n,r,i,o,a,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class cu extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new zn(0,-.5),new zn(.5,0),new zn(0,.5)],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Tn(r,0,2*Math.PI);const i=[],o=[],a=[],s=[],l=[],c=1/t,u=new ur,d=new zn,h=new ur,f=new ur,p=new ur;let m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=1*g,h.y=-m,h.z=0*g,p.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=1*g,h.y=-m,h.z=0*g,f.copy(h),h.x+=p.x,h.y+=p.y,h.z+=p.z,h.normalize(),s.push(h.x,h.y,h.z),p.copy(f)}for(let v=0;v<=t;v++){const i=n+v*c*r,h=Math.sin(i),f=Math.cos(i);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*h,u.y=e[n].y,u.z=e[n].x*f,o.push(u.x,u.y,u.z),d.x=v/t,d.y=n/(e.length-1),a.push(d.x,d.y);const r=s[3*n+0]*h,i=s[3*n+1],c=s[3*n+0]*f;l.push(r,i,c)}}for(let v=0;v<t;v++)for(let t=0;t<e.length-1;t++){const n=t+v*e.length,r=n,o=n+e.length,a=n+e.length+1,s=n+1;i.push(r,o,s),i.push(a,s,o)}this.setIndex(i),this.setAttribute("position",new qi(o,3)),this.setAttribute("uv",new qi(a,2)),this.setAttribute("normal",new qi(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cu(e.points,e.segments,e.phiStart,e.phiLength)}}class uu extends cu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;const i=new lu;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new uu(e.radius,e.length,e.capSegments,e.radialSegments)}}class du extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],o=[],a=[],s=[],l=new ur,c=new zn;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),o.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(o[d]/e+1)/2,c.y=(o[d+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new qi(o,3)),this.setAttribute("normal",new qi(a,3)),this.setAttribute("uv",new qi(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new du(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class hu extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],d=[],h=[];let f=0;const p=[],m=n/2;let g=0;function v(n){const i=f,o=new zn,p=new ur;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*b,0),d.push(0,b,0),h.push(.5,.5),f++;const x=f;for(let e=0;e<=r;e++){const t=e/r*s+a,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*b,p.z=y*n,u.push(p.x,p.y,p.z),d.push(0,b,0),o.x=.5*n+.5,o.y=.5*i*b+.5,h.push(o.x,o.y),f++}for(let e=0;e<r;e++){const t=i+e,r=x+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const o=new ur,v=new ur;let y=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+a,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),o.set(l,b,p).normalize(),d.push(o.x,o.y,o.z),h.push(t,1-g),c.push(f++)}p.push(c)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],o=p[t][e+1];c.push(n,r,o),c.push(r,i,o),y+=6}l.addGroup(g,y,0),g+=y}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new qi(u,3)),this.setAttribute("normal",new qi(d,3)),this.setAttribute("uv",new qi(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fu extends hu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}static fromJSON(e){return new fu(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pu extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],o=[];function a(e,t,n,r){const i=r+1,o=[];for(let a=0;a<=i;a++){o[a]=[];const r=e.clone().lerp(n,a/i),s=t.clone().lerp(n,a/i),l=i-a;for(let e=0;e<=l;e++)o[a][e]=0===e&&a===i?r:r.clone().lerp(s,e/l)}for(let a=0;a<i;a++)for(let e=0;e<2*(i-a)-1;e++){const t=Math.floor(e/2);e%2===0?(s(o[a][t+1]),s(o[a+1][t]),s(o[a][t])):(s(o[a][t+1]),s(o[a+1][t+1]),s(o[a+1][t]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new ur,r=new ur,i=new ur;for(let o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],r),l(t[o+2],i),a(n,r,i,e)}(r),function(e){const t=new ur;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new ur;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=u(e)/2/Math.PI+.5,a=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);o.push(r,1-a)}var t;(function(){const e=new ur,t=new ur,n=new ur,r=new ur,a=new zn,s=new zn,l=new zn;for(let d=0,h=0;d<i.length;d+=9,h+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),a.set(o[h+0],o[h+1]),s.set(o[h+2],o[h+3]),l.set(o[h+4],o[h+5]),r.copy(e).add(t).add(n).divideScalar(3);const f=u(r);c(a,h+0,e,f),c(s,h+2,t,f),c(l,h+4,n,f)}})(),function(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new qi(i,3)),this.setAttribute("normal",new qi(i.slice(),3)),this.setAttribute("uv",new qi(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pu(e.vertices,e.indices,e.radius,e.details)}}class mu extends pu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mu(e.radius,e.detail)}}const gu=new ur,vu=new ur,yu=new ur,bu=new Ei;class xu extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(Mn*t),o=e.getIndex(),a=e.getAttribute("position"),s=o?o.count:a.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let e=0;e<s;e+=3){o?(l[0]=o.getX(e),l[1]=o.getX(e+1),l[2]=o.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=bu;if(t.fromBufferAttribute(a,l[0]),n.fromBufferAttribute(a,l[1]),s.fromBufferAttribute(a,l[2]),bu.getNormal(yu),u[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,u[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,u[2]=`${Math.round(s.x*r)},${Math.round(s.y*r)},${Math.round(s.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],o=bu[c[e]],a=bu[c[t]],s=`${n}_${r}`,f=`${r}_${n}`;f in d&&d[f]?(yu.dot(d[f].normal)<=i&&(h.push(o.x,o.y,o.z),h.push(a.x,a.y,a.z)),d[f]=null):s in d||(d[s]={index0:l[e],index1:l[t],normal:yu.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];gu.fromBufferAttribute(a,t),vu.fromBufferAttribute(a,n),h.push(gu.x,gu.y,gu.z),h.push(vu.x,vu.y,vu.z)}this.setAttribute("position",new qi(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class wu extends lu{constructor(e){super(e),this.uuid=_n(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new lu).fromJSON(n))}return this}}const Su=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=t&&t.length,i=r?t[0]*n:e.length;let o=Eu(e,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,d,h,f;if(r&&(o=function(e,t,n,r){const i=[];let o,a,s,l,c;for(o=0,a=t.length;o<a;o++)s=t[o]*r,l=o<a-1?t[o+1]*r:e.length,c=Eu(e,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Iu(c));for(i.sort(Ou),o=0;o<i.length;o++)n=Du(i[o],n);return n}(e,t,o,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let t=n;t<i;t+=n)d=e[t],h=e[t+1],d<s&&(s=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);f=Math.max(c-s,u-l),f=0!==f?32767/f:0}return Cu(o,a,n,s,l,f,0),a};function Eu(e,t,n,r,i){let o,a;if(i===function(e,t,n,r){let i=0;for(let o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Gu(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Gu(o,e[o],e[o+1],a);return a&&Nu(a,a.next)&&(Wu(a),a=a.next),a}function Mu(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Nu(r,r.next)&&0!==Fu(r.prev,r,r.next))r=r.next;else{if(Wu(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Cu(e,t,n,r,i,o,a){if(!e)return;!a&&o&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=ku(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ,r);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);let s,l,c=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Tu(e,r,i,o):_u(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Wu(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?Cu(e=Au(Mu(e),t,n),t,n,r,i,o,2):2===a&&Pu(e,t,n,r,i,o):Cu(Mu(e),t,n,r,i,o,1);break}}function _u(e){const t=e.prev,n=e,r=e.next;if(Fu(t,n,r)>=0)return!1;const i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,d=s<l?s<c?s:c:l<c?l:c,h=i>o?i>a?i:a:o>a?o:a,f=s>l?s>c?s:c:l>c?l:c;let p=r.next;for(;p!==t;){if(p.x>=u&&p.x<=h&&p.y>=d&&p.y<=f&&Lu(i,s,o,l,a,c,p.x,p.y)&&Fu(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Tu(e,t,n,r){const i=e.prev,o=e,a=e.next;if(Fu(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,h=a.y,f=s<l?s<c?s:c:l<c?l:c,p=u<d?u<h?u:h:d<h?d:h,m=s>l?s>c?s:c:l>c?l:c,g=u>d?u>h?u:h:d>h?d:h,v=ku(f,p,t,n,r),y=ku(m,g,t,n,r);let b=e.prevZ,x=e.nextZ;for(;b&&b.z>=v&&x&&x.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==a&&Lu(s,u,l,d,c,h,b.x,b.y)&&Fu(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==a&&Lu(s,u,l,d,c,h,x.x,x.y)&&Fu(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;b&&b.z>=v;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==a&&Lu(s,u,l,d,c,h,b.x,b.y)&&Fu(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==a&&Lu(s,u,l,d,c,h,x.x,x.y)&&Fu(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Au(e,t,n){let r=e;do{const i=r.prev,o=r.next.next;!Nu(i,o)&&Bu(i,r,r.next,o)&&Hu(i,o)&&Hu(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),Wu(r),Wu(r.next),r=e=o),r=r.next}while(r!==e);return Mu(r)}function Pu(e,t,n,r,i,o){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&zu(a,e)){let s=Vu(a,e);return a=Mu(a,a.next),s=Mu(s,s.next),Cu(a,t,n,r,i,o,0),void Cu(s,t,n,r,i,o,0)}e=e.next}a=a.next}while(a!==e)}function Ou(e,t){return e.x-t.x}function Du(e,t){const n=function(e,t){let n,r=t,i=-1/0;const o=e.x,a=e.y;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){const e=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=o&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===o))return n}r=r.next}while(r!==t);if(!n)return null;const s=n,l=n.x,c=n.y;let u,d=1/0;r=n;do{o>=r.x&&r.x>=l&&o!==r.x&&Lu(a<c?o:i,a,l,c,a<c?i:o,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(o-r.x),Hu(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&Ru(n,r)))&&(n=r,d=u)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;const r=Vu(n,e);return Mu(r,r.next),Mu(n,n.next)}function Ru(e,t){return Fu(e.prev,e,t.prev)<0&&Fu(t.next,e,e.next)<0}function ku(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Iu(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Lu(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function zu(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Bu(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Hu(e,t)&&Hu(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Fu(e.prev,e,t.prev)||Fu(e,t.prev,t))||Nu(e,t)&&Fu(e.prev,e,e.next)>0&&Fu(t.prev,t,t.next)>0)}function Fu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Nu(e,t){return e.x===t.x&&e.y===t.y}function Bu(e,t,n,r){const i=ju(Fu(e,t,n)),o=ju(Fu(e,t,r)),a=ju(Fu(n,r,e)),s=ju(Fu(n,r,t));return i!==o&&a!==s||(!(0!==i||!Uu(e,n,t))||(!(0!==o||!Uu(e,r,t))||(!(0!==a||!Uu(n,e,r))||!(0!==s||!Uu(n,t,r)))))}function Uu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function ju(e){return e>0?1:e<0?-1:0}function Hu(e,t){return Fu(e.prev,e,e.next)<0?Fu(e,t,e.next)>=0&&Fu(e,e.prev,t)>=0:Fu(e,t,e.prev)<0||Fu(e,e.next,t)<0}function Vu(e,t){const n=new Yu(e.i,e.x,e.y),r=new Yu(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Gu(e,t,n,r){const i=new Yu(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Wu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Yu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Xu{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Xu.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Qu(e),qu(n,e);let o=e.length;t.forEach(Qu);for(let s=0;s<t.length;s++)r.push(o),o+=t[s].length,qu(n,t[s]);const a=Su(n,r);for(let s=0;s<a.length;s+=3)i.push(a.slice(s,s+3));return i}}function Qu(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function qu(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Ku extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wu([new zn(.5,.5),new zn(-.5,.5),new zn(-.5,-.5),new zn(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let a=0,s=e.length;a<s;a++){o(e[a])}function o(e){const o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:u-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Zu;let g,v,y,b,x,w=!1;p&&(g=p.getSpacedPoints(s),w=!0,c=!1,v=p.computeFrenetFrames(s,!1),y=new ur,b=new ur,x=new ur),c||(f=0,u=0,d=0,h=0);const S=e.extractPoints(a);let E=S.shape;const M=S.holes;if(!Xu.isClockWise(E)){E=E.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];Xu.isClockWise(t)&&(M[e]=t.reverse())}}const C=Xu.triangulateShape(E,M),_=E;for(let t=0,n=M.length;t<n;t++){const e=M[t];E=E.concat(e)}function T(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const A=E.length,P=C.length;function O(e,t,n){let r,i,o;const a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=a*a+s*s,d=a*c-s*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(u),h=Math.sqrt(l*l+c*c),f=t.x-s/d,p=t.y+a/d,m=((n.x-c/h-f)*c-(n.y+l/h-p)*l)/(a*c-s*l);r=f+a*m-e.x,i=p+s*m-e.y;const g=r*r+i*i;if(g<=2)return new zn(r,i);o=Math.sqrt(g/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new zn(r/o,i/o)}const D=[];for(let t=0,n=_.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),D[t]=O(_[t],_[r],_[i]);const R=[];let k,I=D.concat();for(let t=0,n=M.length;t<n;t++){const e=M[t];k=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),k[t]=O(e[t],e[r],e[i]);R.push(k),I=I.concat(k)}for(let t=0;t<f;t++){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=d*Math.sin(e*Math.PI/2)+h;for(let t=0,i=_.length;t<i;t++){const e=T(_[t],D[t],r);F(e.x,e.y,-n)}for(let t=0,i=M.length;t<i;t++){const e=M[t];k=R[t];for(let t=0,i=e.length;t<i;t++){const i=T(e[t],k[t],r);F(i.x,i.y,-n)}}}const L=d+h;for(let t=0;t<A;t++){const e=c?T(E[t],I[t],L):E[t];w?(b.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),x.copy(g[0]).add(b).add(y),F(x.x,x.y,x.z)):F(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<A;e++){const n=c?T(E[e],I[e],L):E[e];w?(b.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),x.copy(g[t]).add(b).add(y),F(x.x,x.y,x.z)):F(n.x,n.y,l/s*t)}for(let t=f-1;t>=0;t--){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=d*Math.sin(e*Math.PI/2)+h;for(let t=0,i=_.length;t<i;t++){const e=T(_[t],D[t],r);F(e.x,e.y,l+n)}for(let t=0,i=M.length;t<i;t++){const e=M[t];k=R[t];for(let t=0,i=e.length;t<i;t++){const i=T(e[t],k[t],r);w?F(i.x,i.y+g[s-1].y,g[s-1].x+n):F(i.x,i.y,l+n)}}}function z(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*f;e<n;e++){const n=A*e,o=A*(e+1);B(t+r+n,t+i+n,t+i+o,t+r+o)}}}function F(e,t,n){o.push(e),o.push(t),o.push(n)}function N(e,t,i){U(e),U(t),U(i);const o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);j(a[0]),j(a[1]),j(a[2])}function B(e,t,i,o){U(e),U(t),U(o),U(t),U(i),U(o);const a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);j(s[0]),j(s[1]),j(s[3]),j(s[1]),j(s[2]),j(s[3])}function U(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function j(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=A*e;for(let n=0;n<P;n++){const e=C[n];N(e[2]+t,e[1]+t,e[0]+t)}e=s+2*f,t=A*e;for(let n=0;n<P;n++){const e=C[n];N(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<P;e++){const t=C[e];N(t[2],t[1],t[0])}for(let e=0;e<P;e++){const t=C[e];N(t[0]+A*s,t[1]+A*s,t[2]+A*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;z(_,t),t+=_.length;for(let n=0,r=M.length;n<r;n++){const e=M[n];z(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new qi(r,3)),this.setAttribute("uv",new qi(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,o=e.shapes.length;i<o;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new au[r.type]).fromJSON(r)),new Ku(n,e.options)}}const Zu={generateTopUV:function(e,t,n,r,i){const o=t[3*n],a=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new zn(o,a),new zn(s,l),new zn(c,u)]},generateSideWallUV:function(e,t,n,r,i,o){const a=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],d=t[3*r+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(s-u)<Math.abs(a-c)?[new zn(a,1-l),new zn(c,1-d),new zn(h,1-p),new zn(m,1-v)]:[new zn(s,1-l),new zn(u,1-d),new zn(f,1-p),new zn(g,1-v)]}};class Ju extends pu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ju(e.radius,e.detail)}}class $u extends pu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $u(e.radius,e.detail)}}class ed extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const a=[],s=[],l=[],c=[];let u=e;const d=(t-e)/r,h=new ur,f=new zn;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*o;h.x=u*Math.cos(r),h.y=u*Math.sin(r),s.push(h.x,h.y,h.z),l.push(0,0,1),f.x=(h.x/t+1)/2,f.y=(h.y/t+1)/2,c.push(f.x,f.y)}u+=d}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,o=r+n+1,s=r+n+2,l=r+1;a.push(i,o,l),a.push(o,s,l)}}this.setIndex(a),this.setAttribute("position",new qi(s,3)),this.setAttribute("normal",new qi(l,3)),this.setAttribute("uv",new qi(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ed(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class td extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new wu([new zn(0,.5),new zn(-.5,-.5),new zn(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],o=[];let a=0,s=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(a,s,c),a+=s,s=0;function l(e){const a=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===Xu.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===Xu.isClockWise(e)&&(u[t]=e.reverse())}const d=Xu.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),o.push(e.x,e.y)}for(let t=0,r=d.length;t<r;t++){const e=d[t],r=e[0]+a,i=e[1]+a,o=e[2]+a;n.push(r,i,o),s+=3}}this.setIndex(n),this.setAttribute("position",new qi(r,3)),this.setAttribute("normal",new qi(i,3)),this.setAttribute("uv",new qi(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new td(n,e.curveSegments)}}class nd extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(o+a,Math.PI);let l=0;const c=[],u=new ur,d=new ur,h=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const h=[],v=g/n;let y=0;0===g&&0===o?y=.5/t:g===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(o+v*a),u.y=e*Math.cos(o+v*a),u.z=e*Math.sin(r+s*i)*Math.sin(o+v*a),f.push(u.x,u.y,u.z),d.copy(u).normalize(),p.push(d.x,d.y,d.z),m.push(s+y,1-v),h.push(l++)}c.push(h)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],a=c[g+1][e+1];(0!==g||o>0)&&h.push(t,r,a),(g!==n-1||s<Math.PI)&&h.push(r,i,a)}this.setIndex(h),this.setAttribute("position",new qi(f,3)),this.setAttribute("normal",new qi(p,3)),this.setAttribute("uv",new qi(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class rd extends pu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rd(e.radius,e.detail)}}class id extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],s=[],l=[],c=new ur,u=new ur,d=new ur;for(let h=0;h<=n;h++)for(let o=0;o<=r;o++){const f=o/r*i,p=h/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),a.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(o/r),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=r;e++){const t=(r+1)*h+e-1,n=(r+1)*(h-1)+e-1,i=(r+1)*(h-1)+e,a=(r+1)*h+e;o.push(t,n,a),o.push(n,i,a)}this.setIndex(o),this.setAttribute("position",new qi(a,3)),this.setAttribute("normal",new qi(s,3)),this.setAttribute("uv",new qi(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new id(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class od extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],s=[],l=[],c=[],u=new ur,d=new ur,h=new ur,f=new ur,p=new ur,m=new ur,g=new ur;for(let y=0;y<=n;++y){const a=y/n*i*Math.PI*2;v(a,i,o,e,h),v(a+.01,i,o,e,f),m.subVectors(f,h),g.addVectors(f,h),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,o=-t*Math.cos(i),a=t*Math.sin(i);u.x=h.x+(o*g.x+a*p.x),u.y=h.y+(o*g.y+a*p.y),u.z=h.z+(o*g.z+a*p.z),s.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(y/n),c.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,o=(r+1)*(y-1)+e;a.push(t,n,o),a.push(n,i,o)}function v(e,t,n,r,i){const o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new qi(s,3)),this.setAttribute("normal",new qi(l,3)),this.setAttribute("uv",new qi(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new od(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ad extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new iu(new ur(-1,-1,0),new ur(-1,1,0),new ur(1,1,0)),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ur,s=new ur,l=new zn;let c=new ur;const u=[],d=[],h=[],f=[];function p(i){c=e.getPointAt(i/t,c);const l=o.normals[i],h=o.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),o=-Math.cos(t);s.x=o*l.x+i*h.x,s.y=o*l.y+i*h.y,s.z=o*l.z+i*h.z,s.normalize(),d.push(s.x,s.y,s.z),a.x=c.x+n*s.x,a.y=c.y+n*s.y,a.z=c.z+n*s.z,u.push(a.x,a.y,a.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,a=(r+1)*(e-1)+t;f.push(n,i,a),f.push(i,o,a)}}()}(),this.setIndex(f),this.setAttribute("position",new qi(u,3)),this.setAttribute("normal",new qi(d,3)),this.setAttribute("uv",new qi(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ad((new au[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class sd extends io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new ur,i=new ur;if(null!==e.index){const o=e.attributes.position,a=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],c=l.start;for(let e=c,s=c+l.count;e<s;e+=3)for(let l=0;l<3;l++){const s=a.getX(e+l),c=a.getX(e+(l+1)%3);r.fromBufferAttribute(o,s),i.fromBufferAttribute(o,c),!0===ld(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const o=e.attributes.position;for(let e=0,a=o.count/3;e<a;e++)for(let s=0;s<3;s++){const a=3*e+s,l=3*e+(s+1)%3;r.fromBufferAttribute(o,a),i.fromBufferAttribute(o,l),!0===ld(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new qi(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function ld(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var cd=Object.freeze({__proto__:null,BoxGeometry:Co,CapsuleGeometry:uu,CircleGeometry:du,ConeGeometry:fu,CylinderGeometry:hu,DodecahedronGeometry:mu,EdgesGeometry:xu,ExtrudeGeometry:Ku,IcosahedronGeometry:Ju,LatheGeometry:cu,OctahedronGeometry:$u,PlaneGeometry:Yo,PolyhedronGeometry:pu,RingGeometry:ed,ShapeGeometry:td,SphereGeometry:nd,TetrahedronGeometry:rd,TorusGeometry:id,TorusKnotGeometry:od,TubeGeometry:ad,WireframeGeometry:sd});class ud extends Ci{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Oi(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class dd extends Oo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class hd extends Ci{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Oi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ut,this.normalScale=new zn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fd extends hd{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new zn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Tn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Oi(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Oi(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Oi(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class pd extends Ci{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Oi(16777215),this.specular=new Oi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ut,this.normalScale=new zn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class md extends Ci{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Oi(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ut,this.normalScale=new zn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class gd extends Ci{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ut,this.normalScale=new zn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class vd extends Ci{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Oi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ut,this.normalScale=new zn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=K,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yd extends Ci{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Oi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ut,this.normalScale=new zn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bd extends yc{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xd(e,t,n){return Sd(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function wd(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Sd(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ed(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function Md(e,t,n){const r=e.length,i=new e.constructor(r);for(let o=0,a=0;a!==r;++o){const r=n[o]*t;for(let n=0;n!==t;++n)i[a++]=e[r+n]}return i}function Cd(e,t,n,r){let i=1,o=e[0];for(;void 0!==o&&void 0===o[r];)o=e[i++];if(void 0===o)return;let a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}const _d={arraySlice:xd,convertArray:wd,isTypedArray:Sd,getKeyframeOrder:Ed,sortedArray:Md,flattenJSON:Cd,subclip:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const o=e.clone();o.name=t;const a=[];for(let l=0;l<o.tracks.length;++l){const e=o.tracks[l],t=e.getValueSize(),s=[],c=[];for(let o=0;o<e.times.length;++o){const a=e.times[o]*i;if(!(a<n||a>=r)){s.push(e.times[o]);for(let n=0;n<t;++n)c.push(e.values[o*t+n])}}0!==s.length&&(e.times=wd(s,e.times.constructor),e.values=wd(c,e.values.constructor),a.push(e))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);const i=n.tracks.length,o=t/r;for(let a=0;a<i;++a){const t=n.tracks[a],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;let s=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const d=t.times.length-1;let h;if(o<=t.times[0]){const e=s,n=l-s;h=xd(t.values,e,n)}else if(o>=t.times[d]){const e=d*l+s,n=e+l-s;h=xd(t.values,e,n)}else{const e=t.createInterpolant(),n=s,r=l-s;e.evaluate(o),h=xd(e.resultBuffer,n,r)}if("quaternion"===r){(new cr).fromArray(h).normalize().conjugate().toArray(h)}const f=i.times.length;for(let e=0;e<f;++e){const t=e*u+c;if("quaternion"===r)cr.multiplyQuaternionsFlat(i.values,t,h,0,i.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)i.values[t+n]-=h[n]}}}return e.blendMode=Rt,e}};class Td{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=i)break e;{const a=t[1];e<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}for(;n<o;){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let o=0;o!==r;++o)t[o]=n[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Ad extends Td{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:At,endingEnd:At}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Pt:i=e,a=2*t-n;break;case Ot:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Pt:o=e,s=2*n-t;break;case Ot:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-d*m+2*d*p-d*f,v=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p;for(let x=0;x!==a;++x)i[x]=g*o[c+x]+v*o[l+x]+y*o[s+x]+b*o[u+x];return i}}class Pd extends Td{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c;for(let d=0;d!==a;++d)i[d]=o[l+d]*u+o[s+d]*c;return i}}class Od extends Td{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Dd{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=wd(t,this.TimeBufferType),this.values=wd(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:wd(e.times,Array),values:wd(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Od(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Pd(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Ad(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ct:t=this.InterpolantFactoryMethodDiscrete;break;case _t:t=this.InterpolantFactoryMethodLinear;break;case Tt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ct;case this.InterpolantFactoryMethodLinear:return _t;case this.InterpolantFactoryMethodSmooth:return Tt}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=xd(n,i,o),this.values=xd(this.values,i*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==i;a++){const t=n[a];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,t,o),e=!1;break}o=t}if(void 0!==r&&Sd(r))for(let a=0,s=r.length;a!==s;++a){const t=r[a];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,t),e=!1;break}}return e}optimize(){const e=xd(this.times),t=xd(this.values),n=this.getValueSize(),r=this.getInterpolation()===Tt,i=e.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=e[a];if(s!==e[a+1]&&(1!==a||s!==e[0]))if(r)i=!0;else{const e=a*n,r=e-n,o=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[o+a]){i=!0;break}}}if(i){if(a!==o){e[o]=e[a];const r=a*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,a=0;a!==n;++a)t[r+a]=t[e+a];++o}return o!==e.length?(this.times=xd(e,0,o),this.values=xd(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=xd(this.times,0),t=xd(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}Dd.prototype.TimeBufferType=Float32Array,Dd.prototype.ValueBufferType=Float32Array,Dd.prototype.DefaultInterpolation=_t;class Rd extends Dd{}Rd.prototype.ValueTypeName="bool",Rd.prototype.ValueBufferType=Array,Rd.prototype.DefaultInterpolation=Ct,Rd.prototype.InterpolantFactoryMethodLinear=void 0,Rd.prototype.InterpolantFactoryMethodSmooth=void 0;class kd extends Dd{}kd.prototype.ValueTypeName="color";class Id extends Dd{}Id.prototype.ValueTypeName="number";class Ld extends Td{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let l=e*a;for(let c=l+a;l!==c;l+=4)cr.slerpFlat(i,0,o,l-a,o,l,s);return i}}class zd extends Dd{InterpolantFactoryMethodLinear(e){return new Ld(this.times,this.values,this.getValueSize(),e)}}zd.prototype.ValueTypeName="quaternion",zd.prototype.DefaultInterpolation=_t,zd.prototype.InterpolantFactoryMethodSmooth=void 0;class Fd extends Dd{}Fd.prototype.ValueTypeName="string",Fd.prototype.ValueBufferType=Array,Fd.prototype.DefaultInterpolation=Ct,Fd.prototype.InterpolantFactoryMethodLinear=void 0,Fd.prototype.InterpolantFactoryMethodSmooth=void 0;class Nd extends Dd{}Nd.prototype.ValueTypeName="vector";class Bd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dt;this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=_n(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(Ud(n[o]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,o=n.length;i!==o;++i)t.push(Dd.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,o=[];for(let a=0;a<i;a++){let e=[],s=[];e.push((a+i-1)%i,a,(a+1)%i),s.push(0,1,0);const l=Ed(e);e=Md(e,1,l),s=Md(s,1,l),r||0!==e[0]||(e.push(i),s.push(s[0])),o.push(new Id(".morphTargetInfluences["+t[a].name+"]",e,s).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let a=0,s=e.length;a<s;a++){const t=e[a],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const o=[],a=[];Cd(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],o=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),o.push(r.morphTarget===i?1:0)}r.push(new Id(".morphTargetInfluence["+i+"]",t,o))}s=t.length*o}else{const i=".bones["+t[c].name+"]";n(Nd,i+".position",e,"pos",r),n(zd,i+".quaternion",e,"rot",r),n(Nd,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,s,r,a)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ud(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Id;case"vector":case"vector2":case"vector3":case"vector4":return Nd;case"color":return kd;case"quaternion":return zd;case"bool":case"boolean":return Rd;case"string":return Fd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];Cd(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const jd={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class Hd{constructor(e,t,n){const r=this;let i,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===o&&void 0!==r.onStart&&r.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const Vd=new Hd;class Gd{constructor(e){this.manager=void 0!==e?e:Vd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Wd={};class Yd extends Error{constructor(e,t){super(e),this.response=t}}class Xd extends Gd{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=jd.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==Wd[e])return void Wd[e].push({onLoad:t,onProgress:n,onError:r});Wd[e]=[],Wd[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,s=this.responseType;fetch(o).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=Wd[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),o=i?parseInt(i):0,a=0!==o;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then((r=>{let{done:i,value:l}=r;if(i)e.close();else{s+=l.byteLength;const r=new ProgressEvent("progress",{lengthComputable:a,loaded:s,total:o});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new Yd(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,a)));case"json":return e.json();default:if(void 0===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{jd.add(e,t);const n=Wd[e];delete Wd[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=Wd[e];if(void 0===n)throw this.manager.itemError(e),t;delete Wd[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Qd extends Gd{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Xd(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Bd.parse(e[n]);t.push(r)}return t}}class qd extends Gd{constructor(e){super(e)}load(e,t,n,r){const i=this,o=[],a=new Nc,s=new Xd(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function c(c){s.load(e[c],(function(e){const n=i.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=be),a.image=o,a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else s.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}a.image=o}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=be),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}class Kd extends Gd{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=jd.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const a=Hn("img");function s(){c(),jd.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}class Zd extends Gd{constructor(e){super(e)}load(e,t,n,r){const i=new Lo,o=new Kd(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,a++,6===a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let l=0;l<e.length;++l)s(l);return i}}class Jd extends Gd{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new oc,a=new Xd(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){const n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:he,o.wrapT=void 0!==n.wrapT?n.wrapT:he,o.magFilter=void 0!==n.magFilter?n.magFilter:be,o.minFilter=void 0!==n.minFilter?n.minFilter:be,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(o.encoding=n.encoding),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=Se),1===n.mipmapCount&&(o.minFilter=be),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}class $d extends Gd{constructor(e){super(e)}load(e,t,n,r){const i=new tr,o=new Kd(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class eh extends di{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new Oi(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class th extends eh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(di.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Oi(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const nh=new Ur,rh=new ur,ih=new ur;class oh{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new zn(512,512),this.map=null,this.mapPass=null,this.matrix=new Ur,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Vo,this._frameExtents=new zn(1,1),this._viewportCount=1,this._viewports=[new nr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;rh.setFromMatrixPosition(e.matrixWorld),t.position.copy(rh),ih.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(ih),t.updateMatrixWorld(),nh.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nh),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(nh)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ah extends oh{constructor(){super(new Ro(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Cn*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class sh extends eh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(di.DEFAULT_UP),this.updateMatrix(),this.target=new di,this.distance=n,this.angle=r,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new ah}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const lh=new Ur,ch=new ur,uh=new ur;class dh extends oh{constructor(){super(new Ro(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new zn(4,2),this._viewportCount=6,this._viewports=[new nr(2,1,1,1),new nr(0,1,1,1),new nr(3,1,1,1),new nr(1,1,1,1),new nr(3,0,1,1),new nr(1,0,1,1)],this._cubeDirections=[new ur(1,0,0),new ur(-1,0,0),new ur(0,0,1),new ur(0,0,-1),new ur(0,1,0),new ur(0,-1,0)],this._cubeUps=[new ur(0,1,0),new ur(0,1,0),new ur(0,1,0),new ur(0,1,0),new ur(0,0,1),new ur(0,0,-1)]}updateMatrices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),ch.setFromMatrixPosition(e.matrixWorld),n.position.copy(ch),uh.copy(n.position),uh.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(uh),n.updateMatrixWorld(),r.makeTranslation(-ch.x,-ch.y,-ch.z),lh.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lh)}}class hh extends eh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new dh}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class fh extends oh{constructor(){super(new ra(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ph extends eh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(di.DEFAULT_UP),this.updateMatrix(),this.target=new di,this.shadow=new fh}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class mh extends eh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class gh extends eh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class vh{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ur)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class yh extends eh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vh;super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class bh extends Gd{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,o=new Xd(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=bh.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Oi).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new Oi).setHex(t.value);break;case"v2":r.uniforms[i].value=(new zn).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new ur).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new nr).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new Fn).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new Ur).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new zn).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new zn).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new{ShadowMaterial:ud,SpriteMaterial:Rl,RawShaderMaterial:dd,ShaderMaterial:Oo,PointsMaterial:Pc,MeshPhysicalMaterial:fd,MeshStandardMaterial:hd,MeshPhongMaterial:pd,MeshToonMaterial:md,MeshNormalMaterial:gd,MeshLambertMaterial:vd,MeshDepthMaterial:cl,MeshDistanceMaterial:ul,MeshBasicMaterial:Ri,MeshMatcapMaterial:yd,LineDashedMaterial:bd,LineBasicMaterial:yc,Material:Ci}[e]}}class xh{static decodeText(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class wh extends io{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Sh extends Gd{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Xd(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],o=new Uint32Array(i).buffer;return n[t]=o,o}(e,i.buffer),a=jn(i.type,o),s=new Pl(a,i.stride);return s.uuid=i.uuid,t[r]=s,s}const i=e.isInstancedBufferGeometry?new wh:new io,o=e.data.index;if(void 0!==o){const e=jn(o.type,o.array);i.setIndex(new Ui(e,1))}const a=e.data.attributes;for(const u in a){const t=a[u];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new Dl(i,t.itemSize,t.offset,t.normalized)}else{const e=jn(t.type,t.array);n=new(t.isInstancedBufferAttribute?cc:Ui)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),void 0!==t.updateRange&&(n.updateRange.offset=t.updateRange.offset,n.updateRange.count=t.updateRange.count),i.setAttribute(u,n)}const s=e.data.morphAttributes;if(s)for(const u in s){const t=s[u],n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i];let a;if(o.isInterleavedBufferAttribute){const t=r(e.data,o.data);a=new Dl(t,o.itemSize,o.offset,o.normalized)}else{const e=jn(o.type,o.array);a=new Ui(e,o.itemSize,o.normalized)}void 0!==o.name&&(a.name=o.name),n.push(a)}i.morphAttributes[u]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,d=l.length;u!==d;++u){const e=l[u];i.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new ur;void 0!==c.center&&e.fromArray(c.center),i.boundingSphere=new Dr(e,c.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}class Eh extends Gd{constructor(e){super(e)}load(e,t,n,r){const i=this,o=""===this.path?xh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Xd(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){let o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}const a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(o,t)}),n,r)}async loadAsync(e,t){const n=""===this.path?xh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new Xd(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),o=JSON.parse(i),a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),void 0!==t){let e=!1;for(const t in o)if(o[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a,o,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new wu).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let i=0,o=e.length;i<o;i++){const t=(new lc).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new Sh;for(let i=0,o=e.length;i<o;i++){let o;const a=e[i];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(a);break;default:a.type in cd?o=cd[a.type].fromJSON(a,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),void 0!==a.userData&&(o.userData=a.userData),n[a.uuid]=o}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new bh;i.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=Bd.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function o(e){if("string"===typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:jn(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new Hd(t);i=new Kd(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=o(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new oc(n.data,n.width,n.height)))}r[n.uuid]=new Jn(e)}else{const e=o(n.url);r[n.uuid]=new Jn(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"===typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:jn(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new Kd(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],o=r.url;if(Array.isArray(o)){const e=[];for(let t=0,n=o.length;t<n;t++){const n=o[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new oc(r.data,r.width,r.height)))}n[r.uuid]=new Jn(e)}else{const e=await i(r.url);n[r.uuid]=new Jn(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,o=e.length;i<o;i++){const o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const a=t[o.image],s=a.data;let l;Array.isArray(s)?(l=new Lo,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new oc:new tr,s&&(l.needsUpdate=!0)),l.source=a,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,Mh)),void 0!==o.channel&&(l.channel=o.channel),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],Ch),l.wrapT=n(o.wrap[1],Ch)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,_h)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,_h)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}parseObject(e,t,n,r,i){let o,a,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":o=new Al,void 0!==e.background&&(Number.isInteger(e.background)?o.background=new Oi(e.background):o.background=u(e.background)),void 0!==e.environment&&(o.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new Tl(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new _l(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(o.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Ro(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ra(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new mh(e.color,e.intensity);break;case"DirectionalLight":o=new ph(e.color,e.intensity);break;case"PointLight":o=new hh(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new gh(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new sh(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new th(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new yh).fromJSON(e);break;case"SkinnedMesh":a=l(e.geometry),s=c(e.material),o=new rc(a,s),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":a=l(e.geometry),s=c(e.material),o=new Eo(a,s);break;case"InstancedMesh":a=l(e.geometry),s=c(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;o=new vc(a,s,t),o.instanceMatrix=new cc(new Float32Array(n.array),16),void 0!==r&&(o.instanceColor=new cc(new Float32Array(r.array),r.itemSize));break;case"LOD":o=new Kl;break;case"Line":o=new Mc(l(e.geometry),c(e.material));break;case"LineLoop":o=new Ac(l(e.geometry),c(e.material));break;case"LineSegments":o=new Tc(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new Ic(l(e.geometry),c(e.material));break;case"Sprite":o=new Yl(c(e.material));break;case"Group":o=new gl;break;case"Bone":o=new ic;break;default:o=new di}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.up&&o.up.fromArray(e.up),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children){const a=e.children;for(let e=0;e<a.length;e++)o.add(this.parseObject(a[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];o.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=o.getObjectByProperty("uuid",n.object);void 0!==r&&o.addLevel(r,n.distance,n.hysteresis)}}return o}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}const Mh={UVMapping:oe,CubeReflectionMapping:ae,CubeRefractionMapping:se,EquirectangularReflectionMapping:le,EquirectangularRefractionMapping:ce,CubeUVReflectionMapping:ue},Ch={RepeatWrapping:de,ClampToEdgeWrapping:he,MirroredRepeatWrapping:fe},_h={NearestFilter:pe,NearestMipmapNearestFilter:me,NearestMipmapLinearFilter:ve,LinearFilter:be,LinearMipmapNearestFilter:xe,LinearMipmapLinearFilter:Se};class Th extends Gd{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=jd.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){jd.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}let Ah;class Ph{static getContext(){return void 0===Ah&&(Ah=new(window.AudioContext||window.webkitAudioContext)),Ah}static setContext(e){Ah=e}}class Oh extends Gd{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Xd(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{const e=n.slice(0);Ph.getContext().decodeAudioData(e,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}}class Dh extends yh{constructor(e,t){super(void 0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1),this.isHemisphereLightProbe=!0;const n=(new Oi).set(e),r=(new Oi).set(t),i=new ur(n.r,n.g,n.b),o=new ur(r.r,r.g,r.b),a=Math.sqrt(Math.PI),s=a*Math.sqrt(.75);this.sh.coefficients[0].copy(i).add(o).multiplyScalar(a),this.sh.coefficients[1].copy(i).sub(o).multiplyScalar(s)}}class Rh extends yh{constructor(e){super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isAmbientLightProbe=!0;const t=(new Oi).set(e);this.sh.coefficients[0].set(t.r,t.g,t.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const kh=new Ur,Ih=new Ur,Lh=new Ur;class zh{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ro,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ro,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Lh.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(Mn*t.fov*.5)/t.zoom;let o,a;Ih.elements[12]=-n,kh.elements[12]=n,o=-i*t.aspect+r,a=i*t.aspect+r,Lh.elements[0]=2*t.near/(a-o),Lh.elements[8]=(a+o)/(a-o),this.cameraL.projectionMatrix.copy(Lh),o=-i*t.aspect-r,a=i*t.aspect-r,Lh.elements[0]=2*t.near/(a-o),Lh.elements[8]=(a+o)/(a-o),this.cameraR.projectionMatrix.copy(Lh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ih),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(kh)}}class Fh{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Nh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Nh();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Nh(){return("undefined"===typeof performance?Date:performance).now()}const Bh=new ur,Uh=new cr,jh=new ur,Hh=new ur;class Vh extends di{constructor(){super(),this.type="AudioListener",this.context=Ph.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Fh}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Bh,Uh,jh),Hh.set(0,0,-1).applyQuaternion(Uh),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Bh.x,e),t.positionY.linearRampToValueAtTime(Bh.y,e),t.positionZ.linearRampToValueAtTime(Bh.z,e),t.forwardX.linearRampToValueAtTime(Hh.x,e),t.forwardY.linearRampToValueAtTime(Hh.y,e),t.forwardZ.linearRampToValueAtTime(Hh.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(Bh.x,Bh.y,Bh.z),t.setOrientation(Hh.x,Hh.y,Hh.z,n.x,n.y,n.z)}}class Gh extends di{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Wh=new ur,Yh=new cr,Xh=new ur,Qh=new ur;class qh extends Gh{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Wh,Yh,Xh),Qh.set(0,0,1).applyQuaternion(Yh);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Wh.x,e),t.positionY.linearRampToValueAtTime(Wh.y,e),t.positionZ.linearRampToValueAtTime(Wh.z,e),t.orientationX.linearRampToValueAtTime(Qh.x,e),t.orientationY.linearRampToValueAtTime(Qh.y,e),t.orientationZ.linearRampToValueAtTime(Qh.z,e)}else t.setPosition(Wh.x,Wh.y,Wh.z),t.setOrientation(Qh.x,Qh.y,Qh.z)}}class Kh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Zh{constructor(e,t,n){let r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==r;++e)n[i+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let o=0;o!==i;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){cr.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const o=this._workIndex*i;cr.multiplyQuaternionsFlat(e,o,e,t,e,n),cr.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,i){const o=1-r;for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]*o+e[n+a]*r}}_lerpAdditive(e,t,n,r,i){for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]+e[n+o]*r}}}const Jh="\\[\\]\\.:\\/",$h=new RegExp("["+Jh+"]","g"),ef="[^"+Jh+"]",tf="[^"+Jh.replace("\\.","")+"]",nf=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",ef)+/(WCOD+)?/.source.replace("WCOD",tf)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ef)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ef)+"$"),rf=["material","materials","bones","map"];class of{constructor(e,t,n){this.path=t,this.parsedPath=n||of.parseTrackName(t),this.node=of.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new of.Composite(e,t,n):new of(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace($h,"")}static parseTrackName(e){const t=nf.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==rf.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=of.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const o=e[r];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}of.Composite=class{constructor(e,t,n){const r=n||of.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},of.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},of.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},of.prototype.GetterByBindingType=[of.prototype._getValue_direct,of.prototype._getValue_array,of.prototype._getValue_arrayElement,of.prototype._getValue_toArray],of.prototype.SetterByBindingTypeAndVersioning=[[of.prototype._setValue_direct,of.prototype._setValue_direct_setNeedsUpdate,of.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[of.prototype._setValue_array,of.prototype._setValue_array_setNeedsUpdate,of.prototype._setValue_array_setMatrixWorldNeedsUpdate],[of.prototype._setValue_arrayElement,of.prototype._setValue_arrayElement_setNeedsUpdate,of.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[of.prototype._setValue_fromArray,of.prototype._setValue_fromArray_setNeedsUpdate,of.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class af{constructor(){this.isAnimationObjectGroup=!0,this.uuid=_n(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let a,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],d=u.uuid;let h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(u);for(let e=0,t=o;e!==t;++e)i[e].push(new of(u,n[e],r[e]))}else if(h<l){a=e[h];const s=--l,c=e[s];t[c.uuid]=h,e[h]=c,t[d]=s,e[s]=u;for(let e=0,t=o;e!==t;++e){const t=i[e],o=t[s];let a=t[h];t[h]=o,void 0===a&&(a=new of(u,n[e],r[e])),t[s]=a}}else e[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o],s=a.uuid,l=t[s];if(void 0!==l&&l>=i){const o=i++,c=e[o];t[c.uuid]=l,e[l]=c,t[s]=o,e[o]=a;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[l];t[l]=r,t[o]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=e.length;for(let a=0,s=arguments.length;a!==s;++a){const s=arguments[a].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const a=--i,s=e[a],c=--o,u=e[c];t[s.uuid]=l,e[l]=s,t[u.uuid]=a,e[a]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[c];t[l]=r,t[a]=i,t.pop()}}else{const i=--o,a=e[i];i>0&&(t[a.uuid]=l),e[l]=a,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(u);for(let d=c,h=s.length;d!==h;++d){const n=s[d];u[d]=new of(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}class sf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,o=i.length,a=new Array(o),s={endingStart:At,endingEnd:At};for(let l=0;l!==o;++l){const e=i[l].createInterpolant(null);a[l]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Et,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,o=n/r;e.warp(1,i,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===Rt)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulateAdditive(a);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulate(r,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const o=n===Mt;if(0===e)return-1===i?r:o&&1===(1&i)?t-r:r;if(n===St){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&1===(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Pt,r.endingEnd=Pt):(r.endingStart=e?this.zeroSlopeAtStart?Pt:At:Ot,r.endingEnd=t?this.zeroSlopeAtEnd?Pt:At:Ot)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}const lf=new Float32Array(1);class cf extends wn{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let l=c[i];if(void 0!==l)++l.referenceCount,o[u]=l;else{if(l=o[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;l=new Zh(of.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,i),o[u]=l}a[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new Pd(new Float32Array(2),new Float32Array(2),1,lf),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let o="string"===typeof e?Bd.findByName(r,e):e;const a=null!==o?o.uuid:e,s=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:Dt),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new sf(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?Bd.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,o)}const a=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)a[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,o=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,t[i]=o,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class uf{constructor(e){this.value=e}clone(){return new uf(void 0===this.value.clone?this.value:this.value.clone())}}let df=0;class hf extends wn{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:df++}),this.name="",this.usage=cn,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return(new this.constructor).copy(this)}}class ff extends Pl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class pf{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class mf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new Br(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Zr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return vf(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(gf),t}intersectObjects(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let r=0,i=e.length;r<i;r++)vf(e[r],this,n,t);return n.sort(gf),n}}function gf(e,t){return e.distance-t.distance}function vf(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)vf(r[e],t,n,!0)}}class yf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Tn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class bf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const xf=new zn;class wf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zn(1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zn(-1/0,-1/0);this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=xf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,xf).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Sf=new ur,Ef=new ur;class Mf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ur,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur;this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Sf.subVectors(e,this.start),Ef.subVectors(this.end,this.start);const n=Ef.dot(Ef);let r=Ef.dot(Sf)/n;return t&&(r=Tn(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Cf=new ur;class _f extends di{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new io,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,s=32;o<s;o++,a++){const e=o/s*Math.PI*2,t=a/s*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new qi(r,3));const i=new yc({fog:!1,toneMapped:!1});this.cone=new Tc(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Cf.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Cf),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Tf=new ur,Af=new Ur,Pf=new Ur;class Of extends Tc{constructor(e){const t=Df(e),n=new io,r=[],i=[],o=new Oi(0,0,1),a=new Oi(0,1,0);for(let s=0;s<t.length;s++){const e=t[s];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new qi(r,3)),n.setAttribute("color",new qi(i,3));super(n,new yc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Pf.copy(this.root.matrixWorld).invert();for(let i=0,o=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(Af.multiplyMatrices(Pf,e.matrixWorld),Tf.setFromMatrixPosition(Af),r.setXYZ(o,Tf.x,Tf.y,Tf.z),Af.multiplyMatrices(Pf,e.parent.matrixWorld),Tf.setFromMatrixPosition(Af),r.setXYZ(o+1,Tf.x,Tf.y,Tf.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Df(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,Df(e.children[n]));return t}class Rf extends Eo{constructor(e,t,n){super(new nd(t,4,2),new Ri({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const kf=new ur,If=new Oi,Lf=new Oi;class zf extends di{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new $u(t);r.rotateY(.5*Math.PI),this.material=new Ri({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new Ui(o,3)),this.add(new Eo(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");If.copy(this.light.color),Lf.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?If:Lf;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(kf.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Ff extends Tc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new Oi(n),r=new Oi(r);const i=t/2,o=e/t,a=e/2,s=[],l=[];for(let u=0,d=0,h=-a;u<=t;u++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);const e=u===i?n:r;e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3}const c=new io;c.setAttribute("position",new qi(s,3)),c.setAttribute("color",new qi(l,3));super(c,new yc({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Nf extends Tc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;i=new Oi(i),o=new Oi(o);const a=[],s=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;a.push(0,0,0),a.push(r,0,l);const u=1&c?i:o;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?i:o,l=e-e/n*c;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,o=Math.cos(n)*l;a.push(i,0,o),s.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,o=Math.cos(n)*l,a.push(i,0,o),s.push(t.r,t.g,t.b)}}const l=new io;l.setAttribute("position",new qi(a,3)),l.setAttribute("color",new qi(s,3));super(l,new yc({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Bf=new ur,Uf=new ur,jf=new ur;class Hf extends di{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new io;r.setAttribute("position",new qi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new yc({fog:!1,toneMapped:!1});this.lightPlane=new Mc(r,i),this.add(this.lightPlane),r=new io,r.setAttribute("position",new qi([0,0,0,0,0,1],3)),this.targetLine=new Mc(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Bf.setFromMatrixPosition(this.light.matrixWorld),Uf.setFromMatrixPosition(this.light.target.matrixWorld),jf.subVectors(Uf,Bf),this.lightPlane.lookAt(Uf),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Uf),this.targetLine.scale.z=jf.length()}}const Vf=new ur,Gf=new Do;class Wf extends Tc{constructor(e){const t=new io,n=new yc({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={};function a(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),t.setAttribute("position",new qi(r,3)),t.setAttribute("color",new qi(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const l=new Oi(16755200),c=new Oi(16711680),u=new Oi(43775),d=new Oi(16777215),h=new Oi(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,n,r,i){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;Gf.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Yf("c",t,e,Gf,0,0,-1),Yf("t",t,e,Gf,0,0,1),Yf("n1",t,e,Gf,-1,-1,-1),Yf("n2",t,e,Gf,1,-1,-1),Yf("n3",t,e,Gf,-1,1,-1),Yf("n4",t,e,Gf,1,1,-1),Yf("f1",t,e,Gf,-1,-1,1),Yf("f2",t,e,Gf,1,-1,1),Yf("f3",t,e,Gf,-1,1,1),Yf("f4",t,e,Gf,1,1,1),Yf("u1",t,e,Gf,.7,1.1,-1),Yf("u2",t,e,Gf,-.7,1.1,-1),Yf("u3",t,e,Gf,0,2,-1),Yf("cf1",t,e,Gf,-1,0,1),Yf("cf2",t,e,Gf,1,0,1),Yf("cf3",t,e,Gf,0,-1,1),Yf("cf4",t,e,Gf,0,1,1),Yf("cn1",t,e,Gf,-1,0,-1),Yf("cn2",t,e,Gf,1,0,-1),Yf("cn3",t,e,Gf,0,-1,-1),Yf("cn4",t,e,Gf,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Yf(e,t,n,r,i,o,a){Vf.set(i,o,a).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],Vf.x,Vf.y,Vf.z)}}const Xf=new fr;class Qf extends Tc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new io;i.setIndex(new Ui(n,1)),i.setAttribute("position",new Ui(r,3)),super(i,new yc({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Xf.setFromObject(this.object),Xf.isEmpty())return;const t=Xf.min,n=Xf.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class qf extends Tc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new io;r.setIndex(new Ui(n,1)),r.setAttribute("position",new qi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new yc({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kf extends Mc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,r=new io;r.setAttribute("position",new qi([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new yc({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const i=new io;i.setAttribute("position",new qi([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Eo(i,new Ri({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Zf=new ur;let Jf,$f;class ep extends di{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ur(0,0,1),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*n,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*i;super(),this.type="ArrowHelper",void 0===Jf&&(Jf=new io,Jf.setAttribute("position",new qi([0,0,0,0,1,0],3)),$f=new hu(0,.5,1,5,1),$f.translate(0,-.5,0)),this.position.copy(t),this.line=new Mc(Jf,new yc({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Eo($f,new Ri({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Zf.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Zf,t)}}setLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class tp extends Tc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new io;n.setAttribute("position",new qi(t,3)),n.setAttribute("color",new qi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new yc({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Oi,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class np{constructor(){this.type="ShapePath",this.color=new Oi,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new lu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=t[i],a=t[o],s=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],s=-s,a=t[i],l=-l),e.y<n.y||e.y>a.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(a.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=a.x)return!0}}return r}const n=Xu.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,o,a;const s=[];if(1===r.length)return o=r[0],a=new wu,a.curves=o.curves,s.push(a),s;let l=!n(r[0].getPoints());l=e?!l:l;const c=[],u=[];let d,h,f=[],p=0;u[p]=void 0,f[p]=[];for(let m=0,g=r.length;m<g;m++)o=r[m],d=o.getPoints(),i=n(d),i=e?!i:i,i?(!l&&u[p]&&p++,u[p]={s:new wu,p:d},u[p].s.curves=o.curves,l&&p++,f[p]=[]):f[p].push({h:o,p:d[0]});if(!u[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new wu;i.curves=r.curves,t.push(i)}return t}(r);if(u.length>1){let e=!1,n=0;for(let t=0,r=u.length;t<r;t++)c[t]=[];for(let r=0,i=u.length;r<i;r++){const i=f[r];for(let o=0;o<i.length;o++){const a=i[o];let s=!0;for(let i=0;i<u.length;i++)t(a.p,u[i].p)&&(r!==i&&n++,s?(s=!1,c[i].push(a)):e=!0);s&&c[r].push(a)}}n>0&&!1===e&&(f=c)}for(let m=0,g=u.length;m<g;m++){a=u[m].s,s.push(a),h=f[m];for(let e=0,t=h.length;e<t;e++)a.holes.push(h[e].h)}return s}}class rp extends Co{constructor(e,t,n,r,i,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,r,i,o)}}class ip extends uu{constructor(e,t,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,r)}}class op extends du{constructor(e,t,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,r)}}class ap extends fu{constructor(e,t,n,r,i,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,r,i,o,a)}}class sp extends hu{constructor(e,t,n,r,i,o,a,s){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,r,i,o,a,s)}}class lp extends mu{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class cp extends Ku{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class up extends Ju{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class dp extends cu{constructor(e,t,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,r)}}class hp extends $u{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class fp extends Yo{constructor(e,t,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,r)}}class pp extends pu{constructor(e,t,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,r)}}class mp extends ed{constructor(e,t,n,r,i,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,r,i,o)}}class gp extends td{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class vp extends nd{constructor(e,t,n,r,i,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,r,i,o,a)}}class yp extends rd{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class bp extends id{constructor(e,t,n,r,i){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,r,i)}}class xp extends od{constructor(e,t,n,r,i,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,r,i,o)}}class wp extends ad{constructor(e,t,n,r,i){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,r,i)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:o}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=o);var Sp=n(585);function Ep(e){let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,subscribe:(e,r,o)=>r||o?function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function s(){const n=r(t);if(!o(a,n)){const t=a;e(a=n,t)}}return n.add(s),()=>n.delete(s)}(e,r,o):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}const Mp="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?t.useEffect:t.useLayoutEffect;function Cp(e){const n="function"===typeof e?Ep(e):e,r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const[,i]=(0,t.useReducer)((e=>e+1),0),o=n.getState(),a=(0,t.useRef)(o),s=(0,t.useRef)(e),l=(0,t.useRef)(r),c=(0,t.useRef)(!1),u=(0,t.useRef)();let d;void 0===u.current&&(u.current=e(o));let h=!1;(a.current!==o||s.current!==e||l.current!==r||c.current)&&(d=e(o),h=!r(u.current,d)),Mp((()=>{h&&(u.current=d),a.current=o,s.current=e,l.current=r,c.current=!1}));const f=(0,t.useRef)(o);Mp((()=>{const e=()=>{try{const e=n.getState(),t=s.current(e);l.current(u.current,t)||(a.current=e,u.current=t,i())}catch(e){c.current=!0,i()}},t=n.subscribe(e);return n.getState()!==f.current&&e(),t}),[]);const p=h?d:u.current;return(0,t.useDebugValue)(p),p};return Object.assign(r,n),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[r,n];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},r}var _p=n(258),Tp=n.n(_p),Ap=n(296);function Pp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}const Op=[];function Dp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(const o of Op)if(Pp(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return o.response;if(!n)throw o.promise}const i={keys:t,equal:r.equal,promise:e(...t).then((e=>i.response=e)).then((()=>{r.lifespan&&r.lifespan>0&&setTimeout((()=>{const e=Op.indexOf(i);-1!==e&&Op.splice(e,1)}),r.lifespan)})).catch((e=>i.error=e))};if(Op.push(i),!n)throw i.promise}const Rp=(e,t,n)=>Dp(e,t,!1,n);const kp={},Ip=e=>{Object.assign(kp,e)};var Lp,zp;const Fp=()=>{var e;return null!=(e=kp.ColorManagement)?e:null},Np=e=>e&&e.isOrthographicCamera,Bp="undefined"!==typeof window&&(null!=(Lp=window.document)&&Lp.createElement||"ReactNative"===(null==(zp=window.navigator)?void 0:zp.product))?t.useLayoutEffect:t.useEffect;function Up(e){const n=t.useRef(e);return Bp((()=>{n.current=e}),[e]),n}function jp(e){let{set:t}=e;return Bp((()=>(t(new Promise((()=>null))),()=>t(!1))),[t]),null}class Hp extends t.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Hp.getDerivedStateFromError=()=>({error:!0});const Vp="__default",Gp=new Map,Wp=e=>e&&!!e.memoized&&!!e.changes;function Yp(e){const t="undefined"!==typeof window?window.devicePixelRatio:1;return Array.isArray(e)?Math.min(Math.max(e[0],t),e[1]):e}const Xp=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()},Qp={obj:e=>e===Object(e)&&!Qp.arr(e)&&"function"!==typeof e,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,boo:e=>"boolean"===typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:r="reference",strict:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!==typeof t||!!e!==!!t)return!1;if(Qp.str(e)||Qp.num(e))return e===t;const o=Qp.obj(e);if(o&&"reference"===r)return e===t;const a=Qp.arr(e);if(a&&"reference"===n)return e===t;if((a||o)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(o&&"shallow"===n&&"shallow"===r){for(s in i?t:e)if(!Qp.equ(e[s],t[s],{strict:i,objects:"reference"}))return!1}else for(s in i?t:e)if(e[s]!==t[s])return!1;if(Qp.und(s)){if(a&&0===e.length&&0===t.length)return!0;if(o&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function qp(e){const t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function Kp(e,t){const n=e;return(null!=t&&t.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t}),e}function Zp(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),i=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:i}}return{target:n,key:t}}const Jp=/-\d+$/;function $p(e,t,n){if(Qp.str(n)){if(Jp.test(n)){const t=n.replace(Jp,""),{target:r,key:i}=Zp(e,t);Array.isArray(r[i])||(r[i]=[])}const{target:r,key:i}=Zp(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function em(e,t,n){var r,i;if(Qp.str(n)){const{target:r,key:i}=Zp(e,n),o=t.__r3f.previousAttach;void 0===o?delete r[i]:r[i]=o}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function tm(e,t){let{children:n,key:r,ref:i,...o}=t,{children:a,key:s,ref:l,...c}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var d;const h=null!=(d=null==e?void 0:e.__r3f)?d:{},f=Object.entries(o),p=[];if(u){const e=Object.keys(c);for(let t=0;t<e.length;t++)o.hasOwnProperty(e[t])||f.unshift([e[t],Vp+"remove"])}f.forEach((t=>{let[n,r]=t;var i;if(null!=(i=e.__r3f)&&i.primitive&&"object"===n)return;if(Qp.equ(r,c[n]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return p.push([n,r,!0,[]]);let a=[];n.includes("-")&&(a=n.split("-")),p.push([n,r,!1,a]);for(const e in o){const t=o[e];e.startsWith(`${n}-`)&&p.push([e,t,!1,e.split("-")])}}));const m={...o};return h.memoizedProps&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:p}}function nm(e,t){var n,r,i;const o=null!=(n=e.__r3f)?n:{},a=o.root,s=null!=(r=null==a||null==a.getState?void 0:a.getState())?r:{},{memoized:l,changes:c}=Wp(t)?t:tm(e,t),u=o.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(let d=0;d<c.length;d++){let[t,n,r,i]=c[d],a=e,l=a[t];if(i.length&&(l=i.reduce(((e,t)=>e[t]),e),!l||!l.set)){const[n,...r]=i.reverse();a=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===Vp+"remove")if(a.constructor){let e=Gp.get(a.constructor);e||(e=new a.constructor,Gp.set(a.constructor,e)),n=e[t]}else n=0;if(r)n?o.handlers[t]=n:delete o.handlers[t],o.eventCount=Object.keys(o.handlers).length;else if(l&&l.set&&(l.copy||l instanceof Zr)){if(Array.isArray(n))l.fromArray?l.fromArray(n):l.set(...n);else if(l.copy&&n&&n.constructor&&l.constructor===n.constructor)l.copy(n);else if(void 0!==n){const e=l instanceof Oi;!e&&l.setScalar?l.setScalar(n):l instanceof Zr&&n instanceof Zr?l.mask=n.mask:l.set(n),Fp()||s.linear||!e||l.convertSRGBToLinear()}}else a[t]=n,!s.linear&&a[t]instanceof tr&&a[t].format===ze&&a[t].type===Me&&(a[t].encoding=Ft);rm(e)}if(o.parent&&s.internal&&e.raycast&&u!==o.eventCount){const t=s.internal.interaction.indexOf(e);t>-1&&s.internal.interaction.splice(t,1),o.eventCount&&s.internal.interaction.push(e)}return!(1===c.length&&"onUpdate"===c[0][0])&&c.length&&null!=(i=e.__r3f)&&i.parent&&im(e),e}function rm(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function im(e){null==e.onUpdate||e.onUpdate(e)}function om(e,t){e.manual||(Np(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function am(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function sm(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function lm(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(am(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(o){const{onPointerMissed:a,internal:s}=e.getState();s.lastEvent.current=o;const l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,u=function(t,n){const r=e.getState(),i=new Set,o=[],a=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<a.length;e++){const t=Xp(a[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=a.flatMap((function(e){const n=Xp(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{const n=Xp(e.object),r=Xp(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=am(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(s=r.events.filter(s,r));for(const e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&o.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(am(e.intersection))||o.push(e.intersection);return o}(o,l?t:void 0),d=c?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(o):0;"onPointerDown"===i&&(s.initialClick=[o.offsetX,o.offsetY],s.initialHits=u.map((e=>e.eventObject))),c&&!u.length&&d<=2&&(r(o,s.interaction),a&&a(o)),l&&n(u),function(t,r,i,o){const a=e.getState();if(t.length){const e={stopped:!1};for(const s of t){const l=Xp(s.object)||a,{raycaster:c,pointer:u,camera:d,internal:h}=l,f=new ur(u.x,u.y,0).unproject(d),p=e=>{var t,n;return null!=(t=null==(n=h.capturedMap.get(e))?void 0:n.has(s.eventObject))&&t},m=e=>{const t={intersection:s,target:r.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(s.eventObject,t):h.capturedMap.set(e,new Map([[s.eventObject,t]])),r.target.setPointerCapture(e)},g=e=>{const t=h.capturedMap.get(e);t&&sm(h.capturedMap,s.eventObject,t,e)};let v={};for(let e in r){let t=r[e];"function"!==typeof t&&(v[e]=t)}let y={...s,...v,pointer:u,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:f,ray:c.ray,camera:d,stopPropagation(){const i="pointerId"in r&&h.capturedMap.get(r.pointerId);(!i||i.has(s.eventObject))&&(y.stopped=e.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((e=>e.eventObject===s.eventObject)))&&n([...t.slice(0,t.indexOf(s)),s])},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r};if(o(y),!0===e.stopped)break}}}(u,o,d,(function(e){const t=e.eventObject,n=t.__r3f,a=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){const t=am(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{const n=a[i];n?c&&!s.initialHits.includes(t)||(r(o,s.interaction.filter((e=>!s.initialHits.includes(e)))),n(e)):c&&s.initialHits.includes(t)&&r(o,s.interaction.filter((e=>!s.initialHits.includes(e))))}}))}}}}const cm=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],um=e=>!(null==e||!e.render),dm=t.createContext(null),hm=(e,n)=>{const r=Cp(((r,i)=>{const o=new ur,a=new ur,s=new ur;function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size;const{width:r,height:l,top:c,left:u}=n,d=r/l;t instanceof ur?s.copy(t):s.set(...t);const h=e.getWorldPosition(o).distanceTo(s);if(Np(e))return{width:r/e.zoom,height:l/e.zoom,top:c,left:u,factor:1,distance:h,aspect:d};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*h,i=n*(r/l);return{width:i,height:n,top:c,left:u,factor:r/i,distance:h,aspect:d}}}let c;const u=e=>r((t=>({performance:{...t.performance,current:e}}))),d=new zn,h={set:r,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:(e,t)=>n(e,t,i()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Fh,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=i();c&&clearTimeout(c),e.performance.current!==e.performance.min&&u(e.performance.min),c=setTimeout((()=>u(i().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>r((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,n,o,s)=>{const c=i().camera,u={width:e,height:t,top:o||0,left:s||0,updateStyle:n};r((e=>({size:u,viewport:{...e.viewport,...l(c,a,u)}})))},setDpr:e=>r((t=>{const n=Yp(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:t.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}};return h})),i=r.getState();let o=i.size,a=i.viewport.dpr,s=i.camera;return r.subscribe((()=>{const{camera:e,size:t,viewport:n,gl:i,set:l}=r.getState();if(t!==o||n.dpr!==a){var c;o=t,a=n.dpr,om(e,t),i.setPixelRatio(n.dpr);const r=null!=(c=t.updateStyle)?c:"undefined"!==typeof HTMLCanvasElement&&i.domElement instanceof HTMLCanvasElement;i.setSize(t.width,t.height,r)}e!==s&&(s=e,l((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),r.subscribe((t=>e(t))),r};function fm(e,t){const n={callback:e};return t.add(n),()=>{t.delete(n)}}let pm,mm=new Set,gm=new Set,vm=new Set;const ym=e=>fm(e,mm),bm=e=>fm(e,gm);function xm(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function wm(e,t){switch(e){case"before":return xm(mm,t);case"after":return xm(gm,t);case"tail":return xm(vm,t)}}let Sm,Em;function Mm(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),Sm=t.internal.subscribers,pm=0;pm<Sm.length;pm++)Em=Sm[pm],Em.ref.current(Em.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function Cm(){const e=t.useContext(dm);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function _m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return Cm()(e,t)}function Tm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Cm(),r=n.getState().internal.subscribe,i=Up(e);return Bp((()=>r(i,t,n)),[t,r,n]),null}function Am(e,t){return function(n){const r=new n;e&&e(r);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return Promise.all(o.map((e=>new Promise(((n,i)=>r.load(e,(e=>{e.scene&&Object.assign(e,qp(e.scene)),n(e)}),t,(t=>i(new Error(`Could not load ${e}: ${t.message})`)))))))))}}function Pm(e,t,n,r){const i=Array.isArray(t)?t:[t],o=Rp(Am(n,r),[e,...i],{equal:Qp.equ});return Array.isArray(t)?o:o[0]}Pm.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return((e,t,n)=>{Dp(e,t,!0,n)})(Am(n),[e,...r])},Pm.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)Op.splice(0,Op.length);else{const t=Op.find((t=>Pp(e,t.keys,t.equal)));if(t){const e=Op.indexOf(t);-1!==e&&Op.splice(e,1)}}})([e,...Array.isArray(t)?t:[t]])};const Om=new Map,{invalidate:Dm,advance:Rm}=function(e){let t,n,r,i=!1;function o(a){n=requestAnimationFrame(o),i=!0,t=0,wm("before",a);for(const n of e.values()){var s;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(s=r.gl.xr)&&s.isPresenting||(t+=Mm(a,r))}if(wm("after",a),0===t)return wm("tail",a),i=!1,cancelAnimationFrame(n)}return{loop:o,invalidate:function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var a;if(!n)return e.forEach((e=>t(e.store.getState())),r);null!=(a=n.gl.xr)&&a.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+r),i||(i=!0,requestAnimationFrame(o)))},advance:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&wm("before",t),r)Mm(t,r,i);else for(const o of e.values())Mm(t,o.store.getState());n&&wm("after",t)}}}(Om),{reconciler:km,applyProps:Im}=function(e,t){function n(e,t,n){let r,{args:i=[],attach:o,...a}=t,s=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===a.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=Kp(a.object,{type:e,root:n,attach:o,primitive:!0})}else{const t=kp[s];if(!t)throw new Error(`R3F: ${s} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(i))throw new Error("R3F: The args prop must be an array!");r=Kp(new t(...i),{type:e,root:n,attach:o,memoizedProps:{args:i}})}return void 0===r.__r3f.attach&&(r instanceof io?r.__r3f.attach="geometry":r instanceof Ci&&(r.__r3f.attach="material")),"inject"!==s&&nm(r,a),r}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?$p(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||Kp(t,{}),t.__r3f.parent=e,im(t),rm(t))}function i(e,t,n){let r=!1;if(t){var i,o;if(null!=(i=t.__r3f)&&i.attach)$p(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});const i=e.children.filter((e=>e!==t)),o=i.indexOf(n);e.children=[...i.slice(0,o),t,...i.slice(o)],r=!0}r||null==(o=e.__r3f)||o.objects.push(t),t.__r3f||Kp(t,{}),t.__r3f.parent=e,im(t),rm(t)}}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach((e=>a(t,e,n)))}function a(e,t,n){if(t){var r,i,a;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(i=t.__r3f)&&i.attach)em(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{sm(n.capturedMap,t,e,r)}))}(t.__r3f.root,t)}const c=null==(a=t.__r3f)?void 0:a.primitive,u=void 0===n?null!==t.dispose&&!c:n;var l;if(!c)o(null==(l=t.__r3f)?void 0:l.objects,t,u),o(t.children,t,u);t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,c||delete t.__r3f),u&&t.dispose&&"Scene"!==t.type&&(0,Ap.unstable_scheduleCallback)(Ap.unstable_IdlePriority,(()=>{try{t.dispose()}catch(e){}})),rm(e)}}const s=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters."),l=Tp()({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&a(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:i,...o}=r,{args:a=[],children:s,...l}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==a[t])))return[!0];const c=tm(e,o,l,!0);return c.changes.length?[!1,c]:null}},commitUpdate(e,t,i,o,s,l){let[c,u]=t;c?function(e,t,i,o){var s;const l=null==(s=e.__r3f)?void 0:s.parent;if(!l)return;const c=n(t,i,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&r(c,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>r(c,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||a(l,e),c.parent&&(c.__r3f.autoRemovedBeforeAppend=!0),r(l,c),c.raycast&&c.__r3f.eventCount&&c.__r3f.root.getState().internal.interaction.push(c);[o,o.alternate].forEach((e=>{null!==e&&(e.stateNode=c,e.ref&&("function"===typeof e.ref?e.ref(c):e.ref.current=c))}))}(e,i,s,l):nm(e,u)},commitMount(e,t,n,r){var i;const o=null!=(i=e.__r3f)?i:{};e.raycast&&o.handlers&&o.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>Kp(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&em(r,e,n),e.isObject3D&&(e.visible=!1),rm(e)},unhideInstance(e,t){var n;const{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&$p(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),rm(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:()=>t?t():Sp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!==typeof performance&&Qp.fun(performance.now)?performance.now:Qp.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Qp.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Qp.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:l,applyProps:nm}}(0,(function(){var e;const t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return Sp.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Sp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Sp.ContinuousEventPriority;default:return Sp.DefaultEventPriority}})),Lm={objects:"shallow",strict:!1},zm=(e,t)=>{const n="function"===typeof e?e(t):e;return um(n)?n:new Ml({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function Fm(e){const n=Om.get(e),r=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");const o="function"===typeof reportError?reportError:console.error,a=i||hm(Dm,Rm),s=r||km.createContainer(a,Sp.ConcurrentRoot,null,!1,null,"",o,null);let l;n||Om.set(e,{fiber:s,store:a});let c,u=!1;return{configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:n,size:r,scene:i,events:o,onCreated:s,shadows:d=!1,linear:g=!1,flat:v=!1,legacy:y=!1,orthographic:b=!1,frameloop:x="always",dpr:w=[1,2],performance:S,raycaster:E,camera:M,onPointerMissed:C}=t,_=a.getState(),T=_.gl;_.gl||_.set({gl:T=zm(n,e)});let A=_.raycaster;A||_.set({raycaster:A=new mf});const{params:P,...O}=E||{};if(Qp.equ(O,A,Lm)||Im(A,{...O}),Qp.equ(P,A.params,Lm)||Im(A,{params:{...A.params,...P}}),!_.camera||_.camera===c&&!Qp.equ(c,M,Lm)){c=M;const e=M instanceof Do,t=e?M:b?new ra(0,0,0,0,.1,1e3):new Ro(75,0,.1,1e3);e||(t.position.z=5,M&&Im(t,M),_.camera||null!=M&&M.rotation||t.lookAt(0,0,0)),_.set({camera:t})}if(!_.scene){let e;i instanceof Al?e=i:(e=new Al,i&&Im(e,i)),_.set({scene:Kp(e)})}if(!_.xr){const e=(e,t)=>{const n=a.getState();"never"!==n.frameloop&&Rm(e,!0,n,t)},t=()=>{const t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||Dm(t)},n={connect(){const e=a.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=a.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};T.xr&&n.connect(),_.set({xr:n})}if(T.shadowMap){const e=T.shadowMap.enabled,t=T.shadowMap.type;if(T.shadowMap.enabled=!!d,Qp.boo(d))T.shadowMap.type=p;else if(Qp.str(d)){var D;const e={basic:h,percentage:f,soft:p,variance:m};T.shadowMap.type=null!=(D=e[d])?D:p}else Qp.obj(d)&&Object.assign(T.shadowMap,d);e===T.shadowMap.enabled&&t===T.shadowMap.type||(T.shadowMap.needsUpdate=!0)}const R=Fp();R&&("enabled"in R?R.enabled=!y:"legacyMode"in R&&(R.legacyMode=y));const k=g?zt:Ft,I=v?$:re;T.outputEncoding!==k&&(T.outputEncoding=k),T.toneMapping!==I&&(T.toneMapping=I),_.legacy!==y&&_.set((()=>({legacy:y}))),_.linear!==g&&_.set((()=>({linear:g}))),_.flat!==v&&_.set((()=>({flat:v}))),!n||Qp.fun(n)||um(n)||Qp.equ(n,T,Lm)||Im(T,n),o&&!_.events.handlers&&_.set({events:o(a)});const L=function(e,t){if(t)return t;if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:n,top:r,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:i}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}(e,r);return Qp.equ(L,_.size,Lm)||_.setSize(L.width,L.height,L.updateStyle,L.top,L.left),w&&_.viewport.dpr!==Yp(w)&&_.setDpr(w),_.frameloop!==x&&_.setFrameloop(x),_.onPointerMissed||_.set({onPointerMissed:C}),S&&!Qp.equ(S,_.performance,Lm)&&_.set((e=>({performance:{...e.performance,...S}}))),l=s,u=!0,this},render(n){return u||this.configure(),km.updateContainer(t.createElement(Nm,{store:a,children:n,onCreated:l,rootElement:e}),s,null,(()=>{})),a},unmount(){Bm(e)}}}function Nm(e){let{store:n,children:r,onCreated:i,rootElement:o}=e;return Bp((()=>{const e=n.getState();e.set((e=>({internal:{...e.internal,active:!0}}))),i&&i(e),n.getState().events.connected||null==e.events.connect||e.events.connect(o)}),[]),t.createElement(dm.Provider,{value:n},r)}function Bm(e,t){const n=Om.get(e),r=null==n?void 0:n.fiber;if(r){const i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),km.updateContainer(null,r,null,(()=>{i&&setTimeout((()=>{try{var n,r,o,a;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(o=i.gl)||null==o.forceContextLoss||o.forceContextLoss(),null!=(a=i.gl)&&a.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(i),Om.delete(e),t&&t(e)}catch(s){}}),500)}))}}function Um(e,n,r){return t.createElement(jm,{key:n.uuid,children:e,container:n,state:r})}function jm(e){let{state:n={},children:r,container:i}=e;const{events:o,size:a,...s}=n,l=Cm(),[c]=t.useState((()=>new mf)),[u]=t.useState((()=>new zn)),d=t.useCallback(((e,t)=>{const n={...e};let r;if(Object.keys(e).forEach((r=>{(cm.includes(r)||e[r]!==t[r]&&t[r])&&delete n[r]})),t&&a){const n=t.camera;r=e.viewport.getCurrentViewport(n,new ur,a),n!==e.camera&&om(n,a)}return{...n,scene:i,raycaster:c,pointer:u,mouse:u,previousRoot:l,events:{...e.events,...null==t?void 0:t.events,...o},size:{...e.size,...a},viewport:{...e.viewport,...r},...s}}),[n]),[h]=t.useState((()=>{const e=l.getState(),t=Cp(((t,n)=>({...e,scene:i,raycaster:c,pointer:u,mouse:u,previousRoot:l,events:{...e.events,...o},size:{...e.size,...a},...s,set:t,get:n,setEvents:e=>t((t=>({...t,events:{...t.events,...e}})))})));return t}));return t.useEffect((()=>{const e=l.subscribe((e=>h.setState((t=>d(e,t)))));return()=>{e(),h.destroy()}}),[]),t.useEffect((()=>{h.setState((e=>d(l.getState(),e)))}),[d]),t.createElement(t.Fragment,null,km.createPortal(t.createElement(dm.Provider,{value:h},r),h,null))}km.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:t.version});t.unstable_act;function Hm(e){let{pixelated:n}=e;const r=_m((e=>e.gl)),i=_m((e=>e.internal.active)),o=_m((e=>e.performance.current)),a=_m((e=>e.viewport.initialDpr)),s=_m((e=>e.setDpr));return t.useEffect((()=>{const e=r.domElement;return()=>{i&&s(a),n&&e&&(e.style.imageRendering="auto")}}),[]),t.useEffect((()=>{s(o*a),n&&r.domElement&&(r.domElement.style.imageRendering=1===o?"auto":"pixelated")}),[o]),null}function Vm(){const e=_m((e=>e.get)),n=_m((e=>e.setEvents)),r=_m((e=>e.performance.current));return t.useEffect((()=>{const t=e().events.enabled;return()=>n({enabled:t})}),[]),t.useEffect((()=>n({enabled:1===r})),[r]),null}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gm.apply(this,arguments)}class Wm extends Eo{constructor(e,t){var n,r;const i=(o=e)&&o.isCubeTexture;var o;const a=(null!=(n=i?null===(r=e.image[0])||void 0===r?void 0:r.width:e.image.width)?n:1024)/4,s=Math.floor(Math.log2(a)),l=Math.pow(2,s),c=[i?"#define ENVMAP_TYPE_CUBE":"","#define CUBEUV_TEXEL_WIDTH "+1/(3*Math.max(l,112)),"#define CUBEUV_TEXEL_HEIGHT "+1/(4*l),`#define CUBEUV_MAX_MIP ${s}.0`].join("\n")+"\n        #define ENVMAP_TYPE_CUBE_UV\n        varying vec3 vWorldPosition;\n        uniform float radius;\n        uniform float height;\n        uniform float angle;\n        #ifdef ENVMAP_TYPE_CUBE\n            uniform samplerCube map;\n        #else\n            uniform sampler2D map;\n        #endif\n        // From: https://www.shadertoy.com/view/4tsBD7\n        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) \n        {\n            float d = dot ( rd, n );\n            \n            if( d > 0.0 ) { return 1e6; }\n            \n            vec3  o = ro - c;\n            float t = - dot( n, o ) / d;\n            vec3  q = o + rd * t;\n            \n            return ( dot( q, q ) < r * r ) ? t : 1e6;\n        }\n        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\n        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) \n        {\n            vec3 oc = ro - ce;\n            float b = dot( oc, rd );\n            float c = dot( oc, oc ) - ra * ra;\n            float h = b * b - c;\n            \n            if( h < 0.0 ) { return -1.0; }\n            \n            h = sqrt( h );\n            \n            return - b + h;\n        }\n        vec3 project() \n        {\n            vec3 p = normalize( vWorldPosition );\n            vec3 camPos = cameraPosition;\n            camPos.y -= height;\n            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );\n            if( intersection > 0.0 ) {\n                \n                vec3 h = vec3( 0.0, - height, 0.0 );\n                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );\n                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;\n            } else {\n                p = vec3( 0.0, 1.0, 0.0 );\n            }\n            return p;\n        }\n        #include <common>\n        #include <cube_uv_reflection_fragment>\n        void main() \n        {\n            vec3 projectedWorldPosition = project();\n            \n            #ifdef ENVMAP_TYPE_CUBE\n                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;\n            #else\n                vec3 direction = normalize( projectedWorldPosition );\n                vec2 uv = equirectUv( direction );\n                vec3 outcolor = texture2D( map, uv ).rgb;\n            #endif\n            gl_FragColor = vec4( outcolor, 1.0 );\n            #include <tonemapping_fragment>\n            #include <encodings_fragment>\n        }\n        ",u={map:{value:e},height:{value:(null===t||void 0===t?void 0:t.height)||15},radius:{value:(null===t||void 0===t?void 0:t.radius)||100}};super(new Ju(1,16),new Oo({uniforms:u,fragmentShader:c,vertexShader:"\n        varying vec3 vWorldPosition;\n        void main() \n        {\n            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );\n            vWorldPosition = worldPosition.xyz;\n            \n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n        ",side:y}))}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class Ym extends Jd{constructor(e){super(e),this.type=De}parse(e){const t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;let r=e.pos,i=-1,o=0,a="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(i=s.indexOf("\n"))&&o<t&&r<e.byteLength;)a+=s,o+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=o+i+1),a+s.slice(0,i))},r=function(e,t,n,r){const i=e[t+3],o=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*o,n[r+1]=e[t+1]*o,n[r+2]=e[t+2]*o,n[r+3]=1},i=function(e,t,n,r){const i=e[t+3],o=Math.pow(2,i-128)/255;n[r+0]=Fi.toHalfFloat(Math.min(e[t+0]*o,65504)),n[r+1]=Fi.toHalfFloat(Math.min(e[t+1]*o,65504)),n[r+2]=Fi.toHalfFloat(Math.min(e[t+2]*o,65504)),n[r+3]=Fi.toHalfFloat(1)},o=new Uint8Array(e);o.pos=0;const a=function(e){const r=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,i=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,a=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,s={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let l,c;if(e.pos>=e.byteLength||!(l=n(e)))return t(1,"no header found");if(!(c=l.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(s.valid|=1,s.programtype=c[1],s.string+=l+"\n";l=n(e),!1!==l;)if(s.string+=l+"\n","#"!==l.charAt(0)){if((c=l.match(r))&&(s.gamma=parseFloat(c[1])),(c=l.match(i))&&(s.exposure=parseFloat(c[1])),(c=l.match(o))&&(s.valid|=2,s.format=c[1]),(c=l.match(a))&&(s.valid|=4,s.height=parseInt(c[1],10),s.width=parseInt(c[2],10)),2&s.valid&&4&s.valid)break}else s.comments+=l+"\n";return 2&s.valid?4&s.valid?s:t(3,"missing image size specifier"):t(3,"missing format specifier")}(o);if(-1!==a){const e=a.width,n=a.height,s=function(e,n,r){const i=n;if(i<8||i>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(i!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");const o=new Uint8Array(4*n*r);if(!o.length)return t(4,"unable to allocate buffer space");let a=0,s=0;const l=4*i,c=new Uint8Array(4),u=new Uint8Array(l);let d=r;for(;d>0&&s<e.byteLength;){if(s+4>e.byteLength)return t(1);if(c[0]=e[s++],c[1]=e[s++],c[2]=e[s++],c[3]=e[s++],2!=c[0]||2!=c[1]||(c[2]<<8|c[3])!=i)return t(3,"bad rgbe scanline format");let n,r=0;for(;r<l&&s<e.byteLength;){n=e[s++];const i=n>128;if(i&&(n-=128),0===n||r+n>l)return t(3,"bad scanline data");if(i){const t=e[s++];for(let e=0;e<n;e++)u[r++]=t}else u.set(e.subarray(s,s+n),r),r+=n,s+=n}const h=i;for(let e=0;e<h;e++){let t=0;o[a]=u[e+t],t+=i,o[a+1]=u[e+t],t+=i,o[a+2]=u[e+t],t+=i,o[a+3]=u[e+t],a+=4}d--}return o}(o.subarray(o.pos),e,n);if(-1!==s){let t,o,l;switch(this.type){case Oe:l=s.length/4;const e=new Float32Array(4*l);for(let t=0;t<l;t++)r(s,4*t,e,4*t);t=e,o=Oe;break;case De:l=s.length/4;const n=new Uint16Array(4*l);for(let t=0;t<l;t++)i(s,4*t,n,4*t);t=n,o=De;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:e,height:n,data:t,header:a.string,gamma:a.gamma,exposure:a.exposure,type:o}}}return null}setDataType(e){return this.type=e,this}load(e,t,n,r){return super.load(e,(function(e,n){switch(e.type){case Oe:case De:e.encoding=zt,e.minFilter=be,e.magFilter=be,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),n,r)}}const Xm={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},Qm="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function qm(){let{files:e=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:t="",preset:n,encoding:r,extensions:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n){if(!(n in Xm))throw new Error("Preset must be one of: "+Object.keys(Xm).join(", "));e=Xm[n],t=Qm}const o=Array.isArray(e),a=Pm(o?Zd:Ym,o?[e]:e,(e=>{e.setPath(t),i&&i(e)})),s=o?a[0]:a;return s.mapping=o?ae:le,s.encoding=(null!==r&&void 0!==r?r:o)?Ft:zt,s}const Km=e=>{return(t=e).current&&t.current.isScene?e.current:e;var t};function Zm(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const o=Km(t||n),a=o.background,s=o.environment,l=o.backgroundBlurriness||0;return"only"!==e&&(o.environment=r),e&&(o.background=r),e&&void 0!==o.backgroundBlurriness&&(o.backgroundBlurriness=i),()=>{"only"!==e&&(o.environment=s),e&&(o.background=a),e&&void 0!==o.backgroundBlurriness&&(o.backgroundBlurriness=l)}}function Jm(e){let{scene:n,background:r=!1,blur:i,map:o}=e;const a=_m((e=>e.scene));return t.useLayoutEffect((()=>{if(o)return Zm(r,n,a,o,i)}),[a,n,o,r,i]),null}function $m(e){let{background:n=!1,scene:r,blur:i,...o}=e;const a=qm(o),s=_m((e=>e.scene));return t.useLayoutEffect((()=>Zm(n,r,s,a,i)),[a,n,r,s,i]),null}function eg(e){let{children:n,near:r=1,far:i=1e3,resolution:o=256,frames:a=1,map:s,background:l=!1,blur:c,scene:u,files:d,path:h,preset:f,extensions:p}=e;const m=_m((e=>e.gl)),g=_m((e=>e.scene)),v=t.useRef(null),[y]=t.useState((()=>new Al)),b=t.useMemo((()=>{const e=new zo(o);return e.texture.type=De,e}),[o]);t.useLayoutEffect((()=>(1===a&&v.current.update(m,y),Zm(l,u,g,b.texture,c))),[n,y,b.texture,u,g,l,a,m]);let x=1;return Tm((()=>{(a===1/0||x<a)&&(v.current.update(m,y),x++)})),t.createElement(t.Fragment,null,Um(t.createElement(t.Fragment,null,n,t.createElement("cubeCamera",{ref:v,args:[r,i,b]}),d||f?t.createElement($m,{background:!0,files:d,preset:f,path:h,extensions:p}):s?t.createElement(Jm,{background:!0,map:s,extensions:p}):null),y))}function tg(e){var n,r,i,o;const a=qm(e),s=e.map||a;t.useMemo((()=>Ip({GroundProjectedEnvImpl:Wm})),[]);const l=t.useMemo((()=>[s]),[s]),c=null==(n=e.ground)?void 0:n.height,u=null==(r=e.ground)?void 0:r.radius,d=null!==(i=null==(o=e.ground)?void 0:o.scale)&&void 0!==i?i:1e3;return t.createElement(t.Fragment,null,t.createElement(Jm,Gm({},e,{map:s})),t.createElement("groundProjectedEnvImpl",{args:l,scale:d,height:c,radius:u}))}function ng(e){return e.ground?t.createElement(tg,e):e.map?t.createElement(Jm,e):e.children?t.createElement(eg,e):t.createElement($m,e)}var rg=n(494),ig=n.n(rg);function og(e){let{debounce:n,scroll:r,polyfill:i,offsetSize:o}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e;const a=i||("undefined"===typeof window?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,l]=(0,t.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=(0,t.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),u=n?"number"===typeof n?n:n.scroll:null,d=n?"number"===typeof n?n:n.resize:null,h=(0,t.useRef)(!1);(0,t.useEffect)((()=>(h.current=!0,()=>{h.current=!1})));const[f,p,m]=(0,t.useMemo)((()=>{const e=()=>{if(!c.current.element)return;const{left:e,top:t,width:n,height:r,bottom:i,right:a,x:s,y:u}=c.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:r,bottom:i,right:a,x:s,y:u};c.current.element instanceof HTMLElement&&o&&(d.height=c.current.element.offsetHeight,d.width=c.current.element.offsetWidth),Object.freeze(d),h.current&&!lg(c.current.lastBounds,d)&&l(c.current.lastBounds=d)};return[e,d?ig()(e,d):e,u?ig()(e,u):e]}),[l,o,u,d]);function g(){c.current.scrollContainers&&(c.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",m,!0))),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function v(){c.current.element&&(c.current.resizeObserver=new a(m),c.current.resizeObserver.observe(c.current.element),r&&c.current.scrollContainers&&c.current.scrollContainers.forEach((e=>e.addEventListener("scroll",m,{capture:!0,passive:!0}))))}var y,b,x;return y=m,b=Boolean(r),(0,t.useEffect)((()=>{if(b){const e=y;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[y,b]),x=p,(0,t.useEffect)((()=>{const e=x;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[x]),(0,t.useEffect)((()=>{g(),v()}),[r,m,p]),(0,t.useEffect)((()=>g),[]),[e=>{e&&e!==c.current.element&&(g(),c.current.element=e,c.current.scrollContainers=ag(e),v())},s,f]}function ag(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...ag(e.parentElement)]}const sg=["x","y","top","bottom","left","right","width","height"],lg=(e,t)=>sg.every((n=>e[n]===t[n]));var cg=Object.defineProperty,ug=Object.defineProperties,dg=Object.getOwnPropertyDescriptors,hg=Object.getOwnPropertySymbols,fg=Object.prototype.hasOwnProperty,pg=Object.prototype.propertyIsEnumerable,mg=(e,t,n)=>t in e?cg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gg=(e,t)=>{for(var n in t||(t={}))fg.call(t,n)&&mg(e,n,t[n]);if(hg)for(var n of hg(t))pg.call(t,n)&&mg(e,n,t[n]);return e};function vg(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=vg(r,t,n);if(e)return e;r=t?null:r.sibling}}function yg(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(cM){return e}}const bg=yg(t.createContext(null));class xg extends t.Component{render(){return t.createElement(bg.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:wg,ReactCurrentDispatcher:Sg}=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Eg(){const e=t.useContext(bg);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const n=t.useId(),r=t.useMemo((()=>{var t;return null!=(t=null==wg?void 0:wg.current)?t:vg(e,!1,(e=>{let t=e.memoizedState;for(;t;){if(t.memoizedState===n)return!0;t=t.next}}))}),[e,n]);return r}function Mg(){const e=function(){var e,n;const r=Eg(),[i]=t.useState((()=>new Map));i.clear();let o=r;for(;o;){const t=null==(e=o.type)?void 0:e._context;t&&t!==bg&&!i.has(t)&&i.set(t,null==(n=null==Sg?void 0:Sg.current)?void 0:n.readContext(yg(t))),o=o.return}return i}();return t.useMemo((()=>Array.from(e.keys()).reduce(((n,r)=>i=>t.createElement(n,null,t.createElement(r.Provider,((e,t)=>ug(e,dg(t)))(gg({},i),{value:e.get(r)})))),(e=>t.createElement(xg,gg({},e))))),[e])}const Cg={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _g(e){const{handlePointer:t}=lm(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(Cg).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=i.handlers)?n:[]).forEach((e=>{let[n,r]=e;const[i,o]=Cg[n];t.addEventListener(i,r,{passive:o})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((e=>{let[t,r]=e;if(n&&n.connected instanceof HTMLElement){const[e]=Cg[t];n.connected.removeEventListener(e,r)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}const Tg=t.forwardRef((function(n,r){let{children:i,fallback:o,resize:a,style:s,gl:l,events:c=_g,eventSource:u,eventPrefix:d,shadows:h,linear:f,flat:p,legacy:m,orthographic:g,frameloop:v,dpr:y,performance:b,raycaster:x,camera:w,onPointerMissed:S,onCreated:E,...M}=n;t.useMemo((()=>Ip(e)),[]);const C=Mg(),[_,T]=og({scroll:!0,debounce:{scroll:50,resize:0},...a}),A=t.useRef(null),P=t.useRef(null);t.useImperativeHandle(r,(()=>A.current));const O=Up(S),[D,R]=t.useState(!1),[k,I]=t.useState(!1);if(D)throw D;if(k)throw k;const L=t.useRef(null);Bp((()=>{const e=A.current;T.width>0&&T.height>0&&e&&(L.current||(L.current=Fm(e)),L.current.configure({gl:l,events:c,shadows:h,linear:f,flat:p,legacy:m,orthographic:g,frameloop:v,dpr:y,performance:b,raycaster:x,camera:w,size:T,onPointerMissed:function(){return null==O.current?void 0:O.current(...arguments)},onCreated:e=>{var t;null==e.events.connect||e.events.connect(u?(t=u)&&t.hasOwnProperty("current")?u.current:u:P.current),d&&e.setEvents({compute:(e,t)=>{const n=e[d+"X"],r=e[d+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==E||E(e)}}),L.current.render(t.createElement(C,null,t.createElement(Hp,{set:I},t.createElement(t.Suspense,{fallback:t.createElement(jp,{set:R})},i)))))})),t.useEffect((()=>{const e=A.current;if(e)return()=>Bm(e)}),[]);const z=u?"none":"auto";return t.createElement("div",Gm({ref:P,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...s}},M),t.createElement("div",{ref:_,style:{width:"100%",height:"100%"}},t.createElement("canvas",{ref:A,style:{display:"block"}},o)))})),Ag=t.forwardRef((function(e,n){return t.createElement(xg,null,t.createElement(Tg,Gm({},e,{ref:n})))}));var Pg=n(184),Og="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",Dg=class extends Oo{constructor(){super({name:"AdaptiveLuminanceMaterial",defines:{MIP_LEVEL_1X1:"0.0"},uniforms:{luminanceBuffer0:new uf(null),luminanceBuffer1:new uf(null),minLuminance:new uf(.01),deltaTime:new uf(0),tau:new uf(1)},extensions:{shaderTextureLOD:!0},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\nuniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));\n#if __VERSION__ < 300\nfloat l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\n#else\nfloat l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\n#endif\nl0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}",vertexShader:Og})}set luminanceBuffer0(e){this.uniforms.luminanceBuffer0.value=e}setLuminanceBuffer0(e){this.uniforms.luminanceBuffer0.value=e}set luminanceBuffer1(e){this.uniforms.luminanceBuffer1.value=e}setLuminanceBuffer1(e){this.uniforms.luminanceBuffer1.value=e}set mipLevel1x1(e){this.defines.MIP_LEVEL_1X1=e.toFixed(1),this.needsUpdate=!0}setMipLevel1x1(e){this.mipLevel1x1=e}set deltaTime(e){this.uniforms.deltaTime.value=e}setDeltaTime(e){this.uniforms.deltaTime.value=e}get minLuminance(){return this.uniforms.minLuminance.value}set minLuminance(e){this.uniforms.minLuminance.value=e}getMinLuminance(){return this.uniforms.minLuminance.value}setMinLuminance(e){this.uniforms.minLuminance.value=e}get adaptationRate(){return this.uniforms.tau.value}set adaptationRate(e){this.uniforms.tau.value=e}getAdaptationRate(){return this.uniforms.tau.value}setAdaptationRate(e){this.uniforms.tau.value=e}},Rg=class extends Oo{constructor(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super({name:"BokehMaterial",defines:{PASS:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"2":"1"},uniforms:{inputBuffer:new uf(null),cocBuffer:new uf(null),texelSize:new uf(new zn),kernel64:new uf(null),kernel16:new uf(null),scale:new uf(1)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#if PASS == 1\nuniform vec4 kernel64[32];\n#else\nuniform vec4 kernel16[8];\n#endif\nuniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;varying vec2 vUv;void main(){\n#ifdef FOREGROUND\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;\n#else\nfloat CoC=texture2D(cocBuffer,vUv).g*scale;\n#endif\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\n#ifdef FOREGROUND\nvec2 step=texelSize*max(CoC,CoCNearFar.g*scale);\n#else\nvec2 step=texelSize*CoC;\n#endif\n#if PASS == 1\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\n#else\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\n#endif\n}}",vertexShader:Og}),e&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.scale}setScale(e){this.scale=e}generateKernel(){const e=new Float64Array(128),t=new Float64Array(32);let n=0,r=0;for(let i=0,o=Math.sqrt(80);i<80;++i){const a=2.39996323*i,s=Math.sqrt(i)/o,l=s*Math.cos(a),c=s*Math.sin(a);i%5===0?(t[r++]=l,t[r++]=c):(e[n++]=l,e[n++]=c)}this.uniforms.kernel64.value=e,this.uniforms.kernel16.value=t}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},kg="",Ig="srgb",Lg="srgb-linear",zg=Number(o.replace(/\D+/g,""))>=152,Fg=new Map([[zt,Lg],[Ft,Ig]]),Ng=new Map([[Lg,zt],[Ig,Ft]]);function Bg(e){return null===e?null:zg?e.outputColorSpace:Fg.get(e.outputEncoding)}function Ug(e,t){null!==e&&(zg?e.colorSpace=t:e.encoding=Ng.get(t))}function jg(e,t){null!==e&&null!==t&&(zg?t.colorSpace=e.colorSpace:t.encoding=e.encoding)}function Hg(e,t,n){return e*(t-n)-t}function Vg(e,t,n){return Math.min(Math.max((e+t)/(t-n),0),1)}var Gg=class extends Oo{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new uf(null),focusDistance:new uf(0),focusRange:new uf(0),cameraNear:new uf(.3),cameraFar:new uf(1e3)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}void main(){float depth=readDepth(vUv);\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\n#else\nfloat linearDepth=depth;\n#endif\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}",vertexShader:Og}),this.uniforms.focalLength=this.uniforms.focusRange,this.copyCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-Hg(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=Vg(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-Hg(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=Vg(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Ro?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Wg={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},Yg=0,Xg=1,Qg=2,qg=3,Kg={FULL:0,SINGLE:1},Zg=1,Jg=2,$g={DEPTH:0,LUMA:1,COLOR:2},ev={NONE:0,DEPTH:1,CONVOLUTION:2},tv={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},nv=0,rv=1,iv=2,ov=3,av={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},sv="lut.scaleup",lv=0,cv=1,uv=2,dv={DISABLED:0,DEPTH:1,CUSTOM:2},hv={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},fv={REINHARD:0,REINHARD2:1,REINHARD2_ADAPTIVE:2,OPTIMIZED_CINEON:3,ACES_FILMIC:4},pv={DEFAULT:0,ESKIL:1},mv=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],gv=class extends Oo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new nr;super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new uf(null),texelSize:new uf(new nr),scale:new uf(1),kernel:new uf(0)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <encodings_fragment>\n}",vertexShader:"uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.setTexelSize(e.x,e.y),this.kernelSize=av.MEDIUM}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get kernelSequence(){return mv[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t,.5*e,.5*t)}setSize(e,t){const n=1/e,r=1/t;this.uniforms.texelSize.value.set(n,r,.5*n,.5*r)}},vv=class extends Oo{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new uf(null),opacity:new uf(1)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n#include <dithering_fragment>\n}",vertexShader:Og})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},yv=class extends Oo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new uf(null),cameraNear:new uf(.3),cameraFar:new uf(1e3)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\n#include <clipping_planes_pars_fragment>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <clipping_planes_fragment>\nvec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);\n#if DEPTH_PACKING == 3201\nfloat fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));\n#else\nfloat fragCoordZ=texture2D(depthBuffer,projTexCoord).r;\n#endif\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#else\nfloat viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#endif\nfloat depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}",vertexShader:"#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <skinbase_vertex>\n#include <begin_vertex>\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n#include <project_vertex>\nvViewZ=mvPosition.z;vProjTexCoord=gl_Position;\n#include <clipping_planes_vertex>\n}"}),this.depthBuffer=e,this.depthPacking=Bt,this.copyCameraSettings(t)}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;this.depthBuffer=e,this.depthPacking=t}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Ro?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},bv=class extends Oo{constructor(){super({name:"DepthCopyMaterial",defines:{INPUT_DEPTH_PACKING:"0",OUTPUT_DEPTH_PACKING:"0",DEPTH_COPY_MODE:"0"},uniforms:{depthBuffer:new uf(null),texelPosition:new uf(new zn)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\nvarying vec2 vUv;\n#ifdef NORMAL_DEPTH\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D normalDepthBuffer;\n#else\nuniform mediump sampler2D normalDepthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}\n#else\n#if INPUT_DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if INPUT_DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}\n#endif\nvoid main(){\n#if INPUT_DEPTH_PACKING == OUTPUT_DEPTH_PACKING\ngl_FragColor=texture2D(depthBuffer,vUv);\n#else\nfloat depth=readDepth(vUv);\n#if OUTPUT_DEPTH_PACKING == 3201\ngl_FragColor=(depth==1.0)?vec4(1.0):packDepthToRGBA(depth);\n#else\ngl_FragColor=vec4(vec3(depth),1.0);\n#endif\n#endif\n}",vertexShader:"varying vec2 vUv;\n#if DEPTH_COPY_MODE == 1\nuniform vec2 texelPosition;\n#endif\nvoid main(){\n#if DEPTH_COPY_MODE == 1\nvUv=texelPosition;\n#else\nvUv=position.xy*0.5+0.5;\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"}),this.depthCopyMode=Kg.FULL}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set inputDepthPacking(e){this.defines.INPUT_DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}get outputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}set outputDepthPacking(e){this.defines.OUTPUT_DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthBuffer=e,this.inputDepthPacking=t}getInputDepthPacking(){return Number(this.defines.INPUT_DEPTH_PACKING)}setInputDepthPacking(e){this.defines.INPUT_DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}getOutputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}setOutputDepthPacking(e){this.defines.OUTPUT_DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}get texelPosition(){return this.uniforms.texelPosition.value}getTexelPosition(){return this.uniforms.texelPosition.value}setTexelPosition(e){this.uniforms.texelPosition.value=e}get mode(){return this.depthCopyMode}set mode(e){this.depthCopyMode=e,this.defines.DEPTH_COPY_MODE=e.toFixed(0),this.needsUpdate=!0}getMode(){return this.mode}setMode(e){this.mode=e}},xv=class extends Oo{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new uf(null),normalBuffer:new uf(null),texelSize:new uf(new zn)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\n#ifdef DOWNSAMPLE_NORMALS\nuniform lowp sampler2D normalBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);\n#ifdef DOWNSAMPLE_NORMALS\nvec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);\n#else\nvec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));\n#endif\ngl_FragColor=vec4(n[index],d[index]);}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}"})}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthBuffer=e,this.depthPacking=t}set normalBuffer(e){this.uniforms.normalBuffer.value=e,null!==e?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(e){this.normalBuffer=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},wv=class extends Oo{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:Zg},uniforms:{inputBuffer:new uf(null),depthBuffer0:new uf(null),depthBuffer1:new uf(null),cameraNearFar:new uf(new zn(1,1))},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;\n#else\nuniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;\n#endif\nuniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#endif\n}varying vec2 vUv;void main(){vec2 depth;\n#if DEPTH_PACKING_0 == 3201\ndepth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));\n#else\ndepth.x=texture2D(depthBuffer0,vUv).r;\n#endif\n#if DEPTH_PACKING_1 == 3201\ndepth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));\n#else\ndepth.y=texture2D(depthBuffer1,vUv).r;\n#endif\nbool isMaxDepth=(depth.x==1.0);\n#ifdef PERSPECTIVE_CAMERA\ndepth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);\n#endif\n#if DEPTH_TEST_STRATEGY == 0\nbool keep=depthTest(depth.x,depth.y);\n#elif DEPTH_TEST_STRATEGY == 1\nbool keep=isMaxDepth||depthTest(depth.x,depth.y);\n#else\nbool keep=!isMaxDepth&&depthTest(depth.x,depth.y);\n#endif\nif(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}",vertexShader:Og}),this.depthMode=G}set depthBuffer0(e){this.uniforms.depthBuffer0.value=e}set depthPacking0(e){this.defines.DEPTH_PACKING_0=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthBuffer0=e,this.depthPacking0=t}set depthBuffer1(e){this.uniforms.depthBuffer1.value=e}set depthPacking1(e){this.defines.DEPTH_PACKING_1=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthBuffer1=e,this.depthPacking1=t}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(e){this.defines.DEPTH_TEST_STRATEGY=e.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(e){this.maxDepthStrategy=e?Zg:Jg}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(e){this.maxDepthStrategy=e}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(e){this.defines.DEPTH_EPSILON=e.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(e){this.epsilon=e}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(e){let t;switch(e){case H:t="false";break;case V:t="true";break;case Y:t="abs(d1 - d0) <= DEPTH_EPSILON";break;case q:t="abs(d1 - d0) > DEPTH_EPSILON";break;case G:t="d0 > d1";break;case W:t="d0 >= d1";break;case X:t="d0 <= d1";break;default:t="d0 < d1"}this.defines.DEPTH_MODE=e.toFixed(0),this.defines["depthTest(d0, d1)"]=t,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(e){this.depthMode=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNearFar.value.set(e.near,e.far),e instanceof Ro?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Sv=class extends Oo{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new uf(null),texelSize:new uf(new zn)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#define WEIGHT_INNER 0.125\n#define WEIGHT_OUTER 0.0555555\nvarying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;\n#include <encodings_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}"})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},Ev=class extends Oo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$g.COLOR;super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:o.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new uf(null),depthBuffer:new uf(null),predicationBuffer:new uf(null),texelSize:new uf(e)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"}),this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(.1*e).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},Mv=class extends Oo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super({name:"EffectMaterial",defines:{THREE_REVISION:o.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new uf(null),depthBuffer:new uf(null),resolution:new uf(new zn),texelSize:new uf(new zn),cameraNear:new uf(.3),cameraFar:new uf(1e3),aspect:new uf(1),time:new uf(0)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:i}),e&&this.setShaderParts(e),t&&this.setDefines(t),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthBuffer=e,this.depthPacking=t}setShaderData(e){this.setShaderParts(e.shaderParts),this.setDefines(e.defines),this.setUniforms(e.uniforms),this.setExtensions(e.extensions)}setShaderParts(e){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <encodings_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(tv.FRAGMENT_HEAD,e.get(tv.FRAGMENT_HEAD)||"").replace(tv.FRAGMENT_MAIN_UV,e.get(tv.FRAGMENT_MAIN_UV)||"").replace(tv.FRAGMENT_MAIN_IMAGE,e.get(tv.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}".replace(tv.VERTEX_HEAD,e.get(tv.VERTEX_HEAD)||"").replace(tv.VERTEX_MAIN_SUPPORT,e.get(tv.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(e){for(const t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(const t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(const t of e)this.extensions[t]=!0;return this}get encodeOutput(){return void 0!==this.defines.ENCODE_OUTPUT}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Ro?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){const n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}static get Section(){return tv}},Cv=class extends Oo{constructor(e){super({name:"GodRaysMaterial",defines:{SAMPLES_INT:"60",SAMPLES_FLOAT:"60.0"},uniforms:{inputBuffer:new uf(null),lightPosition:new uf(e),density:new uf(1),decay:new uf(1),weight:new uf(1),exposure:new uf(1),clampMax:new uf(1)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);\n#include <dithering_fragment>\n}",vertexShader:Og})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get lightPosition(){return this.uniforms.lightPosition.value}getLightPosition(){return this.uniforms.lightPosition.value}setLightPosition(e){this.uniforms.lightPosition.value=e}get density(){return this.uniforms.density.value}set density(e){this.uniforms.density.value=e}getDensity(){return this.uniforms.density.value}setDensity(e){this.uniforms.density.value=e}get decay(){return this.uniforms.decay.value}set decay(e){this.uniforms.decay.value=e}getDecay(){return this.uniforms.decay.value}setDecay(e){this.uniforms.decay.value=e}get weight(){return this.uniforms.weight.value}set weight(e){this.uniforms.weight.value=e}getWeight(){return this.uniforms.weight.value}setWeight(e){this.uniforms.weight.value=e}get exposure(){return this.uniforms.exposure.value}set exposure(e){this.uniforms.exposure.value=e}getExposure(){return this.uniforms.exposure.value}setExposure(e){this.uniforms.exposure.value=e}get maxIntensity(){return this.uniforms.clampMax.value}set maxIntensity(e){this.uniforms.clampMax.value=e}getMaxIntensity(){return this.uniforms.clampMax.value}setMaxIntensity(e){this.uniforms.clampMax.value=e}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(e){const t=Math.floor(e);this.defines.SAMPLES_INT=t.toFixed(0),this.defines.SAMPLES_FLOAT=t.toFixed(1),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(e){this.samples=e}},_v=class extends Oo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super({name:"LuminanceMaterial",defines:{THREE_REVISION:o.replace(/\D+/g,"")},uniforms:{inputBuffer:new uf(null),threshold:new uf(0),smoothing:new uf(1),range:new uf(null)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",vertexShader:Og}),this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return void 0!==this.defines.COLOR}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return null!==this.luminanceRange}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){null!==e?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},Tv=class extends Oo{constructor(){super({name:"MaskMaterial",uniforms:{maskTexture:new uf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),inputBuffer:new uf(null),strength:new uf(1)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef MASK_PRECISION_HIGH\nuniform mediump sampler2D maskTexture;\n#else\nuniform lowp sampler2D maskTexture;\n#endif\n#if MASK_FUNCTION != 0\nuniform float strength;\n#endif\nvarying vec2 vUv;void main(){\n#if COLOR_CHANNEL == 0\nfloat mask=texture2D(maskTexture,vUv).r;\n#elif COLOR_CHANNEL == 1\nfloat mask=texture2D(maskTexture,vUv).g;\n#elif COLOR_CHANNEL == 2\nfloat mask=texture2D(maskTexture,vUv).b;\n#else\nfloat mask=texture2D(maskTexture,vUv).a;\n#endif\n#if MASK_FUNCTION == 0\n#ifdef INVERTED\nmask=step(mask,0.0);\n#else\nmask=1.0-step(mask,0.0);\n#endif\n#else\nmask=clamp(mask*strength,0.0,1.0);\n#ifdef INVERTED\nmask=1.0-mask;\n#endif\n#endif\n#if MASK_FUNCTION == 2\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\n#else\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\n#endif\n}",vertexShader:Og}),this.colorChannel=Yg,this.maskFunction=lv}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==Me&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return void 0!==this.defines.INVERTED}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},Av=class extends Oo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zn;super({name:"OutlineMaterial",uniforms:{inputBuffer:new uf(null),texelSize:new uf(new zn)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.uniforms.texelSize.value.set(e.x,e.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},Pv=class extends Oo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zn;super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new uf(null),searchTexture:new uf(null),areaTexture:new uf(null),resolution:new uf(t),texelSize:new uf(e)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}",vertexShader:"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}"})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){const t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){const t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return void 0===this.defines.DISABLE_DIAG_DETECTION}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){const t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return void 0===this.defines.DISABLE_CORNER_DETECTION}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){const n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.resolution.value.set(e,t)}},Ov=class extends Oo{constructor(e){super({name:"SSAOMaterial",defines:{SAMPLES_INT:"0",INV_SAMPLES_FLOAT:"0.0",SPIRAL_TURNS:"0.0",RADIUS:"1.0",RADIUS_SQ:"1.0",DISTANCE_SCALING:"1",DEPTH_PACKING:"0"},uniforms:{depthBuffer:new uf(null),normalBuffer:new uf(null),normalDepthBuffer:new uf(null),noiseTexture:new uf(null),inverseProjectionMatrix:new uf(new Ur),projectionMatrix:new uf(new Ur),texelSize:new uf(new zn),cameraNearFar:new uf(new zn),distanceCutoff:new uf(new zn),proximityCutoff:new uf(new zn),noiseScale:new uf(new zn),minRadiusScale:new uf(.33),intensity:new uf(1),fade:new uf(.01),bias:new uf(0)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef NORMAL_DEPTH\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D normalDepthBuffer;\n#else\nuniform mediump sampler2D normalDepthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}\n#else\nuniform lowp sampler2D normalBuffer;\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}\n#endif\nuniform lowp sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform vec2 cameraNearFar;uniform float intensity;uniform float minRadiusScale;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);\n#endif\n}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){vec4 clipPosition=vec4(vec3(screenPosition,depth)*2.0-1.0,1.0);float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){float radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;float noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*INV_SAMPLES_FLOAT;float angle=alpha*rings+baseAngle;vec2 rotation=vec2(cos(angle),sin(angle));vec2 coords=alpha*radius*rotation*texelSize+uv;if(coords.s<0.0||coords.s>1.0||coords.t<0.0||coords.t>1.0){continue;}float sampleDepth=readDepth(coords);float viewZ=getViewZ(sampleDepth);\n#ifdef PERSPECTIVE_CAMERA\nfloat linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);\n#else\nfloat linearSampleDepth=sampleDepth;\n#endif\nfloat proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coords,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){\n#ifdef NORMAL_DEPTH\nvec4 normalDepth=texture2D(normalDepthBuffer,vUv);\n#else\nvec4 normalDepth=vec4(texture2D(normalBuffer,vUv).xyz,readDepth(vUv));\n#endif\nfloat ao=0.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);\n#ifdef PERSPECTIVE_CAMERA\nfloat linearDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);\n#else\nfloat linearDepth=depth;\n#endif\nif(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao+=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,0.0,d);\n#ifdef LEGACY_INTENSITY\nao=clamp(1.0-pow(1.0-ao,abs(intensity)),0.0,1.0);\n#endif\n}gl_FragColor.r=ao;}",vertexShader:"uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}"}),this.copyCameraSettings(e),this.resolution=new zn,this.r=1}get near(){return this.uniforms.cameraNearFar.value.x}get far(){return this.uniforms.cameraNearFar.value.y}set normalDepthBuffer(e){this.uniforms.normalDepthBuffer.value=e,null!==e?this.defines.NORMAL_DEPTH="1":delete this.defines.NORMAL_DEPTH,this.needsUpdate=!0}setNormalDepthBuffer(e){this.normalDepthBuffer=e}set normalBuffer(e){this.uniforms.normalBuffer.value=e}setNormalBuffer(e){this.uniforms.normalBuffer.value=e}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthBuffer=e,this.depthPacking=t}set noiseTexture(e){this.uniforms.noiseTexture.value=e}setNoiseTexture(e){this.uniforms.noiseTexture.value=e}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(e){this.defines.SAMPLES_INT=e.toFixed(0),this.defines.INV_SAMPLES_FLOAT=(1/e).toFixed(9),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(e){this.samples=e}get rings(){return Number(this.defines.SPIRAL_TURNS)}set rings(e){this.defines.SPIRAL_TURNS=e.toFixed(1),this.needsUpdate=!0}getRings(){return this.rings}setRings(e){this.rings=e}get intensity(){return this.uniforms.intensity.value}set intensity(e){this.uniforms.intensity.value=e,void 0===this.defines.LEGACY_INTENSITY&&(this.defines.LEGACY_INTENSITY="1",this.needsUpdate=!0)}getIntensity(){return this.uniforms.intensity.value}setIntensity(e){this.uniforms.intensity.value=e}get fade(){return this.uniforms.fade.value}set fade(e){this.uniforms.fade.value=e}getFade(){return this.uniforms.fade.value}setFade(e){this.uniforms.fade.value=e}get bias(){return this.uniforms.bias.value}set bias(e){this.uniforms.bias.value=e}getBias(){return this.uniforms.bias.value}setBias(e){this.uniforms.bias.value=e}get minRadiusScale(){return this.uniforms.minRadiusScale.value}set minRadiusScale(e){this.uniforms.minRadiusScale.value=e}getMinRadiusScale(){return this.uniforms.minRadiusScale.value}setMinRadiusScale(e){this.uniforms.minRadiusScale.value=e}updateRadius(){const e=this.r*this.resolution.height;this.defines.RADIUS=e.toFixed(11),this.defines.RADIUS_SQ=(e*e).toFixed(11),this.needsUpdate=!0}get radius(){return this.r}set radius(e){this.r=Math.min(Math.max(e,1e-6),1),this.updateRadius()}getRadius(){return this.radius}setRadius(e){this.radius=e}get distanceScaling(){return!0}set distanceScaling(e){}isDistanceScalingEnabled(){return this.distanceScaling}setDistanceScalingEnabled(e){this.distanceScaling=e}get distanceThreshold(){return this.uniforms.distanceCutoff.value.x}set distanceThreshold(e){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(e,0),1),Math.min(Math.max(e+this.distanceFalloff,0),1))}get worldDistanceThreshold(){return-Hg(this.distanceThreshold,this.near,this.far)}set worldDistanceThreshold(e){this.distanceThreshold=Vg(-e,this.near,this.far)}get distanceFalloff(){return this.uniforms.distanceCutoff.value.y-this.distanceThreshold}set distanceFalloff(e){this.uniforms.distanceCutoff.value.y=Math.min(Math.max(this.distanceThreshold+e,0),1)}get worldDistanceFalloff(){return-Hg(this.distanceFalloff,this.near,this.far)}set worldDistanceFalloff(e){this.distanceFalloff=Vg(-e,this.near,this.far)}setDistanceCutoff(e,t){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(e,0),1),Math.min(Math.max(e+t,0),1))}get proximityThreshold(){return this.uniforms.proximityCutoff.value.x}set proximityThreshold(e){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(e,0),1),Math.min(Math.max(e+this.proximityFalloff,0),1))}get worldProximityThreshold(){return-Hg(this.proximityThreshold,this.near,this.far)}set worldProximityThreshold(e){this.proximityThreshold=Vg(-e,this.near,this.far)}get proximityFalloff(){return this.uniforms.proximityCutoff.value.y-this.proximityThreshold}set proximityFalloff(e){this.uniforms.proximityCutoff.value.y=Math.min(Math.max(this.proximityThreshold+e,0),1)}get worldProximityFalloff(){return-Hg(this.proximityFalloff,this.near,this.far)}set worldProximityFalloff(e){this.proximityFalloff=Vg(-e,this.near,this.far)}setProximityCutoff(e,t){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(e,0),1),Math.min(Math.max(e+t,0),1))}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNearFar.value.set(e.near,e.far),this.uniforms.projectionMatrix.value.copy(e.projectionMatrix),this.uniforms.inverseProjectionMatrix.value.copy(e.projectionMatrix).invert(),e instanceof Ro?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){const n=this.uniforms,r=n.noiseTexture.value;null!==r&&n.noiseScale.value.set(e/r.image.width,t/r.image.height),n.texelSize.value.set(1/e,1/t),this.resolution.set(e,t),this.updateRadius()}},Dv=class extends gv{constructor(){let{kernelSize:e=av.MEDIUM,offset:t=0,rotation:n=0,focusArea:r=.4,feather:i=.3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.fragmentShader="#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform vec4 maskParams;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;float linearGradientMask(const in float x){return smoothstep(maskParams.x,maskParams.y,x)-smoothstep(maskParams.w,maskParams.z,x);}void main(){vec2 dUv=vOffset*(1.0-linearGradientMask(vUv2.y));vec4 sum=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y-dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y-dUv.y));gl_FragColor=sum*0.25;\n#include <encodings_fragment>\n}",this.vertexShader="uniform vec4 texelSize;uniform float kernel;uniform float scale;uniform float aspect;uniform vec2 rotation;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;void main(){vec2 uv=position.xy*0.5+0.5;vUv=uv;vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));vOffset=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;gl_Position=vec4(position.xy,1.0,1.0);}",this.kernelSize=e,this.uniforms.aspect=new uf(1),this.uniforms.rotation=new uf(new zn),this.uniforms.maskParams=new uf(new nr),this._offset=t,this._focusArea=r,this._feather=i,this.rotation=n,this.updateParams()}updateParams(){const e=this.uniforms.maskParams.value,t=Math.max(this.focusArea,0),n=Math.max(t-this.feather,0);e.set(this.offset-t,this.offset-n,this.offset+t,this.offset+n)}get rotation(){return Math.acos(this.uniforms.rotation.value.x)}set rotation(e){this.uniforms.rotation.value.set(Math.cos(e),Math.sin(e))}get offset(){return this._offset}set offset(e){this._offset=e,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(e){this._focusArea=e,this.updateParams()}get feather(){return this._feather}set feather(e){this._feather=e,this.updateParams()}setSize(e,t){super.setSize(e,t),this.uniforms.aspect.value=e/t}},Rv=class extends Oo{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new uf(null),supportBuffer:new uf(null),texelSize:new uf(new zn),radius:new uf(.85)},blending:x,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;\n#else\nuniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;\n#endif\nuniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);\n#include <encodings_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}"})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}set supportBuffer(e){this.uniforms.supportBuffer.value=e}get radius(){return this.uniforms.radius.value}set radius(e){this.uniforms.radius.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},kv=new Do,Iv=null;var Lv=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Pass",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Al,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kv;this.name=e,this.renderer=null,this.scene=t,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.fullscreenMaterial;null!==t&&(t.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return null!==this.screen?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;null!==t?t.material=e:(t=new Eo(function(){if(null===Iv){const e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);void 0!==(Iv=new io).setAttribute?(Iv.setAttribute("position",new Ui(e,3)),Iv.setAttribute("uv",new Ui(t,2))):(Iv.addAttribute("position",new Ui(e,3)),Iv.addAttribute("uv",new Ui(t,2)))}return Iv}(),e),t.frustumCulled=!1,null===this.scene&&(this.scene=new Al),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e){}render(e,t,n,r,i){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof rr||t instanceof Ci||t instanceof tr||t instanceof Lv)&&this[e].dispose()}}},zv=class extends Lv{constructor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super("CopyPass"),this.fullscreenMaterial=new vv,this.needsSwap=!1,this.renderTarget=e,void 0===e&&(this.renderTarget=new rr(1,1,{minFilter:be,magFilter:be,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,n,r,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,n){void 0!==n&&(this.renderTarget.texture.type=n,n!==Me?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":Bg(e)===Ig&&Ug(this.renderTarget.texture,Ig))}},Fv=class extends Lv{constructor(e){let{minLuminance:t=.01,adaptationRate:n=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super("AdaptiveLuminancePass"),this.fullscreenMaterial=new Dg,this.needsSwap=!1,this.renderTargetPrevious=new rr(1,1,{minFilter:pe,magFilter:pe,depthBuffer:!1}),this.renderTargetPrevious.texture.name="Luminance.Previous";const r=this.fullscreenMaterial;r.luminanceBuffer0=this.renderTargetPrevious.texture,r.luminanceBuffer1=e,r.minLuminance=t,r.adaptationRate=n,this.renderTargetAdapted=this.renderTargetPrevious.clone(),this.renderTargetAdapted.texture.name="Luminance.Adapted",this.copyPass=new zv(this.renderTargetPrevious,!1)}get texture(){return this.renderTargetAdapted.texture}getTexture(){return this.renderTargetAdapted.texture}set mipLevel1x1(e){this.fullscreenMaterial.mipLevel1x1=e}get adaptationRate(){return this.fullscreenMaterial.adaptationRate}set adaptationRate(e){this.fullscreenMaterial.adaptationRate=e}render(e,t,n,r,i){this.fullscreenMaterial.deltaTime=r,e.setRenderTarget(this.renderToScreen?null:this.renderTargetAdapted),e.render(this.scene,this.camera),this.copyPass.render(e,this.renderTargetAdapted)}},Nv=class extends Lv{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,n,r,i){const o=e.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},Bv=new Oi,Uv=class extends Lv{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,n){this.color=e,this.depth=t,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,n,r,i){const o=this.overrideClearColor,a=this.overrideClearAlpha,s=e.getClearAlpha(),l=null!==o,c=a>=0;l?(e.getClearColor(Bv),e.setClearColor(o,c?a:s)):c&&e.setClearAlpha(a),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(Bv,s):c&&e.setClearAlpha(s)}},jv=-1,Hv=class extends wn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jv,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jv,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.resizable=e,this.baseSize=new zn(1,1),this.preferredSize=new zn(t,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new zn,this.addEventListener("change",(()=>this.updateEffectiveSize())),this.updateEffectiveSize()}updateEffectiveSize(){const e=this.baseSize,t=this.preferredSize,n=this.effectiveSize,r=this.scale;t.width!==jv?n.width=t.width:t.height!==jv?n.width=Math.round(t.height*(e.width/Math.max(e.height,1))):n.width=Math.round(e.width*r),t.height!==jv?n.height=t.height:t.width!==jv?n.height=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):n.height=Math.round(e.height*r)}get width(){return this.effectiveSize.width}set width(e){this.preferredWidth=e}get height(){return this.effectiveSize.height}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferredSize.setScalar(jv),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.baseSize.width}set baseWidth(e){this.baseSize.width!==e&&(this.baseSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(e){this.baseWidth=e}get baseHeight(){return this.baseSize.height}set baseHeight(e){this.baseSize.height!==e&&(this.baseSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){this.baseSize.width===e&&this.baseSize.height===t||(this.baseSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(e){this.preferredSize.width!==e&&(this.preferredSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferredSize.height}set preferredHeight(e){this.preferredSize.height!==e&&(this.preferredSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){this.preferredSize.width===e&&this.preferredSize.height===t||(this.preferredSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(e){this.s=e.scale,this.baseSize.set(e.baseWidth,e.baseHeight),this.preferredSize.set(e.preferredWidth,e.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return jv}},Vv=!1,Gv=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case y:t=this.materialsFlatShadedDoubleSide;break;case v:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded}else switch(e.material.side){case y:t=this.materialsDoubleSide;break;case v:t=this.materialsBackSide;break;default:t=this.materials}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}cloneMaterial(e){if(!(e instanceof Oo))return e.clone();const t=e.uniforms,n=new Map;for(const i in t){const e=t[i].value;e.isRenderTargetTexture&&(t[i].value=null,n.set(i,e))}const r=e.clone();for(const i of n)t[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(e){if(this.disposeMaterials(),this.material=e,null!==e){const t=this.materials=[this.cloneMaterial(e),this.cloneMaterial(e),this.cloneMaterial(e)];for(const n of t)n.uniforms=Object.assign({},e.uniforms),n.side=g;t[2].skinning=!0,this.materialsBackSide=t.map((t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.side=v,n})),this.materialsDoubleSide=t.map((t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.side=y,n})),this.materialsFlatShaded=t.map((t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n})),this.materialsFlatShadedBackSide=t.map((t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=v,n})),this.materialsFlatShadedDoubleSide=t.map((t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=y,n}))}}render(e,t,n){const r=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,Vv){const r=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n);for(const e of r)e[0].material=e[1];this.meshCount!==r.size&&r.clear()}else{const r=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=r}e.shadowMap.enabled=r}disposeMaterials(){if(null!==this.material){const e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return Vv}static set workaroundEnabled(e){Vv=e}},Wv=class extends Lv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new Uv,this.overrideMaterialManager=null===n?null:new Gv(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){const e=this.overrideMaterialManager;return null!==e?e.material:null}set overrideMaterial(e){const t=this.overrideMaterialManager;null!==e?null!==t?t.setMaterial(e):this.overrideMaterialManager=new Gv(e):null!==t&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,n,r,i){const o=this.scene,a=this.camera,s=this.selection,l=a.layers.mask,c=o.background,u=e.shadowMap.autoUpdate,d=this.renderToScreen?null:t;null!==s&&a.layers.set(s.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||null!==this.clearPass.overrideClearColor)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(d),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(e,o,a):e.render(o,a),a.layers.mask=l,o.background=c,e.shadowMap.autoUpdate=u}},Yv=class extends Lv{constructor(e,t){let{renderTarget:n,resolutionScale:r=1,width:i=Hv.AUTO_SIZE,height:o=Hv.AUTO_SIZE,resolutionX:a=i,resolutionY:s=o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super("DepthPass"),this.needsSwap=!1,this.renderPass=new Wv(e,t,new cl({depthPacking:Bt}));const l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;const c=l.getClearPass();c.overrideClearColor=new Oi(16777215),c.overrideClearAlpha=1,this.renderTarget=n,void 0===this.renderTarget&&(this.renderTarget=new rr(1,1,{minFilter:pe,magFilter:pe}),this.renderTarget.texture.name="DepthPass.Target");const u=this.resolution=new Hv(this,a,s,r);u.addEventListener("change",(e=>this.setSize(u.baseWidth,u.baseHeight)))}set mainScene(e){this.renderPass.mainScene=e}set mainCamera(e){this.renderPass.mainCamera=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,r,i){const o=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,o)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},Xv=class extends Lv{constructor(){let{normalBuffer:e=null,resolutionScale:t=.5,width:n=Hv.AUTO_SIZE,height:r=Hv.AUTO_SIZE,resolutionX:i=n,resolutionY:o=r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("DepthDownsamplingPass");const a=new xv;a.normalBuffer=e,this.fullscreenMaterial=a,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new rr(1,1,{minFilter:pe,magFilter:pe,depthBuffer:!1,type:Oe}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const s=this.resolution=new Hv(this,i,o,t);s.addEventListener("change",(e=>this.setSize(s.baseWidth,s.baseHeight)))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t}render(e,t,n,r,i){e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(e,t)}initialize(e,t,n){const r=e.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},Qv=class extends Lv{constructor(){let{depthPacking:e=Bt}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("DepthCopyPass");const t=new bv;t.outputDepthPacking=e,this.fullscreenMaterial=t,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new rr(1,1,{type:e===Bt?Me:Oe,minFilter:pe,magFilter:pe,depthBuffer:!1}),this.renderTarget.texture.name="DepthCopyPass.Target"}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get depthPacking(){return this.fullscreenMaterial.outputDepthPacking}getDepthPacking(){return this.fullscreenMaterial.outputDepthPacking}setDepthTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.inputDepthPacking=t}render(e,t,n,r,i){e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.renderTarget.setSize(e,t)}},qv=new Float32Array([255/256/256**3,255/256/65536,255/256/256,255/256]);var Kv=class extends Qv{constructor(){let{depthPacking:e=Bt,mode:t=Kg.SINGLE}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({depthPacking:e}),this.name="DepthPickingPass",this.fullscreenMaterial.mode=t,this.pixelBuffer=e===Bt?new Uint8Array(4):new Float32Array(4),this.callback=null}readDepth(e){return this.fullscreenMaterial.texelPosition.set(.5*e.x+.5,.5*e.y+.5),new Promise((e=>{this.callback=e}))}render(e,t,n,r,i){const o=this.fullscreenMaterial,a=o.mode;if(a===Kg.FULL&&super.render(e),null!==this.callback){const t=this.renderTarget,n=this.pixelBuffer,r=t.texture.type!==Oe;let i=0,l=0;if(a===Kg.SINGLE)super.render(e);else{const e=o.texelPosition;i=Math.round(e.x*t.width),l=Math.round(e.y*t.height)}e.readRenderTargetPixels(t,i,l,1,1,n),this.callback(r?((s=n)[0]*qv[0]+s[1]*qv[1]+s[2]*qv[2]+s[3]*qv[3])/255:n[0]),this.callback=null}var s}setSize(e,t){this.fullscreenMaterial.mode===Kg.FULL&&super.setSize(e,t)}};function Zv(e,t,n){for(const r of t){const t="$1"+e+r.charAt(0).toUpperCase()+r.slice(1),i=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const e of n.entries())null!==e[1]&&n.set(e[0],e[1].replace(i,t))}}function Jv(e,t,n){let r=t.getFragmentShader(),i=t.getVertexShader();const o=void 0!==r&&/mainImage/.test(r),a=void 0!==r&&/mainUv/.test(r);if(n.attributes|=t.getAttributes(),void 0===r)throw new Error(`Missing fragment shader (${t.name})`);if(a&&0!==(n.attributes&ev.CONVOLUTION))throw new Error(`Effects that transform UVs are incompatible with convolution effects (${t.name})`);if(!o&&!a)throw new Error(`Could not find mainImage or mainUv function (${t.name})`);{const s=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=n.shaderParts;let c=l.get(tv.FRAGMENT_HEAD)||"",u=l.get(tv.FRAGMENT_MAIN_UV)||"",d=l.get(tv.FRAGMENT_MAIN_IMAGE)||"",h=l.get(tv.VERTEX_HEAD)||"",f=l.get(tv.VERTEX_MAIN_SUPPORT)||"";const p=new Set,m=new Set;if(a&&(u+=`\t${e}MainUv(UV);\n`,n.uvTransformation=!0),null!==i&&/mainSupport/.test(i)){const t=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);f+=`\t${e}MainSupport(`,f+=t?"vUv);\n":");\n";for(const e of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const t of e[1].split(/\s*,\s*/))n.varyings.add(t),p.add(t),m.add(t);for(const e of i.matchAll(s))m.add(e[1])}for(const e of r.matchAll(s))m.add(e[1]);for(const e of t.defines.keys())m.add(e.replace(/\([\w\s,]*\)/g,""));for(const e of t.uniforms.keys())m.add(e);m.delete("while"),m.delete("for"),m.delete("if"),t.uniforms.forEach(((t,r)=>n.uniforms.set(e+r.charAt(0).toUpperCase()+r.slice(1),t))),t.defines.forEach(((t,r)=>n.defines.set(e+r.charAt(0).toUpperCase()+r.slice(1),t)));const g=new Map([["fragment",r],["vertex",i]]);Zv(e,m,n.defines),Zv(e,m,g),r=g.get("fragment"),i=g.get("vertex");const v=t.blendMode;if(n.blendModes.set(v.blendFunction,v),o){null!==t.inputColorSpace&&t.inputColorSpace!==n.colorSpace&&(d+=t.inputColorSpace===Ig?"color0 = LinearTosRGB(color0);\n\t":"color0 = sRGBToLinear(color0);\n\t"),t.outputColorSpace!==kg?n.colorSpace=t.outputColorSpace:null!==t.inputColorSpace&&(n.colorSpace=t.inputColorSpace);const i=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;d+=`${e}MainImage(color0, UV, `,0!==(n.attributes&ev.DEPTH)&&i.test(r)&&(d+="depth, ",n.readDepth=!0),d+="color1);\n\t";const o=e+"BlendOpacity";n.uniforms.set(o,v.opacity),d+=`color0 = blend${v.blendFunction}(color0, color1, ${o});\n\n\t`,c+=`uniform float ${o};\n\n`}if(c+=r+"\n",null!==i&&(h+=i+"\n"),l.set(tv.FRAGMENT_HEAD,c),l.set(tv.FRAGMENT_MAIN_UV,u),l.set(tv.FRAGMENT_MAIN_IMAGE,d),l.set(tv.VERTEX_HEAD,h),l.set(tv.VERTEX_MAIN_SUPPORT,f),null!==t.extensions)for(const e of t.extensions)n.extensions.add(e)}}var $v=class extends Lv{constructor(e){super("EffectPass"),this.fullscreenMaterial=new Mv(null,null,null,e),this.listener=e=>this.handleEvent(e),this.effects=[];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.setEffects(n),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(e){for(const t of this.effects)t.mainScene=e}set mainCamera(e){this.fullscreenMaterial.copyCameraSettings(e);for(const t of this.effects)t.mainCamera=e}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){const t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}setEffects(e){for(const t of this.effects)t.removeEventListener("change",this.listener);this.effects=e.sort(((e,t)=>t.attributes-e.attributes));for(const t of this.effects)t.addEventListener("change",this.listener)}updateMaterial(){const e=new ly;let t=0;for(const a of this.effects)if(a.blendMode.blendFunction===Wg.DST)e.attributes|=a.getAttributes()&ev.DEPTH;else{if(0!==(e.attributes&a.getAttributes()&ev.CONVOLUTION))throw new Error(`Convolution effects cannot be merged (${a.name})`);Jv("e"+t++,a,e)}let n=e.shaderParts.get(tv.FRAGMENT_HEAD),r=e.shaderParts.get(tv.FRAGMENT_MAIN_IMAGE),i=e.shaderParts.get(tv.FRAGMENT_MAIN_UV);const o=/\bblend\b/g;for(const a of e.blendModes.values())n+=a.getShaderCode().replace(o,`blend${a.blendFunction}`)+"\n";0!==(e.attributes&ev.DEPTH)?(e.readDepth&&(r="float depth = readDepth(UV);\n\n\t"+r),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,e.colorSpace===Ig&&(r+="color0 = sRGBToLinear(color0);\n\t"),e.uvTransformation?(i="vec2 transformedUv = vUv;\n"+i,e.defines.set("UV","transformedUv")):e.defines.set("UV","vUv"),e.shaderParts.set(tv.FRAGMENT_HEAD,n),e.shaderParts.set(tv.FRAGMENT_MAIN_IMAGE,r),e.shaderParts.set(tv.FRAGMENT_MAIN_UV,i);for(const[a,s]of e.shaderParts)null!==s&&e.shaderParts.set(a,s.trim().replace(/^#/,"\n#"));this.skipRendering=0===t,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(e)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(const n of this.effects)n.setDepthTexture(e,t)}render(e,t,n,r,i){for(const o of this.effects)o.update(e,t,r);if(!this.skipRendering||this.renderToScreen){const i=this.fullscreenMaterial;i.inputBuffer=t.texture,i.time+=r*this.timeScale,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(const n of this.effects)n.setSize(e,t)}initialize(e,t,n){this.renderer=e;for(const r of this.effects)r.initialize(e,t,n);this.updateMaterial(),void 0!==n&&n!==Me&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const e of this.effects)e.removeEventListener("change",this.listener),e.dispose()}handleEvent(e){if("change"===e.type)this.recompile()}},ey=class extends Lv{constructor(){let{kernelSize:e=av.MEDIUM,resolutionScale:t=.5,width:n=Hv.AUTO_SIZE,height:r=Hv.AUTO_SIZE,resolutionX:i=n,resolutionY:o=r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("KawaseBlurPass"),this.renderTargetA=new rr(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const a=this.resolution=new Hv(this,i,o,t);a.addEventListener("change",(e=>this.setSize(a.baseWidth,a.baseHeight))),this._blurMaterial=new gv,this._blurMaterial.kernelSize=e,this.copyMaterial=new vv}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(e){this._blurMaterial=e}get dithering(){return this.copyMaterial.dithering}set dithering(e){this.copyMaterial.dithering=e}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(e){this.blurMaterial.kernelSize=e}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,r,i){const o=this.scene,a=this.camera,s=this.renderTargetA,l=this.renderTargetB,c=this.blurMaterial,u=c.kernelSequence;let d=t;this.fullscreenMaterial=c;for(let h=0,f=u.length;h<f;++h){const t=0===(1&h)?s:l;c.kernel=u[h],c.inputBuffer=d.texture,e.setRenderTarget(t),e.render(o,a),d=t}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=d.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(o,a)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(e,t)}initialize(e,t,n){void 0!==n&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==Me?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):Bg(e)===Ig&&(Ug(this.renderTargetA.texture,Ig),Ug(this.renderTargetB.texture,Ig)))}static get AUTO_SIZE(){return Hv.AUTO_SIZE}},ty=class extends Lv{constructor(){let{renderTarget:e,luminanceRange:t,colorOutput:n,resolutionScale:r=1,width:i=Hv.AUTO_SIZE,height:o=Hv.AUTO_SIZE,resolutionX:a=i,resolutionY:s=o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("LuminancePass"),this.fullscreenMaterial=new _v(n,t),this.needsSwap=!1,this.renderTarget=e,void 0===this.renderTarget&&(this.renderTarget=new rr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new Hv(this,a,s,r);l.addEventListener("change",(e=>this.setSize(l.baseWidth,l.baseHeight)))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,n,r,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}initialize(e,t,n){void 0!==n&&n!==Me&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},ny=class extends Lv{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new Uv(!1,!1,!0),this.inverse=!1}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,n,r,i){const o=e.getContext(),a=e.state.buffers,s=this.scene,l=this.camera,c=this.clearPass,u=this.inverted?0:1,d=1-u;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),a.stencil.setFunc(o.ALWAYS,u,4294967295),a.stencil.setClear(d),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,n))),this.renderToScreen?(e.setRenderTarget(null),e.render(s,l)):(e.setRenderTarget(t),e.render(s,l),e.setRenderTarget(n),e.render(s,l)),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(o.EQUAL,1,4294967295),a.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),a.stencil.setLocked(!0)}},ry=class extends Lv{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new rr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new Sv,this.upsamplingMaterial=new Rv,this.resolution=new zn}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(e){if(this.levels!==e){const t=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<e;++n){const e=t.clone();e.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(e)}this.upsamplingMipmaps.push(t);for(let n=1,r=e-1;n<r;++n){const e=t.clone();e.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(e)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(e){this.upsamplingMaterial.radius=e}render(e,t,n,r,i){const{scene:o,camera:a}=this,{downsamplingMaterial:s,upsamplingMaterial:l}=this,{downsamplingMipmaps:c,upsamplingMipmaps:u}=this;let d=t;this.fullscreenMaterial=s;for(let h=0,f=c.length;h<f;++h){const t=c[h];s.setSize(d.width,d.height),s.inputBuffer=d.texture,e.setRenderTarget(t),e.render(o,a),d=t}this.fullscreenMaterial=l;for(let h=u.length-1;h>=0;--h){const t=u[h];l.setSize(d.width,d.height),l.inputBuffer=d.texture,l.supportBuffer=c[h].texture,e.setRenderTarget(t),e.render(o,a),d=t}}setSize(e,t){const n=this.resolution;n.set(e,t);let r=n.width,i=n.height;for(let o=0,a=this.downsamplingMipmaps.length;o<a;++o)r=Math.round(.5*r),i=Math.round(.5*i),this.downsamplingMipmaps[o].setSize(r,i),o<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[o].setSize(r,i)}initialize(e,t,n){if(void 0!==n){const t=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const e of t)e.texture.type=n;if(n!==Me)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(Bg(e)===Ig)for(const e of t)Ug(e.texture,Ig)}}dispose(){super.dispose();for(const e of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))e.dispose()}},iy=class extends Lv{constructor(e,t){let{renderTarget:n,resolutionScale:r=1,width:i=Hv.AUTO_SIZE,height:o=Hv.AUTO_SIZE,resolutionX:a=i,resolutionY:s=o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super("NormalPass"),this.needsSwap=!1,this.renderPass=new Wv(e,t,new gd);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const c=l.getClearPass();c.overrideClearColor=new Oi(7829503),c.overrideClearAlpha=1,this.renderTarget=n,void 0===this.renderTarget&&(this.renderTarget=new rr(1,1,{minFilter:pe,magFilter:pe}),this.renderTarget.texture.name="NormalPass.Target");const u=this.resolution=new Hv(this,a,s,r);u.addEventListener("change",(e=>this.setSize(u.baseWidth,u.baseHeight)))}set mainScene(e){this.renderPass.mainScene=e}set mainCamera(e){this.renderPass.mainCamera=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,r,i){const o=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,o,o)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},oy=class extends Lv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"inputBuffer";super("ShaderPass"),this.fullscreenMaterial=e,this.input=t}setInput(e){this.input=e}render(e,t,n,r,i){const o=this.fullscreenMaterial.uniforms;null!==t&&void 0!==o&&void 0!==o[this.input]&&(o[this.input].value=t.texture),e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}initialize(e,t,n){void 0!==n&&n!==Me&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},ay=class extends ey{constructor(){let{offset:e=0,rotation:t=0,focusArea:n=.4,feather:r=.3,kernelSize:i=av.MEDIUM,resolutionScale:o=.5,resolutionX:a=Hv.AUTO_SIZE,resolutionY:s=Hv.AUTO_SIZE}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({kernelSize:i,resolutionScale:o,resolutionX:a,resolutionY:s}),this.blurMaterial=new Dv({kernelSize:i,offset:e,rotation:t,focusArea:n,feather:r})}},sy=.001,ly=class{constructor(){this.shaderParts=new Map([[tv.FRAGMENT_HEAD,null],[tv.FRAGMENT_MAIN_UV,null],[tv.FRAGMENT_MAIN_IMAGE,null],[tv.VERTEX_HEAD,null],[tv.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=ev.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Lg}};var cy=class extends Set{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;super(),this.l=t,this.exclusive=!1,void 0!==e&&this.set(e)}get layer(){return this.l}set layer(e){const t=this.l;for(const n of this)n.layers.disable(t),n.layers.enable(e);this.l=e}getLayer(){return this.layer}setLayer(e){this.layer=e}isExclusive(){return this.exclusive}setExclusive(e){this.exclusive=e}clear(){const e=this.layer;for(const t of this)t.layers.disable(e);return super.clear()}set(e){this.clear();for(const t of e)this.add(t);return this}indexOf(e){return this.has(e)?0:-1}add(e){return this.exclusive?e.layers.set(this.layer):e.layers.enable(this.layer),super.add(e)}delete(e){return this.has(e)&&e.layers.disable(this.layer),super.delete(e)}toggle(e){let t;return this.has(e)?(this.delete(e),t=!1):(this.add(e),t=!0),t}setVisible(e){for(const t of this)e?t.layers.enable(0):t.layers.disable(0);return this}},uy=new Map([[Wg.ADD,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}"],[Wg.ALPHA,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}"],[Wg.AVERAGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}"],[Wg.COLOR,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[Wg.COLOR_BURN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}"],[Wg.COLOR_DODGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}"],[Wg.DARKEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}"],[Wg.DIFFERENCE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}"],[Wg.DIVIDE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}"],[Wg.DST,null],[Wg.EXCLUSION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}"],[Wg.HARD_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}"],[Wg.HARD_MIX,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}"],[Wg.HUE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}"],[Wg.INVERT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}"],[Wg.INVERT_RGB,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}"],[Wg.LIGHTEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}"],[Wg.LINEAR_BURN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}"],[Wg.LINEAR_DODGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}"],[Wg.LINEAR_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}"],[Wg.LUMINOSITY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[Wg.MULTIPLY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}"],[Wg.NEGATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}"],[Wg.NORMAL,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}"],[Wg.OVERLAY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}"],[Wg.PIN_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}"],[Wg.REFLECT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}"],[Wg.SATURATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[Wg.SCREEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}"],[Wg.SOFT_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}"],[Wg.SRC,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}"],[Wg.SUBTRACT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}"],[Wg.VIVID_LIGHT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}"]]),dy=class extends wn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this._blendFunction=e,this.opacity=new uf(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this._blendFunction}set blendFunction(e){this._blendFunction=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return uy.get(this.blendFunction)}},hy=class extends wn{constructor(e,t){let{attributes:n=ev.NONE,blendFunction:r=Wg.NORMAL,defines:i=new Map,uniforms:o=new Map,extensions:a=null,vertexShader:s=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.name=e,this.renderer=null,this.attributes=n,this.fragmentShader=t,this.vertexShader=s,this.defines=i,this.uniforms=o,this.extensions=a,this.blendMode=new dy(r),this.blendMode.addEventListener("change",(e=>this.setChanged())),this._inputColorSpace=Lg,this._outputColorSpace=kg}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(e){this._inputColorSpace=e,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e,this.setChanged()}set mainScene(e){}set mainCamera(e){}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e){}update(e,t,n){}setSize(e,t){}initialize(e,t,n){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof rr||t instanceof Ci||t instanceof tr||t instanceof Lv)&&this[e].dispose()}}},fy=class extends hy{constructor(){let{blendFunction:e=Wg.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:n=.025,mipmapBlur:r=!1,intensity:i=1,radius:o=.85,levels:a=8,kernelSize:s=av.LARGE,resolutionScale:l=.5,width:c=Hv.AUTO_SIZE,height:u=Hv.AUTO_SIZE,resolutionX:d=c,resolutionY:h=u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}",{blendFunction:e,uniforms:new Map([["map",new uf(null)],["intensity",new uf(i)]])}),this.renderTarget=new rr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new ey({kernelSize:s}),this.luminancePass=new ty({colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new ry,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=o,this.mipmapBlurPass.levels=a,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const f=this.resolution=new Hv(this,d,h,l);f.addEventListener("change",(e=>this.setSize(f.baseWidth,f.baseHeight)))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,n){const r=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(e,t),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,i.renderTarget):this.blurPass.render(e,i.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,t):this.blurPass.render(e,t,r)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(e,t),this.mipmapBlurPass.setSize(e,t)}initialize(e,t,n){this.blurPass.initialize(e,t,n),this.luminancePass.initialize(e,t,n),this.mipmapBlurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,Bg(e)===Ig&&Ug(this.renderTarget.texture,Ig))}},py=class extends hy{constructor(e){super("ColorAverageEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",{blendFunction:e})}},my=class extends hy{constructor(){let{offset:e=new zn(.001,5e-4),radialModulation:t=!1,modulationOffset:n=.15}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("ChromaticAberrationEffect","#ifdef RADIAL_MODULATION\nuniform float modulationOffset;\n#endif\nvarying float vActive;varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=inputColor.ra;vec2 ba=inputColor.ba;\n#ifdef RADIAL_MODULATION\nconst vec2 center=vec2(0.5);float d=distance(uv,center)*2.0;d=max(d-modulationOffset,0.0);if(vActive>0.0&&d>0.0){ra=texture2D(inputBuffer,mix(uv,vUvR,d)).ra;ba=texture2D(inputBuffer,mix(uv,vUvB,d)).ba;}\n#else\nif(vActive>0.0){ra=texture2D(inputBuffer,vUvR).ra;ba=texture2D(inputBuffer,vUvB).ba;}\n#endif\noutputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",{vertexShader:"uniform vec2 offset;varying float vActive;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vActive=(shift.x!=0.0||shift.y!=0.0)?1.0:0.0;vUvR=uv+shift;vUvB=uv-shift;}",attributes:ev.CONVOLUTION,uniforms:new Map([["offset",new uf(e)],["modulationOffset",new uf(n)]])}),this.radialModulation=t}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}get radialModulation(){return this.defines.has("RADIAL_MODULATION")}set radialModulation(e){e?this.defines.set("RADIAL_MODULATION","1"):this.defines.delete("RADIAL_MODULATION"),this.setChanged()}get modulationOffset(){return this.uniforms.get("modulationOffset").value}set modulationOffset(e){this.uniforms.get("modulationOffset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},gy=class extends hy{constructor(e){let{blendFunction:t,worldFocusDistance:n,worldFocusRange:r,focusDistance:i=0,focalLength:o=.1,focusRange:a=o,bokehScale:s=1,resolutionScale:l=1,width:c=Hv.AUTO_SIZE,height:u=Hv.AUTO_SIZE,resolutionX:d=c,resolutionY:h=u}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super("DepthOfFieldEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;\n#else\nuniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;\n#endif\nuniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float cocNear=texture2D(nearCoCBuffer,uv).r;cocNear=min(cocNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,cocNear);outputColor=result;}",{blendFunction:t,attributes:ev.DEPTH,uniforms:new Map([["nearColorBuffer",new uf(null)],["farColorBuffer",new uf(null)],["nearCoCBuffer",new uf(null)],["scale",new uf(1)]])}),this.camera=e,this.renderTarget=new rr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new oy(new Gg(e));const f=this.cocMaterial;f.focusDistance=i,f.focusRange=a,void 0!==n&&(f.worldFocusDistance=n),void 0!==r&&(f.worldFocusRange=r),this.blurPass=new ey({resolutionScale:l,resolutionX:d,resolutionY:h,kernelSize:av.MEDIUM}),this.maskPass=new oy(new Tv(this.renderTargetCoC.texture));const p=this.maskPass.fullscreenMaterial;p.maskFunction=cv,p.colorChannel=Xg,this.bokehNearBasePass=new oy(new Rg(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new oy(new Rg(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new oy(new Rg(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new oy(new Rg(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null;const m=this.resolution=new Hv(this,d,h,l);m.addEventListener("change",(e=>this.setSize(m.baseWidth,m.baseHeight))),this.bokehScale=s}set mainCamera(e){this.camera=e,this.cocMaterial.copyCameraSettings(e)}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}getResolution(){return this.resolution}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){this.bokehNearBasePass.fullscreenMaterial.scale=e,this.bokehNearFillPass.fullscreenMaterial.scale=e,this.bokehFarBasePass.fullscreenMaterial.scale=e,this.bokehFarFillPass.fullscreenMaterial.scale=e,this.maskPass.fullscreenMaterial.strength=e,this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){const t=this.camera;return Vg(-t.position.distanceTo(e),t.near,t.far)}setDepthTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,n){const r=this.renderTarget,i=this.renderTargetCoC,o=this.renderTargetCoCBlurred,a=this.renderTargetMasked;if(null!==this.target){const e=this.calculateFocusDistance(this.target);this.cocMaterial.focusDistance=e}this.cocPass.render(e,null,i),this.blurPass.render(e,i,o),this.maskPass.render(e,t,a),this.bokehFarBasePass.render(e,a,r),this.bokehFarFillPass.render(e,r,this.renderTargetFar),this.bokehNearBasePass.render(e,t,r),this.bokehNearFillPass.render(e,r,this.renderTargetNear)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t);const r=n.width,i=n.height;this.cocPass.setSize(e,t),this.blurPass.setSize(e,t),this.maskPass.setSize(e,t),this.renderTargetCoC.setSize(e,t),this.renderTargetMasked.setSize(e,t),this.renderTarget.setSize(r,i),this.renderTargetNear.setSize(r,i),this.renderTargetFar.setSize(r,i),this.renderTargetCoCBlurred.setSize(r,i),this.bokehNearBasePass.fullscreenMaterial.setSize(e,t),this.bokehNearFillPass.fullscreenMaterial.setSize(e,t),this.bokehFarBasePass.fullscreenMaterial.setSize(e,t),this.bokehFarFillPass.fullscreenMaterial.setSize(e,t)}initialize(e,t,n){this.cocPass.initialize(e,t,n),this.maskPass.initialize(e,t,n),this.bokehNearBasePass.initialize(e,t,n),this.bokehNearFillPass.initialize(e,t,n),this.bokehFarBasePass.initialize(e,t,n),this.bokehFarFillPass.initialize(e,t,n),this.blurPass.initialize(e,t,Me);this.maskPass.fullscreenMaterial.maskFunction=t?cv:uv,void 0!==n&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,Bg(e)===Ig&&(Ug(this.renderTarget.texture,Ig),Ug(this.renderTargetNear.texture,Ig),Ug(this.renderTargetFar.texture,Ig),Ug(this.renderTargetMasked.texture,Ig)))}};var vy=class extends oc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Me;super(function(e,t,n){const r=new Map([[Fe,1],[je,1],[Ve,2],[ze,4]]);let i;if(r.has(t)||console.error("Invalid noise texture format"),n===Me){i=new Uint8Array(e*r.get(t));for(let e=0,t=i.length;e<t;++e)i[e]=255*Math.random()+.5}else{i=new Float32Array(e*r.get(t));for(let e=0,t=i.length;e<t;++e)i[e]=Math.random()}return i}(e*t,n,r),e,t,n,r),this.needsUpdate=!0}},yy="Glitch.Generated";function by(e,t){return e+Math.random()*(t-e)}var xy=class extends hy{constructor(){let{chromaticAberrationOffset:e=null,delay:t=new zn(1.5,3.5),duration:n=new zn(.6,1),strength:r=new zn(.3,1),columns:i=.05,ratio:o=.85,perturbationMap:a=null,dtSize:s=64}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(super("GlitchEffect","uniform lowp sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seeds;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seeds.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seeds.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seeds*(random*0.2);}}",{uniforms:new Map([["perturbationMap",new uf(null)],["columns",new uf(i)],["active",new uf(!1)],["random",new uf(1)],["seeds",new uf(new zn)],["distortion",new uf(new zn)]])}),null===a){const e=new vy(s,s,ze);e.name=yy,this.perturbationMap=e}else this.perturbationMap=a;this.time=0,this.distortion=this.uniforms.get("distortion").value,this.delay=t,this.duration=n,this.breakPoint=new zn(by(this.delay.x,this.delay.y),by(this.duration.x,this.duration.y)),this.strength=r,this.mode=rv,this.ratio=o,this.chromaticAberrationOffset=e}get seeds(){return this.uniforms.get("seeds").value}get active(){return this.uniforms.get("active").value}isActive(){return this.active}get minDelay(){return this.delay.x}set minDelay(e){this.delay.x=e}getMinDelay(){return this.delay.x}setMinDelay(e){this.delay.x=e}get maxDelay(){return this.delay.y}set maxDelay(e){this.delay.y=e}getMaxDelay(){return this.delay.y}setMaxDelay(e){this.delay.y=e}get minDuration(){return this.duration.x}set minDuration(e){this.duration.x=e}getMinDuration(){return this.duration.x}setMinDuration(e){this.duration.x=e}get maxDuration(){return this.duration.y}set maxDuration(e){this.duration.y=e}getMaxDuration(){return this.duration.y}setMaxDuration(e){this.duration.y=e}get minStrength(){return this.strength.x}set minStrength(e){this.strength.x=e}getMinStrength(){return this.strength.x}setMinStrength(e){this.strength.x=e}get maxStrength(){return this.strength.y}set maxStrength(e){this.strength.y=e}getMaxStrength(){return this.strength.y}setMaxStrength(e){this.strength.y=e}getMode(){return this.mode}setMode(e){this.mode=e}getGlitchRatio(){return 1-this.ratio}setGlitchRatio(e){this.ratio=Math.min(Math.max(1-e,0),1)}get columns(){return this.uniforms.get("columns").value}set columns(e){this.uniforms.get("columns").value=e}getGlitchColumns(){return this.columns}setGlitchColumns(e){this.columns=e}getChromaticAberrationOffset(){return this.chromaticAberrationOffset}setChromaticAberrationOffset(e){this.chromaticAberrationOffset=e}get perturbationMap(){return this.uniforms.get("perturbationMap").value}set perturbationMap(e){const t=this.perturbationMap;null!==t&&t.name===yy&&t.dispose(),e.minFilter=e.magFilter=pe,e.wrapS=e.wrapT=de,e.generateMipmaps=!1,this.uniforms.get("perturbationMap").value=e}getPerturbationMap(){return this.perturbationMap}setPerturbationMap(e){this.perturbationMap=e}generatePerturbationMap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64;const t=new vy(e,e,ze);return t.name=yy,t}update(e,t,n){const r=this.mode,i=this.breakPoint,o=this.chromaticAberrationOffset,a=this.strength;let s,l=this.time,c=!1,u=0,d=0;r!==nv&&(r===rv&&(l+=n,s=l>i.x,l>=i.x+i.y&&(i.set(by(this.delay.x,this.delay.y),by(this.duration.x,this.duration.y)),l=0)),u=Math.random(),this.uniforms.get("random").value=u,s&&u>this.ratio||r===ov?(c=!0,u*=.03*a.y,d=by(-Math.PI,Math.PI),this.seeds.set(by(-a.y,a.y),by(-a.y,a.y)),this.distortion.set(by(0,1),by(0,1))):(s||r===iv)&&(c=!0,u*=.03*a.x,d=by(-Math.PI,Math.PI),this.seeds.set(by(-a.x,a.x),by(-a.x,a.x)),this.distortion.set(by(0,1),by(0,1))),this.time=l),null!==o&&(c?o.set(Math.cos(d),Math.sin(d)).multiplyScalar(u):o.set(0,0)),this.uniforms.get("active").value=c}dispose(){const e=this.perturbationMap;null!==e&&e.name===yy&&e.dispose()}},wy=new ur,Sy=new Ur,Ey=class extends hy{constructor(e,t){let{blendFunction:n=Wg.SCREEN,samples:r=60,density:i=.96,decay:o=.9,weight:a=.4,exposure:s=.6,clampMax:l=1,blur:c=!0,kernelSize:u=av.SMALL,resolutionScale:d=.5,width:h=Hv.AUTO_SIZE,height:f=Hv.AUTO_SIZE,resolutionX:p=h,resolutionY:m=f}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super("GodRaysEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv);}",{blendFunction:n,attributes:ev.DEPTH,uniforms:new Map([["map",new uf(null)]])}),this.camera=e,this._lightSource=t,this.lightSource=t,this.lightScene=new Al,this.screenPosition=new zn,this.renderTargetA=new rr(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="GodRays.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="GodRays.Target.B",this.uniforms.get("map").value=this.renderTargetB.texture,this.renderTargetLight=new rr(1,1),this.renderTargetLight.texture.name="GodRays.Light",this.renderTargetLight.depthTexture=new bl,this.renderPassLight=new Wv(this.lightScene,e),this.renderPassLight.clearPass.overrideClearColor=new Oi(0),this.clearPass=new Uv(!0,!1,!1),this.clearPass.overrideClearColor=new Oi(0),this.blurPass=new ey({kernelSize:u}),this.blurPass.enabled=c,this.depthMaskPass=new oy(new wv);const g=this.depthMaskMaterial;g.depthBuffer1=this.renderTargetLight.depthTexture,g.copyCameraSettings(e),this.godRaysPass=new oy(new Cv(this.screenPosition));const v=this.godRaysMaterial;v.density=i,v.decay=o,v.weight=a,v.exposure=s,v.maxIntensity=l,v.samples=r;const y=this.resolution=new Hv(this,p,m,d);y.addEventListener("change",(e=>this.setSize(y.baseWidth,y.baseHeight)))}set mainCamera(e){this.camera=e,this.renderPassLight.mainCamera=e,this.depthMaskMaterial.copyCameraSettings(e)}get lightSource(){return this._lightSource}set lightSource(e){this._lightSource=e,null!==e&&(e.material.depthWrite=!1,e.material.transparent=!0)}getBlurPass(){return this.blurPass}get texture(){return this.renderTargetB.texture}getTexture(){return this.texture}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get godRaysMaterial(){return this.godRaysPass.fullscreenMaterial}getGodRaysMaterial(){return this.godRaysMaterial}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.godRaysMaterial.dithering}set dithering(e){const t=this.godRaysMaterial;t.dithering=e,t.needsUpdate=!0}get blur(){return this.blurPass.enabled}set blur(e){this.blurPass.enabled=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}get samples(){return this.godRaysMaterial.samples}set samples(e){this.godRaysMaterial.samples=e}setDepthTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthMaskPass.fullscreenMaterial.depthBuffer0=e,this.depthMaskPass.fullscreenMaterial.depthPacking0=t}update(e,t,n){const r=this.lightSource,i=r.parent,o=r.matrixAutoUpdate,a=this.renderTargetA,s=this.renderTargetLight;r.material.depthWrite=!0,r.matrixAutoUpdate=!1,r.updateWorldMatrix(!0,!1),null!==i&&(o||Sy.copy(r.matrix),r.matrix.copy(r.matrixWorld)),this.lightScene.add(r),this.renderPassLight.render(e,s),this.clearPass.render(e,a),this.depthMaskPass.render(e,s,a),r.material.depthWrite=!1,r.matrixAutoUpdate=o,null!==i&&(o||r.matrix.copy(Sy),i.add(r)),wy.setFromMatrixPosition(r.matrixWorld).project(this.camera),this.screenPosition.set(Math.min(Math.max(.5*(wy.x+1),-1),2),Math.min(Math.max(.5*(wy.y+1),-1),2)),this.blurPass.enabled&&this.blurPass.render(e,a,a),this.godRaysPass.render(e,a,this.renderTargetB)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.renderTargetLight.setSize(r,i),this.blurPass.resolution.copy(n)}initialize(e,t,n){this.blurPass.initialize(e,t,n),this.renderPassLight.initialize(e,t,n),this.depthMaskPass.initialize(e,t,n),this.godRaysPass.initialize(e,t,n),void 0!==n&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,this.renderTargetLight.texture.type=n,Bg(e)===Ig&&(Ug(this.renderTargetA.texture,Ig),Ug(this.renderTargetB.texture,Ig),Ug(this.renderTargetLight.texture,Ig)))}},My=class extends hy{constructor(){let{blendFunction:e=Wg.OVERLAY,scale:t=1,lineWidth:n=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("GridEffect","uniform vec2 scale;uniform float lineWidth;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float grid=0.5-max(abs(mod(uv.x*scale.x,1.0)-0.5),abs(mod(uv.y*scale.y,1.0)-0.5));outputColor=vec4(vec3(smoothstep(0.0,lineWidth,grid)),inputColor.a);}",{blendFunction:e,uniforms:new Map([["scale",new uf(new zn)],["lineWidth",new uf(n)]])}),this.resolution=new zn,this.s=0,this.scale=t,this.l=0,this.lineWidth=n}get scale(){return this.s}set scale(e){this.s=Math.max(e,1e-6),this.setSize(this.resolution.width,this.resolution.height)}getScale(){return this.scale}setScale(e){this.scale=e}get lineWidth(){return this.l}set lineWidth(e){this.l=e,this.setSize(this.resolution.width,this.resolution.height)}getLineWidth(){return this.lineWidth}setLineWidth(e){this.lineWidth=e}setSize(e,t){this.resolution.set(e,t);const n=e/t,r=this.scale*(.125*t);this.uniforms.get("scale").value.set(n*r,r),this.uniforms.get("lineWidth").value=r/t+this.lineWidth}};function Cy(e,t,n){const r=document.createElement("canvas"),i=r.getContext("2d");if(r.width=e,r.height=t,n instanceof Image)i.drawImage(n,0,0);else{const r=i.createImageData(e,t);r.data.set(n),i.putImageData(r,0,0)}return r}var _y=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.width=e,this.height=t,this.data=n}toCanvas(){return"undefined"===typeof document?null:Cy(this.width,this.height,this.data)}static from(e){const{width:t,height:n}=e;let r;if(e instanceof Image){const i=Cy(t,n,e);if(null!==i){r=i.getContext("2d").getImageData(0,0,t,n).data}}else r=e.data;return new _y(t,n,r)}},Ty=new Oi,Ay=class extends ar{constructor(e,t){super(e,t,t,t),this.type=Oe,this.format=ze,this.minFilter=be,this.magFilter=be,this.wrapS=he,this.wrapT=he,this.wrapR=he,this.unpackAlignment=1,this.needsUpdate=!0,Ug(this,Lg),this.domainMin=new ur(0,0,0),this.domainMax=new ur(1,1,1)}get isLookupTexture3D(){return!0}scaleUp(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.image;let r;return r=e<=n.width?Promise.reject(new Error("The target size must be greater than the current size")):new Promise(((r,i)=>{const o=URL.createObjectURL(new Blob(['"use strict";(()=>{var O=Math.pow;var _={SCALE_UP:"lut.scaleup"};var k=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function j(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=k[0];P[0]=s,P[1]=F,P[2]=f;let o=k[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(O(r,3)*4),y=t instanceof Uint8Array?255:1,h=O(r,2),A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;j(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener("message",a=>{let t=a.data,r=t.data;switch(t.operation){case _.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();\n'],{type:"text/javascript"})),a=new Worker(o);a.addEventListener("error",(e=>i(e.error))),a.addEventListener("message",(t=>{const n=new Ay(t.data,e);jg(this,n),n.type=this.type,n.name=this.name,URL.revokeObjectURL(o),r(n)}));const s=t?[n.data.buffer]:[];a.postMessage({operation:sv,data:n.data,size:e},s)})),r}applyLUT(e){const t=this.image,n=e.image,r=Math.min(t.width,t.height,t.depth);if(r!==Math.min(n.width,n.height,n.depth))console.error("Size mismatch");else if(e.type!==Oe||this.type!==Oe)console.error("Both LUTs must be FloatType textures");else if(e.format!==ze||this.format!==ze)console.error("Both LUTs must be RGBA textures");else{const e=t.data,i=n.data,o=r,a=o**2,s=o-1;for(let t=0,n=o**3;t<n;++t){const n=4*t,r=e[n+0]*s,l=e[n+1]*s,c=e[n+2]*s,u=4*Math.round(r+l*o+c*a);e[n+0]=i[u+0],e[n+1]=i[u+1],e[n+2]=i[u+2]}this.needsUpdate=!0}return this}convertToUint8(){if(this.type===Oe){const e=this.image.data,t=new Uint8Array(e.length);for(let n=0,r=e.length;n<r;++n)t[n]=255*e[n]+.5;this.image.data=t,this.type=Me,this.needsUpdate=!0}return this}convertToFloat(){if(this.type===Me){const e=this.image.data,t=new Float32Array(e.length);for(let n=0,r=e.length;n<r;++n)t[n]=e[n]/255;this.image.data=t,this.type=Oe,this.needsUpdate=!0}return this}convertToRGBA(){return console.warn("LookupTexture","convertToRGBA() is deprecated, LUTs are now RGBA by default"),this}convertLinearToSRGB(){const e=this.image.data;if(this.type===Oe){for(let t=0,n=e.length;t<n;t+=4)Ty.fromArray(e,t).convertLinearToSRGB().toArray(e,t);Ug(this,Ig),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}convertSRGBToLinear(){const e=this.image.data;if(this.type===Oe){for(let t=0,n=e.length;t<n;t+=4)Ty.fromArray(e,t).convertSRGBToLinear().toArray(e,t);Ug(this,Lg),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}toDataTexture(){const e=this.image.width,t=this.image.height*this.image.depth,n=new oc(this.image.data,e,t);return n.name=this.name,n.type=this.type,n.format=this.format,n.minFilter=be,n.magFilter=be,n.wrapS=this.wrapS,n.wrapT=this.wrapT,n.generateMipmaps=!1,n.needsUpdate=!0,jg(this,n),n}static from(e){const t=e.image,{width:n,height:r}=t,i=Math.min(n,r);let o;if(t instanceof Image){const e=_y.from(t).data;if(n>r){o=new Uint8Array(e.length);for(let t=0;t<i;++t)for(let n=0;n<i;++n)for(let r=0;r<i;++r){const a=4*(r+t*i+n*i*i),s=4*(r+n*i+t*i*i);o[s+0]=e[a+0],o[s+1]=e[a+1],o[s+2]=e[a+2],o[s+3]=e[a+3]}}else o=new Uint8Array(e.buffer)}else o=t.data.slice();const a=new Ay(o,i);return a.type=e.type,a.name=e.name,jg(e,a),a}static createNeutral(e){const t=new Float32Array(e**3*4),n=e**2,r=1/(e-1);for(let o=0;o<e;++o)for(let i=0;i<e;++i)for(let a=0;a<e;++a){const s=4*(o+i*e+a*n);t[s+0]=o*r,t[s+1]=i*r,t[s+2]=a*r,t[s+3]=1}const i=new Ay(t,e);return i.name="neutral",i}};new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]);new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]);Oy(0,0,0,0),new Float32Array([0,0,0,0]),Oy(0,0,0,1),new Float32Array([0,0,0,1]),Oy(0,0,1,0),new Float32Array([0,0,1,0]),Oy(0,0,1,1),new Float32Array([0,0,1,1]),Oy(0,1,0,0),new Float32Array([0,1,0,0]),Oy(0,1,0,1),new Float32Array([0,1,0,1]),Oy(0,1,1,0),new Float32Array([0,1,1,0]),Oy(0,1,1,1),new Float32Array([0,1,1,1]),Oy(1,0,0,0),new Float32Array([1,0,0,0]),Oy(1,0,0,1),new Float32Array([1,0,0,1]),Oy(1,0,1,0),new Float32Array([1,0,1,0]),Oy(1,0,1,1),new Float32Array([1,0,1,1]),Oy(1,1,0,0),new Float32Array([1,1,0,0]),Oy(1,1,0,1),new Float32Array([1,1,0,1]),Oy(1,1,1,0),new Float32Array([1,1,1,0]),Oy(1,1,1,1),new Float32Array([1,1,1,1]);function Py(e,t,n){return e+(t-e)*n}function Oy(e,t,n,r){const i=Py(e,t,.75),o=Py(n,r,.75);return Py(i,o,.875)}var Dy=class extends hy{constructor(e){let{blendFunction:t=Wg.SRC,tetrahedralInterpolation:n=!1,inputEncoding:r=Ft,inputColorSpace:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super("LUT3DEffect","uniform vec3 scale;uniform vec3 offset;\n#ifdef CUSTOM_INPUT_DOMAIN\nuniform vec3 domainMin;uniform vec3 domainMax;\n#endif\n#ifdef LUT_3D\n#ifdef LUT_PRECISION_HIGH\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler3D lut;\n#else\nuniform mediump sampler3D lut;\n#endif\n#else\nuniform lowp sampler3D lut;\n#endif\nvec4 applyLUT(const in vec3 rgb){\n#ifdef TETRAHEDRAL_INTERPOLATION\nvec3 p=floor(rgb);vec3 f=rgb-p;vec3 v1=(p+0.5)*LUT_TEXEL_WIDTH;vec3 v4=(p+1.5)*LUT_TEXEL_WIDTH;vec3 v2,v3;vec3 frac;if(f.r>=f.g){if(f.g>f.b){frac=f.rgb;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else if(f.r>=f.b){frac=f.rbg;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v1.y,v4.z);}else{frac=f.brg;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v4.x,v1.y,v4.z);}}else{if(f.b>f.g){frac=f.bgr;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v1.x,v4.y,v4.z);}else if(f.r>=f.b){frac=f.grb;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else{frac=f.gbr;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v1.x,v4.y,v4.z);}}vec4 n1=texture(lut,v1);vec4 n2=texture(lut,v2);vec4 n3=texture(lut,v3);vec4 n4=texture(lut,v4);vec4 weights=vec4(1.0-frac.x,frac.x-frac.y,frac.y-frac.z,frac.z);vec4 result=weights*mat4(vec4(n1.r,n2.r,n3.r,n4.r),vec4(n1.g,n2.g,n3.g,n4.g),vec4(n1.b,n2.b,n3.b,n4.b),vec4(1.0));return vec4(result.rgb,1.0);\n#else\nreturn texture(lut,rgb);\n#endif\n}\n#else\n#ifdef LUT_PRECISION_HIGH\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D lut;\n#else\nuniform mediump sampler2D lut;\n#endif\n#else\nuniform lowp sampler2D lut;\n#endif\nvec4 applyLUT(const in vec3 rgb){float slice=rgb.b*LUT_SIZE;float slice0=floor(slice);float interp=slice-slice0;float centeredInterp=interp-0.5;float slice1=slice0+sign(centeredInterp);\n#ifdef LUT_STRIP_HORIZONTAL\nfloat xOffset=clamp(rgb.r*LUT_TEXEL_HEIGHT,LUT_TEXEL_WIDTH*0.5,LUT_TEXEL_HEIGHT-LUT_TEXEL_WIDTH*0.5);vec2 uv0=vec2(slice0*LUT_TEXEL_HEIGHT+xOffset,rgb.g);vec2 uv1=vec2(slice1*LUT_TEXEL_HEIGHT+xOffset,rgb.g);\n#else\nfloat yOffset=clamp(rgb.g*LUT_TEXEL_WIDTH,LUT_TEXEL_HEIGHT*0.5,LUT_TEXEL_WIDTH-LUT_TEXEL_HEIGHT*0.5);vec2 uv0=vec2(rgb.r,slice0*LUT_TEXEL_WIDTH+yOffset);vec2 uv1=vec2(rgb.r,slice1*LUT_TEXEL_WIDTH+yOffset);\n#endif\nvec4 sample0=texture2D(lut,uv0);vec4 sample1=texture2D(lut,uv1);return mix(sample0,sample1,abs(centeredInterp));}\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 c=inputColor.rgb;\n#ifdef CUSTOM_INPUT_DOMAIN\nif(c.r>=domainMin.r&&c.g>=domainMin.g&&c.b>=domainMin.b&&c.r<=domainMax.r&&c.g<=domainMax.g&&c.b<=domainMax.b){c=applyLUT(scale*c+offset).rgb;}else{c=inputColor.rgb;}\n#else\n#if !defined(LUT_3D) || defined(TETRAHEDRAL_INTERPOLATION)\nc=clamp(c,0.0,1.0);\n#endif\nc=applyLUT(scale*c+offset).rgb;\n#endif\noutputColor=vec4(c,inputColor.a);}",{blendFunction:t,uniforms:new Map([["lut",new uf(null)],["scale",new uf(new ur)],["offset",new uf(new ur)],["domainMin",new uf(null)],["domainMax",new uf(null)]])}),this.tetrahedralInterpolation=n,this.inputColorSpace=i||Fg.get(r),this.lut=e}get inputEncoding(){return this.inputColorSpace}set inputEncoding(e){this.inputColorSpace=e}getInputEncoding(){return this.inputColorSpace}setInputEncoding(e){this.inputColorSpace=e}getOutputEncoding(){return this.outputColorSpace}get lut(){return this.uniforms.get("lut").value}set lut(e){const t=this.defines,n=this.uniforms;if(this.lut!==e&&(n.get("lut").value=e,null!==e)){const r=e.image,i=this.tetrahedralInterpolation;if(t.clear(),t.set("LUT_SIZE",Math.min(r.width,r.height).toFixed(16)),t.set("LUT_TEXEL_WIDTH",(1/r.width).toFixed(16)),t.set("LUT_TEXEL_HEIGHT",(1/r.height).toFixed(16)),n.get("domainMin").value=null,n.get("domainMax").value=null,e.type!==Oe&&e.type!==De||t.set("LUT_PRECISION_HIGH","1"),r.width>r.height?t.set("LUT_STRIP_HORIZONTAL","1"):e instanceof ar&&t.set("LUT_3D","1"),e instanceof Ay){const r=e.domainMin,i=e.domainMax;0===r.x&&0===r.y&&0===r.z&&1===i.x&&1===i.y&&1===i.z||(t.set("CUSTOM_INPUT_DOMAIN","1"),n.get("domainMin").value=r.clone(),n.get("domainMax").value=i.clone())}this.tetrahedralInterpolation=i}}getLUT(){return this.lut}setLUT(e){this.lut=e}updateScaleOffset(){const e=this.lut;if(null!==e){const t=Math.min(e.image.width,e.image.height),n=this.uniforms.get("scale").value,r=this.uniforms.get("offset").value;if(this.tetrahedralInterpolation&&e instanceof ar)if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=e.domainMax.clone().sub(e.domainMin);n.setScalar(t-1).divide(i),r.copy(e.domainMin).negate().multiply(n)}else n.setScalar(t-1),r.setScalar(0);else if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=e.domainMax.clone().sub(e.domainMin).multiplyScalar(t);n.setScalar(t-1).divide(i),r.copy(e.domainMin).negate().multiply(n).addScalar(1/(2*t))}else n.setScalar((t-1)/t),r.setScalar(1/(2*t))}}configureTetrahedralInterpolation(){const e=this.lut;null!==e&&(e.minFilter=be,e.magFilter=be,this.tetrahedralInterpolation&&(e instanceof ar?(e.minFilter=pe,e.magFilter=pe):console.warn("Tetrahedral interpolation requires a 3D texture")),void 0===e.source&&(e.needsUpdate=!0))}get tetrahedralInterpolation(){return this.defines.has("TETRAHEDRAL_INTERPOLATION")}set tetrahedralInterpolation(e){e?this.defines.set("TETRAHEDRAL_INTERPOLATION","1"):this.defines.delete("TETRAHEDRAL_INTERPOLATION"),this.configureTetrahedralInterpolation(),this.updateScaleOffset(),this.setChanged()}setTetrahedralInterpolationEnabled(e){this.tetrahedralInterpolation=e}},Ry=class extends hy{constructor(e,t){let{blendFunction:n=Wg.SCREEN,patternTexture:r=null,patternScale:i=1,edgeStrength:o=1,pulseSpeed:a=0,visibleEdgeColor:s=16777215,hiddenEdgeColor:l=2230538,kernelSize:c=av.VERY_SMALL,blur:u=!1,xRay:d=!0,multisampling:h=0,resolutionScale:f=.5,width:p=Hv.AUTO_SIZE,height:m=Hv.AUTO_SIZE,resolutionX:g=p,resolutionY:v=m}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super("OutlineEffect","uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;\n#ifdef USE_PATTERN\nuniform lowp sampler2D patternTexture;varying vec2 vUvPattern;\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;\n#ifndef X_RAY\nedge.y=0.0;\n#endif\nedge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;\n#ifdef USE_PATTERN\nvec4 patternColor=texture2D(patternTexture,vUvPattern);\n#ifdef X_RAY\nfloat hiddenFactor=0.5;\n#else\nfloat hiddenFactor=0.0;\n#endif\nvisibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;\n#endif\nfloat alpha=max(max(edge.x,edge.y),visibilityFactor);\n#ifdef ALPHA\noutputColor=vec4(color,alpha);\n#else\noutputColor=vec4(color,max(alpha,inputColor.a));\n#endif\n}",{uniforms:new Map([["maskTexture",new uf(null)],["edgeTexture",new uf(null)],["edgeStrength",new uf(o)],["visibleEdgeColor",new uf(new Oi(s))],["hiddenEdgeColor",new uf(new Oi(l))],["pulse",new uf(1)],["patternScale",new uf(i)],["patternTexture",new uf(null)]])}),this.blendMode.addEventListener("change",(e=>{this.blendMode.blendFunction===Wg.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()})),this.blendMode.blendFunction=n,this.patternTexture=r,this.xRay=d,this.scene=e,this.camera=t,this.renderTargetMask=new rr(1,1),this.renderTargetMask.samples=h,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new rr(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new Uv,this.clearPass.overrideClearColor=new Oi(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new Yv(e,t),this.maskPass=new Wv(e,t,new yv(this.depthPass.texture,t));const y=this.maskPass.clearPass;y.overrideClearColor=new Oi(16777215),y.overrideClearAlpha=1,this.blurPass=new ey({resolutionScale:f,resolutionX:g,resolutionY:v,kernelSize:c}),this.blurPass.enabled=u;const b=this.blurPass.resolution;b.addEventListener("change",(e=>this.setSize(b.baseWidth,b.baseHeight))),this.outlinePass=new oy(new Av);this.outlinePass.fullscreenMaterial.inputBuffer=this.renderTargetMask.texture,this.time=0,this.active=!1,this.selection=new cy,this.selection.layer=10,this.pulseSpeed=a}set mainScene(e){this.scene=e,this.depthPass.mainScene=e,this.maskPass.mainScene=e}set mainCamera(e){this.camera=e,this.depthPass.mainCamera=e,this.maskPass.mainCamera=e,this.maskPass.overrideMaterial.copyCameraSettings(e)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(e){this.renderTargetMask.samples=e,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(e){this.uniforms.get("patternScale").value=e}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(e){this.uniforms.get("edgeStrength").value=e}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(e){this.uniforms.get("visibleEdgeColor").value=e}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(e){this.uniforms.get("hiddenEdgeColor").value=e}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(e){this.pulseSpeed=e}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get selectionLayer(){return this.selection.layer}set selectionLayer(e){this.selection.layer=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get blur(){return this.blurPass.enabled}set blur(e){this.blurPass.enabled=e}get xRay(){return this.defines.has("X_RAY")}set xRay(e){this.xRay!==e&&(e?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(e){this.xRay=e}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(e){null!==e?(e.wrapS=e.wrapT=de,this.defines.set("USE_PATTERN","1"),this.setVertexShader("uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}")):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.uniforms.get("patternTexture").value=e,this.setChanged()}setPatternTexture(e){this.patternTexture=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}setSelection(e){return this.selection.set(e),this}clearSelection(){return this.selection.clear(),this}selectObject(e){return this.selection.add(e),this}deselectObject(e){return this.selection.delete(e),this}update(e,t,n){const r=this.scene,i=this.camera,o=this.selection,a=this.uniforms.get("pulse"),s=r.background,l=i.layers.mask;o.size>0?(r.background=null,a.value=1,this.pulseSpeed>0&&(a.value=.375*Math.cos(this.time*this.pulseSpeed*10)+.625),this.active=!0,this.time+=n,o.setVisible(!1),this.depthPass.render(e),o.setVisible(!0),i.layers.set(o.layer),this.maskPass.render(e,this.renderTargetMask),i.layers.mask=l,r.background=s,this.outlinePass.render(e,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(e,this.renderTargetOutline,this.renderTargetOutline)):this.active&&(this.clearPass.render(e,this.renderTargetOutline),this.active=!1)}setSize(e,t){this.blurPass.setSize(e,t),this.renderTargetMask.setSize(e,t);const n=this.resolution;n.setBaseSize(e,t);const r=n.width,i=n.height;this.depthPass.setSize(r,i),this.renderTargetOutline.setSize(r,i),this.outlinePass.fullscreenMaterial.setSize(r,i)}initialize(e,t,n){this.blurPass.initialize(e,t,Me),void 0!==n&&(this.depthPass.initialize(e,t,n),this.maskPass.initialize(e,t,n),this.outlinePass.initialize(e,t,n))}},ky=class extends hy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;super("PixelationEffect","uniform bool active;uniform vec4 d;void mainUv(inout vec2 uv){if(active){uv=d.xy*(floor(uv*d.zw)+0.5);}}",{uniforms:new Map([["active",new uf(!1)],["d",new uf(new nr)]])}),this.resolution=new zn,this._granularity=0,this.granularity=e}get granularity(){return this._granularity}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this._granularity=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){const n=this.resolution;n.set(e,t);const r=this.granularity,i=r/n.x,o=r/n.y;this.uniforms.get("d").value.set(i,o,1/i,1/o)}},Iy=.5*Math.PI,Ly=new ur,zy=new ur,Fy=class extends fy{constructor(e,t,n){super(n),this.setAttributes(this.getAttributes()|ev.DEPTH),this.camera=t,this.depthPass=new Yv(e,t),this.clearPass=new Uv(!0,!1,!1),this.clearPass.overrideClearColor=new Oi(0),this.depthMaskPass=new oy(new wv);const r=this.depthMaskMaterial;r.copyCameraSettings(t),r.depthBuffer1=this.depthPass.texture,r.depthPacking1=Bt,r.depthMode=Y,this.renderTargetMasked=new rr(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new cy,this.selection.layer=11,this._inverted=!1,this._ignoreBackground=!1}set mainScene(e){this.depthPass.mainScene=e}set mainCamera(e){this.camera=e,this.depthPass.mainCamera=e,this.depthMaskMaterial.copyCameraSettings(e)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(e){this._inverted=e,this.depthMaskMaterial.depthMode=e?q:Y}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(e){this._ignoreBackground=e,this.depthMaskMaterial.maxDepthStrategy=e?Jg:Zg}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}setDepthTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthMaskMaterial.depthBuffer0=e,this.depthMaskMaterial.depthPacking0=t}update(e,t,n){const r=this.camera,i=this.selection,o=this.inverted;let a=t;if(this.ignoreBackground||!o||i.size>0){const n=r.layers.mask;r.layers.set(i.layer),this.depthPass.render(e),r.layers.mask=n,a=this.renderTargetMasked,this.clearPass.render(e,a),this.depthMaskPass.render(e,t,a)}super.update(e,a,n)}setSize(e,t){super.setSize(e,t),this.renderTargetMasked.setSize(e,t),this.depthPass.setSize(e,t)}initialize(e,t,n){super.initialize(e,t,n),this.clearPass.initialize(e,t,n),this.depthPass.initialize(e,t,n),this.depthMaskPass.initialize(e,t,n),void 0!==n&&(this.renderTargetMasked.texture.type=n,Bg(e)===Ig&&Ug(this.renderTargetMasked.texture,Ig))}},Ny="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",By="data:image/png;base64,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",Uy=class extends hy{constructor(e,t){let{blendFunction:n=Wg.MULTIPLY,samples:r=9,rings:i=7,normalDepthBuffer:o=null,depthAwareUpsampling:a=!0,worldDistanceThreshold:s,worldDistanceFalloff:l,worldProximityThreshold:c,worldProximityFalloff:u,distanceThreshold:d=.97,distanceFalloff:h=.03,rangeThreshold:f=5e-4,rangeFalloff:p=.001,minRadiusScale:m=.1,luminanceInfluence:g=.7,radius:v=.1825,intensity:y=1,bias:b=.025,fade:x=.01,color:w=null,resolutionScale:S=1,width:E=Hv.AUTO_SIZE,height:M=Hv.AUTO_SIZE,resolutionX:C=E,resolutionY:_=M}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super("SSAOEffect","uniform lowp sampler2D aoBuffer;uniform float luminanceInfluence;uniform float intensity;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH)\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D normalDepthBuffer;\n#else\nuniform mediump sampler2D normalDepthBuffer;\n#endif\n#endif\n#ifdef COLORIZE\nuniform vec3 color;\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;\n#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH) && __VERSION__ == 300\nvec4 normalDepth[4];normalDepth[0]=textureOffset(normalDepthBuffer,uv,ivec2(0,0));normalDepth[1]=textureOffset(normalDepthBuffer,uv,ivec2(0,1));normalDepth[2]=textureOffset(normalDepthBuffer,uv,ivec2(1,0));normalDepth[3]=textureOffset(normalDepthBuffer,uv,ivec2(1,1));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4];offsets[0]=ivec2(0,0);offsets[1]=ivec2(0,1);offsets[2]=ivec2(1,0);offsets[3]=ivec2(1,1);ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);\n#else\nfloat ao=aoLinear;\n#endif\nfloat l=luminance(inputColor.rgb);ao=mix(ao,0.0,l*luminanceInfluence);ao=clamp(ao*intensity,0.0,1.0);\n#ifdef COLORIZE\noutputColor=vec4(1.0-ao*(1.0-color),inputColor.a);\n#else\noutputColor=vec4(vec3(1.0-ao),inputColor.a);\n#endif\n}",{blendFunction:n,attributes:ev.DEPTH,defines:new Map([["THRESHOLD","0.997"]]),uniforms:new Map([["aoBuffer",new uf(null)],["normalDepthBuffer",new uf(o)],["luminanceInfluence",new uf(g)],["color",new uf(null)],["intensity",new uf(y)],["scale",new uf(0)]])}),this.renderTarget=new rr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="AO.Target",this.uniforms.get("aoBuffer").value=this.renderTarget.texture;const T=this.resolution=new Hv(this,C,_,S);T.addEventListener("change",(e=>this.setSize(T.baseWidth,T.baseHeight))),this.camera=e,this.depthDownsamplingPass=new Xv({normalBuffer:t,resolutionScale:S}),this.depthDownsamplingPass.enabled=null===o,this.ssaoPass=new oy(new Ov(e));const A=new vy(64,64,ze);A.wrapS=A.wrapT=de;const P=this.ssaoMaterial;P.normalBuffer=t,P.noiseTexture=A,P.minRadiusScale=m,P.samples=r,P.radius=v,P.rings=i,P.fade=x,P.bias=b,P.distanceThreshold=d,P.distanceFalloff=h,P.proximityThreshold=f,P.proximityFalloff=p,void 0!==s&&(P.worldDistanceThreshold=s),void 0!==l&&(P.worldDistanceFalloff=l),void 0!==c&&(P.worldProximityThreshold=c),void 0!==u&&(P.worldProximityFalloff=u),null!==o&&(this.ssaoMaterial.normalDepthBuffer=o,this.defines.set("NORMAL_DEPTH","1")),this.depthAwareUpsampling=a,this.color=w}set mainCamera(e){this.camera=e,this.ssaoMaterial.copyCameraSettings(e)}get normalBuffer(){return this.ssaoMaterial.normalBuffer}set normalBuffer(e){this.ssaoMaterial.normalBuffer=e,this.depthDownsamplingPass.fullscreenMaterial.normalBuffer=e}getResolution(){return this.resolution}get ssaoMaterial(){return this.ssaoPass.fullscreenMaterial}getSSAOMaterial(){return this.ssaoMaterial}get samples(){return this.ssaoMaterial.samples}set samples(e){this.ssaoMaterial.samples=e}get rings(){return this.ssaoMaterial.rings}set rings(e){this.ssaoMaterial.rings=e}get radius(){return this.ssaoMaterial.radius}set radius(e){this.ssaoMaterial.radius=e}get depthAwareUpsampling(){return this.defines.has("DEPTH_AWARE_UPSAMPLING")}set depthAwareUpsampling(e){this.depthAwareUpsampling!==e&&(e?this.defines.set("DEPTH_AWARE_UPSAMPLING","1"):this.defines.delete("DEPTH_AWARE_UPSAMPLING"),this.setChanged())}isDepthAwareUpsamplingEnabled(){return this.depthAwareUpsampling}setDepthAwareUpsamplingEnabled(e){this.depthAwareUpsampling=e}get distanceScaling(){return!0}set distanceScaling(e){}get color(){return this.uniforms.get("color").value}set color(e){const t=this.uniforms,n=this.defines;null!==e?n.has("COLORIZE")?t.get("color").value.set(e):(n.set("COLORIZE","1"),t.get("color").value=new Oi(e),this.setChanged()):n.has("COLORIZE")&&(n.delete("COLORIZE"),t.get("color").value=null,this.setChanged())}get luminanceInfluence(){return this.uniforms.get("luminanceInfluence").value}set luminanceInfluence(e){this.uniforms.get("luminanceInfluence").value=e}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getColor(){return this.color}setColor(e){this.color=e}setDistanceCutoff(e,t){this.ssaoMaterial.distanceThreshold=e,this.ssaoMaterial.distanceFalloff=t}setProximityCutoff(e,t){this.ssaoMaterial.proximityThreshold=e,this.ssaoMaterial.proximityFalloff=t}setDepthTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.depthDownsamplingPass.setDepthTexture(e,t),this.ssaoMaterial.depthBuffer=e,this.ssaoMaterial.depthPacking=t}update(e,t,n){const r=this.renderTarget;this.depthDownsamplingPass.enabled&&this.depthDownsamplingPass.render(e),this.ssaoPass.render(e,null,r)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t);const r=n.width,i=n.height;this.ssaoMaterial.copyCameraSettings(this.camera),this.ssaoMaterial.setSize(r,i),this.renderTarget.setSize(r,i),this.depthDownsamplingPass.resolution.scale=n.scale,this.depthDownsamplingPass.setSize(e,t)}initialize(e,t,n){try{let r=this.uniforms.get("normalDepthBuffer").value;null===r&&(this.depthDownsamplingPass.initialize(e,t,n),r=this.depthDownsamplingPass.texture,this.uniforms.get("normalDepthBuffer").value=r,this.ssaoMaterial.normalDepthBuffer=r,this.defines.set("NORMAL_DEPTH","1"))}catch(r){this.depthDownsamplingPass.enabled=!1}}},jy=class extends hy{constructor(){let{blendFunction:e,texture:t=null,aspectCorrection:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("TextureEffect","#ifdef TEXTURE_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nvarying vec2 vUv2;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){\n#ifdef UV_TRANSFORM\nvec4 texel=texture2D(map,vUv2);\n#else\nvec4 texel=texture2D(map,uv);\n#endif\noutputColor=TEXEL;}",{blendFunction:e,defines:new Map([["TEXEL","texel"]]),uniforms:new Map([["map",new uf(null)],["scale",new uf(1)],["uvTransform",new uf(null)]])}),this.texture=t,this.aspectCorrection=n}get texture(){return this.uniforms.get("map").value}set texture(e){const t=this.texture,n=this.uniforms,r=this.defines;t!==e&&(n.get("map").value=e,n.get("uvTransform").value=e.matrix,r.delete("TEXTURE_PRECISION_HIGH"),null!==e&&(e.matrixAutoUpdate?(r.set("UV_TRANSFORM","1"),this.setVertexShader("#ifdef ASPECT_CORRECTION\nuniform float scale;\n#else\nuniform mat3 uvTransform;\n#endif\nvarying vec2 vUv2;void mainSupport(const in vec2 uv){\n#ifdef ASPECT_CORRECTION\nvUv2=uv*vec2(aspect,1.0)*scale;\n#else\nvUv2=(uvTransform*vec3(uv,1.0)).xy;\n#endif\n}")):(r.delete("UV_TRANSFORM"),this.setVertexShader(null)),e.type!==Me&&r.set("TEXTURE_PRECISION_HIGH","1"),null!==t&&t.type===e.type&&t.encoding===e.encoding||this.setChanged()))}getTexture(){return this.texture}setTexture(e){this.texture=e}get aspectCorrection(){return this.defines.has("ASPECT_CORRECTION")}set aspectCorrection(e){this.aspectCorrection!==e&&(e?this.defines.set("ASPECT_CORRECTION","1"):this.defines.delete("ASPECT_CORRECTION"),this.setChanged())}get uvTransform(){const e=this.texture;return null!==e&&e.matrixAutoUpdate}set uvTransform(e){const t=this.texture;null!==t&&(t.matrixAutoUpdate=e)}setTextureSwizzleRGBA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;const i="rgba";let o="";e===Yg&&t===Xg&&n===Qg&&r===qg||(o=[".",i[e],i[t],i[n],i[r]].join("")),this.defines.set("TEXEL","texel"+o),this.setChanged()}update(e,t,n){this.texture.matrixAutoUpdate&&this.texture.updateMatrix()}};let Hy;function Vy(){var e;if(void 0!==Hy)return Hy;try{let t;const n=document.createElement("canvas");return Hy=!(!window.WebGL2RenderingContext||!(t=n.getContext("webgl2"))),t&&(null==(e=t.getExtension("WEBGL_lose_context"))||e.loseContext()),Hy}catch(t){return Hy=!1}}function Gy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yy(e,t){if(e){if("string"===typeof e)return Wy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wy(e,t):void 0}}function Xy(e){return function(e){if(Array.isArray(e))return Wy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}new zn,new zn;function Qy(e,t,n){return Math.max(t,Math.min(n,e))}function qy(e,t){var n=function(e,t){return Qy(e-Math.floor(e/t)*t,0,t)}(t-e,2*Math.PI);return n>Math.PI&&(n-=2*Math.PI),n}function Ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Zy=function e(t,n,r){var i=this;Ky(this,e),Gy(this,"dot2",(function(e,t){return i.x*e+i.y*t})),Gy(this,"dot3",(function(e,t,n){return i.x*e+i.y*t+i.z*n})),this.x=t,this.y=n,this.z=r},Jy=[new Zy(1,1,0),new Zy(-1,1,0),new Zy(1,-1,0),new Zy(-1,-1,0),new Zy(1,0,1),new Zy(-1,0,1),new Zy(1,0,-1),new Zy(-1,0,-1),new Zy(0,1,1),new Zy(0,-1,1),new Zy(0,1,-1),new Zy(0,-1,-1)],$y=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],eb=new Array(512),tb=new Array(512),nb=function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;n=1&t?$y[t]^255&e:$y[t]^e>>8&255,eb[t]=eb[t+256]=n,tb[t]=tb[t+256]=Jy[n%12]}};nb(0);Math.sqrt(3),Math.sqrt(3),Math.PI;function rb(e){var t=function(e){if("number"===typeof e)e=Math.abs(e);else if("string"===typeof e){var t=e;e=0;for(var n=0;n<t.length;n++)e=(e+(n+1)*(t.charCodeAt(n)%96))%2147483647}return 0===e&&(e=311),e}(e);return function(){var e=48271*t%2147483647;return t=e,e/2147483647}}var ib=function e(t){var n=this;Ky(this,e),Gy(this,"seed",0),Gy(this,"init",(function(e){n.seed=e,n.value=rb(e)})),Gy(this,"value",rb(this.seed)),this.init(t)};new ib(Math.random());var ob=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function ab(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.25,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ob,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.001,l="velocity_"+t;if(void 0===e.__damp&&(e.__damp={}),void 0===e.__damp[l]&&(e.__damp[l]=0),Math.abs(e[t]-n)<=s)return e[t]=n,!1;var c=2/(r=Math.max(1e-4,r)),u=a(c*i),d=e[t]-n,h=n,f=o*r;d=Math.min(Math.max(d,-f),f),n=e[t]-d;var p=(e.__damp[l]+c*d)*i;e.__damp[l]=(e.__damp[l]-c*p)*u;var m=n+(d+p)*u;return h-e[t]>0===m>h&&(m=h,e.__damp[l]=(m-h)/i),e[t]=m,!0}function sb(e,t,n,r,i,o,a,s){return ab(e,t,e[t]+qy(e[t],n),r,i,o,a,s)}var lb,cb,ub=new zn;var db,hb,fb,pb=new ur;function mb(e,t,n,r,i,o,a){return"number"===typeof t?pb.setScalar(t):Array.isArray(t)?pb.set(t[0],t[1],t[2]):pb.copy(t),db=ab(e,"x",pb.x,n,r,i,o,a),hb=ab(e,"y",pb.y,n,r,i,o,a),fb=ab(e,"z",pb.z,n,r,i,o,a),db||hb||fb}var gb,vb,yb,bb,xb=new nr;var wb,Sb,Eb,Mb=new Kr;var Cb,_b,Tb,Ab=new Oi;var Pb,Ob,Db,Rb,kb=new cr,Ib=new nr,Lb=new nr,zb=new nr;function Fb(e,t,n,r,i,o,a){var s=e;Array.isArray(t)?kb.set(t[0],t[1],t[2],t[3]):kb.copy(t);var l=e.dot(kb)>0?1:-1;return kb.x*=l,kb.y*=l,kb.z*=l,kb.w*=l,Pb=ab(e,"x",kb.x,n,r,i,o,a),Ob=ab(e,"y",kb.y,n,r,i,o,a),Db=ab(e,"z",kb.z,n,r,i,o,a),Rb=ab(e,"w",kb.w,n,r,i,o,a),Ib.set(e.x,e.y,e.z,e.w).normalize(),Lb.set(s.__damp.velocity_x,s.__damp.velocity_y,s.__damp.velocity_z,s.__damp.velocity_w),zb.copy(Ib).multiplyScalar(Lb.dot(Ib)/Ib.dot(Ib)),s.__damp.velocity_x-=zb.x,s.__damp.velocity_y-=zb.y,s.__damp.velocity_z-=zb.z,s.__damp.velocity_w-=zb.w,e.set(Ib.x,Ib.y,Ib.z,Ib.w),Pb||Ob||Db||Rb}var Nb,Bb,Ub,jb=new yf;var Hb,Vb,Gb,Wb=new Ur,Yb=new ur,Xb=new cr,Qb=new ur;var qb=Object.freeze({__proto__:null,rsqw:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/(2*Math.PI);return n/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*r)/t)},exp:ob,damp:ab,dampAngle:sb,damp2:function(e,t,n,r,i,o,a){return"number"===typeof t?ub.setScalar(t):Array.isArray(t)?ub.set(t[0],t[1]):ub.copy(t),lb=ab(e,"x",ub.x,n,r,i,o,a),cb=ab(e,"y",ub.y,n,r,i,o,a),lb||cb},damp3:mb,damp4:function(e,t,n,r,i,o,a){return"number"===typeof t?xb.setScalar(t):Array.isArray(t)?xb.set(t[0],t[1],t[2],t[3]):xb.copy(t),gb=ab(e,"x",xb.x,n,r,i,o,a),vb=ab(e,"y",xb.y,n,r,i,o,a),yb=ab(e,"z",xb.z,n,r,i,o,a),bb=ab(e,"w",xb.w,n,r,i,o,a),gb||vb||yb||bb},dampE:function(e,t,n,r,i,o,a){return Array.isArray(t)?Mb.set(t[0],t[1],t[2],t[3]):Mb.copy(t),wb=sb(e,"x",Mb.x,n,r,i,o,a),Sb=sb(e,"y",Mb.y,n,r,i,o,a),Eb=sb(e,"z",Mb.z,n,r,i,o,a),wb||Sb||Eb},dampC:function(e,t,n,r,i,o,a){return t instanceof Oi?Ab.copy(t):Array.isArray(t)?Ab.setRGB(t[0],t[1],t[2]):Ab.set(t),Cb=ab(e,"r",Ab.r,n,r,i,o,a),_b=ab(e,"g",Ab.g,n,r,i,o,a),Tb=ab(e,"b",Ab.b,n,r,i,o,a),Cb||_b||Tb},dampQ:Fb,dampS:function(e,t,n,r,i,o,a){return Array.isArray(t)?jb.set(t[0],t[1],t[2]):jb.copy(t),Nb=ab(e,"radius",jb.radius,n,r,i,o,a),Bb=sb(e,"phi",jb.phi,n,r,i,o,a),Ub=sb(e,"theta",jb.theta,n,r,i,o,a),Nb||Bb||Ub},dampM:function(e,t,n,r,i,o,a){var s=e;return void 0===s.__damp&&(s.__damp={position:new ur,rotation:new cr,scale:new ur},e.decompose(s.__damp.position,s.__damp.rotation,s.__damp.scale)),Array.isArray(t)?Wb.set.apply(Wb,Xy(t)):Wb.copy(t),Wb.decompose(Yb,Xb,Qb),Hb=mb(s.__damp.position,Yb,n,r,i,o,a),Vb=Fb(s.__damp.rotation,Xb,n,r,i,o,a),Gb=mb(s.__damp.scale,Qb,n,r,i,o,a),e.compose(s.__damp.position,s.__damp.rotation,s.__damp.scale),Hb||Vb||Gb}});function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(this,arguments)}var Zb="#define GLSLIFY 1\nvec3 getViewPosition(const float depth){float clipW=_projectionMatrix[2][3]*depth+_projectionMatrix[3][3];vec4 clipPosition=vec4((vec3(vUv,depth)-0.5)*2.0,1.0);clipPosition*=clipW;return(_inverseProjectionMatrix*clipPosition).xyz;}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}vec3 screenSpaceToWorldSpace(const vec2 uv,const float depth){vec4 ndc=vec4((uv.x-0.5)*2.0,(uv.y-0.5)*2.0,(depth-0.5)*2.0,1.0);vec4 clip=_inverseProjectionMatrix*ndc;vec4 view=cameraMatrixWorld*(clip/clip.w);return view.xyz;}\n#define Scale (vec3(0.8, 0.8, 0.8))\n#define K (19.19)\nvec3 hash(vec3 a){a=fract(a*Scale);a+=dot(a,a.yxz+K);return fract((a.xxy+a.yxx)*a.zyx);}float fresnel_dielectric_cos(float cosi,float eta){float c=abs(cosi);float g=eta*eta-1.0+c*c;float result;if(g>0.0){g=sqrt(g);float A=(g-c)/(g+c);float B=(c*(g+c)-1.0)/(c*(g-c)+1.0);result=0.5*A*A*(1.0+B*B);}else{result=1.0;}return result;}float fresnel_dielectric(vec3 Incoming,vec3 Normal,float eta){float cosine=dot(Incoming,Normal);return min(1.0,5.0*fresnel_dielectric_cos(cosine,eta));}";class Jb extends Oo{constructor(){super({type:"MRTMaterial",defines:{USE_UV:"",TEMPORAL_RESOLVE:""},uniforms:{opacity:new uf(1),normalMap:new uf(null),normalScale:new uf(new zn(1,1)),uvTransform:new uf(new Fn),roughness:new uf(1),roughnessMap:new uf(null)},vertexShader:"\n                #ifdef USE_MRT\n                 varying vec2 vHighPrecisionZW;\n                #endif\n                #define NORMAL\n                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n                    varying vec3 vViewPosition;\n                #endif\n                #include <common>\n                #include <uv_pars_vertex>\n                #include <displacementmap_pars_vertex>\n                #include <normal_pars_vertex>\n                #include <morphtarget_pars_vertex>\n                #include <skinning_pars_vertex>\n                #include <logdepthbuf_pars_vertex>\n                #include <clipping_planes_pars_vertex>\n                void main() {\n                    #include <uv_vertex>\n                    #include <beginnormal_vertex>\n                    #include <morphnormal_vertex>\n                    #include <skinbase_vertex>\n                    #include <skinnormal_vertex>\n                    #include <defaultnormal_vertex>\n                    #include <normal_vertex>\n                    #include <begin_vertex>\n                    #include <morphtarget_vertex>\n                    #include <skinning_vertex>\n                    #include <displacementmap_vertex>\n                    #include <project_vertex>\n                    #include <logdepthbuf_vertex>\n                    #include <clipping_planes_vertex>\n                    #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n                        vViewPosition = - mvPosition.xyz;\n                    #endif\n                    #ifdef USE_MRT\n                        vHighPrecisionZW = gl_Position.zw;\n                    #endif \n                    #ifdef USE_UV\n                        vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n                    #endif\n                }\n            ",fragmentShader:"\n                 #define NORMAL\n                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n                    varying vec3 vViewPosition;\n                #endif\n                #include <packing>\n                #include <uv_pars_fragment>\n                #include <normal_pars_fragment>\n                #include <bumpmap_pars_fragment>\n                #include <normalmap_pars_fragment>\n                #include <logdepthbuf_pars_fragment>\n                #include <clipping_planes_pars_fragment>\n                #include <roughnessmap_pars_fragment>\n                \n                #ifdef USE_MRT\n                layout(location = 0) out vec4 gNormal;\n                layout(location = 1) out vec4 gDepth;\n                \n                varying vec2 vHighPrecisionZW;\n                #endif\n                uniform float roughness;\n                void main() {\n                    #include <clipping_planes_fragment>\n                    #include <logdepthbuf_fragment>\n                    #include <normal_fragment_begin>\n                    #include <normal_fragment_maps>\n\n                    float roughnessFactor = roughness;\n                    \n                    if(roughness > 10.0e9){\n                        roughnessFactor = 1.;\n                    }else{\n                        #ifdef useRoughnessMap\n                            vec4 texelRoughness = texture2D( roughnessMap, vUv );\n                            // reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n                            roughnessFactor *= texelRoughness.g;\n                        #endif\n                    }\n\n                    vec3 normalColor = packNormalToRGB( normal );\n                    #ifdef USE_MRT\n                        float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n                        vec4 depthColor = packDepthToRGBA( fragCoordZ );\n                        gNormal = vec4( normalColor, roughnessFactor );\n                        gDepth = depthColor;\n                    #else\n                        gl_FragColor = vec4(normalColor, roughnessFactor);\n                    #endif\n                }\n            ",toneMapped:!1}),this.normalMapType=Ut,this.normalScale=new zn(1,1),Object.defineProperty(this,"glslVersion",{get(){return"USE_MRT"in this.defines?bn:null},set(e){}})}}class $b extends Oo{constructor(){super({type:"ReflectionsMaterial",uniforms:{inputTexture:new uf(null),accumulatedTexture:new uf(null),normalTexture:new uf(null),depthTexture:new uf(null),_projectionMatrix:new uf(new Ur),_inverseProjectionMatrix:new uf(new Ur),cameraMatrixWorld:new uf(new Ur),cameraNear:new uf(0),cameraFar:new uf(0),rayDistance:new uf(0),intensity:new uf(0),roughnessFade:new uf(0),fade:new uf(0),thickness:new uf(0),ior:new uf(0),maxDepthDifference:new uf(0),jitter:new uf(0),jitterRoughness:new uf(0),maxRoughness:new uf(0),samples:new uf(0),envMap:new uf(null),envMapPosition:new uf(new ur),envMapSize:new uf(new ur),viewMatrix:new uf(new Ur)},defines:{steps:20,refineSteps:5,CUBEUV_TEXEL_WIDTH:0,CUBEUV_TEXEL_HEIGHT:0,CUBEUV_MAX_MIP:0,vWorldPosition:"worldPos"},fragmentShader:"#define GLSLIFY 1\nvarying vec2 vUv;uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D normalTexture;uniform sampler2D depthTexture;uniform sampler2D envMap;uniform mat4 _projectionMatrix;uniform mat4 _inverseProjectionMatrix;uniform mat4 cameraMatrixWorld;uniform float cameraNear;uniform float cameraFar;uniform float rayDistance;uniform float intensity;uniform float maxDepthDifference;uniform float roughnessFade;uniform float maxRoughness;uniform float fade;uniform float thickness;uniform float ior;uniform float samples;uniform float jitter;uniform float jitterRoughness;\n#define INVALID_RAY_COORDS vec2(-1.0);\n#define EARLY_OUT_COLOR vec4(0.0, 0.0, 0.0, 1.0)\n#define FLOAT_EPSILON 0.00001\nfloat nearMinusFar;float nearMulFar;float farMinusNear;\n#include <packing>\n#include <helperFunctions>\nvec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);float fastGetViewZ(const in float depth);vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness);void main(){vec4 depthTexel=textureLod(depthTexture,vUv,0.0);if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON){gl_FragColor=EARLY_OUT_COLOR;return;}float unpackedDepth=unpackRGBAToDepth(depthTexel);vec4 normalTexel=textureLod(normalTexture,vUv,0.0);float roughness=normalTexel.a;float specular=1.0-roughness;nearMinusFar=cameraNear-cameraFar;nearMulFar=cameraNear*cameraFar;farMinusNear=cameraFar-cameraNear;normalTexel.rgb=unpackRGBToNormal(normalTexel.rgb);float depth=fastGetViewZ(unpackedDepth);vec3 viewPos=getViewPosition(depth);vec3 viewDir=normalize(viewPos);vec3 viewNormal=normalTexel.xyz;vec3 worldPos=screenSpaceToWorldSpace(vUv,unpackedDepth);vec3 jitt=vec3(0.0);if(jitterRoughness!=0.0||jitter!=0.0){vec3 randomJitter=hash(50.0*samples*worldPos)-0.5;float spread=((2.0-specular)+roughness*jitterRoughness);float jitterMix=jitter*0.25+jitterRoughness*roughness;if(jitterMix>1.0)jitterMix=1.0;jitt=mix(vec3(0.0),randomJitter*spread,jitterMix);}viewNormal+=jitt;float fresnelFactor=fresnel_dielectric(viewDir,viewNormal,ior);vec3 iblRadiance=getIBLRadiance(-viewDir,viewNormal,0.)*fresnelFactor;float lastFrameAlpha=textureLod(accumulatedTexture,vUv,0.0).a;if(roughness>maxRoughness||(roughness>1.0-FLOAT_EPSILON&&roughnessFade>1.0-FLOAT_EPSILON)){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec3 reflected=reflect(viewDir,viewNormal);vec3 rayDir=reflected*-viewPos.z;vec3 hitPos=viewPos;float rayHitDepthDifference;vec2 coords=RayMarch(rayDir,hitPos,rayHitDepthDifference);if(coords.x==-1.0){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec4 SSRTexel=textureLod(inputTexture,coords.xy,0.0);vec4 SSRTexelReflected=textureLod(accumulatedTexture,coords.xy,0.0);vec3 SSR=SSRTexel.rgb+SSRTexelReflected.rgb;float roughnessFactor=mix(specular,1.0,max(0.0,1.0-roughnessFade));vec2 coordsNDC=(coords.xy*2.0-1.0);float screenFade=0.1;float maxDimension=min(1.0,max(abs(coordsNDC.x),abs(coordsNDC.y)));float reflectionIntensity=1.0-(max(0.0,maxDimension-screenFade)/(1.0-screenFade));reflectionIntensity=max(0.,reflectionIntensity);vec3 finalSSR=mix(iblRadiance,SSR,reflectionIntensity)*roughnessFactor;if(fade!=0.0){vec3 hitWorldPos=screenSpaceToWorldSpace(coords,rayHitDepthDifference);float reflectionDistance=distance(hitWorldPos,worldPos)+1.0;float opacity=1.0/(reflectionDistance*fade*0.1);if(opacity>1.0)opacity=1.0;finalSSR*=opacity;}finalSSR*=fresnelFactor*intensity;finalSSR=min(vec3(1.0),finalSSR);float alpha=hitPos.z==1.0 ? 1.0 : SSRTexelReflected.a;alpha=min(lastFrameAlpha,alpha);gl_FragColor=vec4(finalSSR,alpha);}vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){dir=normalize(dir);dir*=rayDistance/float(steps);float depth;vec4 projectedCoord;vec4 lastProjectedCoord;float unpackedDepth;vec4 depthTexel;for(int i=0;i<steps;i++){hitPos+=dir;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;\n#ifndef missedRays\nif(projectedCoord.x<0.0||projectedCoord.x>1.0||projectedCoord.y<0.0||projectedCoord.y>1.0){return INVALID_RAY_COORDS;}\n#endif\ndepthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;if(rayHitDepthDifference>=0.0&&rayHitDepthDifference<thickness){\n#if refineSteps == 0\nif(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;\n#else\nreturn BinarySearch(dir,hitPos,rayHitDepthDifference);\n#endif\n}\n#ifndef missedRays\nif(hitPos.z>0.0){return INVALID_RAY_COORDS;}\n#endif\nlastProjectedCoord=projectedCoord;}hitPos.z=1.0;\n#ifndef missedRays\nreturn INVALID_RAY_COORDS;\n#endif\nrayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){float depth;vec4 projectedCoord;vec2 lastMinProjectedCoordXY;float unpackedDepth;vec4 depthTexel;for(int i=0;i<refineSteps;i++){projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;dir*=0.5;if(rayHitDepthDifference>0.0){hitPos-=dir;}else{hitPos+=dir;}}if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;if(abs(rayHitDepthDifference)>maxDepthDifference)return INVALID_RAY_COORDS;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}float fastGetViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn nearMulFar/(farMinusNear*depth-cameraFar);\n#else\nreturn depth*nearMinusFar-cameraNear;\n#endif\n}\n#include <common>\n#include <cube_uv_reflection_fragment>\nvec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness){\n#if defined(ENVMAP_TYPE_CUBE_UV)\nvec3 reflectVec=reflect(-viewDir,normal);reflectVec=normalize(mix(reflectVec,normal,roughness*roughness));reflectVec=inverseTransformDirection(reflectVec,viewMatrix);vec4 envMapColor=textureCubeUV(envMap,reflectVec,roughness);return envMapColor.rgb*intensity;\n#else\nreturn vec3(0.0);\n#endif\n}".replace("#include <helperFunctions>",Zb),vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",toneMapped:!1,depthWrite:!1,depthTest:!1})}}const ex=e=>{const t=[e],n=[];for(;0!==t.length;){const e=t.shift();e.material&&n.push(e);for(const n of e.children)n.visible&&t.push(n)}return n},tx=(e,t,n)=>{e.uniforms.envMap.value=t;const r=(e=>{const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}})({envMapCubeUVHeight:n});e.defines.ENVMAP_TYPE_CUBE_UV="",e.defines.CUBEUV_TEXEL_WIDTH=r.texelWidth,e.defines.CUBEUV_TEXEL_HEIGHT=r.texelHeight,e.defines.CUBEUV_MAX_MIP=r.maxMip+".0",e.needsUpdate=!0};class nx extends Lv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super("ReflectionsPass"),this.ssrEffect=void 0,this.cachedMaterials=new WeakMap,this.USE_MRT=!1,this.webgl1DepthPass=null,this.visibleMeshes=[],this.ssrEffect=e,this._scene=e._scene,this._camera=e._camera,this.fullscreenMaterial=new $b,e._camera.isPerspectiveCamera&&(this.fullscreenMaterial.defines.PERSPECTIVE_CAMERA="");const n=t.width||"undefined"!==typeof window?window.innerWidth:2e3,r=t.height||"undefined"!==typeof window?window.innerHeight:1e3;this.renderTarget=new rr(n,r,{minFilter:be,magFilter:be,type:De,depthBuffer:!1}),this.renderPass=new Wv(this._scene,this._camera),this.USE_MRT=(()=>{try{const e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(e){return!1}})(),this.USE_MRT?(this.gBuffersRenderTarget=new lr(n,r,2,{minFilter:be,magFilter:be}),this.normalTexture=this.gBuffersRenderTarget.texture[0],this.depthTexture=this.gBuffersRenderTarget.texture[1]):(this.webgl1DepthPass=new Yv(this._scene,this._camera),this.webgl1DepthPass.renderTarget.minFilter=be,this.webgl1DepthPass.renderTarget.magFilter=be,this.webgl1DepthPass.renderTarget.texture.minFilter=be,this.webgl1DepthPass.renderTarget.texture.magFilter=be,this.webgl1DepthPass.setSize("undefined"!==typeof window?window.innerWidth:2e3,"undefined"!==typeof window?window.innerHeight:1e3),this.gBuffersRenderTarget=new rr(n,r,{minFilter:be,magFilter:be}),this.normalTexture=this.gBuffersRenderTarget.texture,this.depthTexture=this.webgl1DepthPass.texture),this.fullscreenMaterial.uniforms.normalTexture.value=this.normalTexture,this.fullscreenMaterial.uniforms.depthTexture.value=this.depthTexture,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.uniforms.cameraMatrixWorld.value=this._camera.matrixWorld,this.fullscreenMaterial.uniforms._projectionMatrix.value=this._camera.projectionMatrix,this.fullscreenMaterial.uniforms._inverseProjectionMatrix.value=this._camera.projectionMatrixInverse}setSize(e,t){this.renderTarget.setSize(e*this.ssrEffect.resolutionScale,t*this.ssrEffect.resolutionScale),this.gBuffersRenderTarget.setSize(e*this.ssrEffect.resolutionScale,t*this.ssrEffect.resolutionScale),this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.needsUpdate=!0}dispose(){this.renderTarget.dispose(),this.gBuffersRenderTarget.dispose(),this.renderPass.dispose(),this.USE_MRT||this.webgl1DepthPass.dispose(),this.fullscreenMaterial.dispose(),this.normalTexture=null,this.depthTexture=null,this.velocityTexture=null}keepMaterialMapUpdated(e,t,n,r){this.ssrEffect[r]?t[n]!==e[n]&&(e[n]=t[n],e.uniforms[n].value=t[n],t[n]?e.defines[r]="":delete e.defines[r],e.needsUpdate=!0):void 0!==e[n]&&(e[n]=void 0,e.uniforms[n].value=void 0,delete e.defines[r],e.needsUpdate=!0)}setMRTMaterialInScene(){this.visibleMeshes=ex(this._scene);for(const e of this.visibleMeshes)if(e.material){const t=e.material;let[n,r]=this.cachedMaterials.get(e)||[];if(t!==n){r&&r.dispose(),r=new Jb,this.USE_MRT&&(r.defines.USE_MRT=""),r.normalScale=t.normalScale,r.uniforms.normalScale.value=t.normalScale;const n=t.map||t.normalMap||t.roughnessMap||t.metalnessMap;n&&(r.uniforms.uvTransform.value=n.matrix),this.cachedMaterials.set(e,[t,r])}this.keepMaterialMapUpdated(r,t,"normalMap","useNormalMap"),this.keepMaterialMapUpdated(r,t,"roughnessMap","useRoughnessMap"),r.uniforms.roughness.value=0===this.ssrEffect.selection.size||this.ssrEffect.selection.has(e)?t.roughness||0:1e11,e.material=r}}unsetMRTMaterialInScene(){for(const t of this.visibleMeshes){var e;if("MRTMaterial"===(null==(e=t.material)?void 0:e.type)){t.visible=!0;const[e]=this.cachedMaterials.get(t);t.material=e}}}render(e,t){this.setMRTMaterialInScene(),e.setRenderTarget(this.gBuffersRenderTarget),this.renderPass.render(e,this.gBuffersRenderTarget),this.unsetMRTMaterialInScene(),this.USE_MRT||this.webgl1DepthPass.renderPass.render(e,this.webgl1DepthPass.renderTarget),this.fullscreenMaterial.uniforms.inputTexture.value=t.texture,this.fullscreenMaterial.uniforms.samples.value=this.ssrEffect.temporalResolvePass.samples,this.fullscreenMaterial.uniforms.cameraNear.value=this._camera.near,this.fullscreenMaterial.uniforms.cameraFar.value=this._camera.far,this.fullscreenMaterial.uniforms.viewMatrix.value.copy(this._camera.matrixWorldInverse),e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera)}}const rx={intensity:1,exponent:1,distance:10,fade:0,roughnessFade:1,thickness:10,ior:1.45,maxRoughness:1,maxDepthDifference:10,blend:.9,correction:1,correctionRadius:1,blur:.5,blurKernel:1,blurSharpness:10,jitter:0,jitterRoughness:0,steps:20,refineSteps:5,missedRays:!0,useNormalMap:!0,useRoughnessMap:!0,resolutionScale:1,velocityResolutionScale:1};class ix extends Oo{constructor(e){const t="#define GLSLIFY 1\nuniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D velocityTexture;uniform sampler2D lastVelocityTexture;uniform float blend;uniform float correction;uniform float exponent;uniform float samples;uniform vec2 invTexSize;uniform mat4 curInverseProjectionMatrix;uniform mat4 curCameraMatrixWorld;uniform mat4 prevInverseProjectionMatrix;uniform mat4 prevCameraMatrixWorld;varying vec2 vUv;\n#define MAX_NEIGHBOR_DEPTH_DIFFERENCE 0.001\n#define FLOAT_EPSILON 0.00001\n#define FLOAT_ONE_MINUS_EPSILON 0.99999\nvec3 transformexponent;vec3 undoColorTransformExponent;vec3 transformColor(vec3 color){if(exponent==1.0)return color;return pow(abs(color),transformexponent);}vec3 undoColorTransform(vec3 color){if(exponent==1.0)return color;return max(pow(abs(color),undoColorTransformExponent),vec3(0.0));}void main(){if(exponent!=1.0){transformexponent=vec3(1.0/exponent);undoColorTransformExponent=vec3(exponent);}vec4 inputTexel=textureLod(inputTexture,vUv,0.0);vec4 accumulatedTexel;vec3 inputColor=transformColor(inputTexel.rgb);vec3 accumulatedColor;float alpha=inputTexel.a;float velocityDisocclusion;bool didReproject=false;\n#ifdef boxBlur\nvec3 boxBlurredColor=inputTexel.rgb;\n#endif\nvec4 velocity=textureLod(velocityTexture,vUv,0.0);bool isMoving=alpha<1.0||dot(velocity.xy,velocity.xy)>0.0;if(isMoving){vec3 minNeighborColor=inputColor;vec3 maxNeighborColor=inputColor;vec3 col;vec2 neighborUv;vec2 reprojectedUv=vUv-velocity.xy;vec4 lastVelocity=textureLod(lastVelocityTexture,reprojectedUv,0.0);float depth=velocity.b;float closestDepth=depth;float lastClosestDepth=lastVelocity.b;float neighborDepth;float lastNeighborDepth;for(int x=-correctionRadius;x<=correctionRadius;x++){for(int y=-correctionRadius;y<=correctionRadius;y++){if(x!=0||y!=0){neighborUv=vUv+vec2(x,y)*invTexSize;vec4 neigborVelocity=textureLod(velocityTexture,neighborUv,0.0);neighborDepth=neigborVelocity.b;col=textureLod(inputTexture,neighborUv,0.0).xyz;int absX=abs(x);int absY=abs(y);\n#ifdef dilation\nif(absX==1&&absY==1){if(neighborDepth>closestDepth){velocity=neigborVelocity;closestDepth=neighborDepth;}vec4 lastNeighborVelocity=textureLod(velocityTexture,vUv+vec2(x,y)*invTexSize,0.0);lastNeighborDepth=lastNeighborVelocity.b;if(neighborDepth>closestDepth){lastVelocity=lastNeighborVelocity;lastClosestDepth=lastNeighborDepth;}}\n#endif\nif(abs(depth-neighborDepth)<MAX_NEIGHBOR_DEPTH_DIFFERENCE){\n#ifdef boxBlur\nif(absX<=2&&absY<=2)boxBlurredColor+=col;\n#endif\ncol=transformColor(col);minNeighborColor=min(col,minNeighborColor);maxNeighborColor=max(col,maxNeighborColor);}}}}float velocityLength=length(lastVelocity.xy-velocity.xy);velocityDisocclusion=(velocityLength-0.000005)*10.0;velocityDisocclusion*=velocityDisocclusion;reprojectedUv=vUv-velocity.xy;\n#ifdef boxBlur\nfloat pxRadius=correctionRadius>5 ? 121.0 : pow(float(correctionRadius*2+1),2.0);boxBlurredColor/=pxRadius;boxBlurredColor=transformColor(boxBlurredColor);\n#endif\nif(reprojectedUv.x>=0.0&&reprojectedUv.x<=1.0&&reprojectedUv.y>=0.0&&reprojectedUv.y<=1.0){accumulatedTexel=textureLod(accumulatedTexture,reprojectedUv,0.0);accumulatedColor=transformColor(accumulatedTexel.rgb);vec3 clampedColor=clamp(accumulatedColor,minNeighborColor,maxNeighborColor);accumulatedColor=mix(accumulatedColor,clampedColor,correction);didReproject=true;}else{\n#ifdef boxBlur\naccumulatedColor=boxBlurredColor;\n#else\naccumulatedColor=inputColor;\n#endif\n}if(velocity.r>FLOAT_ONE_MINUS_EPSILON&&velocity.g>FLOAT_ONE_MINUS_EPSILON){alpha=0.0;velocityDisocclusion=1.0;}}else{accumulatedColor=transformColor(textureLod(accumulatedTexture,vUv,0.0).rgb);}vec3 outputColor=inputColor;\n#include <custom_compose_shader>\ngl_FragColor=vec4(undoColorTransform(outputColor),alpha);}".replace("#include <custom_compose_shader>",e);super({type:"TemporalResolveMaterial",uniforms:{inputTexture:new uf(null),accumulatedTexture:new uf(null),velocityTexture:new uf(null),lastVelocityTexture:new uf(null),samples:new uf(1),blend:new uf(.5),correction:new uf(1),exponent:new uf(1),invTexSize:new uf(new zn)},defines:{correctionRadius:1},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",fragmentShader:t})}}const ox=`\n\t\tvec3 transformed;\n\n\t\t// Get the normal\n\t\t${Xo.skinbase_vertex}\n\t\t${Xo.beginnormal_vertex}\n\t\t${Xo.skinnormal_vertex}\n\t\t${Xo.defaultnormal_vertex}\n\n\t\t// Get the current vertex position\n\t\ttransformed = vec3( position );\n\t\t${Xo.skinning_vertex}\n\t\tnewPosition = velocityMatrix * vec4( transformed, 1.0 );\n\n\t\t// Get the previous vertex position\n\t\ttransformed = vec3( position );\n\t\t${Xo.skinbase_vertex.replace(/mat4 /g,"").replace(/getBoneMatrix/g,"getPrevBoneMatrix")}\n\t\t${Xo.skinning_vertex.replace(/vec4 /g,"")}\n\t\tprevPosition = prevVelocityMatrix * vec4( transformed, 1.0 );\n\n\t\tgl_Position = newPosition;\n`;class ax extends Oo{constructor(){super({uniforms:{prevVelocityMatrix:{value:new Ur},velocityMatrix:{value:new Ur},prevBoneTexture:{value:null},interpolateGeometry:{value:0},intensity:{value:1},boneTexture:{value:null},alphaTest:{value:0},map:{value:null},alphaMap:{value:null},opacity:{value:1}},vertexShader:`\n                    #define MAX_BONES 1024\n                    \n                    ${Xo.skinning_pars_vertex}\n                    \n\t\t#ifdef USE_SKINNING\n\t\t#ifdef BONE_TEXTURE\n\t\t\tuniform sampler2D prevBoneTexture;\n\t\t\tmat4 getPrevBoneMatrix( const in float i ) {\n\t\t\t\tfloat j = i * 4.0;\n\t\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\t\ty = dy * ( y + 0.5 );\n\t\t\t\tvec4 v1 = texture2D( prevBoneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\t\tvec4 v2 = texture2D( prevBoneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\t\tvec4 v3 = texture2D( prevBoneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\t\tvec4 v4 = texture2D( prevBoneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\t\treturn bone;\n\t\t\t}\n\t\t#else\n\t\t\tuniform mat4 prevBoneMatrices[ MAX_BONES ];\n\t\t\tmat4 getPrevBoneMatrix( const in float i ) {\n\t\t\t\tmat4 bone = prevBoneMatrices[ int(i) ];\n\t\t\t\treturn bone;\n\t\t\t}\n\t\t#endif\n\t\t#endif\n\n        \n                    uniform mat4 velocityMatrix;\n                    uniform mat4 prevVelocityMatrix;\n                    uniform float interpolateGeometry;\n                    varying vec4 prevPosition;\n                    varying vec4 newPosition;\n\t\t\t\t\tvarying vec2 vHighPrecisionZW;\n        \n                    void main() {\n        \n                        ${ox}\n\n\t\t\t\t\t\tvHighPrecisionZW = gl_Position.zw;\n        \n                    }`,fragmentShader:"\n                    uniform float intensity;\n                    varying vec4 prevPosition;\n                    varying vec4 newPosition;\n\t\t\t\t\tvarying vec2 vHighPrecisionZW;\n        \n                    void main() {\n\t\t\t\t\t\t#ifdef FULL_MOVEMENT\n\t\t\t\t\t\tgl_FragColor = vec4( 1., 1., 1. - gl_FragCoord.z, 0. );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t\t#endif\n\n                        vec2 pos0 = (prevPosition.xy / prevPosition.w) * 0.5 + 0.5;\n                        vec2 pos1 = (newPosition.xy / newPosition.w) * 0.5 + 0.5;\n        \n                        vec2 vel = pos1 - pos0;\n\n\t\t\t\t\t\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n                        \n                        gl_FragColor = vec4( vel, 1. - fragCoordZ, 0. );\n        \n                    }"}),this.isVelocityMaterial=!0}}const sx=new Oi(0),lx=["visible","wireframe","side"];class cx extends Lv{constructor(e,t){var n,r;super("VelocityPass"),this.cachedMaterials=new WeakMap,this.lastCameraTransform={position:new ur,quaternion:new cr},this.visibleMeshes=[],this.renderedMeshesThisFrame=0,this.renderedMeshesLastFrame=0,this._scene=e,this._camera=t,this.renderTarget=new rr((null==(n=window)?void 0:n.innerWidth)||1e3,(null==(r=window)?void 0:r.innerHeight)||1e3,{type:De})}setVelocityMaterialInScene(){this.renderedMeshesThisFrame=0,this.visibleMeshes=ex(this._scene);for(const n of this.visibleMeshes){var e;const r=n.material;let[i,o]=this.cachedMaterials.get(n)||[];var t;if(r!==i)o=new ax,o.lastMatrixWorld=new Ur,n.material=o,null!=(t=n.skeleton)&&t.boneTexture&&this.saveBoneTexture(n),this.cachedMaterials.set(n,[r,o]);if(o.uniforms.velocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,n.modelViewMatrix),n.userData.needsUpdatedReflections||r.map instanceof zc?("FULL_MOVEMENT"in o.defines||(o.needsUpdate=!0),o.defines.FULL_MOVEMENT=""):"FULL_MOVEMENT"in o.defines&&(delete o.defines.FULL_MOVEMENT,o.needsUpdate=!0),n.visible=this.cameraMovedThisFrame||!n.matrixWorld.equals(o.lastMatrixWorld)||n.skeleton||"FULL_MOVEMENT"in o.defines,n.material=o,n.visible){this.renderedMeshesThisFrame++;for(const e of lx)o[e]=r[e];null!=(e=n.skeleton)&&e.boneTexture&&(o.defines.USE_SKINNING="",o.defines.BONE_TEXTURE="",o.uniforms.boneTexture.value=n.skeleton.boneTexture)}}}saveBoneTexture(e){let t=e.material.uniforms.prevBoneTexture.value;if(t&&t.image.width===e.skeleton.boneTexture.width)t=e.material.uniforms.prevBoneTexture.value,t.image.data.set(e.skeleton.boneTexture.image.data);else{var n;null==(n=t)||n.dispose();const r=e.skeleton.boneTexture.image.data.slice(),i=e.skeleton.boneTexture.image.width;t=new oc(r,i,i,ze,Oe),e.material.uniforms.prevBoneTexture.value=t,t.needsUpdate=!0}}unsetVelocityMaterialInScene(){for(const t of this.visibleMeshes){var e;if(t.material.isVelocityMaterial)t.visible=!0,t.material.lastMatrixWorld.copy(t.matrixWorld),t.material.uniforms.prevVelocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,t.modelViewMatrix),null!=(e=t.skeleton)&&e.boneTexture&&this.saveBoneTexture(t),t.material=this.cachedMaterials.get(t)[0]}}setSize(e,t){this.renderTarget.setSize(e,t)}renderVelocity(e){if(e.setRenderTarget(this.renderTarget),this.renderedMeshesThisFrame>0){const{background:t}=this._scene;this._scene.background=sx,e.render(this._scene,this._camera),this._scene.background=t}else e.clearColor()}checkCameraMoved(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),t=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));return(e>1e-6||t>1e-6)&&(this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion),!0)}render(e){this.cameraMovedThisFrame=this.checkCameraMoved(),this.setVelocityMaterialInScene(),(this.renderedMeshesThisFrame>0||this.renderedMeshesLastFrame>0)&&this.renderVelocity(e),this.unsetVelocityMaterialInScene(),this.renderedMeshesLastFrame=this.renderedMeshesThisFrame}}const ux=new zn;class dx extends Lv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super("TemporalResolvePass"),this.velocityPass=null,this.velocityResolutionScale=1,this.samples=1,this.lastCameraTransform={position:new ur,quaternion:new cr},this._scene=e,this._camera=t,this.renderTarget=new rr(1,1,{minFilter:be,magFilter:be,type:De,depthBuffer:!1}),this.velocityPass=new cx(e,t),this.fullscreenMaterial=new ix(n),this.fullscreenMaterial.defines.correctionRadius=r.correctionRadius||1,r.dilation&&(this.fullscreenMaterial.defines.dilation=""),r.boxBlur&&(this.fullscreenMaterial.defines.boxBlur=""),this.setupFramebuffers(1,1),this.checkCanUseSharedVelocityTexture()}dispose(){this._scene.userData.velocityTexture===this.velocityPass.renderTarget.texture&&(delete this._scene.userData.velocityTexture,delete this._scene.userData.lastVelocityTexture),this.renderTarget.dispose(),this.accumulatedTexture.dispose(),this.fullscreenMaterial.dispose(),this.velocityPass.dispose()}setSize(e,t){this.renderTarget.setSize(e,t),this.velocityPass.setSize(e*this.velocityResolutionScale,t*this.velocityResolutionScale),this.velocityPass.renderTarget.texture.minFilter=1===this.velocityResolutionScale?pe:be,this.velocityPass.renderTarget.texture.magFilter=1===this.velocityResolutionScale?pe:be,this.velocityPass.renderTarget.texture.needsUpdate=!0,this.fullscreenMaterial.uniforms.invTexSize.value.set(1/e,1/t),this.setupFramebuffers(e,t)}setupFramebuffers(e,t){this.accumulatedTexture&&this.accumulatedTexture.dispose(),this.lastVelocityTexture&&this.lastVelocityTexture.dispose(),this.accumulatedTexture=new Fc(e,t,ze),this.accumulatedTexture.minFilter=be,this.accumulatedTexture.magFilter=be,this.accumulatedTexture.type=De,this.lastVelocityTexture=new Fc(e*this.velocityResolutionScale,t*this.velocityResolutionScale,ze),this.lastVelocityTexture.minFilter=1===this.velocityResolutionScale?pe:be,this.lastVelocityTexture.magFilter=1===this.velocityResolutionScale?pe:be,this.lastVelocityTexture.type=De,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.accumulatedTexture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0}checkCanUseSharedVelocityTexture(){return this._scene.userData.velocityTexture&&this.velocityPass.renderTarget.texture!==this._scene.userData.velocityTexture?this.velocityPass.renderTarget.texture===this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this._scene.userData.lastVelocityTexture,this.fullscreenMaterial.uniforms.velocityTexture.value=this._scene.userData.velocityTexture,this.fullscreenMaterial.needsUpdate=!0):this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.velocityTexture.value=this.velocityPass.renderTarget.texture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0,this._scene.userData.velocityTexture||(this._scene.userData.velocityTexture=this.velocityPass.renderTarget.texture,this._scene.userData.lastVelocityTexture=this.lastVelocityTexture)),this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value}checkNeedsResample(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),t=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));(e>1e-6||t>1e-6)&&(this.samples=1,this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion))}render(e){this.samples++,this.checkNeedsResample(),this.fullscreenMaterial.uniforms.samples.value=this.samples,e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera),e.copyFramebufferToTexture(ux,this.accumulatedTexture),e.setRenderTarget(this.velocityPass.renderTarget),e.copyFramebufferToTexture(ux,this.lastVelocityTexture)}}const hx=function(e,t){let n=1,r=0;for(;e>0;)n/=t,r+=n*(e%t),e=~~(e/t);return r};function fx(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const px="#define GLSLIFY 1\n#define MODE_DEFAULT 0\n#define MODE_REFLECTIONS 1\n#define MODE_RAW_REFLECTION 2\n#define MODE_BLURRED_REFLECTIONS 3\n#define MODE_INPUT 4\n#define MODE_BLUR_MIX 5\n#define FLOAT_EPSILON 0.00001\nuniform sampler2D inputTexture;uniform sampler2D reflectionsTexture;uniform float samples;\n#include <boxBlur>\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 reflectionsTexel=texture2D(reflectionsTexture,vUv);ivec2 size=textureSize(reflectionsTexture,0);vec2 invTexSize=1./vec2(size.x,size.y);vec3 reflectionClr=reflectionsTexel.xyz;if(blur>FLOAT_EPSILON){vec3 blurredReflectionsColor=denoise(reflectionsTexel.rgb,reflectionsTexture,vUv,invTexSize,blur,blurSharpness,blurKernel);reflectionClr=mix(reflectionClr,blurredReflectionsColor.rgb,blur);}\n#if RENDER_MODE == MODE_DEFAULT\noutputColor=vec4(inputColor.rgb+reflectionClr,1.0);\n#endif\n#if RENDER_MODE == MODE_REFLECTIONS\noutputColor=vec4(reflectionClr,1.0);\n#endif\n#if RENDER_MODE == MODE_RAW_REFLECTION\noutputColor=vec4(reflectionsTexel.xyz,1.0);\n#endif\n#if RENDER_MODE == MODE_BLURRED_REFLECTIONS\noutputColor=vec4(blurredReflectionsTexel.xyz,1.0);\n#endif\n#if RENDER_MODE == MODE_INPUT\noutputColor=vec4(inputColor.xyz,1.0);\n#endif\n#if RENDER_MODE == MODE_BLUR_MIX\noutputColor=vec4(vec3(blur),1.0);\n#endif\n}".replace("#include <helperFunctions>",Zb).replace("#include <boxBlur>","#define GLSLIFY 1\nuniform float blur;uniform float blurSharpness;uniform int blurKernel;vec3 denoise(vec3 center,sampler2D tex,vec2 uv,vec2 invTexSize,float blur,float blurSharpness,int blurKernel){vec3 color;float total;vec3 col;float weight;for(int x=-blurKernel;x<=blurKernel;x++){for(int y=-blurKernel;y<=blurKernel;y++){col=textureLod(tex,uv+vec2(x,y)*invTexSize,0.).rgb;weight=1.0-abs(dot(col-center,vec3(0.25)));weight=pow(weight,blurSharpness);color+=col*weight;total+=weight;}}return color/total;}"),mx=["blur","blurSharpness","blurKernel"],gx=new zo(1);let vx;class yx extends hy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rx;super("SSREffect",px,{type:"FinalSSRMaterial",uniforms:new Map([["reflectionsTexture",new uf(null)],["blur",new uf(0)],["blurSharpness",new uf(0)],["blurKernel",new uf(0)]]),defines:new Map([["RENDER_MODE","0"]])}),this.haltonSequence=(e=>{const t=[];let n=1;const r=n+e;for(;n<r;n++)t.push([hx(n,2)-.5,hx(n,3)-.5]);return t})(1024),this.haltonIndex=0,this.selection=new cy,this.lastSize=void 0,this.cubeCamera=new Io(.001,1e3,gx),this.usingBoxProjectedEnvMap=!1,this._scene=e,this._camera=t;n=Kb({},rx,n,{boxBlur:!0,dilation:!0}),this.temporalResolvePass=new dx(e,t,"#define GLSLIFY 1\n#define INV_EULER 0.36787944117144233\nalpha=velocityDisocclusion<FLOAT_EPSILON ?(alpha+0.0075): 0.0;alpha=clamp(alpha,0.0,1.0);bool needsBlur=!didReproject||velocityDisocclusion>0.5;\n#ifdef boxBlur\nif(needsBlur)inputColor=boxBlurredColor;\n#endif\nif(alpha==1.0){outputColor=accumulatedColor;}else{float m=mix(alpha,1.0,blend);if(needsBlur)m=0.0;outputColor=accumulatedColor*m+inputColor*(1.0-m);}",n),this.uniforms.get("reflectionsTexture").value=this.temporalResolvePass.renderTarget.texture,this.reflectionsPass=new nx(this,n),this.temporalResolvePass.fullscreenMaterial.uniforms.inputTexture.value=this.reflectionsPass.renderTarget.texture,this.lastSize={width:n.width,height:n.height,resolutionScale:n.resolutionScale,velocityResolutionScale:n.velocityResolutionScale},this.setSize(n.width,n.height),this.makeOptionsReactive(n)}makeOptionsReactive(e){let t=!1;const n=this.reflectionsPass.fullscreenMaterial.uniforms,r=Object.keys(n);for(const i of Object.keys(e))Object.defineProperty(this,i,{get:()=>e[i],set(o){if(e[i]!==o||!t)switch(e[i]=o,mx.includes(i)||this.setSize(this.lastSize.width,this.lastSize.height,!0),i){case"resolutionScale":this.setSize(this.lastSize.width,this.lastSize.height);break;case"velocityResolutionScale":this.temporalResolvePass.velocityResolutionScale=o,this.setSize(this.lastSize.width,this.lastSize.height,!0);break;case"blur":this.uniforms.get("blur").value=o;break;case"blurSharpness":this.uniforms.get("blurSharpness").value=o;break;case"blurKernel":this.uniforms.get("blurKernel").value=o;break;case"steps":this.reflectionsPass.fullscreenMaterial.defines.steps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=t;break;case"refineSteps":this.reflectionsPass.fullscreenMaterial.defines.refineSteps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=t;break;case"missedRays":o?this.reflectionsPass.fullscreenMaterial.defines.missedRays="":delete this.reflectionsPass.fullscreenMaterial.defines.missedRays,this.reflectionsPass.fullscreenMaterial.needsUpdate=t;break;case"correctionRadius":this.temporalResolvePass.fullscreenMaterial.defines.correctionRadius=Math.round(o),this.temporalResolvePass.fullscreenMaterial.needsUpdate=t;break;case"blend":this.temporalResolvePass.fullscreenMaterial.uniforms.blend.value=o;break;case"correction":this.temporalResolvePass.fullscreenMaterial.uniforms.correction.value=o;break;case"exponent":this.temporalResolvePass.fullscreenMaterial.uniforms.exponent.value=o;break;case"distance":n.rayDistance.value=o;default:r.includes(i)&&(n[i].value=o)}}}),this[i]=e[i];t=!0}setSize(e,t){(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||e!==this.lastSize.width||t!==this.lastSize.height||this.resolutionScale!==this.lastSize.resolutionScale||this.velocityResolutionScale!==this.lastSize.velocityResolutionScale)&&(this.temporalResolvePass.setSize(e,t),this.reflectionsPass.setSize(e,t),this.lastSize={width:e,height:t,resolutionScale:this.resolutionScale,velocityResolutionScale:this.velocityResolutionScale})}generateBoxProjectedEnvMapFallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ur,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:512;this.cubeCamera.renderTarget.dispose(),this.cubeCamera.renderTarget=new zo(r),this.cubeCamera.position.copy(t),this.cubeCamera.updateMatrixWorld(),this.cubeCamera.update(e,this._scene),vx||(vx=new fa(e),vx.compileCubemapShader());const i=vx.fromCubemap(this.cubeCamera.renderTarget.texture).texture;i.minFilter=be,i.magFilter=be;const o=this.reflectionsPass.fullscreenMaterial;return function(e,t,n){e.defines.BOX_PROJECTED_ENV_MAP="",e.uniforms.envMapPosition={value:t},e.uniforms.envMapSize={value:n};const r=new RegExp(fx("vec3 worldNormal = inverseTransformDirection ( normal , viewMatrix ) ;").replaceAll(" ","\\s*"),"g"),i=new RegExp(fx("reflectVec = inverseTransformDirection ( reflectVec , viewMatrix ) ;").replaceAll(" ","\\s*"),"g");e.vertexShader="varying vec3 vWorldPosition;\n"+e.vertexShader.replace("#include <worldpos_vertex>","\n#if defined( USE_ENVMAP ) || defined(  ) || defined ( USE_SHADOWMAP )\n    vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\n    #ifdef BOX_PROJECTED_ENV_MAP\n        vWorldPosition = worldPosition.xyz;\n    #endif\n#endif\n"),e.fragmentShader="\n#ifdef BOX_PROJECTED_ENV_MAP\n    uniform vec3 envMapSize;\n    uniform vec3 envMapPosition;\n    varying vec3 vWorldPosition;\n    \n    vec3 parallaxCorrectNormal( vec3 v, vec3 cubeSize, vec3 cubePos ) {\n        vec3 nDir = normalize( v );\n\n        vec3 rbmax = ( .5 * cubeSize + cubePos - vWorldPosition ) / nDir;\n        vec3 rbmin = ( -.5 * cubeSize + cubePos - vWorldPosition ) / nDir;\n\n        vec3 rbminmax;\n\n        rbminmax.x = ( nDir.x > 0. ) ? rbmax.x : rbmin.x;\n        rbminmax.y = ( nDir.y > 0. ) ? rbmax.y : rbmin.y;\n        rbminmax.z = ( nDir.z > 0. ) ? rbmax.z : rbmin.z;\n\n        float correction = min( min( rbminmax.x, rbminmax.y ), rbminmax.z );\n        vec3 boxIntersection = vWorldPosition + nDir * correction;\n        \n        return boxIntersection - cubePos;\n    }\n#endif\n\n"+e.fragmentShader.replace("#include <envmap_physical_pars_fragment>",Xo.envmap_physical_pars_fragment).replace(r,"vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n                \n#ifdef BOX_PROJECTED_ENV_MAP\n    worldNormal = parallaxCorrectNormal( worldNormal, envMapSize, envMapPosition );\n#endif\n").replace(i,"reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n                \n#ifdef BOX_PROJECTED_ENV_MAP\n    reflectVec = parallaxCorrectNormal( reflectVec, envMapSize, envMapPosition );\n#endif\n")}(o,t,n),o.fragmentShader=o.fragmentShader.replace("vec3 worldPos","worldPos").replace("varying vec3 vWorldPosition;","vec3 worldPos;"),o.uniforms.envMapPosition.value.copy(t),o.uniforms.envMapSize.value.copy(n),tx(o,i,r),this.usingBoxProjectedEnvMap=!0,i}setIBLRadiance(e,t){this._scene.traverse((n=>{if(n.material){var r;const i=null==(r=t.properties.get(n.material))?void 0:r.uniforms;i&&"disableIBLRadiance"in i&&(i.disableIBLRadiance.value=e)}}))}deleteBoxProjectedEnvMapFallback(){const e=this.reflectionsPass.fullscreenMaterial;e.uniforms.envMap.value=null,e.fragmentShader=e.fragmentShader.replace("worldPos = ","vec3 worldPos = "),delete e.defines.BOX_PROJECTED_ENV_MAP,e.needsUpdate=!0,this.usingBoxProjectedEnvMap=!1}dispose(){super.dispose(),this.reflectionsPass.dispose(),this.temporalResolvePass.dispose()}update(e,t){if(!this.usingBoxProjectedEnvMap&&this._scene.environment){const t=this.reflectionsPass.fullscreenMaterial;let n=null;if(this._scene.traverse((t=>{if(!n&&t.material&&!t.material.envMap){const r=e.properties.get(t.material);"envMap"in r&&r.envMap instanceof tr&&(n=r.envMap)}})),n){const e=this._scene.environment.image.height;tx(t,n,e)}}this.haltonIndex=(this.haltonIndex+1)%this.haltonSequence.length;const[n,r]=this.haltonSequence[this.haltonIndex],{width:i,height:o}=this.lastSize;this.temporalResolvePass.velocityPass.render(e),this._camera.setViewOffset&&this._camera.setViewOffset(i,o,n,r,i,o),this.reflectionsPass.render(e,t),this.temporalResolvePass.render(e),this._camera.clearViewOffset()}static patchDirectEnvIntensity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Xo.envmap_physical_pars_fragment=0===e?Xo.envmap_physical_pars_fragment.replace("vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {","vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) { return vec3(0.0);"):Xo.envmap_physical_pars_fragment.replace("vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );","vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness ) * "+e.toFixed(5)+";")}}var bx=Object.defineProperty,xx=(e,t,n)=>(((e,t,n)=>{t in e?bx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);class wx{constructor(e){xx(this,"camera",new ra(-1,1,1,-1,0,1)),xx(this,"geometry",new Yo(2,2)),xx(this,"mesh"),this.mesh=new Eo(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const Sx=(0,t.createContext)(null);function Ex(e){let{children:n,enabled:r=!0}=e;const[i,o]=(0,t.useState)([]),a=(0,t.useMemo)((()=>({selected:i,select:o,enabled:r})),[i,o,r]);return(0,Pg.jsx)(Sx.Provider,{value:a,children:n})}function Mx(e){let{enabled:n=!1,children:r,...i}=e;const o=(0,t.useRef)(null),a=(0,t.useContext)(Sx);return(0,t.useEffect)((()=>{if(a&&n){let e=!1;const t=[];if(o.current.traverse((n=>{"Mesh"===n.type&&t.push(n),-1===a.selected.indexOf(n)&&(e=!0)})),e)return a.select((e=>[...e,...t])),()=>{a.select((e=>e.filter((e=>!t.includes(e)))))}}}),[n,r,a]),(0,Pg.jsx)("group",{ref:o,...i,children:r})}const Cx=(0,t.createContext)(null),_x=t.memo((0,t.forwardRef)(((e,n)=>{let{children:r,camera:i,scene:o,resolutionScale:a,enabled:s=!0,renderPriority:l=1,autoClear:c=!0,depthBuffer:u,disableNormalPass:d,stencilBuffer:h,multisampling:f=8,frameBufferType:p=De}=e;const{gl:m,scene:g,camera:v,size:y}=_m(),b=o||g,x=i||v,[w,S,E]=(0,t.useMemo)((()=>{const e=Vy(),t=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,{depthBuffer:t=!0,stencilBuffer:n=!1,multisampling:r=0,frameBufferType:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.renderer=null,this.inputBuffer=this.createBuffer(t,n,i,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new zv,this.depthTexture=null,this.passes=[],this.timer=new class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(e){"undefined"!==typeof document&&void 0!==document.hidden&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=e)}get delta(){return this._delta*sy}get fixedDelta(){return this._fixedDelta*sy}set fixedDelta(e){this._fixedDelta=1e3*e}get elapsed(){return this._elapsed*sy}update(e){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(void 0!==e?e:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(e){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,n=this.multisampling;n>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,null!==e){const t=e.getSize(new zn),n=e.getContext().getContextAttributes().alpha,r=this.inputBuffer.texture.type;r===Me&&Bg(e)===Ig&&(Ug(this.inputBuffer.texture,Ig),Ug(this.outputBuffer.texture,Ig),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const i of this.passes)i.initialize(e,n,r)}}replaceRenderer(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.renderer,r=n.domElement.parentNode;return this.setRenderer(e),t&&null!==r&&(r.removeChild(n.domElement),r.appendChild(e.domElement)),n}createDepthTexture(){const e=this.depthTexture=new bl;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Ue,e.type=Ie):e.type=Pe,e}deleteDepthTexture(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,n,r){const i=this.renderer,o=null===i?new zn:i.getDrawingBufferSize(new zn),a={minFilter:be,magFilter:be,stencilBuffer:t,depthBuffer:e,type:n},s=new rr(o.width,o.height,a);return r>0&&(s.ignoreDepthForMultisampleCopy=!1,s.samples=r),n===Me&&Bg(i)===Ig&&Ug(s.texture,Ig),s.texture.name="EffectComposer.Buffer",s.texture.generateMipmaps=!1,s}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const n=this.passes,r=this.renderer,i=r.getDrawingBufferSize(new zn),o=r.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(r),e.setSize(i.width,i.height),e.initialize(r,o,a),this.autoRenderToScreen&&(n.length>0&&(n[n.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==t?n.splice(t,0,e):n.push(e),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),e.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){const t=this.createDepthTexture();for(e of n)e.setDepthTexture(t)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,n=t.indexOf(e);if(-1!==n&&t.splice(n,1).length>0){if(null!==this.depthTexture){const n=(e,t)=>e||t.needsDepthTexture;t.reduce(n,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,n=this.copyPass;let r,i,o,a=this.inputBuffer,s=this.outputBuffer,l=!1;void 0===e&&(this.timer.update(),e=this.timer.delta);for(const c of this.passes)c.enabled&&(c.render(t,a,s,e,l),c.needsSwap&&(l&&(n.renderToScreen=c.renderToScreen,r=t.getContext(),i=t.state.buffers.stencil,i.setFunc(r.NOTEQUAL,1,4294967295),n.render(t,a,s,e,l),i.setFunc(r.EQUAL,1,4294967295)),o=a,a=s,s=o),c instanceof ny?l=!0:c instanceof Nv&&(l=!1))}setSize(e,t,n){const r=this.renderer,i=r.getSize(new zn);void 0!==e&&void 0!==t||(e=i.width,t=i.height),i.width===e&&i.height===t||r.setSize(e,t,n);const o=r.getDrawingBufferSize(new zn);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}}(m,{depthBuffer:u,stencilBuffer:h,multisampling:f>0&&e?f:0,frameBufferType:p});t.addPass(new Wv(b,x));let n=null,r=null;return d||(r=new iy(b,x),r.enabled=!1,t.addPass(r),void 0!==a&&e&&(n=new Xv({normalBuffer:r.texture,resolutionScale:a}),n.enabled=!1,t.addPass(n))),[t,r,n]}),[x,m,u,h,f,p,b,d,a]);(0,t.useEffect)((()=>null==w?void 0:w.setSize(y.width,y.height)),[w,y]),Tm(((e,t)=>{if(s){const e=m.autoClear;m.autoClear=c,h&&!c&&m.clearStencil(),w.render(t),m.autoClear=e}}),s?l:0);const M=(0,t.useRef)(null),C=function(e){const n=t.useRef(null);return Bp((()=>{n.current=e.current.__r3f}),[e]),n}(M);(0,t.useLayoutEffect)((()=>{const e=[];if(M.current&&C.current&&w){const t=C.current.objects;for(let n=0;n<t.length;n++){const r=t[n];if(r instanceof hy){const r=[];for(;t[n]instanceof hy;)r.push(t[n++]);n--;const i=new $v(x,...r);e.push(i)}else r instanceof Lv&&e.push(r)}for(const n of e)null==w||w.addPass(n);S&&(S.enabled=!0),E&&(E.enabled=!0)}return()=>{for(const t of e)null==w||w.removePass(t);S&&(S.enabled=!1),E&&(E.enabled=!1)}}),[w,r,x,S,E,C]);const _=(0,t.useMemo)((()=>({composer:w,normalPass:S,downSamplingPass:E,resolutionScale:a,camera:x,scene:b})),[w,S,E,a,x,b]);return(0,t.useImperativeHandle)(n,(()=>w),[w]),(0,Pg.jsx)(Cx.Provider,{value:_,children:(0,Pg.jsx)("group",{ref:M,children:r})})}))),Tx=e=>"object"===typeof e&&null!=e&&"current"in e?e.current:e;let Ax=0;const Px=new WeakMap,Ox=(e,n)=>t.forwardRef((function(r,i){let{blendFunction:o=(null==n?void 0:n.blendFunction),opacity:a=(null==n?void 0:n.opacity),...s}=r,l=Px.get(e);if(!l){const t=`@react-three/postprocessing/${e.name}-${Ax++}`;Ip({[t]:e}),Px.set(e,l=t)}const c=_m((e=>e.camera)),u=t.useMemo((()=>{var e,t;return[...null!=(e=null==n?void 0:n.args)?e:[],...null!=(t=s.args)?t:[{...n,...s}]]}),[JSON.stringify(s)]);return(0,Pg.jsx)(l,{camera:c,"blendMode-blendFunction":o,"blendMode-opacity-value":a,...s,ref:i,args:u})})),Dx=(e,n)=>{const r=e[n];return t.useMemo((()=>"number"===typeof r?new zn(r,r):r?new zn(...r):new zn),[r])},Rx=(0,t.forwardRef)((function(e,n){let{target:r,depthTexture:i,...o}=e;const a=_m((e=>e.invalidate)),{camera:s}=(0,t.useContext)(Cx),l=(0,t.useMemo)((()=>{const e=new gy(s,o);return e.maskPass.getFullscreenMaterial().maskFunction=uv,e}),[s,o]);return(0,t.useLayoutEffect)((()=>{if(r&&"number"!==typeof r){const e=r instanceof ur?(new ur).set(r.x,r.y,r.z):(new ur).set(r[0],r[1],r[2]);l.target=e}i&&l.setDepthTexture(i.texture,i.packing),a()}),[r,i,l]),(0,Pg.jsx)("primitive",{ref:n,object:l,dispose:null})})),kx=((0,t.forwardRef)(((e,n)=>{let{target:r,mouse:i=!1,debug:o,manual:a=!1,smoothTime:s=.25,...l}=e;const c=(0,t.useRef)(null),u=(0,t.useRef)(null),d=(0,t.useRef)(null),h=_m((e=>{let{scene:t}=e;return t})),f=_m((e=>{let{pointer:t}=e;return t})),{composer:p,camera:m}=(0,t.useContext)(Cx),[g]=(0,t.useState)((()=>new Kv)),[v]=(0,t.useState)((()=>new zv));(0,t.useEffect)((()=>(p.addPass(g),p.addPass(v),()=>{p.removePass(g),p.removePass(v)})),[p,g,v]),(0,t.useEffect)((()=>()=>{g.dispose(),v.dispose()}),[g,v]);const[y]=(0,t.useState)((()=>new ur(0,0,0))),[b]=(0,t.useState)((()=>new ur(0,0,0))),x=(0,t.useCallback)((async(e,t)=>{b.x=e,b.y=t,b.z=await g.readDepth(b),b.z=2*b.z-1;return!!(1-b.z>1e-7)&&b.unproject(m)}),[b,g,m]),w=(0,t.useCallback)((async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n;if(r)y.set(...r);else{const{x:e,y:t}=i?f:{x:0,y:0},n=await x(e,t);n&&y.copy(n)}t&&(null==(n=c.current)?void 0:n.target)&&(s>0&&e>0?qb.damp3(c.current.target,y,s,e):c.current.target.copy(y))}),[r,y,i,x,s,f]);Tm((async(e,t)=>{var n;a||w(t),u.current&&u.current.position.copy(y),d.current&&(null==(n=c.current)?void 0:n.target)&&d.current.position.copy(c.current.target)}));const S=(0,t.useMemo)((()=>({dofRef:c,hitpoint:y,update:w})),[y,w]);return(0,t.useImperativeHandle)(n,(()=>S),[S]),(0,Pg.jsxs)(Pg.Fragment,{children:[o?Um((0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsxs)("mesh",{ref:u,children:[(0,Pg.jsx)("sphereGeometry",{args:[o,16,16]}),(0,Pg.jsx)("meshBasicMaterial",{color:"#00ff00",opacity:1,transparent:!0,depthWrite:!1})]}),(0,Pg.jsxs)("mesh",{ref:d,children:[(0,Pg.jsx)("sphereGeometry",{args:[o/2,16,16]}),(0,Pg.jsx)("meshBasicMaterial",{color:"#00ff00",opacity:.5,transparent:!0,depthWrite:!1})]})]}),h):null,(0,Pg.jsx)(Rx,{ref:c,...l,target:y})]})})),Ox(fy,{blendFunction:Wg.ADD}),Ox(class extends hy{constructor(){let{blendFunction:e=Wg.SRC,brightness:t=0,contrast:n=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("BrightnessContrastEffect","uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(color+vec3(0.5),inputColor.a);}",{blendFunction:e,uniforms:new Map([["brightness",new uf(t)],["contrast",new uf(n)]])}),this.inputColorSpace=Ig}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(){return this.contrast}setContrast(e){this.contrast=e}}),(0,t.forwardRef)((function(e,n){const r=Dx(e,"offset"),i=(0,t.useMemo)((()=>new my({...e,offset:r})),[r,e]);return(0,Pg.jsx)("primitive",{ref:n,object:i,dispose:null})})),(0,t.forwardRef)((function(e,n){let{blendFunction:r=Wg.NORMAL}=e;const i=(0,t.useMemo)((()=>new py(r)),[r]);return(0,Pg.jsx)("primitive",{ref:n,object:i,dispose:null})})),Ox(class extends hy{constructor(){let{blendFunction:e,bits:t=16}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("ColorDepthEffect","uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}",{blendFunction:e,uniforms:new Map([["factor",new uf(1)]])}),this.bits=0,this.bitDepth=t}get bitDepth(){return this.bits}set bitDepth(e){this.bits=e,this.uniforms.get("factor").value=Math.pow(2,e/3)}getBitDepth(){return this.bitDepth}setBitDepth(e){this.bitDepth=e}}),Ox(class extends hy{constructor(){let{blendFunction:e=Wg.SRC,inverted:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("DepthEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){\n#ifdef INVERTED\nvec3 color=vec3(1.0-depth);\n#else\nvec3 color=vec3(depth);\n#endif\noutputColor=vec4(color,inputColor.a);}",{blendFunction:e,attributes:ev.DEPTH}),this.inverted=t}get inverted(){return this.defines.has("INVERTED")}set inverted(e){this.inverted!==e&&(e?this.defines.set("INVERTED","1"):this.defines.delete("INVERTED"),this.setChanged())}isInverted(){return this.inverted}setInverted(e){this.inverted=e}}),Ox(class extends hy{constructor(){let{blendFunction:e,angle:t=.5*Math.PI,scale:n=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("DotScreenEffect","uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}",{blendFunction:e,uniforms:new Map([["angle",new uf(new zn)],["scale",new uf(n)]])}),this.angle=t}get angle(){return Math.acos(this.uniforms.get("angle").value.y)}set angle(e){this.uniforms.get("angle").value.set(Math.sin(e),Math.cos(e))}getAngle(){return this.angle}setAngle(e){this.angle=e}get scale(){return this.uniforms.get("scale").value}set scale(e){this.uniforms.get("scale").value=e}}),(0,t.forwardRef)((function(e,n){let{active:r=!0,...i}=e;const o=_m((e=>e.invalidate)),a=Dx(i,"delay"),s=Dx(i,"duration"),l=Dx(i,"strength"),c=Dx(i,"chromaticAberrationOffset"),u=(0,t.useMemo)((()=>new xy({...i,delay:a,duration:s,strength:l,chromaticAberrationOffset:c})),[a,s,i,l,c]);return(0,t.useLayoutEffect)((()=>{u.mode=r?i.mode||rv:nv,o()}),[r,u,o,i.mode]),(0,t.useEffect)((()=>()=>{u.dispose()}),[u]),(0,Pg.jsx)("primitive",{ref:n,object:u,dispose:null})})),(0,t.forwardRef)((function(e,n){const{camera:r}=(0,t.useContext)(Cx),i=(0,t.useMemo)((()=>new Ey(r,Tx(e.sun),e)),[r,e]);return(0,t.useLayoutEffect)((()=>{i.lightSource=Tx(e.sun)}),[i,e.sun]),(0,Pg.jsx)("primitive",{ref:n,object:i,dispose:null})})),(0,t.forwardRef)((function(e,n){let{size:r,...i}=e;const o=_m((e=>e.invalidate)),a=(0,t.useMemo)((()=>new My(i)),[i]);return(0,t.useLayoutEffect)((()=>{r&&a.setSize(r.width,r.height),o()}),[a,r]),(0,Pg.jsx)("primitive",{ref:n,object:a,dispose:null})})),Ox(class extends hy{constructor(){let{blendFunction:e=Wg.SRC,hue:t=0,saturation:n=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("HueSaturationEffect","uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",{blendFunction:e,uniforms:new Map([["hue",new uf(new ur)],["saturation",new uf(n)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){const e=this.uniforms.get("hue").value;return Math.acos((3*e.x-1)/2)}set hue(e){const t=Math.sin(e),n=Math.cos(e);this.uniforms.get("hue").value.set((2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}}),Ox(class extends hy{constructor(){let{blendFunction:e=Wg.SCREEN,premultiply:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("NoiseEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\n#ifdef PREMULTIPLY\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\n#else\noutputColor=vec4(noise,inputColor.a);\n#endif\n}",{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}},{blendFunction:Wg.COLOR_DODGE}),(0,t.forwardRef)((function(e,n){let{selection:r=[],selectionLayer:i=10,blendFunction:o,patternTexture:a,edgeStrength:s,pulseSpeed:l,visibleEdgeColor:c,hiddenEdgeColor:u,width:d,height:h,kernelSize:f,blur:p,xRay:m,...g}=e;const v=_m((e=>e.invalidate)),{scene:y,camera:b}=(0,t.useContext)(Cx),x=(0,t.useMemo)((()=>new Ry(y,b,{blendFunction:o,patternTexture:a,edgeStrength:s,pulseSpeed:l,visibleEdgeColor:c,hiddenEdgeColor:u,width:d,height:h,kernelSize:f,blur:p,xRay:m,...g})),[o,p,b,s,h,u,f,a,l,y,c,d,m]),w=(0,t.useContext)(Sx);return(0,t.useEffect)((()=>{if(!w&&r)return x.selection.set(Array.isArray(r)?r.map(Tx):[Tx(r)]),v(),()=>{x.selection.clear(),v()}}),[x,r,w,v]),(0,t.useEffect)((()=>{x.selectionLayer=i,v()}),[x,v,i]),(0,t.useRef)(),(0,t.useEffect)((()=>{var e;if(w&&w.enabled&&(null==(e=w.selected)?void 0:e.length))return x.selection.set(w.selected),v(),()=>{x.selection.clear(),v()}}),[w,x.selection,v]),(0,Pg.jsx)("primitive",{ref:n,object:x})}))),Ix=((0,t.forwardRef)((function(e,n){let{granularity:r=5}=e;const i=(0,t.useMemo)((()=>new ky(r)),[r]);return(0,Pg.jsx)("primitive",{ref:n,object:i,dispose:null})})),Ox(class extends hy{constructor(){let{blendFunction:e=Wg.OVERLAY,density:t=1.25,scrollSpeed:n=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("ScanlineEffect","uniform float count;\n#ifdef SCROLL\nuniform float scrollSpeed;\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float y=uv.y;\n#ifdef SCROLL\ny+=time*scrollSpeed;\n#endif\nvec2 sl=vec2(sin(y*count),cos(y*count));outputColor=vec4(sl.xyx,inputColor.a);}",{blendFunction:e,uniforms:new Map([["count",new uf(0)],["scrollSpeed",new uf(0)]])}),this.resolution=new zn,this.d=t,this.scrollSpeed=n}get density(){return this.d}set density(e){this.d=e,this.setSize(this.resolution.width,this.resolution.height)}getDensity(){return this.density}setDensity(e){this.density=e}get scrollSpeed(){return this.uniforms.get("scrollSpeed").value}set scrollSpeed(e){this.uniforms.get("scrollSpeed").value=e,0===e?this.defines.delete("SCROLL")&&this.setChanged():this.defines.has("SCROLL")||(this.defines.set("SCROLL","1"),this.setChanged())}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("count").value=Math.round(t*this.density)}},{blendFunction:Wg.OVERLAY,density:1.25}),(0,t.forwardRef)((function(e,n){let{selection:r=[],selectionLayer:i=10,lights:o=[],luminanceThreshold:a,luminanceSmoothing:s,intensity:l,width:c,height:u,kernelSize:d,mipmapBlur:h,...f}=e;0===o.length&&console.warn("SelectiveBloom requires lights to work.");const p=_m((e=>e.invalidate)),{scene:m,camera:g}=(0,t.useContext)(Cx),v=(0,t.useMemo)((()=>new Fy(m,g,{blendFunction:Wg.ADD,luminanceThreshold:a,luminanceSmoothing:s,intensity:l,width:c,height:u,kernelSize:d,mipmapBlur:h,...f})),[m,g,a,s,l,c,u,d,h,f]),y=(0,t.useContext)(Sx);return(0,t.useEffect)((()=>{if(!y&&r)return v.selection.set(Array.isArray(r)?r.map(Tx):[Tx(r)]),p(),()=>{v.selection.clear(),p()}}),[v,r,y,p]),(0,t.useEffect)((()=>{v.selection.layer=i,p()}),[v,p,i]),(0,t.useEffect)((()=>{if(o&&o.length>0)return o.forEach((e=>((e,t)=>e.layers.enable(t.selection.layer))(Tx(e),v))),p(),()=>{o.forEach((e=>((e,t)=>e.layers.disable(t.selection.layer))(Tx(e),v))),p()}}),[v,p,o,i]),(0,t.useEffect)((()=>{var e;if(y&&y.enabled&&(null==(e=y.selected)?void 0:e.length))return v.selection.set(y.selected),p(),()=>{v.selection.clear(),p()}}),[y,v.selection,p]),(0,Pg.jsx)("primitive",{ref:n,object:v,dispose:null})})),Ox(class extends hy{constructor(){let{blendFunction:e,intensity:t=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("SepiaEffect","uniform vec3 weightsR;uniform vec3 weightsG;uniform vec3 weightsB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,weightsR),dot(inputColor.rgb,weightsG),dot(inputColor.rgb,weightsB));outputColor=vec4(color,inputColor.a);}",{blendFunction:e,uniforms:new Map([["weightsR",new uf(new ur(.393,.769,.189))],["weightsG",new uf(new ur(.349,.686,.168))],["weightsB",new uf(new ur(.272,.534,.131))]])})}get intensity(){return this.blendMode.opacity.value}set intensity(e){this.blendMode.opacity.value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}get weightsR(){return this.uniforms.get("weightsR").value}get weightsG(){return this.uniforms.get("weightsG").value}get weightsB(){return this.uniforms.get("weightsB").value}}),(0,t.forwardRef)((function(e,n){const{camera:r,normalPass:i,downSamplingPass:o,resolutionScale:a}=(0,t.useContext)(Cx),s=(0,t.useMemo)((()=>null===i&&null===o?(console.error("Please enable the NormalPass in the EffectComposer in order to use SSAO."),{}):new Uy(r,i&&!o?i.texture:null,{blendFunction:Wg.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,bias:.5,intensity:1,color:void 0,normalDepthBuffer:o?o.texture:null,resolutionScale:null!=a?a:1,depthAwareUpsampling:!0,...e})),[r,i,e]);return(0,Pg.jsx)("primitive",{ref:n,object:s,dispose:null})})),Ox(class extends hy{constructor(){let e,t,{blendFunction:n=Wg.SRC,preset:r=hv.MEDIUM,edgeDetectionMode:i=$g.COLOR,predicationMode:o=dv.DISABLED}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("SMAAEffect","uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",{vertexShader:"varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",blendFunction:n,attributes:ev.CONVOLUTION|ev.DEPTH,uniforms:new Map([["weightMap",new uf(null)]])}),arguments.length>1&&(e=arguments[0],t=arguments[1],arguments.length>2&&(r=arguments[2]),arguments.length>3&&(i=arguments[3])),this.renderTargetEdges=new rr(1,1,{depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new Uv(!0,!1,!1),this.clearPass.overrideClearColor=new Oi(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new oy(new Ev),this.edgeDetectionMaterial.edgeDetectionMode=i,this.edgeDetectionMaterial.predicationMode=o,this.weightsPass=new oy(new Pv);const a=new Hd;a.onLoad=()=>{const n=new tr(e);n.name="SMAA.Search",n.magFilter=pe,n.minFilter=pe,n.generateMipmaps=!1,n.needsUpdate=!0,n.flipY=!0,this.weightsMaterial.searchTexture=n;const r=new tr(t);r.name="SMAA.Area",r.magFilter=be,r.minFilter=be,r.generateMipmaps=!1,r.needsUpdate=!0,r.flipY=!1,this.weightsMaterial.areaTexture=r,this.dispatchEvent({type:"load"})},a.itemStart("search"),a.itemStart("area"),void 0!==e&&void 0!==t?(a.itemEnd("search"),a.itemEnd("area")):"undefined"!==typeof Image&&(e=new Image,t=new Image,e.addEventListener("load",(()=>a.itemEnd("search"))),t.addEventListener("load",(()=>a.itemEnd("area"))),e.src=Ny,t.src=By),this.applyPreset(r)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){const t=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(e){case hv.LOW:t.edgeDetectionThreshold=.15,n.orthogonalSearchSteps=4,n.diagonalDetection=!1,n.cornerDetection=!1;break;case hv.MEDIUM:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=8,n.diagonalDetection=!1,n.cornerDetection=!1;break;case hv.HIGH:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=16,n.diagonalSearchSteps=8,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break;case hv.ULTRA:t.edgeDetectionThreshold=.05,n.orthogonalSearchSteps=32,n.diagonalSearchSteps=16,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0}}setDepthTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,n){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){const{searchTexture:e,areaTexture:t}=this.weightsMaterial;null!==e&&null!==t&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return Ny}static get areaImageDataURL(){return By}}),Ox(class extends hy{constructor(){let{blendFunction:e=Wg.SRC}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("FXAAEffect","#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#define QUALITY(q) ((q) < 5 ? 1.0 : ((q) > 5 ? ((q) < 10 ? 2.0 : ((q) < 11 ? 4.0 : 8.0)) : 1.5))\n#define ONE_OVER_TWELVE 0.08333333333333333\nvarying vec2 vUvDown;varying vec2 vUvUp;varying vec2 vUvLeft;varying vec2 vUvRight;varying vec2 vUvDownLeft;varying vec2 vUvUpRight;varying vec2 vUvUpLeft;varying vec2 vUvDownRight;vec4 fxaa(const in vec4 inputColor,const in vec2 uv){float lumaCenter=luminance(inputColor.rgb);float lumaDown=luminance(texture2D(inputBuffer,vUvDown).rgb);float lumaUp=luminance(texture2D(inputBuffer,vUvUp).rgb);float lumaLeft=luminance(texture2D(inputBuffer,vUvLeft).rgb);float lumaRight=luminance(texture2D(inputBuffer,vUvRight).rgb);float lumaMin=min(lumaCenter,min(min(lumaDown,lumaUp),min(lumaLeft,lumaRight)));float lumaMax=max(lumaCenter,max(max(lumaDown,lumaUp),max(lumaLeft,lumaRight)));float lumaRange=lumaMax-lumaMin;if(lumaRange<max(EDGE_THRESHOLD_MIN,lumaMax*EDGE_THRESHOLD_MAX)){return inputColor;}float lumaDownLeft=luminance(texture2D(inputBuffer,vUvDownLeft).rgb);float lumaUpRight=luminance(texture2D(inputBuffer,vUvUpRight).rgb);float lumaUpLeft=luminance(texture2D(inputBuffer,vUvUpLeft).rgb);float lumaDownRight=luminance(texture2D(inputBuffer,vUvDownRight).rgb);float lumaDownUp=lumaDown+lumaUp;float lumaLeftRight=lumaLeft+lumaRight;float lumaLeftCorners=lumaDownLeft+lumaUpLeft;float lumaDownCorners=lumaDownLeft+lumaDownRight;float lumaRightCorners=lumaDownRight+lumaUpRight;float lumaUpCorners=lumaUpRight+lumaUpLeft;float edgeHorizontal=(abs(-2.0*lumaLeft+lumaLeftCorners)+abs(-2.0*lumaCenter+lumaDownUp)*2.0+abs(-2.0*lumaRight+lumaRightCorners));float edgeVertical=(abs(-2.0*lumaUp+lumaUpCorners)+abs(-2.0*lumaCenter+lumaLeftRight)*2.0+abs(-2.0*lumaDown+lumaDownCorners));bool isHorizontal=(edgeHorizontal>=edgeVertical);float stepLength=isHorizontal?texelSize.y:texelSize.x;float luma1=isHorizontal?lumaDown:lumaLeft;float luma2=isHorizontal?lumaUp:lumaRight;float gradient1=abs(luma1-lumaCenter);float gradient2=abs(luma2-lumaCenter);bool is1Steepest=gradient1>=gradient2;float gradientScaled=0.25*max(gradient1,gradient2);float lumaLocalAverage=0.0;if(is1Steepest){stepLength=-stepLength;lumaLocalAverage=0.5*(luma1+lumaCenter);}else{lumaLocalAverage=0.5*(luma2+lumaCenter);}vec2 currentUv=uv;if(isHorizontal){currentUv.y+=stepLength*0.5;}else{currentUv.x+=stepLength*0.5;}vec2 offset=isHorizontal?vec2(texelSize.x,0.0):vec2(0.0,texelSize.y);vec2 uv1=currentUv-offset*QUALITY(0);vec2 uv2=currentUv+offset*QUALITY(0);float lumaEnd1=luminance(texture2D(inputBuffer,uv1).rgb);float lumaEnd2=luminance(texture2D(inputBuffer,uv2).rgb);lumaEnd1-=lumaLocalAverage;lumaEnd2-=lumaLocalAverage;bool reached1=abs(lumaEnd1)>=gradientScaled;bool reached2=abs(lumaEnd2)>=gradientScaled;bool reachedBoth=reached1&&reached2;if(!reached1){uv1-=offset*QUALITY(1);}if(!reached2){uv2+=offset*QUALITY(1);}if(!reachedBoth){for(int i=2;i<SAMPLES;++i){if(!reached1){lumaEnd1=luminance(texture2D(inputBuffer,uv1).rgb);lumaEnd1=lumaEnd1-lumaLocalAverage;}if(!reached2){lumaEnd2=luminance(texture2D(inputBuffer,uv2).rgb);lumaEnd2=lumaEnd2-lumaLocalAverage;}reached1=abs(lumaEnd1)>=gradientScaled;reached2=abs(lumaEnd2)>=gradientScaled;reachedBoth=reached1&&reached2;if(!reached1){uv1-=offset*QUALITY(i);}if(!reached2){uv2+=offset*QUALITY(i);}if(reachedBoth){break;}}}float distance1=isHorizontal?(uv.x-uv1.x):(uv.y-uv1.y);float distance2=isHorizontal?(uv2.x-uv.x):(uv2.y-uv.y);bool isDirection1=distance1<distance2;float distanceFinal=min(distance1,distance2);float edgeThickness=(distance1+distance2);bool isLumaCenterSmaller=lumaCenter<lumaLocalAverage;bool correctVariation1=(lumaEnd1<0.0)!=isLumaCenterSmaller;bool correctVariation2=(lumaEnd2<0.0)!=isLumaCenterSmaller;bool correctVariation=isDirection1?correctVariation1:correctVariation2;float pixelOffset=-distanceFinal/edgeThickness+0.5;float finalOffset=correctVariation?pixelOffset:0.0;float lumaAverage=ONE_OVER_TWELVE*(2.0*(lumaDownUp+lumaLeftRight)+lumaLeftCorners+lumaRightCorners);float subPixelOffset1=clamp(abs(lumaAverage-lumaCenter)/lumaRange,0.0,1.0);float subPixelOffset2=(-2.0*subPixelOffset1+3.0)*subPixelOffset1*subPixelOffset1;float subPixelOffsetFinal=subPixelOffset2*subPixelOffset2*SUBPIXEL_QUALITY;finalOffset=max(finalOffset,subPixelOffsetFinal);vec2 finalUv=uv;if(isHorizontal){finalUv.y+=finalOffset*stepLength;}else{finalUv.x+=finalOffset*stepLength;}return texture2D(inputBuffer,finalUv);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=fxaa(inputColor,uv);}",{vertexShader:"varying vec2 vUvDown;varying vec2 vUvUp;varying vec2 vUvLeft;varying vec2 vUvRight;varying vec2 vUvDownLeft;varying vec2 vUvUpRight;varying vec2 vUvUpLeft;varying vec2 vUvDownRight;void mainSupport(const in vec2 uv){vUvDown=uv+vec2(0.0,-1.0)*texelSize;vUvUp=uv+vec2(0.0,1.0)*texelSize;vUvRight=uv+vec2(1.0,0.0)*texelSize;vUvLeft=uv+vec2(-1.0,0.0)*texelSize;vUvDownLeft=uv+vec2(-1.0,-1.0)*texelSize;vUvUpRight=uv+vec2(1.0,1.0)*texelSize;vUvUpLeft=uv+vec2(-1.0,1.0)*texelSize;vUvDownRight=uv+vec2(1.0,-1.0)*texelSize;}",blendFunction:e,defines:new Map([["EDGE_THRESHOLD_MIN","0.0312"],["EDGE_THRESHOLD_MAX","0.125"],["SUBPIXEL_QUALITY","0.75"],["SAMPLES","12"]])})}get minEdgeThreshold(){return Number(this.defines.get("EDGE_THRESHOLD_MIN"))}set minEdgeThreshold(e){this.defines.set("EDGE_THRESHOLD_MIN",e.toFixed(12)),this.setChanged()}get maxEdgeThreshold(){return Number(this.defines.get("EDGE_THRESHOLD_MAX"))}set maxEdgeThreshold(e){this.defines.set("EDGE_THRESHOLD_MAX",e.toFixed(12)),this.setChanged()}get subpixelQuality(){return Number(this.defines.get("SUBPIXEL_QUALITY"))}set subpixelQuality(e){this.defines.set("SUBPIXEL_QUALITY",e.toFixed(12)),this.setChanged()}get samples(){return Number(this.defines.get("SAMPLES"))}set samples(e){this.defines.set("SAMPLES",e.toFixed(0)),this.setChanged()}}),(0,t.forwardRef)((function(e,n){let{textureSrc:r,texture:i,...o}=e;const a=Pm($d,r);(0,t.useLayoutEffect)((()=>{a.encoding=Ft,a.wrapS=a.wrapT=de}),[a]);const s=(0,t.useMemo)((()=>new jy({...o,texture:a||i})),[o,a,i]);return(0,Pg.jsx)("primitive",{ref:n,object:s,dispose:null})})),Ox(class extends hy{constructor(){let{blendFunction:e=Wg.SRC,adaptive:t=!0,mode:n=(t?fv.REINHARD2_ADAPTIVE:fv.REINHARD2),resolution:r=256,maxLuminance:i=16,whitePoint:o=i,middleGrey:a=.6,minLuminance:s=.01,averageLuminance:l=1,adaptationRate:c=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("ToneMappingEffect","#include <tonemapping_pars_fragment>\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\nuniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;\n#if TONE_MAPPING_MODE != 2\nuniform float averageLuminance;\n#endif\nvec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=luminance(color);\n#if TONE_MAPPING_MODE == 2\nfloat lumAvg=unpackRGBAToFloat(texture2D(luminanceBuffer,vec2(0.5)));\n#else\nfloat lumAvg=averageLuminance;\n#endif\nfloat lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){\n#if TONE_MAPPING_MODE == 1 || TONE_MAPPING_MODE == 2\noutputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);\n#else\noutputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);\n#endif\n}",{blendFunction:e,uniforms:new Map([["luminanceBuffer",new uf(null)],["maxLuminance",new uf(i)],["whitePoint",new uf(o)],["middleGrey",new uf(a)],["averageLuminance",new uf(l)]])}),this.renderTargetLuminance=new rr(1,1,{minFilter:Se,depthBuffer:!1}),this.renderTargetLuminance.texture.generateMipmaps=!0,this.renderTargetLuminance.texture.name="Luminance",this.luminancePass=new ty({renderTarget:this.renderTargetLuminance}),this.adaptiveLuminancePass=new Fv(this.luminancePass.texture,{minLuminance:s,adaptationRate:c}),this.uniforms.get("luminanceBuffer").value=this.adaptiveLuminancePass.texture,this.resolution=r,this.mode=n}get mode(){return Number(this.defines.get("TONE_MAPPING_MODE"))}set mode(e){if(this.mode!==e){switch(this.defines.clear(),this.defines.set("TONE_MAPPING_MODE",e.toFixed(0)),e){case fv.REINHARD:this.defines.set("toneMapping(texel)","ReinhardToneMapping(texel)");break;case fv.OPTIMIZED_CINEON:this.defines.set("toneMapping(texel)","OptimizedCineonToneMapping(texel)");break;case fv.ACES_FILMIC:this.defines.set("toneMapping(texel)","ACESFilmicToneMapping(texel)");break;default:this.defines.set("toneMapping(texel)","texel")}this.adaptiveLuminancePass.enabled=e===fv.REINHARD2_ADAPTIVE,this.setChanged()}}getMode(){return this.mode}setMode(e){this.mode=e}get whitePoint(){return this.uniforms.get("whitePoint").value}set whitePoint(e){this.uniforms.get("whitePoint").value=e}get middleGrey(){return this.uniforms.get("middleGrey").value}set middleGrey(e){this.uniforms.get("middleGrey").value=e}get averageLuminance(){return this.uniforms.get("averageLuminance").value}set averageLuminance(e){this.uniforms.get("averageLuminance").value=e}get adaptiveLuminanceMaterial(){return this.adaptiveLuminancePass.fullscreenMaterial}getAdaptiveLuminanceMaterial(){return this.adaptiveLuminanceMaterial}get resolution(){return this.luminancePass.resolution.width}set resolution(e){const t=Math.max(0,Math.ceil(Math.log2(e))),n=Math.pow(2,t);this.luminancePass.resolution.setPreferredSize(n,n),this.adaptiveLuminanceMaterial.mipLevel1x1=t}getResolution(){return this.resolution}setResolution(e){this.resolution=e}get adaptive(){return this.mode===fv.REINHARD2_ADAPTIVE}set adaptive(e){this.mode=e?fv.REINHARD2_ADAPTIVE:fv.REINHARD2}get adaptationRate(){return this.adaptiveLuminanceMaterial.adaptationRate}set adaptationRate(e){this.adaptiveLuminanceMaterial.adaptationRate=e}get distinction(){return console.warn(this.name,"distinction was removed."),1}set distinction(e){console.warn(this.name,"distinction was removed.")}update(e,t,n){this.adaptiveLuminancePass.enabled&&(this.luminancePass.render(e,t),this.adaptiveLuminancePass.render(e,null,null,n))}initialize(e,t,n){this.adaptiveLuminancePass.initialize(e,t,n)}}),Ox(class extends hy{constructor(){let{blendFunction:e,technique:t=pv.DEFAULT,eskil:n=!1,offset:r=.5,darkness:i=.5}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("VignetteEffect","uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;\n#if VIGNETTE_TECHNIQUE == 0\nfloat d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));\n#else\nvec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));\n#endif\noutputColor=vec4(color,inputColor.a);}",{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new uf(r)],["darkness",new uf(i)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return this.technique===pv.ESKIL}set eskil(e){this.technique=e?pv.ESKIL:pv.DEFAULT}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}}),Ox(class extends hy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur,{speed:n=2,maxRadius:r=1,waveSize:i=.2,amplitude:o=.05}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super("ShockWaveEffect","uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}",{vertexShader:"uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}",uniforms:new Map([["active",new uf(!1)],["center",new uf(new zn(.5,.5))],["cameraDistance",new uf(1)],["size",new uf(1)],["radius",new uf(-i)],["maxRadius",new uf(r)],["waveSize",new uf(i)],["amplitude",new uf(o)]])}),this.position=t,this.speed=n,this.camera=e,this.screenPosition=this.uniforms.get("center").value,this.time=0,this.active=!1}set mainCamera(e){this.camera=e}get amplitude(){return this.uniforms.get("amplitude").value}set amplitude(e){this.uniforms.get("amplitude").value=e}get waveSize(){return this.uniforms.get("waveSize").value}set waveSize(e){this.uniforms.get("waveSize").value=e}get maxRadius(){return this.uniforms.get("maxRadius").value}set maxRadius(e){this.uniforms.get("maxRadius").value=e}get epicenter(){return this.position}set epicenter(e){this.position=e}getPosition(){return this.position}setPosition(e){this.position=e}getSpeed(){return this.speed}setSpeed(e){this.speed=e}explode(){this.time=0,this.active=!0,this.uniforms.get("active").value=!0}update(e,t,n){const r=this.position,i=this.camera,o=this.uniforms,a=o.get("active");if(this.active){const e=o.get("waveSize").value;i.getWorldDirection(Ly),zy.copy(i.position).sub(r),a.value=Ly.angleTo(zy)>Iy,a.value&&(o.get("cameraDistance").value=i.position.distanceTo(r),Ly.copy(r).project(i),this.screenPosition.set(.5*(Ly.x+1),.5*(Ly.y+1))),this.time+=n*this.speed;const t=this.time-e;o.get("radius").value=t,t>=2*(o.get("maxRadius").value+e)&&(this.active=!1,a.value=!1)}}}),(0,t.forwardRef)((function(e,n){let{lut:r,tetrahedralInterpolation:i,...o}=e;const a=(0,t.useMemo)((()=>new Dy(r,o)),[r,o]),s=_m((e=>e.invalidate));return(0,t.useLayoutEffect)((()=>{i&&(a.tetrahedralInterpolation=i),r&&(a.lut=r),s()}),[a,s,r,i]),(0,Pg.jsx)("primitive",{ref:n,object:a,dispose:null})})),Ox(class extends hy{constructor(){let{blendFunction:e,offset:t=0,rotation:n=0,focusArea:r=.4,feather:i=.3,kernelSize:o=av.MEDIUM,resolutionScale:a=.5,resolutionX:s=Hv.AUTO_SIZE,resolutionY:l=Hv.AUTO_SIZE}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("TiltShiftEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform vec2 maskParams;varying vec2 vUv2;float linearGradientMask(const in float x){return step(maskParams.x,x)-step(maskParams.y,x);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float mask=linearGradientMask(vUv2.y);vec4 texel=texture2D(map,uv);outputColor=mix(texel,inputColor,mask);}",{vertexShader:"uniform vec2 rotation;varying vec2 vUv2;void mainSupport(const in vec2 uv){vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));}",blendFunction:e,uniforms:new Map([["rotation",new uf(new zn)],["maskParams",new uf(new zn)],["map",new uf(null)]])}),this._offset=t,this._focusArea=r,this._feather=i,this.renderTarget=new rr(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="TiltShift.Target",this.uniforms.get("map").value=this.renderTarget.texture,this.blurPass=new ay({kernelSize:o,resolutionScale:a,resolutionX:s,resolutionY:l,offset:t,rotation:n,focusArea:r,feather:i});const c=this.resolution=new Hv(this,s,l,a);c.addEventListener("change",(e=>this.setSize(c.baseWidth,c.baseHeight))),this.rotation=n,this.updateParams()}updateParams(){const e=this.uniforms.get("maskParams").value,t=Math.max(this.focusArea-this.feather,0);e.set(this.offset-t,this.offset+t)}get rotation(){return Math.acos(this.uniforms.get("rotation").value.x)}set rotation(e){this.uniforms.get("rotation").value.set(Math.cos(e),Math.sin(e)),this.blurPass.blurMaterial.rotation=e}get offset(){return this._offset}set offset(e){this._offset=e,this.blurPass.blurMaterial.offset=e,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(e){this._focusArea=e,this.blurPass.blurMaterial.focusArea=e,this.updateParams()}get feather(){return this._feather}set feather(e){this._feather=e,this.blurPass.blurMaterial.feather=e,this.updateParams()}get bias(){return 0}set bias(e){}update(e,t,n){this.blurPass.render(e,t,this.renderTarget)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n)}initialize(e,t,n){this.blurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,Bg(e)===Ig&&Ug(this.renderTarget.texture,Ig))}},{blendFunction:Wg.ADD}),{fragmentShader:"\n\n    // original shader by Evan Wallace\n\n    #define MAX_ITERATIONS 100\n\n    uniform float blur;\n    uniform float taper;\n    uniform vec2 start;\n    uniform vec2 end;\n    uniform vec2 direction;\n    uniform int samples;\n\n    float random(vec3 scale, float seed) {\n        /* use the fragment position for a different seed per-pixel */\n        return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n    }\n\n    void mainImage(const in vec4 inputColor, const in vec2 uv, out vec4 outputColor) {\n        vec4 color = vec4(0.0);\n        float total = 0.0;\n        vec2 startPixel = vec2(start.x * resolution.x, start.y * resolution.y);\n        vec2 endPixel = vec2(end.x * resolution.x, end.y * resolution.y);\n        float f_samples = float(samples);\n        float half_samples = f_samples / 2.0;\n\n        // use screen diagonal to normalize blur radii\n        float maxScreenDistance = distance(vec2(0.0), resolution); // diagonal distance\n        float gradientRadius = taper * (maxScreenDistance);\n        float blurRadius = blur * (maxScreenDistance / 16.0);\n\n        /* randomize the lookup values to hide the fixed number of samples */\n        float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n        vec2 normal = normalize(vec2(startPixel.y - endPixel.y, endPixel.x - startPixel.x));\n        float radius = smoothstep(0.0, 1.0, abs(dot(uv * resolution - startPixel, normal)) / gradientRadius) * blurRadius;\n\n        #pragma unroll_loop_start\n        for (int i = 0; i <= MAX_ITERATIONS; i++) {\n            if (i >= samples) { break; } // return early if over sample count\n            float f_i = float(i);\n            float s_i = -half_samples + f_i;\n            float percent = (s_i + offset - 0.5) / half_samples;\n            float weight = 1.0 - abs(percent);\n            vec4 sample_i = texture2D(inputBuffer, uv + normalize(direction) / resolution * percent * radius);\n            /* switch to pre-multiplied alpha to correctly blur transparent images */\n            sample_i.rgb *= sample_i.a;\n            color += sample_i * weight;\n            total += weight;\n        }\n        #pragma unroll_loop_end\n\n        outputColor = color / total;\n\n        /* switch back from pre-multiplied alpha */\n        outputColor.rgb /= outputColor.a + 0.00001;\n    }\n    "});Ox(class extends hy{constructor(){let{blendFunction:e=Wg.NORMAL,blur:t=.15,taper:n=.5,start:r=[.5,0],end:i=[.5,1],samples:o=10,direction:a=[1,1]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("TiltShiftEffect",Ix.fragmentShader,{blendFunction:e,attributes:ev.CONVOLUTION,uniforms:new Map([["blur",new uf(t)],["taper",new uf(n)],["start",new uf(r)],["end",new uf(i)],["samples",new uf(o)],["direction",new uf(a)]])})}},{blendFunction:Wg.NORMAL});class Lx extends hy{constructor(){let{characters:e=" .:,'-^=*+?!|0#X%WM@",fontSize:t=54,cellSize:n=16,color:r="#ffffff",invert:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("ASCIIEffect","\nuniform sampler2D uCharacters;\nuniform float uCharactersCount;\nuniform float uCellSize;\nuniform bool uInvert;\nuniform vec3 uColor;\n\nconst vec2 SIZE = vec2(16.);\n\nvec3 greyscale(vec3 color, float strength) {\n    float g = dot(color, vec3(0.299, 0.587, 0.114));\n    return mix(color, vec3(g), strength);\n}\n\nvec3 greyscale(vec3 color) {\n    return greyscale(color, 1.0);\n}\n\nvoid mainImage(const in vec4 inputColor, const in vec2 uv, out vec4 outputColor) {\n    vec2 cell = resolution / uCellSize;\n    vec2 grid = 1.0 / cell;\n    vec2 pixelizedUV = grid * (0.5 + floor(uv / grid));\n    vec4 pixelized = texture2D(inputBuffer, pixelizedUV);\n    float greyscaled = greyscale(pixelized.rgb).r;\n\n    if (uInvert) {\n        greyscaled = 1.0 - greyscaled;\n    }\n\n    float characterIndex = floor((uCharactersCount - 1.0) * greyscaled);\n    vec2 characterPosition = vec2(mod(characterIndex, SIZE.x), floor(characterIndex / SIZE.y));\n    vec2 offset = vec2(characterPosition.x, -characterPosition.y) / SIZE;\n    vec2 charUV = mod(uv * (cell / SIZE), 1.0 / SIZE) - vec2(0., 1.0 / SIZE) + offset;\n    vec4 asciiCharacter = texture2D(uCharacters, charUV);\n\n    asciiCharacter.rgb = uColor * asciiCharacter.r;\n    asciiCharacter.a = pixelized.a;\n    outputColor = asciiCharacter;\n}\n",{uniforms:new Map([["uCharacters",new uf(new tr)],["uCellSize",new uf(n)],["uCharactersCount",new uf(e.length)],["uColor",new uf(new Oi(r))],["uInvert",new uf(i)]])});const o=this.uniforms.get("uCharacters");o&&(o.value=this.createCharactersTexture(e,t))}createCharactersTexture(e,t){const n=document.createElement("canvas"),r=1024;n.width=n.height=r;const i=new Uc(n,void 0,de,de,pe,pe),o=n.getContext("2d");if(!o)throw new Error("Context not available");o.clearRect(0,0,r,r),o.font=`${t}px arial`,o.textAlign="center",o.textBaseline="middle",o.fillStyle="#fff";for(let a=0;a<e.length;a++){const t=e[a],n=a%16,r=Math.floor(a/16);o.fillText(t,64*n+32,64*r+32)}return i.needsUpdate=!0,i}}(0,t.forwardRef)(((e,n)=>{let{characters:r=" .:,'-^=*+?!|0#X%WM@",fontSize:i=54,cellSize:o=16,color:a="#ffffff",invert:s=!1}=e;const l=(0,t.useMemo)((()=>new Lx({characters:r,fontSize:i,cellSize:o,color:a,invert:s})),[r,i,o,a,s]);return(0,Pg.jsx)("primitive",{ref:n,object:l})})),(0,t.forwardRef)((function(e,n){let{ENABLE_BLUR:r=!0,USE_MRT:i=!0,...o}=e;const{invalidate:a}=_m(),{scene:s,camera:l}=(0,t.useContext)(Cx),c=(0,t.useMemo)((()=>new yx(s,l,{ENABLE_BLUR:r,USE_MRT:i,...o})),[s,l,r,i,o]),u=(0,t.useContext)(Sx);return(0,t.useEffect)((()=>{var e;if(u&&u.enabled&&(null==(e=u.selected)?void 0:e.length))return c.selection.set(u.selected),a(),()=>{c.selection.clear(),a()}}),[u]),(0,Pg.jsx)("primitive",{ref:n,object:c,...o})}));const zx={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},projMat:{value:new Ur},viewMat:{value:new Ur},projViewMat:{value:new Ur},projectionMatrixInv:{value:new Ur},viewMatrixInv:{value:new Ur},cameraPos:{value:new ur},resolution:{value:new zn},time:{value:0},samples:{value:[]},samplesR:{value:[]},bluenoise:{value:null},distanceFalloff:{value:1},radius:{value:5},near:{value:.1},far:{value:1e3},logDepth:{value:!1},ortho:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\n    #define SAMPLES 16\n    #define FSAMPLES 16.0\nuniform sampler2D sceneDiffuse;\nuniform highp sampler2D sceneDepth;\nuniform mat4 projectionMatrixInv;\nuniform mat4 viewMatrixInv;\nuniform mat4 projMat;\nuniform mat4 viewMat;\nuniform mat4 projViewMat;\nuniform vec3 cameraPos;\nuniform vec2 resolution;\nuniform float time;\nuniform vec3[SAMPLES] samples;\nuniform float[SAMPLES] samplesR;\nuniform float radius;\nuniform float distanceFalloff;\nuniform float near;\nuniform float far;\nuniform bool logDepth;\nuniform bool ortho;\nuniform bool screenSpaceRadius;\nuniform sampler2D bluenoise;\n    varying vec2 vUv;\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        return (zFar * zNear) / (zFar - d * (zFar - zNear));\n    }\n    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n      return nearZ + (farZ - nearZ) * d;\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      return ortho ? linearize_depth_ortho(\n        linDepth,\n        nearZ,\n        farZ\n      ) :linearize_depth(linDepth, nearZ, farZ);\n    }\n\n    vec3 getWorldPosLog(vec3 posS) {\n      vec2 uv = posS.xy;\n      float z = posS.z;\n      float nearZ =near;\n      float farZ = far;\n      float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n      vec4 wpos = viewMatrixInv * projectionMatrixInv * clipVec;\n      return wpos.xyz / wpos.w;\n    }\n    vec3 getWorldPos(float depth, vec2 coord) {\n      #ifdef LOGDEPTH\n        return getWorldPosLog(vec3(coord, depth));\n      #endif\n      float z = depth * 2.0 - 1.0;\n      vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n      vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n      // Perspective division\n     vec4 worldSpacePosition = viewMatrixInv * viewSpacePosition;\n     worldSpacePosition.xyz /= worldSpacePosition.w;\n      return worldSpacePosition.xyz;\n  }\n\n  vec3 computeNormal(vec3 worldPos, vec2 vUv) {\n    ivec2 p = ivec2(vUv * resolution);\n    float c0 = texelFetch(sceneDepth, p, 0).x;\n    float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;\n    float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;\n    float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;\n    float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;\n    float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;\n    float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;\n    float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;\n    float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;\n\n    float dl = abs((2.0 * l1 - l2) - c0);\n    float dr = abs((2.0 * r1 - r2) - c0);\n    float db = abs((2.0 * b1 - b2) - c0);\n    float dt = abs((2.0 * t1 - t2) - c0);\n\n    vec3 ce = getWorldPos(c0, vUv).xyz;\n\n    vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz\n                          : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;\n    vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz\n                          : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;\n\n    return normalize(cross(dpdx, dpdy));\n}\n\nvoid main() {\n      vec4 diffuse = texture2D(sceneDiffuse, vUv);\n      float depth = texture2D(sceneDepth, vUv).x;\n      if (depth == 1.0) {\n        gl_FragColor = vec4(vec3(1.0), 1.0);\n        return;\n      }\n      vec3 worldPos = getWorldPos(depth, vUv);\n      vec3 normal = computeNormal(worldPos, vUv);\n      vec4 noise = texture2D(bluenoise, vUv * (resolution / vec2(128.0)));\n      vec3 randomVec = normalize(noise.rgb * 2.0 - 1.0);\n      vec3 tangent = normalize(randomVec - normal * dot(randomVec, normal));\n      vec3 bitangent = cross(normal, tangent);\n      mat3 tbn = mat3(tangent, bitangent, normal);\n      float occluded = 0.0;\n      float totalWeight = 0.0;\n     /* float radiusScreen = distance(\n        worldPos,\n        getWorldPos(depth, vUv + \n          vec2(48.0, 0.0) / resolution)\n      );/*vUv.x < 0.5 ? radius : min(distance(\n        worldPos,\n        getWorldPos(depth, vUv + \n          vec2(100.0, 0.0) / resolution)\n      ), radius);\n      float distanceFalloffScreen = radiusScreen * 0.2;*/\n      float radiusToUse = screenSpaceRadius ? distance(\n        worldPos,\n        getWorldPos(depth, vUv +\n          vec2(radius, 0.0) / resolution)\n      ) : radius;\n      float distanceFalloffToUse =screenSpaceRadius ?\n          radiusToUse * distanceFalloff\n      : distanceFalloff;\n      float bias = (0.1 / near) * fwidth(distance(worldPos, cameraPos)) / radiusToUse;\n      for(float i = 0.0; i < FSAMPLES; i++) {\n        vec3 sampleDirection = \n        tbn * \n        samples[int(i)];\n        ;\n        float moveAmt = samplesR[int(mod(i + noise.a * FSAMPLES, FSAMPLES))];\n        vec3 samplePos = worldPos + radiusToUse * moveAmt * sampleDirection;\n        vec4 offset = projViewMat * vec4(samplePos, 1.0);\n        offset.xyz /= offset.w;\n        offset.xyz = offset.xyz * 0.5 + 0.5;\n        float sampleDepth = textureLod(sceneDepth, offset.xy, 0.0).x;\n        /*float distSample = logDepth ? linearize_depth_log(sampleDepth, near, far) \n         (ortho ?  linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far));*/\n        #ifdef LOGDEPTH\n        float distSample = linearize_depth_log(sampleDepth, near, far);\n        #else\n        float distSample = ortho ? linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far);\n        #endif\n        float distWorld = ortho ? linearize_depth_ortho(offset.z, near, far) : linearize_depth(offset.z, near, far);\n        float rangeCheck = smoothstep(0.0, 1.0, distanceFalloffToUse / (abs(distSample - distWorld)));\n        vec2 diff = gl_FragCoord.xy - ( offset.xy * resolution);\n        float weight = dot(sampleDirection, normal);\n          occluded += rangeCheck * weight * \n            (distSample + bias\n               < distWorld ? 1.0 : 0.0) * (\n          (dot(\n            diff,\n            diff\n             \n            ) < 1.0 || (sampleDepth == depth) || (\n              offset.x < 0.0 || offset.x > 1.0 || offset.y < 0.0 || offset.y > 1.0\n            ) ? 0.0 : 1.0)\n          );\n          totalWeight += weight;\n      }\n      float occ = clamp(1.0 - occluded / totalWeight, 0.0, 1.0);\n      gl_FragColor = vec4(0.5 + 0.5 * normal, occ);\n}"},Fx={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new Ur},viewMat:{value:new Ur},projectionMatrixInv:{value:new Ur},viewMatrixInv:{value:new Ur},cameraPos:{value:new ur},resolution:{value:new zn},color:{value:new ur(0,0,0)},blueNoise:{value:null},time:{value:0},intensity:{value:10},renderMode:{value:0},gammaCorrection:{value:!1}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t}",fragmentShader:"\n\t\tuniform sampler2D sceneDiffuse;\n    uniform sampler2D sceneDepth;\n    uniform sampler2D tDiffuse;\n    uniform sampler2D blueNoise;\n    uniform vec2 resolution;\n    uniform vec3 color;\n    uniform float intensity;\n    uniform float renderMode;\n    uniform bool gammaCorrection;\n    varying vec2 vUv;\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        highp float z_n = 2.0 * d - 1.0;\n        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));\n    }\n    #include <common>\n    #include <dithering_pars_fragment>\n    void main() {\n        vec4 texel = texture2D(tDiffuse, vUv);//vec3(0.0);\n        vec4 sceneTexel = texture2D(sceneDiffuse, vUv);\n        float finalAo = pow(texel.a, intensity);\n        if (renderMode == 0.0) {\n            gl_FragColor = vec4( mix(sceneTexel.rgb, color, 1.0 - finalAo), sceneTexel.a);\n        } else if (renderMode == 1.0) {\n            gl_FragColor = vec4( mix(vec3(1.0), color, 1.0 - finalAo), sceneTexel.a);\n        } else if (renderMode == 2.0) {\n            gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n        } else if (renderMode == 3.0) {\n            if (vUv.x < 0.5) {\n                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {\n                gl_FragColor = vec4(1.0);\n            } else {\n                gl_FragColor = vec4( mix(sceneTexel.rgb, color, 1.0 - finalAo), sceneTexel.a);\n            }\n        } else if (renderMode == 4.0) {\n            if (vUv.x < 0.5) {\n                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {\n                gl_FragColor = vec4(1.0);\n            } else {\n                gl_FragColor = vec4( mix(vec3(1.0), color, 1.0 - finalAo), sceneTexel.a);\n            }\n        }\n        #include <dithering_fragment>\n        if (gammaCorrection) {\n            gl_FragColor = LinearTosRGB(gl_FragColor);\n        }\n    }\n    "},Nx={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new Ur},viewMat:{value:new Ur},projectionMatrixInv:{value:new Ur},viewMatrixInv:{value:new Ur},cameraPos:{value:new ur},resolution:{value:new zn},time:{value:0},r:{value:5},blueNoise:{value:null},radius:{value:12},worldRadius:{value:5},index:{value:0},poissonDisk:{value:[]},distanceFalloff:{value:1},near:{value:.1},far:{value:1e3},logDepth:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t}",fragmentShader:"\n\t\tuniform sampler2D sceneDiffuse;\n    uniform highp sampler2D sceneDepth;\n    uniform sampler2D tDiffuse;\n    uniform sampler2D blueNoise;\n    uniform mat4 projectionMatrixInv;\n    uniform mat4 viewMatrixInv;\n    uniform vec2 resolution;\n    uniform float r;\n    uniform float radius;\n     uniform float worldRadius;\n    uniform float index;\n     uniform float near;\n     uniform float far;\n     uniform float distanceFalloff;\n     uniform bool logDepth;\n     uniform bool screenSpaceRadius;\n    varying vec2 vUv;\n\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        highp float z_n = 2.0 * d - 1.0;\n        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n     float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n     float a = farZ / (farZ - nearZ);\n     float b = farZ * nearZ / (nearZ - farZ);\n     float linDepth = a + b / depth;\n     return linearize_depth(linDepth, nearZ, farZ);\n   }\n   highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n     return nearZ + (farZ - nearZ) * d;\n   }\n   vec3 getWorldPosLog(vec3 posS) {\n     vec2 uv = posS.xy;\n     float z = posS.z;\n     float nearZ =near;\n     float farZ = far;\n     float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n     float a = farZ / (farZ - nearZ);\n     float b = farZ * nearZ / (nearZ - farZ);\n     float linDepth = a + b / depth;\n     vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n     vec4 wpos = viewMatrixInv * projectionMatrixInv * clipVec;\n     return wpos.xyz / wpos.w;\n   }\n    vec3 getWorldPos(float depth, vec2 coord) {\n     #ifdef LOGDEPTH\n          return getWorldPosLog(vec3(coord, depth));\n     #endif\n        \n        float z = depth * 2.0 - 1.0;\n        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n        // Perspective division\n       vec4 worldSpacePosition = viewMatrixInv * viewSpacePosition;\n       worldSpacePosition.xyz /= worldSpacePosition.w;\n        return worldSpacePosition.xyz;\n    }\n    #include <common>\n    #define NUM_SAMPLES 16\n    uniform vec2 poissonDisk[NUM_SAMPLES];\n    void main() {\n        const float pi = 3.14159;\n        vec2 texelSize = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n        vec2 uv = vUv;\n        vec4 data = texture2D(tDiffuse, vUv);\n        float occlusion = data.a;\n        float baseOcc = data.a;\n        vec3 normal = data.rgb * 2.0 - 1.0;\n        float count = 1.0;\n        float d = texture2D(sceneDepth, vUv).x;\n        vec3 worldPos = getWorldPos(d, vUv);\n        float size = radius;\n        float angle;\n        if (index == 0.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).x * PI2;\n        } else if (index == 1.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).y * PI2;\n        } else if (index == 2.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).z * PI2;\n        } else {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).w * PI2;\n        }\n\n        mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n        float radiusToUse = screenSpaceRadius ? distance(\n          worldPos,\n          getWorldPos(d, vUv +\n            vec2(worldRadius, 0.0) / resolution)\n        ) : worldRadius;\n        float distanceFalloffToUse =screenSpaceRadius ?\n            radiusToUse * distanceFalloff\n        : distanceFalloff;\n\n\n        for(int i = 0; i < NUM_SAMPLES; i++) {\n            vec2 offset = (rotationMatrix * poissonDisk[i]) * texelSize * size;\n            vec4 dataSample = texture2D(tDiffuse, uv + offset);\n            float occSample = dataSample.a;\n            vec3 normalSample = dataSample.rgb * 2.0 - 1.0;\n            float dSample = texture2D(sceneDepth, uv + offset).x;\n            vec3 worldPosSample = getWorldPos(dSample, uv + offset);\n            float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));\n            float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0) * (1.0 - abs(occSample - baseOcc));\n            occlusion += occSample * rangeCheck;\n            count += rangeCheck;\n        }\n        occlusion /= count;\n        gl_FragColor = vec4(0.5 + 0.5 * normal, occlusion);\n    }\n    "};var Bx="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";const Ux=Uint8Array.from(atob(Bx),(e=>e.charCodeAt(0)));function jx(e,t,n){if(t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE)){const r=t.getQueryParameter(e,t.QUERY_RESULT)/1e6;n.lastTime=r}else setTimeout((()=>{jx(e,t,n)}),1)}class Hx extends Lv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:512;super(),this.width=n,this.height=r,this.clear=!0,this.camera=t,this.scene=e,this.autosetGamma=!0,this.configuration=new Proxy({aoSamples:16,aoRadius:5,denoiseSamples:8,denoiseRadius:12,distanceFalloff:1,intensity:5,denoiseIterations:2,renderMode:0,color:new Oi(0,0,0),gammaCorrection:!0,logarithmicDepthBuffer:!1,screenSpaceRadius:!1},{set:(e,t,n)=>{const r=e[t];return e[t]=n,"aoSamples"===t&&r!==n&&this.configureAOPass(this.configuration.logarithmicDepthBuffer),"denoiseSamples"===t&&r!==n&&this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),"gammaCorrection"===t&&(this.autosetGamma=!1),!0}}),this.samples=[],this.samplesR=[],this.samplesDenoise=[],this.configureSampleDependentPasses(),this.effectCompisterQuad=new wx(new Oo(Fx)),this.copyQuad=new wx(new Oo({uniforms:{tDiffuse:{value:null}},vertexShader:"\n            varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n            }\n            ",fragmentShader:"\n            uniform sampler2D tDiffuse;\n            varying vec2 vUv;\n            void main() {\n                gl_FragColor = texture2D(tDiffuse, vUv);\n            }\n            "})),this.writeTargetInternal=new rr(this.width,this.height,{minFilter:be,magFilter:be,depthBuffer:!1}),this.readTargetInternal=new rr(this.width,this.height,{minFilter:be,magFilter:be,depthBuffer:!1}),this.bluenoise=new oc(Ux,128,128),this.bluenoise.colorSpace=Ht,this.bluenoise.wrapS=de,this.bluenoise.wrapT=de,this.bluenoise.minFilter=pe,this.bluenoise.magFilter=pe,this.bluenoise.needsUpdate=!0,this.lastTime=0,this.needsDepthTexture=!0,this._r=new zn,this._c=new Oi}configureSampleDependentPasses(){this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer)}configureAOPass(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.samples=this.generateHemisphereSamples(this.configuration.aoSamples),this.samplesR=this.generateHemisphereSamplesR(this.configuration.aoSamples);const t={...zx};t.fragmentShader=t.fragmentShader.replace("16",this.configuration.aoSamples).replace("16.0",this.configuration.aoSamples+".0"),e&&(t.fragmentShader="#define LOGDEPTH\n"+t.fragmentShader),this.effectShaderQuad?(this.effectShaderQuad.material.dispose(),this.effectShaderQuad.material=new Oo(t)):this.effectShaderQuad=new wx(new Oo(t))}configureDenoisePass(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.samplesDenoise=this.generateDenoiseSamples(this.configuration.denoiseSamples,11);const t={...Nx};t.fragmentShader=t.fragmentShader.replace("16",this.configuration.denoiseSamples),e&&(t.fragmentShader="#define LOGDEPTH\n"+t.fragmentShader),this.poissonBlurQuad?(this.poissonBlurQuad.material.dispose(),this.poissonBlurQuad.material=new Oo(t)):this.poissonBlurQuad=new wx(new Oo(t))}generateHemisphereSamples(e){const t=[];for(let n=0;n<e;n++){const r=2.399963*n,i=Math.sqrt(n+.5)/Math.sqrt(e),o=i*Math.cos(r),a=i*Math.sin(r),s=Math.sqrt(1-(o*o+a*a));t.push(new ur(o,a,s))}return t}generateHemisphereSamplesR(e){let t=[];for(let n=0;n<e;n++)t.push((n+1)/e);return t}generateDenoiseSamples(e,t){const n=2*Math.PI*t/e,r=1/e,i=r,o=[];let a=r,s=0;for(let l=0;l<e;l++)o.push(new zn(Math.cos(s),Math.sin(s)).multiplyScalar(Math.pow(a,.75))),a+=i,s+=n;return o}setSize(e,t){this.width=e,this.height=t,this.writeTargetInternal.setSize(e,t),this.readTargetInternal.setSize(e,t)}setDepthTexture(e){this.depthTexture=e}render(e,t,n){let r,i,o;e.capabilities.logarithmicDepthBuffer!==this.configuration.logarithmicDepthBuffer&&(this.configuration.logarithmicDepthBuffer=e.capabilities.logarithmicDepthBuffer,this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer)),this.debugMode&&(r=e.getContext(),i=r.getExtension("EXT_disjoint_timer_query_webgl2"),null===i&&(console.error("EXT_disjoint_timer_query_webgl2 not available, disabling debug mode."),this.debugMode=!1)),this.debugMode&&(o=r.createQuery(),r.beginQuery(i.TIME_ELAPSED_EXT,o)),this.camera.updateMatrixWorld(),this.effectShaderQuad.material.uniforms.sceneDiffuse.value=t.texture,this.effectShaderQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.effectShaderQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.effectShaderQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.effectShaderQuad.material.uniforms.projViewMat.value=this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone()),this.effectShaderQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectShaderQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectShaderQuad.material.uniforms.cameraPos.value=this.camera.position,this._r.set(this.width,this.height),this.effectShaderQuad.material.uniforms.resolution.value=this._r,this.effectShaderQuad.material.uniforms.time.value=performance.now()/1e3,this.effectShaderQuad.material.uniforms.samples.value=this.samples,this.effectShaderQuad.material.uniforms.samplesR.value=this.samplesR,this.effectShaderQuad.material.uniforms.bluenoise.value=this.bluenoise,this.effectShaderQuad.material.uniforms.radius.value=this.configuration.aoRadius,this.effectShaderQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectShaderQuad.material.uniforms.near.value=this.camera.near,this.effectShaderQuad.material.uniforms.far.value=this.camera.far,this.effectShaderQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectShaderQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectShaderQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.effectShaderQuad.render(e);for(let a=0;a<this.configuration.denoiseIterations;a++)[this.writeTargetInternal,this.readTargetInternal]=[this.readTargetInternal,this.writeTargetInternal],this.poissonBlurQuad.material.uniforms.tDiffuse.value=this.readTargetInternal.texture,this.poissonBlurQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.poissonBlurQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.poissonBlurQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.poissonBlurQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.poissonBlurQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.poissonBlurQuad.material.uniforms.cameraPos.value=this.camera.position,this.poissonBlurQuad.material.uniforms.resolution.value=this._r,this.poissonBlurQuad.material.uniforms.time.value=performance.now()/1e3,this.poissonBlurQuad.material.uniforms.blueNoise.value=this.bluenoise,this.poissonBlurQuad.material.uniforms.radius.value=this.configuration.denoiseRadius,this.poissonBlurQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.poissonBlurQuad.material.uniforms.index.value=a,this.poissonBlurQuad.material.uniforms.poissonDisk.value=this.samplesDenoise,this.poissonBlurQuad.material.uniforms.near.value=this.camera.near,this.poissonBlurQuad.material.uniforms.far.value=this.camera.far,this.poissonBlurQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.poissonBlurQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.poissonBlurQuad.render(e);this.effectCompisterQuad.material.uniforms.sceneDiffuse.value=t.texture,this.effectCompisterQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.effectCompisterQuad.material.uniforms.resolution.value=this._r,this.effectCompisterQuad.material.uniforms.blueNoise.value=this.bluenoise,this.effectCompisterQuad.material.uniforms.intensity.value=this.configuration.intensity,this.effectCompisterQuad.material.uniforms.renderMode.value=this.configuration.renderMode,this.effectCompisterQuad.material.uniforms.gammaCorrection.value=this.autosetGamma?this.renderToScreen:this.configuration.gammaCorrection,this.effectCompisterQuad.material.uniforms.tDiffuse.value=this.writeTargetInternal.texture,this.effectCompisterQuad.material.uniforms.color.value=this._c.copy(this.configuration.color).convertSRGBToLinear(),e.setRenderTarget(this.renderToScreen?null:n),this.effectCompisterQuad.render(e),this.debugMode&&(r.endQuery(i.TIME_ELAPSED_EXT),jx(o,r,this))}enableDebugMode(){this.debugMode=!0}disableDebugMode(){this.debugMode=!1}setDisplayMode(e){this.configuration.renderMode=["Combined","AO","No AO","Split","Split AO"].indexOf(e)}setQualityMode(e){"Performance"===e?(this.configuration.aoSamples=8,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):"Low"===e?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):"Medium"===e?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=12):"High"===e?(this.configuration.aoSamples=64,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=6):"Ultra"===e&&(this.configuration.aoSamples=64,this.configuration.denoiseSamples=16,this.configuration.denoiseRadius=6)}}Uint8Array.from(atob(Bx),(e=>e.charCodeAt(0)));(0,t.forwardRef)(((e,n)=>{let{screenSpaceRadius:r,quality:i,aoRadius:o=5,aoSamples:a=16,denoiseSamples:s=4,denoiseRadius:l=12,distanceFalloff:c=1,intensity:u=1,color:d}=e;const{camera:h,scene:f}=_m(),p=(0,t.useMemo)((()=>new Hx(f,h)),[]);return(0,t.useLayoutEffect)((()=>{Im(p.configuration,{color:d,aoRadius:o,distanceFalloff:c,intensity:u,aoSamples:a,denoiseSamples:s,denoiseRadius:l,screenSpaceRadius:r})}),[r,d,o,c,u,a,s,l]),(0,t.useLayoutEffect)((()=>{i&&p.setQualityMode(i.charAt(0).toUpperCase()+i.slice(1))}),[i]),(0,Pg.jsx)("primitive",{ref:n,object:p})}));var Vx;!function(e){e.HOLD_START="holdStart",e.HOLD_END="holdEnd",e.HOLDING="holding"}(Vx||(Vx={}));class Gx{constructor(){this._listeners={}}addEventListener(e,t){const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}removeEventListener(e,t){const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e)}}}class Wx extends Gx{constructor(e){super(),this._enabled=!0,this._holding=!1,this._intervalId=-1,this._deltaTime=0,this._elapsedTime=0,this._lastTime=0,this._holdStart=e=>{if(!this._enabled)return;if(this._holding)return;this._deltaTime=0,this._elapsedTime=0,this._lastTime=performance.now(),this.dispatchEvent({type:Vx.HOLD_START,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:e}),this._holding=!0;const t=()=>{this._intervalId=this.holdIntervalDelay?window.setTimeout(t,this.holdIntervalDelay):window.requestAnimationFrame(t);const n=performance.now();this._deltaTime=n-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:Vx.HOLDING,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:e})};this._intervalId=this.holdIntervalDelay?window.setTimeout(t,this.holdIntervalDelay):window.requestAnimationFrame(t)},this._holdEnd=e=>{if(!this._enabled)return;if(!this._holding)return;const t=performance.now();this._deltaTime=t-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:Vx.HOLD_END,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:e}),window.clearTimeout(this._intervalId),window.cancelAnimationFrame(this._intervalId),this._holding=!1},this.holdIntervalDelay=e}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this._enabled||this._holdEnd())}}class Yx extends Wx{constructor(e,t){super(t),this._holdStart=this._holdStart.bind(this),this._holdEnd=this._holdEnd.bind(this);document.addEventListener("keydown",(t=>{(function(e){const t=e.target;return"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable})(t)||t.keyCode===e&&this._holdStart(t)})),document.addEventListener("keyup",(t=>{t.keyCode===e&&this._holdEnd(t)})),window.addEventListener("blur",this._holdEnd)}}const Xx=1,Qx=2,qx=4,Kx=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768});function Zx(e){return e.isPerspectiveCamera}function Jx(e){return e.isOrthographicCamera}const $x=2*Math.PI,ew=Math.PI/2,tw=1e-5,nw=Math.PI/180;function rw(e,t,n){return Math.max(t,Math.min(n,e))}function iw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tw;return Math.abs(e)<t}function ow(e,t){return iw(e-t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:tw)}function aw(e,t){return Math.round(e/t)*t}function sw(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function lw(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function cw(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,o=arguments.length>5?arguments[5]:void 0;const a=2/(r=Math.max(1e-4,r)),s=a*o,l=1/(1+s+.48*s*s+.235*s*s*s);let c=e-t;const u=t,d=i*r;c=rw(c,-d,d),t=e-c;const h=(n.value+a*c)*o;n.value=(n.value-a*h)*l;let f=t+(c+h)*l;return u-e>0===f>u&&(f=u,n.value=(f-u)/o),f}function uw(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;const s=2/(r=Math.max(1e-4,r)),l=s*o,c=1/(1+l+.48*l*l+.235*l*l*l);let u=t.x,d=t.y,h=t.z,f=e.x-u,p=e.y-d,m=e.z-h;const g=u,v=d,y=h,b=i*r,x=f*f+p*p+m*m;if(x>b*b){const e=Math.sqrt(x);f=f/e*b,p=p/e*b,m=m/e*b}u=e.x-f,d=e.y-p,h=e.z-m;const w=(n.x+s*f)*o,S=(n.y+s*p)*o,E=(n.z+s*m)*o;n.x=(n.x-s*w)*c,n.y=(n.y-s*S)*c,n.z=(n.z-s*E)*c,a.x=u+(f+w)*c,a.y=d+(p+S)*c,a.z=h+(m+E)*c;const M=g-e.x,C=v-e.y,_=y-e.z;return M*(a.x-g)+C*(a.y-v)+_*(a.z-y)>0&&(a.x=g,a.y=v,a.z=y,n.x=(a.x-g)/o,n.y=(a.y-v)/o,n.z=(a.z-y)/o),a}function dw(e,t){t.set(0,0),e.forEach((e=>{t.x+=e.clientX,t.y+=e.clientY})),t.x/=e.length,t.y/=e.length}function hw(e,t){return!!Jx(e)&&(console.warn(`${t} is not supported in OrthographicCamera`),!0)}class fw{constructor(){this._listeners={}}addEventListener(e,t){const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}removeAllEventListeners(e){e?Array.isArray(this._listeners[e])&&(this._listeners[e].length=0):this._listeners={}}dispatchEvent(e){const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e)}}}const pw=1/8,mw="undefined"!==typeof window,gw=mw&&/Mac/.test(navigator.platform),vw=!(mw&&"PointerEvent"in window);let yw,bw,xw,ww,Sw,Ew,Mw,Cw,_w,Tw,Aw,Pw,Ow,Dw,Rw,kw,Iw,Lw,zw,Fw,Nw,Bw;class Uw extends fw{static install(e){yw=e.THREE,bw=Object.freeze(new yw.Vector3(0,0,0)),xw=Object.freeze(new yw.Vector3(0,1,0)),ww=Object.freeze(new yw.Vector3(0,0,1)),Sw=new yw.Vector2,Ew=new yw.Vector3,Mw=new yw.Vector3,Cw=new yw.Vector3,_w=new yw.Vector3,Tw=new yw.Vector3,Aw=new yw.Vector3,Pw=new yw.Vector3,Ow=new yw.Vector3,Dw=new yw.Spherical,Rw=new yw.Spherical,kw=new yw.Box3,Iw=new yw.Box3,Lw=new yw.Sphere,zw=new yw.Quaternion,Fw=new yw.Quaternion,Nw=new yw.Matrix4,Bw=new yw.Raycaster}static get ACTION(){return Kx}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=0,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=Kx.NONE,this._viewport=null,this._dollyControlAmount=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._activePointers=[],this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new yw.Vector3,this._focalOffsetVelocity=new yw.Vector3,this._zoomVelocity={value:0},this._truckInternal=(e,t,n)=>{if(Zx(this._camera)){const r=Ew.copy(this._camera.position).sub(this._target),i=this._camera.getEffectiveFOV()*nw,o=r.length()*Math.tan(.5*i),a=this.truckSpeed*e*o/this._elementRect.height,s=this.truckSpeed*t*o/this._elementRect.height;this.verticalDragToForward?(n?this.setFocalOffset(this._focalOffsetEnd.x+a,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(a,0,!0),this.forward(-s,!0)):n?this.setFocalOffset(this._focalOffsetEnd.x+a,this._focalOffsetEnd.y+s,this._focalOffsetEnd.z,!0):this.truck(a,s,!0)}else if(Jx(this._camera)){const r=this._camera,i=e*(r.right-r.left)/r.zoom/this._elementRect.width,o=t*(r.top-r.bottom)/r.zoom/this._elementRect.height;n?this.setFocalOffset(this._focalOffsetEnd.x+i,this._focalOffsetEnd.y+o,this._focalOffsetEnd.z,!0):this.truck(i,o,!0)}},this._rotateInternal=(e,t)=>{const n=$x*this.azimuthRotateSpeed*e/this._elementRect.height,r=$x*this.polarRotateSpeed*t/this._elementRect.height;this.rotate(n,r,!0)},this._dollyInternal=(e,t,n)=>{const r=Math.pow(.95,-e*this.dollySpeed),i=this._sphericalEnd.radius*r,o=this._sphericalEnd.radius,a=o*(e>=0?-1:1);this.dollyTo(i),this.infinityDolly&&(i<this.minDistance||this.maxDistance===this.minDistance)&&(this._camera.getWorldDirection(Ew),this._targetEnd.add(Ew.normalize().multiplyScalar(a)),this._target.add(Ew.normalize().multiplyScalar(a))),this.dollyToCursor&&(this._dollyControlAmount+=this._sphericalEnd.radius-o,this.infinityDolly&&(i<this.minDistance||this.maxDistance===this.minDistance)&&(this._dollyControlAmount-=a),this._dollyControlCoord.set(t,n))},this._zoomInternal=(e,t,n)=>{const r=Math.pow(.95,e*this.dollySpeed),i=this._zoomEnd;this.zoomTo(this._zoom*r),this.dollyToCursor&&(this._dollyControlAmount+=this._zoomEnd-i,this._dollyControlCoord.set(t,n))},"undefined"===typeof yw&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=(new yw.Quaternion).setFromUnitVectors(this._camera.up,xw),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=Kx.NONE,this._target=new yw.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new yw.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=(new yw.Spherical).setFromVector3(Ew.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._nearPlaneCorners=[new yw.Vector3,new yw.Vector3,new yw.Vector3,new yw.Vector3],this._updateNearPlaneCorners(),this._boundary=new yw.Box3(new yw.Vector3(-1/0,-1/0,-1/0),new yw.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlAmount=0,this._dollyControlCoord=new yw.Vector2,this.mouseButtons={left:Kx.ROTATE,middle:Kx.DOLLY,right:Kx.TRUCK,wheel:Zx(this._camera)?Kx.DOLLY:Jx(this._camera)?Kx.ZOOM:Kx.NONE},this.touches={one:Kx.TOUCH_ROTATE,two:Zx(this._camera)?Kx.TOUCH_DOLLY_TRUCK:Jx(this._camera)?Kx.TOUCH_ZOOM_TRUCK:Kx.NONE,three:Kx.TOUCH_TRUCK};const n=new yw.Vector2,r=new yw.Vector2,i=new yw.Vector2,o=e=>{if(!this._enabled||!this._domElement)return;const t="mouse"!==e.pointerType?null:(e.buttons&Xx)===Xx?Xx:(e.buttons&qx)===qx?qx:(e.buttons&Qx)===Qx?Qx:null;if(null!==t){const e=this._findPointerByMouseButton(t);e&&this._activePointers.splice(this._activePointers.indexOf(e),1)}const n={pointerId:e.pointerId,clientX:e.clientX,clientY:e.clientY,deltaX:0,deltaY:0,mouseButton:t};this._activePointers.push(n),this._domElement.ownerDocument.removeEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.addEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",c),p(e)},a=e=>{if(!this._enabled||!this._domElement)return;const t=(e.buttons&Xx)===Xx?Xx:(e.buttons&qx)===qx?qx:(e.buttons&Qx)===Qx?Qx:null;if(null!==t){const e=this._findPointerByMouseButton(t);e&&this._activePointers.splice(this._activePointers.indexOf(e),1)}const n={pointerId:0,clientX:e.clientX,clientY:e.clientY,deltaX:0,deltaY:0,mouseButton:(e.buttons&Xx)===Xx?Xx:(e.buttons&qx)===Xx?qx:(e.buttons&Qx)===Xx?Qx:null};this._activePointers.push(n),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("mouseup",u),this._domElement.ownerDocument.addEventListener("mousemove",l),this._domElement.ownerDocument.addEventListener("mouseup",u),p(e)},s=e=>{e.cancelable&&e.preventDefault();const t=e.pointerId,n=this._findPointerById(t);if(n){if(n.clientX=e.clientX,n.clientY=e.clientY,n.deltaX=e.movementX,n.deltaY=e.movementY,"touch"===e.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._state=0,(e.buttons&Xx)===Xx&&(this._state=this._state|this.mouseButtons.left),(e.buttons&qx)===qx&&(this._state=this._state|this.mouseButtons.middle),(e.buttons&Qx)===Qx&&(this._state=this._state|this.mouseButtons.right);m()}},l=e=>{const t=this._findPointerById(0);t&&(t.clientX=e.clientX,t.clientY=e.clientY,t.deltaX=e.movementX,t.deltaY=e.movementY,this._state=0,(e.buttons&Xx)===Xx&&(this._state=this._state|this.mouseButtons.left),(e.buttons&qx)===qx&&(this._state=this._state|this.mouseButtons.middle),(e.buttons&Qx)===Qx&&(this._state=this._state|this.mouseButtons.right),m())},c=e=>{const t=e.pointerId,n=this._findPointerById(t);if(n&&this._activePointers.splice(this._activePointers.indexOf(n),1),"touch"===e.pointerType)switch(this._activePointers.length){case 0:this._state=Kx.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._state=Kx.NONE;g()},u=()=>{const e=this._findPointerById(0);e&&this._activePointers.splice(this._activePointers.indexOf(e),1),this._state=Kx.NONE,g()};let d=-1;const h=e=>{if(!this._enabled||this.mouseButtons.wheel===Kx.NONE)return;if(e.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===Kx.ROTATE||this.mouseButtons.wheel===Kx.TRUCK){const e=performance.now();d-e<1e3&&this._getClientRect(this._elementRect),d=e}const t=gw?-1:-3,n=1===e.deltaMode?e.deltaY/t:e.deltaY/(10*t),r=this.dollyToCursor?(e.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,i=this.dollyToCursor?(e.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case Kx.ROTATE:this._rotateInternal(e.deltaX,e.deltaY),this._isUserControllingRotate=!0;break;case Kx.TRUCK:this._truckInternal(e.deltaX,e.deltaY,!1),this._isUserControllingTruck=!0;break;case Kx.OFFSET:this._truckInternal(e.deltaX,e.deltaY,!0),this._isUserControllingOffset=!0;break;case Kx.DOLLY:this._dollyInternal(-n,r,i),this._isUserControllingDolly=!0;break;case Kx.ZOOM:this._zoomInternal(-n,r,i),this._isUserControllingZoom=!0}this.dispatchEvent({type:"control"})},f=e=>{if(this._domElement&&this._enabled){if(this.mouseButtons.right===Uw.ACTION.NONE){const t=e instanceof PointerEvent?e.pointerId:(MouseEvent,0),n=this._findPointerById(t);return n&&this._activePointers.splice(this._activePointers.indexOf(n),1),this._domElement.ownerDocument.removeEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.removeEventListener("mousemove",l),void this._domElement.ownerDocument.removeEventListener("mouseup",u)}e.preventDefault()}},p=e=>{if(!this._enabled)return;dw(this._activePointers,Sw),this._getClientRect(this._elementRect),n.copy(Sw),r.copy(Sw);if(this._activePointers.length>=2){const e=Sw.x-this._activePointers[1].clientX,t=Sw.y-this._activePointers[1].clientY,n=Math.sqrt(e*e+t*t);i.set(0,n);const o=.5*(this._activePointers[0].clientX+this._activePointers[1].clientX),a=.5*(this._activePointers[0].clientY+this._activePointers[1].clientY);r.set(o,a)}if("pointerType"in e&&"touch"===e.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._state=0,(e.buttons&Xx)===Xx&&(this._state=this._state|this.mouseButtons.left),(e.buttons&qx)===qx&&(this._state=this._state|this.mouseButtons.middle),(e.buttons&Qx)===Qx&&(this._state=this._state|this.mouseButtons.right);(this._state&Kx.ROTATE)!==Kx.ROTATE&&(this._state&Kx.TOUCH_ROTATE)!==Kx.TOUCH_ROTATE&&(this._state&Kx.TOUCH_DOLLY_ROTATE)!==Kx.TOUCH_DOLLY_ROTATE&&(this._state&Kx.TOUCH_ZOOM_ROTATE)!==Kx.TOUCH_ZOOM_ROTATE||(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),(this._state&Kx.TRUCK)!==Kx.TRUCK&&(this._state&Kx.TOUCH_TRUCK)!==Kx.TOUCH_TRUCK&&(this._state&Kx.TOUCH_DOLLY_TRUCK)!==Kx.TOUCH_DOLLY_TRUCK&&(this._state&Kx.TOUCH_ZOOM_TRUCK)!==Kx.TOUCH_ZOOM_TRUCK||(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),(this._state&Kx.DOLLY)!==Kx.DOLLY&&(this._state&Kx.TOUCH_DOLLY)!==Kx.TOUCH_DOLLY&&(this._state&Kx.TOUCH_DOLLY_TRUCK)!==Kx.TOUCH_DOLLY_TRUCK&&(this._state&Kx.TOUCH_DOLLY_OFFSET)!==Kx.TOUCH_DOLLY_OFFSET&&(this._state&Kx.TOUCH_DOLLY_ROTATE)!==Kx.TOUCH_DOLLY_ROTATE||(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),(this._state&Kx.ZOOM)!==Kx.ZOOM&&(this._state&Kx.TOUCH_ZOOM)!==Kx.TOUCH_ZOOM&&(this._state&Kx.TOUCH_ZOOM_TRUCK)!==Kx.TOUCH_ZOOM_TRUCK&&(this._state&Kx.TOUCH_ZOOM_OFFSET)!==Kx.TOUCH_ZOOM_OFFSET&&(this._state&Kx.TOUCH_ZOOM_ROTATE)!==Kx.TOUCH_ZOOM_ROTATE||(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),(this._state&Kx.OFFSET)!==Kx.OFFSET&&(this._state&Kx.TOUCH_OFFSET)!==Kx.TOUCH_OFFSET&&(this._state&Kx.TOUCH_DOLLY_OFFSET)!==Kx.TOUCH_DOLLY_OFFSET&&(this._state&Kx.TOUCH_ZOOM_OFFSET)!==Kx.TOUCH_ZOOM_OFFSET||(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},m=()=>{if(!this._enabled)return;dw(this._activePointers,Sw);const e=this._domElement&&document.pointerLockElement===this._domElement,t=e?-this._activePointers[0].deltaX:r.x-Sw.x,o=e?-this._activePointers[0].deltaY:r.y-Sw.y;if(r.copy(Sw),(this._state&Kx.ROTATE)!==Kx.ROTATE&&(this._state&Kx.TOUCH_ROTATE)!==Kx.TOUCH_ROTATE&&(this._state&Kx.TOUCH_DOLLY_ROTATE)!==Kx.TOUCH_DOLLY_ROTATE&&(this._state&Kx.TOUCH_ZOOM_ROTATE)!==Kx.TOUCH_ZOOM_ROTATE||(this._rotateInternal(t,o),this._isUserControllingRotate=!0),(this._state&Kx.DOLLY)===Kx.DOLLY||(this._state&Kx.ZOOM)===Kx.ZOOM){const e=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,t=this.dollyToCursor?(n.y-this._elementRect.y)/this._elementRect.height*-2+1:0,r=this.dollyDragInverted?-1:1;(this._state&Kx.DOLLY)===Kx.DOLLY?(this._dollyInternal(r*o*pw,e,t),this._isUserControllingDolly=!0):(this._zoomInternal(r*o*pw,e,t),this._isUserControllingZoom=!0)}if((this._state&Kx.TOUCH_DOLLY)===Kx.TOUCH_DOLLY||(this._state&Kx.TOUCH_ZOOM)===Kx.TOUCH_ZOOM||(this._state&Kx.TOUCH_DOLLY_TRUCK)===Kx.TOUCH_DOLLY_TRUCK||(this._state&Kx.TOUCH_ZOOM_TRUCK)===Kx.TOUCH_ZOOM_TRUCK||(this._state&Kx.TOUCH_DOLLY_OFFSET)===Kx.TOUCH_DOLLY_OFFSET||(this._state&Kx.TOUCH_ZOOM_OFFSET)===Kx.TOUCH_ZOOM_OFFSET||(this._state&Kx.TOUCH_DOLLY_ROTATE)===Kx.TOUCH_DOLLY_ROTATE||(this._state&Kx.TOUCH_ZOOM_ROTATE)===Kx.TOUCH_ZOOM_ROTATE){const e=Sw.x-this._activePointers[1].clientX,t=Sw.y-this._activePointers[1].clientY,n=Math.sqrt(e*e+t*t),o=i.y-n;i.set(0,n);const a=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,s=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&Kx.TOUCH_DOLLY)===Kx.TOUCH_DOLLY||(this._state&Kx.TOUCH_DOLLY_ROTATE)===Kx.TOUCH_DOLLY_ROTATE||(this._state&Kx.TOUCH_DOLLY_TRUCK)===Kx.TOUCH_DOLLY_TRUCK||(this._state&Kx.TOUCH_DOLLY_OFFSET)===Kx.TOUCH_DOLLY_OFFSET?(this._dollyInternal(o*pw,a,s),this._isUserControllingDolly=!0):(this._zoomInternal(o*pw,a,s),this._isUserControllingZoom=!0)}(this._state&Kx.TRUCK)!==Kx.TRUCK&&(this._state&Kx.TOUCH_TRUCK)!==Kx.TOUCH_TRUCK&&(this._state&Kx.TOUCH_DOLLY_TRUCK)!==Kx.TOUCH_DOLLY_TRUCK&&(this._state&Kx.TOUCH_ZOOM_TRUCK)!==Kx.TOUCH_ZOOM_TRUCK||(this._truckInternal(t,o,!1),this._isUserControllingTruck=!0),(this._state&Kx.OFFSET)!==Kx.OFFSET&&(this._state&Kx.TOUCH_OFFSET)!==Kx.TOUCH_OFFSET&&(this._state&Kx.TOUCH_DOLLY_OFFSET)!==Kx.TOUCH_DOLLY_OFFSET&&(this._state&Kx.TOUCH_ZOOM_OFFSET)!==Kx.TOUCH_ZOOM_OFFSET||(this._truckInternal(t,o,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},g=()=>{dw(this._activePointers,Sw),r.copy(Sw),0===this._activePointers.length&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.removeEventListener("mouseup",u),this.dispatchEvent({type:"controlend"}))};this._addAllEventListeners=e=>{this._domElement=e,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),vw&&this._domElement.addEventListener("mousedown",a),this._domElement.addEventListener("pointercancel",c),this._domElement.addEventListener("wheel",h,{passive:!1}),this._domElement.addEventListener("contextmenu",f)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("mousedown",a),this._domElement.removeEventListener("pointercancel",c),this._domElement.removeEventListener("wheel",h,{passive:!1}),this._domElement.removeEventListener("contextmenu",f),this._domElement.ownerDocument.removeEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",l),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.removeEventListener("mouseup",u))},this.cancel=()=>{this._state!==Kx.NONE&&(this._state=Kx.NONE,this._activePointers.length=0,g())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,n)}rotateAzimuthTo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isUserControllingRotate=!1;const r=rw(e,this.minAzimuthAngle,this.maxAzimuthAngle),i=rw(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=i,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,n||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!n||ow(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ow(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._isUserControllingDolly=!1;const n=this._sphericalEnd.radius,r=rw(e,this.minDistance,this.maxDistance);if(this.colliderMeshes.length>=1){const e=this._collisionTest(),t=ow(e,this._spherical.radius);if(!(n>r)&&t)return Promise.resolve();this._sphericalEnd.radius=Math.min(r,e)}else this._sphericalEnd.radius=r;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const i=!t||ow(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(i)}zoom(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._isUserControllingZoom=!1,this._zoomEnd=rw(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const n=!t||ow(this._zoom,this._zoomEnd,this.restThreshold);return this._createOnRestPromise(n)}pan(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,n)}truck(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._camera.updateMatrix(),_w.setFromMatrixColumn(this._camera.matrix,0),Tw.setFromMatrixColumn(this._camera.matrix,1),_w.multiplyScalar(e),Tw.multiplyScalar(-t);const r=Ew.copy(_w).add(Tw),i=Mw.copy(this._targetEnd).add(r);return this.moveTo(i.x,i.y,i.z,n)}forward(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ew.setFromMatrixColumn(this._camera.matrix,0),Ew.crossVectors(this._camera.up,Ew),Ew.multiplyScalar(e);const n=Mw.copy(this._targetEnd).add(Ew);return this.moveTo(n.x,n.y,n.z,t)}elevate(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ew.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+Ew.x,this._targetEnd.y+Ew.y,this._targetEnd.z+Ew.z,t)}moveTo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._isUserControllingTruck=!1;const i=Ew.set(e,t,n).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,i,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const o=!r||ow(this._target.x,this._targetEnd.x,this.restThreshold)&&ow(this._target.y,this._targetEnd.y,this.restThreshold)&&ow(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=Ew.set(e,t,n).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(i.x,i.y,i.z,r)}fitToBox(e,t){let{cover:n=!1,paddingLeft:r=0,paddingRight:i=0,paddingBottom:o=0,paddingTop:a=0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=[],l=e.isBox3?kw.copy(e):kw.setFromObject(e);l.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const c=aw(this._sphericalEnd.theta,ew),u=aw(this._sphericalEnd.phi,ew);s.push(this.rotateTo(c,u,t));const d=Ew.setFromSpherical(this._sphericalEnd).normalize(),h=zw.setFromUnitVectors(d,ww),f=ow(Math.abs(d.y),1);f&&h.multiply(Fw.setFromAxisAngle(xw,c)),h.multiply(this._yAxisUpSpaceInverse);const p=Iw.makeEmpty();Mw.copy(l.min).applyQuaternion(h),p.expandByPoint(Mw),Mw.copy(l.min).setX(l.max.x).applyQuaternion(h),p.expandByPoint(Mw),Mw.copy(l.min).setY(l.max.y).applyQuaternion(h),p.expandByPoint(Mw),Mw.copy(l.max).setZ(l.min.z).applyQuaternion(h),p.expandByPoint(Mw),Mw.copy(l.min).setZ(l.max.z).applyQuaternion(h),p.expandByPoint(Mw),Mw.copy(l.max).setY(l.min.y).applyQuaternion(h),p.expandByPoint(Mw),Mw.copy(l.max).setX(l.min.x).applyQuaternion(h),p.expandByPoint(Mw),Mw.copy(l.max).applyQuaternion(h),p.expandByPoint(Mw),p.min.x-=r,p.min.y-=o,p.max.x+=i,p.max.y+=a,h.setFromUnitVectors(ww,d),f&&h.premultiply(Fw.invert()),h.premultiply(this._yAxisUpSpace);const m=p.getSize(Ew),g=p.getCenter(Mw).applyQuaternion(h);if(Zx(this._camera)){const e=this.getDistanceToFitBox(m.x,m.y,m.z,n);s.push(this.moveTo(g.x,g.y,g.z,t)),s.push(this.dollyTo(e,t)),s.push(this.setFocalOffset(0,0,0,t))}else if(Jx(this._camera)){const e=this._camera,r=e.right-e.left,i=e.top-e.bottom,o=n?Math.max(r/m.x,i/m.y):Math.min(r/m.x,i/m.y);s.push(this.moveTo(g.x,g.y,g.z,t)),s.push(this.zoomTo(o,t)),s.push(this.setFocalOffset(0,0,0,t))}return Promise.all(s)}fitToSphere(e,t){const n=[],r=e instanceof yw.Sphere?Lw.copy(e):Uw.createBoundingSphere(e,Lw);if(n.push(this.moveTo(r.center.x,r.center.y,r.center.z,t)),Zx(this._camera)){const e=this.getDistanceToFitSphere(r.radius);n.push(this.dollyTo(e,t))}else if(Jx(this._camera)){const e=this._camera.right-this._camera.left,i=this._camera.top-this._camera.bottom,o=2*r.radius,a=Math.min(e/o,i/o);n.push(this.zoomTo(a,t))}return n.push(this.setFocalOffset(0,0,0,t)),Promise.all(n)}setLookAt(e,t,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1;const s=Mw.set(r,i,o),l=Ew.set(e,t,n);this._targetEnd.copy(s),this._sphericalEnd.setFromVector3(l.sub(s).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const c=!a||ow(this._target.x,this._targetEnd.x,this.restThreshold)&&ow(this._target.y,this._targetEnd.y,this.restThreshold)&&ow(this._target.z,this._targetEnd.z,this.restThreshold)&&ow(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ow(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ow(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(c)}lerpLookAt(e,t,n,r,i,o,a,s,l,c,u,d,h){let f=arguments.length>13&&void 0!==arguments[13]&&arguments[13];this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1;const p=Ew.set(r,i,o),m=Mw.set(e,t,n);Dw.setFromVector3(m.sub(p).applyQuaternion(this._yAxisUpSpace));const g=Cw.set(c,u,d),v=Mw.set(a,s,l);Rw.setFromVector3(v.sub(g).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(p.lerp(g,h));const y=Rw.theta-Dw.theta,b=Rw.phi-Dw.phi,x=Rw.radius-Dw.radius;this._sphericalEnd.set(Dw.radius+x*h,Dw.phi+b*h,Dw.theta+y*h),this.normalizeRotations(),this._needsUpdate=!0,f||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const w=!f||ow(this._target.x,this._targetEnd.x,this.restThreshold)&&ow(this._target.y,this._targetEnd.y,this.restThreshold)&&ow(this._target.z,this._targetEnd.z,this.restThreshold)&&ow(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ow(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ow(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(w)}setPosition(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.setLookAt(e,t,n,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=this.getPosition(Ew),o=this.setLookAt(i.x,i.y,i.z,e,t,n,r);return this._sphericalEnd.phi=rw(this.polarAngle,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,n),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const i=!r||ow(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&ow(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&ow(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}setOrbitPoint(e,t,n){this._camera.updateMatrixWorld(),_w.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Tw.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Aw.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=Ew.set(e,t,n),i=r.distanceTo(this._camera.position),o=r.sub(this._camera.position);_w.multiplyScalar(o.x),Tw.multiplyScalar(o.y),Aw.multiplyScalar(o.z),Ew.copy(_w).add(Tw).add(Aw),Ew.z=Ew.z+i,this.dollyTo(i,!1),this.setFocalOffset(-Ew.x,Ew.y,-Ew.z,!1),this.moveTo(e,t,n,!1)}setBoundary(e){if(!e)return this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),void(this._needsUpdate=!0);this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,n,r){null!==e?(this._viewport=this._viewport||new yw.Vector4,"number"===typeof e?this._viewport.set(e,t,n,r):this._viewport.copy(e)):this._viewport=null}getDistanceToFitBox(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(hw(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const i=e/t,o=this._camera.getEffectiveFOV()*nw,a=this._camera.aspect;return.5*((r?i>a:i<a)?t:e/a)/Math.tan(.5*o)+.5*n}getDistanceToFitSphere(e){if(hw(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*nw,n=2*Math.atan(Math.tan(.5*t)*this._camera.aspect),r=1<this._camera.aspect?t:n;return e/Math.sin(.5*r)}getTarget(e){return(e&&e.isVector3?e:new yw.Vector3).copy(this._targetEnd)}getPosition(e){return(e&&e.isVector3?e:new yw.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)}getFocalOffset(e){return(e&&e.isVector3?e:new yw.Vector3).copy(this._focalOffsetEnd)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%$x,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=$x),this._spherical.theta+=$x*Math.round((this._sphericalEnd.theta-this._spherical.theta)/$x)}reset(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!ow(this._camera.up.x,this._cameraUp0.x)||!ow(this._camera.up.y,this._cameraUp0.y)||!ow(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const e=this.getPosition(Ew);this.updateCameraUp(),this.setPosition(e.x,e.y,e.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,xw),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=Ew.subVectors(this._target,this._camera.position).normalize(),t=Mw.crossVectors(e,this._camera.up).normalize();this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const n=this.getPosition(Ew);this.updateCameraUp(),this.setPosition(n.x,n.y,n.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,n=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,i=Pw.subVectors(this._targetEnd,this._target),o=Ow.subVectors(this._focalOffsetEnd,this._focalOffset),a=this._zoomEnd-this._zoom;if(iw(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const t=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=cw(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,t,1/0,e),this._needsUpdate=!0}if(iw(n))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const t=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=cw(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,t,1/0,e),this._needsUpdate=!0}if(iw(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const t=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=cw(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,t,this.maxSpeed,e),this._needsUpdate=!0}if(iw(i.x)&&iw(i.y)&&iw(i.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const t=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;uw(this._target,this._targetEnd,this._targetVelocity,t,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(iw(o.x)&&iw(o.y)&&iw(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const t=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;uw(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,t,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(0!==this._dollyControlAmount){if(Zx(this._camera)){const e=this._camera,t=Ew.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),n=Mw.copy(t).cross(e.up).normalize();0===n.lengthSq()&&(n.x=1);const r=Cw.crossVectors(n,t),i=this._sphericalEnd.radius*Math.tan(e.getEffectiveFOV()*nw*.5),o=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,a=Ew.copy(this._targetEnd).add(n.multiplyScalar(this._dollyControlCoord.x*i*e.aspect)).add(r.multiplyScalar(this._dollyControlCoord.y*i));this._targetEnd.lerp(a,o)}else if(Jx(this._camera)){const e=this._camera,t=Ew.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(e.near+e.far)/(e.near-e.far)).unproject(e),n=Mw.set(0,0,-1).applyQuaternion(e.quaternion),r=Cw.copy(t).add(n.multiplyScalar(-t.dot(e.up))),i=-(this._zoom-this._dollyControlAmount-this._zoomEnd)/this._zoom,o=Ew.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),a=this._targetEnd.dot(o);this._targetEnd.lerp(r,i);const s=this._targetEnd.dot(o),l=o.multiplyScalar(s-a);this._targetEnd.sub(l)}this._target.copy(this._targetEnd),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._dollyControlAmount=0}if(iw(a))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const t=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=cw(this._zoom,this._zoomEnd,this._zoomVelocity,t,1/0,e)}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);const s=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,s),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target);(!iw(this._focalOffset.x)||!iw(this._focalOffset.y)||!iw(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),_w.setFromMatrixColumn(this._camera.matrix,0),Tw.setFromMatrixColumn(this._camera.matrix,1),Aw.setFromMatrixColumn(this._camera.matrix,2),_w.multiplyScalar(this._focalOffset.x),Tw.multiplyScalar(-this._focalOffset.y),Aw.multiplyScalar(this._focalOffset.z),Ew.copy(_w).add(Tw).add(Aw),this._camera.position.add(Ew)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),Ew.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const l=this._needsUpdate;return l&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):l?(this.dispatchEvent({type:"update"}),iw(t,this.restThreshold)&&iw(n,this.restThreshold)&&iw(r,this.restThreshold)&&iw(i.x,this.restThreshold)&&iw(i.y,this.restThreshold)&&iw(i.z,this.restThreshold)&&iw(o.x,this.restThreshold)&&iw(o.y,this.restThreshold)&&iw(o.z,this.restThreshold)&&iw(a,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!l&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=l,this._needsUpdate=!1,l}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:sw(this.maxDistance),minZoom:this.minZoom,maxZoom:sw(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:sw(this.maxPolarAngle),minAzimuthAngle:sw(this.minAzimuthAngle),maxAzimuthAngle:sw(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:Ew.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=JSON.parse(e);this.enabled=n.enabled,this.minDistance=n.minDistance,this.maxDistance=lw(n.maxDistance),this.minZoom=n.minZoom,this.maxZoom=lw(n.maxZoom),this.minPolarAngle=n.minPolarAngle,this.maxPolarAngle=lw(n.maxPolarAngle),this.minAzimuthAngle=lw(n.minAzimuthAngle),this.maxAzimuthAngle=lw(n.maxAzimuthAngle),this.smoothTime=n.smoothTime,this.draggingSmoothTime=n.draggingSmoothTime,this.dollySpeed=n.dollySpeed,this.truckSpeed=n.truckSpeed,this.dollyToCursor=n.dollyToCursor,this.verticalDragToForward=n.verticalDragToForward,this._target0.fromArray(n.target0),this._position0.fromArray(n.position0),this._zoom0=n.zoom0,this._focalOffset0.fromArray(n.focalOffset0),this.moveTo(n.target[0],n.target[1],n.target[2],t),Dw.setFromVector3(Ew.fromArray(n.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Dw.theta,Dw.phi,t),this.dollyTo(Dw.radius,t),this.zoomTo(n.zoom,t),this.setFocalOffset(n.focalOffset[0],n.focalOffset[1],n.focalOffset[2],t),this._needsUpdate=!0}connect(e){this._domElement?console.warn("camera-controls is already connected."):(e.setAttribute("data-camera-controls-version","2.3.4"),this._addAllEventListeners(e))}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_findPointerById(e){return this._activePointers.find((t=>t.pointerId===e))}_findPointerByMouseButton(e){return this._activePointers.find((t=>t.mouseButton===e))}_encloseToBoundary(e,t,n){const r=t.lengthSq();if(0===r)return e;const i=Mw.copy(t).add(e),o=this._boundary.clampPoint(i,Cw).sub(i),a=o.lengthSq();if(0===a)return e.add(t);if(a===r)return e;if(0===n)return e.add(t).add(o);{const r=1+n*a/t.dot(o);return e.add(Mw.copy(t).multiplyScalar(r)).add(o.multiplyScalar(1-n))}}_updateNearPlaneCorners(){if(Zx(this._camera)){const e=this._camera,t=e.near,n=e.getEffectiveFOV()*nw,r=Math.tan(.5*n)*t,i=r*e.aspect;this._nearPlaneCorners[0].set(-i,-r,0),this._nearPlaneCorners[1].set(i,-r,0),this._nearPlaneCorners[2].set(i,r,0),this._nearPlaneCorners[3].set(-i,r,0)}else if(Jx(this._camera)){const e=this._camera,t=1/e.zoom,n=e.left*t,r=e.right*t,i=e.top*t,o=e.bottom*t;this._nearPlaneCorners[0].set(n,i,0),this._nearPlaneCorners[1].set(r,i,0),this._nearPlaneCorners[2].set(r,o,0),this._nearPlaneCorners[3].set(n,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1))return e;if(hw(this._camera,"_collisionTest"))return e;const t=Ew.setFromSpherical(this._spherical).divideScalar(this._spherical.radius);Nw.lookAt(bw,t,this._camera.up);for(let n=0;n<4;n++){const r=Mw.copy(this._nearPlaneCorners[n]);r.applyMatrix4(Nw);const i=Cw.addVectors(this._target,r);Bw.set(i,t),Bw.far=this._spherical.radius+1;const o=Bw.intersectObjects(this.colliderMeshes);0!==o.length&&o[0].distance<e&&(e=o[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise((e=>{const t=()=>{this.removeEventListener("rest",t),e()};this.addEventListener("rest",t)})))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yw.Sphere,n=t.center;kw.makeEmpty(),e.traverseVisible((e=>{e.isMesh&&kw.expandByObject(e)})),kw.getCenter(n);let r=0;return e.traverseVisible((e=>{if(!e.isMesh)return;const t=e,i=t.geometry.clone();i.applyMatrix4(t.matrixWorld);const o=i.attributes.position;for(let a=0,s=o.count;a<s;a++)Ew.fromBufferAttribute(o,a),r=Math.max(r,n.distanceToSquared(Ew))})),t.radius=Math.sqrt(r),t}}const jw=(0,t.forwardRef)(((n,r)=>{(0,t.useMemo)((()=>{Uw.install({THREE:e}),Ip({CameraControlsImpl:Uw})}),[]);const{camera:i,domElement:o,makeDefault:a,onStart:s,onEnd:l,onChange:c,regress:u,...d}=n,h=_m((e=>e.camera)),f=_m((e=>e.gl)),p=_m((e=>e.invalidate)),m=_m((e=>e.events)),g=_m((e=>e.setEvents)),v=_m((e=>e.set)),y=_m((e=>e.get)),b=_m((e=>e.performance)),x=i||h,w=o||m.connected||f.domElement,S=(0,t.useMemo)((()=>new Uw(x)),[x]);return Tm(((e,t)=>{S.enabled&&S.update(t)}),-1),(0,t.useEffect)((()=>(S.connect(w),()=>{S.disconnect()})),[w,S]),t.useEffect((()=>{const e=e=>{p(),u&&b.regress(),c&&c(e)},t=e=>{s&&s(e)},n=e=>{l&&l(e)};return S.addEventListener("update",e),S.addEventListener("controlstart",t),S.addEventListener("controlend",n),()=>{S.removeEventListener("update",e),S.removeEventListener("controlstart",t),S.removeEventListener("controlend",n)}}),[S,s,l,p,g,u,c]),(0,t.useEffect)((()=>{if(a){const e=y().controls;return v({controls:S}),()=>v({controls:e})}}),[a,S]),t.createElement("primitive",Gm({ref:r,object:S},d))}));var Hw,Vw,Gw;try{Hw=new TextDecoder}catch($ce){}var Ww=0;const Yw=[];var Xw,Qw,qw,Kw,Zw,Jw=Yw,$w=0,eS={},tS=0,nS=0,rS=[],iS={useRecords:!1,mapsAsObjects:!0};class oS{}const aS=new oS;aS.name="MessagePack 0xC1";var sS,lS,cS,uS=!1,dS=2;try{new Function("")}catch($ce){dS=1/0}class hS{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.sequential&&!1!==e.trusted&&(e.trusted=!0,e.structures||0==e.useRecords||(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.int64AsNumber&&(e.int64AsType="number")),Object.assign(this,e)}unpack(e,t){if(Vw)return NS((()=>(BS(),this?this.unpack(e,t):hS.prototype.unpack.call(iS,e,t))));"object"===typeof t?(Gw=t.end||e.length,Ww=t.start||0):(Ww=0,Gw=t>-1?t:e.length),$w=0,nS=0,Qw=null,Jw=Yw,qw=null,Vw=e;try{Zw=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch($ce){if(Vw=null,e instanceof Uint8Array)throw $ce;throw new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof hS){if(eS=this,this.structures)return Xw=this.structures,fS(t);(!Xw||Xw.length>0)&&(Xw=[])}else eS=iS,(!Xw||Xw.length>0)&&(Xw=[]);return fS(t)}unpackMultiple(e,t){let n,r=0;try{uS=!0;let i=e.length,o=this?this.unpack(e,i):jS.unpack(e,i);if(!t){for(n=[o];Ww<i;)r=Ww,n.push(fS());return n}if(!1===t(o))return;for(;Ww<i;)if(r=Ww,!1===t(fS()))return}catch($ce){throw $ce.lastPosition=r,$ce.values=n,$ce}finally{uS=!1,BS()}}_mergeStructures(e,t){lS&&(e=lS.call(this,e)),e=e||[],Object.isFrozen(e)&&(e=e.map((e=>e.slice(0))));for(let n=0,r=e.length;n<r;n++){let t=e[n];t&&(t.isShared=!0,n>=32&&(t.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in t||[])if(n>=0){let r=e[n],i=t[n];i&&(r&&((e.restoreStructures||(e.restoreStructures=[]))[n]=r),e[n]=i)}return this.structures=e}decode(e,t){return this.unpack(e,t)}}function fS(e){try{if(!eS.trusted&&!uS){let e=Xw.sharedLength||0;e<Xw.length&&(Xw.length=e)}let t;if(eS.randomAccessStructure&&Vw[Ww]<64&&Vw[Ww]>=32&&sS?(t=sS(Vw,Ww,Gw,eS),Vw=null,e&&e.lazy||!t||(t=t.toJSON()),Ww=Gw):t=mS(),qw&&(Ww=qw.postBundlePosition,qw=null),Ww==Gw)Xw&&Xw.restoreStructures&&pS(),Xw=null,Vw=null,Kw&&(Kw=null);else{if(Ww>Gw)throw new Error("Unexpected end of MessagePack data");if(!uS)throw new Error("Data read, but end of buffer not reached "+JSON.stringify(t).slice(0,100))}return t}catch($ce){throw Xw&&Xw.restoreStructures&&pS(),BS(),($ce instanceof RangeError||$ce.message.startsWith("Unexpected end of buffer")||Ww>Gw)&&($ce.incomplete=!0),$ce}}function pS(){for(let e in Xw.restoreStructures)Xw[e]=Xw.restoreStructures[e];Xw.restoreStructures=null}function mS(){let e=Vw[Ww++];if(e<160){if(e<128){if(e<64)return e;{let t=Xw[63&e]||eS.getStructures&&bS()[63&e];return t?(t.read||(t.read=vS(t,63&e)),t.read()):e}}if(e<144){if(e-=128,eS.mapsAsObjects){let t={};for(let n=0;n<e;n++){let e=IS();"__proto__"===e&&(e="__proto_"),t[e]=mS()}return t}{let t=new Map;for(let n=0;n<e;n++)t.set(mS(),mS());return t}}{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=mS();return eS.freezeData?Object.freeze(t):t}}if(e<192){let t=e-160;if(nS>=Ww)return Qw.slice(Ww-tS,(Ww+=t)-tS);if(0==nS&&Gw<140){let e=t<16?PS(t):AS(t);if(null!=e)return e}return xS(t)}{let t;switch(e){case 192:return null;case 193:return qw?(t=mS(),t>0?qw[1].slice(qw.position1,qw.position1+=t):qw[0].slice(qw.position0,qw.position0-=t)):aS;case 194:return!1;case 195:return!0;case 196:if(t=Vw[Ww++],void 0===t)throw new Error("Unexpected end of buffer");return DS(t);case 197:return t=Zw.getUint16(Ww),Ww+=2,DS(t);case 198:return t=Zw.getUint32(Ww),Ww+=4,DS(t);case 199:return RS(Vw[Ww++]);case 200:return t=Zw.getUint16(Ww),Ww+=2,RS(t);case 201:return t=Zw.getUint32(Ww),Ww+=4,RS(t);case 202:if(t=Zw.getFloat32(Ww),eS.useFloat32>2){let e=US[(127&Vw[Ww])<<1|Vw[Ww+1]>>7];return Ww+=4,(e*t+(t>0?.5:-.5)>>0)/e}return Ww+=4,t;case 203:return t=Zw.getFloat64(Ww),Ww+=8,t;case 204:return Vw[Ww++];case 205:return t=Zw.getUint16(Ww),Ww+=2,t;case 206:return t=Zw.getUint32(Ww),Ww+=4,t;case 207:return"number"===eS.int64AsType?(t=4294967296*Zw.getUint32(Ww),t+=Zw.getUint32(Ww+4)):t="string"===eS.int64AsType?Zw.getBigUint64(Ww).toString():Zw.getBigUint64(Ww),Ww+=8,t;case 208:return Zw.getInt8(Ww++);case 209:return t=Zw.getInt16(Ww),Ww+=2,t;case 210:return t=Zw.getInt32(Ww),Ww+=4,t;case 211:return"number"===eS.int64AsType?(t=4294967296*Zw.getInt32(Ww),t+=Zw.getUint32(Ww+4)):t="string"===eS.int64AsType?Zw.getBigInt64(Ww).toString():Zw.getBigInt64(Ww),Ww+=8,t;case 212:if(t=Vw[Ww++],114==t)return LS(63&Vw[Ww++]);{let e=rS[t];if(e)return e.read?(Ww++,e.read(mS())):e.noBuffer?(Ww++,e()):e(Vw.subarray(Ww,++Ww));throw new Error("Unknown extension "+t)}case 213:return t=Vw[Ww],114==t?(Ww++,LS(63&Vw[Ww++],Vw[Ww++])):RS(2);case 214:return RS(4);case 215:return RS(8);case 216:return RS(16);case 217:return t=Vw[Ww++],nS>=Ww?Qw.slice(Ww-tS,(Ww+=t)-tS):wS(t);case 218:return t=Zw.getUint16(Ww),nS>=(Ww+=2)?Qw.slice(Ww-tS,(Ww+=t)-tS):SS(t);case 219:return t=Zw.getUint32(Ww),nS>=(Ww+=4)?Qw.slice(Ww-tS,(Ww+=t)-tS):ES(t);case 220:return t=Zw.getUint16(Ww),Ww+=2,CS(t);case 221:return t=Zw.getUint32(Ww),Ww+=4,CS(t);case 222:return t=Zw.getUint16(Ww),Ww+=2,_S(t);case 223:return t=Zw.getUint32(Ww),Ww+=4,_S(t);default:if(e>=224)return e-256;if(void 0===e){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}throw new Error("Unknown MessagePack token "+e)}}}const gS=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function vS(e,t){function n(){if(n.count++>dS){let n=e.read=new Function("r","return function(){return "+(eS.freezeData?"Object.freeze":"")+"({"+e.map((e=>"__proto__"===e?"__proto_:r()":gS.test(e)?e+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"})}")(mS);return 0===e.highByte&&(e.read=yS(t,e.read)),n()}let r={};for(let t=0,n=e.length;t<n;t++){let n=e[t];"__proto__"===n&&(n="__proto_"),r[n]=mS()}return eS.freezeData?Object.freeze(r):r}return n.count=0,0===e.highByte?yS(t,n):n}const yS=(e,t)=>function(){let n=Vw[Ww++];if(0===n)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=Xw[r]||bS()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=vS(i,e)),i.read()};function bS(){let e=NS((()=>(Vw=null,eS.getStructures())));return Xw=eS._mergeStructures(e,Xw)}var xS=MS,wS=MS,SS=MS,ES=MS;function MS(e){let t;if(e<16&&(t=PS(e)))return t;if(e>64&&Hw)return Hw.decode(Vw.subarray(Ww,Ww+=e));const n=Ww+e,r=[];for(t="";Ww<n;){const e=Vw[Ww++];if(0===(128&e))r.push(e);else if(192===(224&e)){const t=63&Vw[Ww++];r.push((31&e)<<6|t)}else if(224===(240&e)){const t=63&Vw[Ww++],n=63&Vw[Ww++];r.push((31&e)<<12|t<<6|n)}else if(240===(248&e)){let t=(7&e)<<18|(63&Vw[Ww++])<<12|(63&Vw[Ww++])<<6|63&Vw[Ww++];t>65535&&(t-=65536,r.push(t>>>10&1023|55296),t=56320|1023&t),r.push(t)}else r.push(e);r.length>=4096&&(t+=TS.apply(String,r),r.length=0)}return r.length>0&&(t+=TS.apply(String,r)),t}function CS(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=mS();return eS.freezeData?Object.freeze(t):t}function _S(e){if(eS.mapsAsObjects){let t={};for(let n=0;n<e;n++){let e=IS();"__proto__"===e&&(e="__proto_"),t[e]=mS()}return t}{let t=new Map;for(let n=0;n<e;n++)t.set(mS(),mS());return t}}var TS=String.fromCharCode;function AS(e){let t=Ww,n=new Array(e);for(let r=0;r<e;r++){const e=Vw[Ww++];if((128&e)>0)return void(Ww=t);n[r]=e}return TS.apply(String,n)}function PS(e){if(e<4){if(e<2){if(0===e)return"";{let e=Vw[Ww++];return(128&e)>1?void(Ww-=1):TS(e)}}{let t=Vw[Ww++],n=Vw[Ww++];if((128&t)>0||(128&n)>0)return void(Ww-=2);if(e<3)return TS(t,n);let r=Vw[Ww++];return(128&r)>0?void(Ww-=3):TS(t,n,r)}}{let t=Vw[Ww++],n=Vw[Ww++],r=Vw[Ww++],i=Vw[Ww++];if((128&t)>0||(128&n)>0||(128&r)>0||(128&i)>0)return void(Ww-=4);if(e<6){if(4===e)return TS(t,n,r,i);{let e=Vw[Ww++];return(128&e)>0?void(Ww-=5):TS(t,n,r,i,e)}}if(e<8){let o=Vw[Ww++],a=Vw[Ww++];if((128&o)>0||(128&a)>0)return void(Ww-=6);if(e<7)return TS(t,n,r,i,o,a);let s=Vw[Ww++];return(128&s)>0?void(Ww-=7):TS(t,n,r,i,o,a,s)}{let o=Vw[Ww++],a=Vw[Ww++],s=Vw[Ww++],l=Vw[Ww++];if((128&o)>0||(128&a)>0||(128&s)>0||(128&l)>0)return void(Ww-=8);if(e<10){if(8===e)return TS(t,n,r,i,o,a,s,l);{let e=Vw[Ww++];return(128&e)>0?void(Ww-=9):TS(t,n,r,i,o,a,s,l,e)}}if(e<12){let c=Vw[Ww++],u=Vw[Ww++];if((128&c)>0||(128&u)>0)return void(Ww-=10);if(e<11)return TS(t,n,r,i,o,a,s,l,c,u);let d=Vw[Ww++];return(128&d)>0?void(Ww-=11):TS(t,n,r,i,o,a,s,l,c,u,d)}{let c=Vw[Ww++],u=Vw[Ww++],d=Vw[Ww++],h=Vw[Ww++];if((128&c)>0||(128&u)>0||(128&d)>0||(128&h)>0)return void(Ww-=12);if(e<14){if(12===e)return TS(t,n,r,i,o,a,s,l,c,u,d,h);{let e=Vw[Ww++];return(128&e)>0?void(Ww-=13):TS(t,n,r,i,o,a,s,l,c,u,d,h,e)}}{let f=Vw[Ww++],p=Vw[Ww++];if((128&f)>0||(128&p)>0)return void(Ww-=14);if(e<15)return TS(t,n,r,i,o,a,s,l,c,u,d,h,f,p);let m=Vw[Ww++];return(128&m)>0?void(Ww-=15):TS(t,n,r,i,o,a,s,l,c,u,d,h,f,p,m)}}}}}function OS(){let e,t=Vw[Ww++];if(t<192)e=t-160;else switch(t){case 217:e=Vw[Ww++];break;case 218:e=Zw.getUint16(Ww),Ww+=2;break;case 219:e=Zw.getUint32(Ww),Ww+=4;break;default:throw new Error("Expected string")}return MS(e)}function DS(e){return eS.copyBuffers?Uint8Array.prototype.slice.call(Vw,Ww,Ww+=e):Vw.subarray(Ww,Ww+=e)}function RS(e){let t=Vw[Ww++];if(rS[t]){let n;return rS[t](Vw.subarray(Ww,n=Ww+=e),(e=>{Ww=e;try{return mS()}finally{Ww=n}}))}throw new Error("Unknown extension type "+t)}var kS=new Array(4096);function IS(){let e=Vw[Ww++];if(!(e>=160&&e<192))return Ww--,mS().toString();if(e-=160,nS>=Ww)return Qw.slice(Ww-tS,(Ww+=e)-tS);if(!(0==nS&&Gw<180))return xS(e);let t,n=4095&(e<<5^(e>1?Zw.getUint16(Ww):e>0?Vw[Ww]:0)),r=kS[n],i=Ww,o=Ww+e-3,a=0;if(r&&r.bytes==e){for(;i<o;){if(t=Zw.getUint32(i),t!=r[a++]){i=1879048192;break}i+=4}for(o+=3;i<o;)if(t=Vw[i++],t!=r[a++]){i=1879048192;break}if(i===o)return Ww=i,r.string;o-=3,i=Ww}for(r=[],kS[n]=r,r.bytes=e;i<o;)t=Zw.getUint32(i),r.push(t),i+=4;for(o+=3;i<o;)t=Vw[i++],r.push(t);let s=e<16?PS(e):AS(e);return r.string=null!=s?s:xS(e)}const LS=(e,t)=>{let n=mS().map((e=>e.toString())),r=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=Xw[e];return i&&i.isShared&&((Xw.restoreStructures||(Xw.restoreStructures=[]))[e]=i),Xw[e]=n,n.read=vS(n,r),n.read()};rS[0]=()=>{},rS[0].noBuffer=!0,rS[101]=()=>{let e=mS();return(globalThis[e[0]]||Error)(e[1])},rS[105]=e=>{let t=Zw.getUint32(Ww-4);Kw||(Kw=new Map);let n,r=Vw[Ww];n=r>=144&&r<160||220==r||221==r?[]:{};let i={target:n};Kw.set(t,i);let o=mS();return i.used?Object.assign(n,o):(i.target=o,o)},rS[112]=e=>{let t=Zw.getUint32(Ww-4),n=Kw.get(t);return n.used=!0,n.target},rS[115]=()=>new Set(mS());const zS=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map((e=>e+"Array"));rS[116]=e=>{let t=e[0],n=zS[t];if(!n)throw new Error("Could not find typed array for code "+t);return new globalThis[n](Uint8Array.prototype.slice.call(e,1).buffer)},rS[120]=()=>{let e=mS();return new RegExp(e[0],e[1])};const FS=[];function NS(e){cS&&cS();let t=Gw,n=Ww,r=$w,i=tS,o=nS,a=Qw,s=Jw,l=Kw,c=qw,u=new Uint8Array(Vw.slice(0,Gw)),d=Xw,h=Xw.slice(0,Xw.length),f=eS,p=uS,m=e();return Gw=t,Ww=n,$w=r,tS=i,nS=o,Qw=a,Jw=s,Kw=l,qw=c,Vw=u,uS=p,(Xw=d).splice(0,Xw.length,...h),eS=f,Zw=new DataView(Vw.buffer,Vw.byteOffset,Vw.byteLength),m}function BS(){Vw=null,Kw=null,Xw=null}rS[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=Ww;return Ww+=t-e.length,qw=FS,(qw=[OS(),OS()]).position0=0,qw.position1=0,qw.postBundlePosition=Ww,Ww=n,mS()},rS[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");const US=new Array(147);for(let n=0;n<256;n++)US[n]=+("1e"+Math.floor(45.15-.30103*n));var jS=new hS({useRecords:!1});const HS=jS.unpack;jS.unpackMultiple,jS.unpack;let VS,GS,WS,YS=new Float32Array(1);new Uint8Array(YS.buffer,0,4);try{VS=new TextEncoder}catch($ce){}const XS="undefined"!==typeof Buffer,QS=XS?function(e){return Buffer.allocUnsafeSlow(e)}:Uint8Array,qS=XS?Buffer:Uint8Array,KS=XS?4294967296:2144337920;let ZS,JS,$S,eE,tE,nE=0,rE=null;const iE=/[\u0080-\uFFFF]/,oE=Symbol("record-id");class aE extends hS{constructor(e){let t,n,r,i;super(e),this.offset=0;let o=qS.prototype.utf8Write?function(e,t){return ZS.utf8Write(e,t,4294967295)}:!(!VS||!VS.encodeInto)&&function(e,t){return VS.encodeInto(e,ZS.subarray(t)).written},a=this;e||(e={});let s=e&&e.sequential,l=e.structures||e.saveStructures,c=e.maxSharedStructures;if(null==c&&(c=l?32:0),c>8160)throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&void 0==e.moreTypes&&(this.moreTypes=!0);let u=e.maxOwnStructures;null==u&&(u=l?32:64),this.structures||0==e.useRecords||(this.structures=[]);let d=c>32||u+c>64,h=c+64,f=c+u+64;if(f>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let p=[],m=0,g=0;this.pack=this.encode=function(e,o){if(ZS||(ZS=new QS(8192),$S=ZS.dataView||(ZS.dataView=new DataView(ZS.buffer,0,8192)),nE=0),eE=ZS.length-10,eE-nE<2048?(ZS=new QS(ZS.length),$S=ZS.dataView||(ZS.dataView=new DataView(ZS.buffer,0,ZS.length)),eE=ZS.length-10,nE=0):nE=nE+7&2147483640,t=nE,i=a.structuredClone?new Map:null,a.bundleStrings&&"string"!==typeof e?(rE=[],rE.size=1/0):rE=null,r=a.structures,r){r.uninitialized&&(r=a._mergeStructures(a.getStructures()));let e=r.sharedLength||0;if(e>c)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let t=0;t<e;t++){let e=r[t];if(!e)continue;let n,i=r.transitions;for(let t=0,r=e.length;t<r;t++){let r=e[t];n=i[r],n||(n=i[r]=Object.create(null)),i=n}i[oE]=t+64}this.lastNamedStructuresLength=e}s||(r.nextId=e+64)}n&&(n=!1);try{a.randomAccessStructure&&e.constructor&&e.constructor===Object?E(e):y(e);let n=rE;if(rE&&uE(t,y,0),i&&i.idsToInsert){let e=i.idsToInsert.sort(((e,t)=>e.offset>t.offset?1:-1)),r=e.length,o=-1;for(;n&&r>0;){let i=e[--r].offset+t;i<n.stringsPosition+t&&-1===o&&(o=0),i>n.position+t?o>=0&&(o+=6):(o>=0&&($S.setUint32(n.position+t,$S.getUint32(n.position+t)+o),o=-1),n=n.previous,r++)}o>=0&&n&&$S.setUint32(n.position+t,$S.getUint32(n.position+t)+o),nE+=6*e.length,nE>eE&&x(nE),a.offset=nE;let s=function(e,t){let n,r=6*t.length,i=e.length-r;for(;n=t.pop();){let t=n.offset,o=n.id;e.copyWithin(t+r,t,i),r-=6;let a=t+r;e[a++]=214,e[a++]=105,e[a++]=o>>24,e[a++]=o>>16&255,e[a++]=o>>8&255,e[a++]=255&o,i=t}return e}(ZS.subarray(t,nE),e);return i=null,s}return a.offset=nE,o&yE?(ZS.start=t,ZS.end=nE,ZS):ZS.subarray(t,nE)}finally{if(r){g<10&&g++;let i=r.sharedLength||0;if(r.length>i&&(r.length=i),m>1e4)r.transitions=null,g=0,m=0,p.length>0&&(p=[]);else if(p.length>0&&!s){for(let e=0,t=p.length;e<t;e++)p[e][oE]=0;p=[]}if(n&&a.saveStructures){let n=ZS.subarray(t,nE),o=dE(r,a);return!1===a.saveStructures(o,o.isCompatible)?a.pack(e):(a.lastNamedStructuresLength=i,n)}}o&bE&&(nE=t)}};const v=e=>{var t=e.length;t<16?ZS[nE++]=144|t:t<65536?(ZS[nE++]=220,ZS[nE++]=t>>8,ZS[nE++]=255&t):(ZS[nE++]=221,$S.setUint32(nE,t),nE+=4);for(let n=0;n<t;n++)y(e[n])},y=e=>{nE>eE&&(ZS=x(nE));var n,r=typeof e;if("string"===r){let r,i=e.length;if(rE&&i>=4&&i<4096){if((rE.size+=i)>21760){let e,n,r=(rE[0]?3*rE[0].length+rE[1].length:0)+10;nE+r>eE&&(ZS=x(nE+r)),rE.position?(n=rE,ZS[nE]=200,nE+=3,ZS[nE++]=98,e=nE-t,nE+=4,uE(t,y,0),$S.setUint16(e+t-3,nE-t-e)):(ZS[nE++]=214,ZS[nE++]=98,e=nE-t,nE+=4),rE=["",""],rE.previous=n,rE.size=0,rE.position=e}let n=iE.test(e);return rE[n?0:1]+=e,ZS[nE++]=193,void y(n?-i:i)}r=i<32?1:i<256?2:i<65536?3:5;let a=3*i;if(nE+a>eE&&(ZS=x(nE+a)),i<64||!o){let t,o,a,s=nE+r;for(t=0;t<i;t++)o=e.charCodeAt(t),o<128?ZS[s++]=o:o<2048?(ZS[s++]=o>>6|192,ZS[s++]=63&o|128):55296===(64512&o)&&56320===(64512&(a=e.charCodeAt(t+1)))?(o=65536+((1023&o)<<10)+(1023&a),t++,ZS[s++]=o>>18|240,ZS[s++]=o>>12&63|128,ZS[s++]=o>>6&63|128,ZS[s++]=63&o|128):(ZS[s++]=o>>12|224,ZS[s++]=o>>6&63|128,ZS[s++]=63&o|128);n=s-nE-r}else n=o(e,nE+r);n<32?ZS[nE++]=160|n:n<256?(r<2&&ZS.copyWithin(nE+2,nE+1,nE+1+n),ZS[nE++]=217,ZS[nE++]=n):n<65536?(r<3&&ZS.copyWithin(nE+3,nE+2,nE+2+n),ZS[nE++]=218,ZS[nE++]=n>>8,ZS[nE++]=255&n):(r<5&&ZS.copyWithin(nE+5,nE+3,nE+3+n),ZS[nE++]=219,$S.setUint32(nE,n),nE+=4),nE+=n}else if("number"===r)if(e>>>0===e)e<32||e<128&&!1===this.useRecords||e<64&&!this.randomAccessStructure?ZS[nE++]=e:e<256?(ZS[nE++]=204,ZS[nE++]=e):e<65536?(ZS[nE++]=205,ZS[nE++]=e>>8,ZS[nE++]=255&e):(ZS[nE++]=206,$S.setUint32(nE,e),nE+=4);else if(e>>0===e)e>=-32?ZS[nE++]=256+e:e>=-128?(ZS[nE++]=208,ZS[nE++]=e+256):e>=-32768?(ZS[nE++]=209,$S.setInt16(nE,e),nE+=2):(ZS[nE++]=210,$S.setInt32(nE,e),nE+=4);else{let t;if((t=this.useFloat32)>0&&e<4294967296&&e>=-2147483648){let n;if(ZS[nE++]=202,$S.setFloat32(nE,e),t<4||(n=e*US[(127&ZS[nE])<<1|ZS[nE+1]>>7])>>0===n)return void(nE+=4);nE--}ZS[nE++]=203,$S.setFloat64(nE,e),nE+=8}else if("object"===r)if(e){if(i){let n=i.get(e);if(n){if(!n.id){let e=i.idsToInsert||(i.idsToInsert=[]);n.id=e.push(n)}return ZS[nE++]=214,ZS[nE++]=112,$S.setUint32(nE,n.id),void(nE+=4)}i.set(e,{offset:nE-t})}let r=e.constructor;if(r===Object)b(e,!0);else if(r===Array)v(e);else if(r===Map){(n=e.size)<16?ZS[nE++]=128|n:n<65536?(ZS[nE++]=222,ZS[nE++]=n>>8,ZS[nE++]=255&n):(ZS[nE++]=223,$S.setUint32(nE,n),nE+=4);for(let[t,n]of e)y(t),y(n)}else{for(let t=0,n=GS.length;t<n;t++){if(e instanceof WS[t]){let n=GS[t];if(n.write){n.type&&(ZS[nE++]=212,ZS[nE++]=n.type,ZS[nE++]=0);let t=n.write.call(this,e);return void(t===e?Array.isArray(e)?v(e):b(e):y(t))}let r,i=ZS,o=$S,a=nE;ZS=null;try{r=n.pack.call(this,e,(e=>(ZS=i,i=null,nE+=e,nE>eE&&x(nE),{target:ZS,targetView:$S,position:nE-e})),y)}finally{i&&(ZS=i,$S=o,nE=a,eE=ZS.length-10)}return void(r&&(r.length+nE>eE&&x(r.length+nE),nE=cE(r,ZS,nE,n.type)))}}Array.isArray(e)?v(e):b(e,!e.hasOwnProperty)}}else ZS[nE++]=192;else if("boolean"===r)ZS[nE++]=e?195:194;else if("bigint"===r){if(e<BigInt(1)<<BigInt(63)&&e>=-(BigInt(1)<<BigInt(63)))ZS[nE++]=211,$S.setBigInt64(nE,e);else if(e<BigInt(1)<<BigInt(64)&&e>0)ZS[nE++]=207,$S.setBigUint64(nE,e);else{if(!this.largeBigIntToFloat)throw new RangeError(e+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");ZS[nE++]=203,$S.setFloat64(nE,Number(e))}nE+=8}else if("undefined"===r)this.encodeUndefinedAsNil?ZS[nE++]=192:(ZS[nE++]=212,ZS[nE++]=0,ZS[nE++]=0);else{if("function"!==r)throw new Error("Unknown type: "+r);y(this.writeFunction&&this.writeFunction())}},b=!1===this.useRecords?this.variableMapSize?e=>{let t,n=Object.keys(e),r=n.length;r<16?ZS[nE++]=128|r:r<65536?(ZS[nE++]=222,ZS[nE++]=r>>8,ZS[nE++]=255&r):(ZS[nE++]=223,$S.setUint32(nE,r),nE+=4);for(let i=0;i<r;i++)y(t=n[i]),y(e[t])}:(e,n)=>{ZS[nE++]=222;let r=nE-t;nE+=2;let i=0;for(let t in e)(n||e.hasOwnProperty(t))&&(y(t),y(e[t]),i++);ZS[r+++t]=i>>8,ZS[r+t]=255&i}:e.progressiveRecords&&!d?(e,n)=>{let i,o,a=r.transitions||(r.transitions=Object.create(null)),s=nE++-t;for(let l in e)if(n||e.hasOwnProperty(l)){if(i=a[l],i)a=i;else{let n=Object.keys(e),c=a;a=r.transitions;let u=0;for(let e=0,t=n.length;e<t;e++){let t=n[e];i=a[t],i||(i=a[t]=Object.create(null),u++),a=i}s+t+1==nE?(nE--,w(a,n,u)):S(a,n,s,u),o=!0,a=c[l]}y(e[l])}if(!o){let n=a[oE];n?ZS[s+t]=n:S(a,Object.keys(e),s,0)}}:(e,t)=>{let n,i=r.transitions||(r.transitions=Object.create(null)),o=0;for(let r in e)(t||e.hasOwnProperty(r))&&(n=i[r],n||(n=i[r]=Object.create(null),o++),i=n);let a=i[oE];a?a>=96&&d?(ZS[nE++]=96+(31&(a-=96)),ZS[nE++]=a>>5):ZS[nE++]=a:w(i,i.__keys__||Object.keys(e),o);for(let r in e)(t||e.hasOwnProperty(r))&&y(e[r])},x=e=>{let n;if(e>16777216){if(e-t>KS)throw new Error("Packed buffer would be larger than maximum buffer size");n=Math.min(KS,4096*Math.round(Math.max((e-t)*(e>67108864?1.25:2),4194304)/4096))}else n=1+(Math.max(e-t<<2,ZS.length-1)>>12)<<12;let r=new QS(n);return $S=r.dataView||(r.dataView=new DataView(r.buffer,0,n)),e=Math.min(e,ZS.length),ZS.copy?ZS.copy(r,0,t,e):r.set(ZS.slice(t,e)),nE-=t,t=0,eE=r.length-10,ZS=r},w=(e,t,i)=>{let o=r.nextId;o||(o=64),o<h&&this.shouldShareStructure&&!this.shouldShareStructure(t)?(o=r.nextOwnId,o<f||(o=h),r.nextOwnId=o+1):(o>=f&&(o=h),r.nextId=o+1);let a=t.highByte=o>=96&&d?o-96>>5:-1;e[oE]=o,e.__keys__=t,r[o-64]=t,o<h?(t.isShared=!0,r.sharedLength=o-63,n=!0,a>=0?(ZS[nE++]=96+(31&o),ZS[nE++]=a):ZS[nE++]=o):(a>=0?(ZS[nE++]=213,ZS[nE++]=114,ZS[nE++]=96+(31&o),ZS[nE++]=a):(ZS[nE++]=212,ZS[nE++]=114,ZS[nE++]=o),i&&(m+=g*i),p.length>=u&&(p.shift()[oE]=0),p.push(e),y(t))},S=(e,n,r,i)=>{let o=ZS,a=nE,s=eE,l=t;ZS=JS,nE=0,t=0,ZS||(JS=ZS=new QS(8192)),eE=ZS.length-10,w(e,n,i),JS=ZS;let c=nE;if(ZS=o,nE=a,eE=s,t=l,c>1){let e=nE+c-1;e>eE&&x(e);let n=r+t;ZS.copyWithin(n+c,n+1,nE),ZS.set(JS.slice(0,c),n),nE=e}else ZS[r+t]=JS[0]},E=(e,t)=>{let i=tE(e,ZS,nE,r,x,((e,t,r)=>{if(r)return n=!0;nE=t;let i=ZS;return y(e),i!==ZS?{position:nE,targetView:$S,target:ZS}:nE}),this);if(0===i)return b(e,!0);nE=i}}useBuffer(e){ZS=e,$S=new DataView(ZS.buffer,ZS.byteOffset,ZS.byteLength),nE=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}function sE(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:o,position:a}=n(4+i);o[a++]=199,o[a++]=i+1}else if(i+1<65536){var{target:o,position:a}=n(5+i);o[a++]=200,o[a++]=i+1>>8,o[a++]=i+1&255}else{var{target:o,position:a,targetView:s}=n(7+i);o[a++]=201,s.setUint32(a,i+1),a+=4}o[a++]=116,o[a++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a)}function lE(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=255&n}else{var{target:r,position:i,targetView:o}=t(n+5);r[i++]=198,o.setUint32(i,n),i+=4}r.set(e,i)}function cE(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=255&i):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=255&i)}return t[n++]=r,t.set(e,n),n+=i}function uE(e,t,n){if(rE.length>0){$S.setUint32(rE.position+e,nE+n-rE.position-e),rE.stringsPosition=nE-e;let r=rE;rE=null,t(r[0]),t(r[1])}}function dE(e,t){return e.isCompatible=e=>{let n=!e||(t.lastNamedStructuresLength||0)===e.length;return n||t._mergeStructures(e),n},e}WS=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,oS],GS=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&r>=0&&r<4294967296){let{target:e,targetView:n,position:i}=t(6);e[i++]=214,e[i++]=255,n.setUint32(i,r)}else if(r>0&&r<4294967296){let{target:n,targetView:i,position:o}=t(10);n[o++]=215,n[o++]=255,i.setUint32(o,4e6*e.getMilliseconds()+(r/1e3/4294967296>>0)),i.setUint32(o+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:e,targetView:r,position:i}=t(3);e[i++]=212,e[i++]=255,e[i++]=255}else{let{target:n,targetView:i,position:o}=t(15);n[o++]=199,n[o++]=12,n[o++]=255,i.setUint32(o,1e6*e.getMilliseconds()),i.setBigInt64(o+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){let r=Array.from(e),{target:i,position:o}=t(this.moreTypes?3:0);this.moreTypes&&(i[o++]=212,i[o++]=115,i[o++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?sE(e,16,t):lE(XS?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==qS&&this.moreTypes?sE(e,zS.indexOf(n.name),t):lE(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];let hE=new aE({useRecords:!1});const fE=hE.pack,{NEVER:pE,ALWAYS:mE,DECIMAL_ROUND:gE,DECIMAL_FIT:vE}=(hE.pack,{NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4}),yE=512,bE=1024;var xE=n(1),wE=n.n(xE);const SE=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}};var EE=n(7),ME=n.n(EE);ME().func.isRequired,ME().arrayOf(ME().oneOfType([ME().element,ME().func])).isRequired;const CE=new Ur,_E=new Ur,TE=[],AE=new Eo;class PE extends gl{constructor(){super(),this.color=new Oi("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return null==(e=this.instance.current)?void 0:e.geometry}raycast(e,t){const n=this.instance.current;if(!n)return;if(!n.geometry||!n.material)return;AE.geometry=n.geometry;const r=n.matrixWorld,i=n.userData.instances.indexOf(this.instanceKey);if(!(-1===i||i>n.count)){n.getMatrixAt(i,CE),_E.multiplyMatrices(r,CE),AE.matrixWorld=_E,n.material instanceof Ci?AE.material.side=n.material.side:AE.material.side=n.material[0].side,AE.raycast(e,TE);for(let e=0,n=TE.length;e<n;e++){const n=TE[e];n.instanceId=i,n.object=this,t.push(n)}TE.length=0}}}const OE=t.createContext(null),DE=new Ur,RE=new Ur,kE=new Ur,IE=new ur,LE=new cr,zE=new ur,FE=t.forwardRef(((e,n)=>{let{context:r,children:i,...o}=e;t.useMemo((()=>Ip({PositionMesh:PE})),[]);const a=t.useRef(),{subscribe:s,getParent:l}=t.useContext(r||OE);return t.useLayoutEffect((()=>s(a)),[]),t.createElement("positionMesh",Gm({instance:l(),instanceKey:a,ref:SE([n,a])},o),i)})),NE=t.forwardRef(((e,n)=>{let{children:r,range:i,limit:o=1e3,frames:a=1/0,...s}=e;const[{context:l,instance:c}]=t.useState((()=>{const e=t.createContext(null);return{context:e,instance:t.forwardRef(((n,r)=>t.createElement(FE,Gm({context:e},n,{ref:r}))))}})),u=t.useRef(null),[d,h]=t.useState([]),[[f,p]]=t.useState((()=>{const e=new Float32Array(16*o);for(let t=0;t<o;t++)kE.identity().toArray(e,16*t);return[e,new Float32Array([...new Array(3*o)].map((()=>1)))]}));t.useEffect((()=>{u.current.instanceMatrix.needsUpdate=!0}));let m=0,g=0;Tm((()=>{if(a===1/0||m<a){u.current.updateMatrix(),u.current.updateMatrixWorld(),DE.copy(u.current.matrixWorld).invert(),g=Math.min(o,void 0!==i?i:o,d.length),u.current.count=g,u.current.instanceMatrix.updateRange.count=16*g,u.current.instanceColor.updateRange.count=3*g;for(let e=0;e<d.length;e++){const t=d[e].current;t.matrixWorld.decompose(IE,LE,zE),RE.compose(IE,LE,zE).premultiply(DE),RE.toArray(f,16*e),u.current.instanceMatrix.needsUpdate=!0,t.color.toArray(p,3*e),u.current.instanceColor.needsUpdate=!0}m++}}));const v=t.useMemo((()=>({getParent:()=>u,subscribe:e=>(h((t=>[...t,e])),()=>h((t=>t.filter((t=>t.current!==e.current)))))})),[]);return t.createElement("instancedMesh",Gm({userData:{instances:d},matrixAutoUpdate:!1,ref:SE([n,u]),args:[null,null,0],raycast:()=>null},s),t.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:f.length/16,array:f,itemSize:16,usage:un}),t.createElement("instancedBufferAttribute",{attach:"instanceColor",count:p.length/3,array:p,itemSize:3,usage:un}),"function"===typeof r?t.createElement(l.Provider,{value:v},r(c)):t.createElement(OE.Provider,{value:v},r))})),BE=new hu(1,1,1,16,1),UE=new nd(1),jE=new Ri({color:15526912}),HE=t.forwardRef((function(e,t){let{show_axes:n=!0,axes_length:r=.5,axes_radius:i=.0125}=e;return(0,Pg.jsx)("group",{ref:t,children:n&&(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)("mesh",{geometry:UE,material:jE,scale:new ur(2.5*i,2.5*i,2.5*i)}),(0,Pg.jsxs)(NE,{geometry:BE,children:[(0,Pg.jsx)("meshBasicMaterial",{}),(0,Pg.jsx)(FE,{rotation:new Kr(0,0,3*Math.PI/2),position:[.5*r,0,0],scale:new ur(i,r,i),color:13369344}),(0,Pg.jsx)(FE,{position:[0,.5*r,0],scale:new ur(i,r,i),color:52224}),(0,Pg.jsx)(FE,{rotation:new Kr(Math.PI/2,0,0),position:[0,0,.5*r],scale:new ur(i,r,i),color:204})]})]})})})),VE=new hu(1,1,1,3,1),GE=t.forwardRef((function(e,t){const n=Math.tan(e.fov/2),r=n*e.aspect;function i(t){return t=t.map((e=>[e[0]*r,e[1]*n,1*e[2]])),[...Array(t.length-1).keys()].map((n=>(0,Pg.jsx)(WE,{radius:.015*e.scale,start:(new ur).fromArray(t[n]).multiplyScalar(e.scale),end:(new ur).fromArray(t[n+1]).multiplyScalar(e.scale),color:e.color},n)))}return(0,Pg.jsx)("group",{ref:t,children:(0,Pg.jsxs)(NE,{limit:9,geometry:VE,children:[(0,Pg.jsx)("meshBasicMaterial",{color:e.color}),i([[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1],[-1,-1,1]]),i([[-1,-1,1],[0,0,0],[1,-1,1]]),i([[-1,1,1],[0,0,0],[1,1,1]]),i([[0,-1.2,1],[0,-.9,1]])]})})}));function WE(e){const t=(new ur).subVectors(e.end,e.start).normalize(),n=new ur(0,1,0),r=(new ur).copy(n).cross(t).normalize(),i=Math.acos(t.dot(n)),o=e.start.distanceTo(e.end),a=(new ur).addVectors(e.start,e.end).divideScalar(2),s=(new cr).setFromAxisAngle(r,i);return(0,Pg.jsx)(Pg.Fragment,{children:(0,Pg.jsx)(FE,{position:a,quaternion:s,scale:[e.radius,o,e.radius]})})}function YE(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function XE(e){return!!e&&!!e[kM]}function QE(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===IM}(e)||Array.isArray(e)||!!e[RM]||!!(null===(t=e.constructor)||void 0===t?void 0:t[RM])||tM(e)||nM(e))}function qE(e,t,n){void 0===n&&(n=!1),0===KE(e)?(n?Object.keys:LM)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function KE(e){var t=e[kM];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:tM(e)?2:nM(e)?3:0}function ZE(e,t){return 2===KE(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function JE(e,t){return 2===KE(e)?e.get(t):e[t]}function $E(e,t,n){var r=KE(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function eM(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function tM(e){return AM&&e instanceof Map}function nM(e){return PM&&e instanceof Set}function rM(e){return e.o||e.t}function iM(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=zM(e);delete t[kM];for(var n=LM(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function oM(e,t){return void 0===t&&(t=!1),sM(e)||XE(e)||!QE(e)||(KE(e)>1&&(e.set=e.add=e.clear=e.delete=aM),Object.freeze(e),t&&qE(e,(function(e,t){return oM(t,!0)}),!0)),e}function aM(){YE(2)}function sM(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function lM(e){var t=FM[e];return t||YE(18,e),t}function cM(){return _M}function uM(e,t){t&&(lM("Patches"),e.u=[],e.s=[],e.v=t)}function dM(e){hM(e),e.p.forEach(pM),e.p=null}function hM(e){e===_M&&(_M=e.l)}function fM(e){return _M={p:[],l:_M,h:e,m:!0,_:0}}function pM(e){var t=e[kM];0===t.i||1===t.i?t.j():t.g=!0}function mM(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||lM("ES5").S(t,e,r),r?(n[kM].P&&(dM(t),YE(4)),QE(e)&&(e=gM(t,e),t.l||yM(t,e)),t.u&&lM("Patches").M(n[kM].t,e,t.u,t.s)):e=gM(t,n,[]),dM(t),t.u&&t.v(t.u,t.s),e!==DM?e:void 0}function gM(e,t,n){if(sM(t))return t;var r=t[kM];if(!r)return qE(t,(function(i,o){return vM(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return yM(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=iM(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),qE(o,(function(t,o){return vM(e,r,i,t,o,n,a)})),yM(e,i,!1),n&&e.u&&lM("Patches").N(r,n,e.u,e.s)}return r.o}function vM(e,t,n,r,i,o,a){if(XE(i)){var s=gM(e,i,o&&t&&3!==t.i&&!ZE(t.R,r)?o.concat(r):void 0);if($E(n,r,s),!XE(s))return;e.m=!1}else a&&n.add(i);if(QE(i)&&!sM(i)){if(!e.h.D&&e._<1)return;gM(e,i),t&&t.A.l||yM(e,i)}}function yM(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&oM(t,n)}function bM(e,t){var n=e[kM];return(n?rM(n):e)[t]}function xM(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function wM(e){e.P||(e.P=!0,e.l&&wM(e.l))}function SM(e){e.o||(e.o=iM(e.t))}function EM(e,t,n){var r=tM(t)?lM("MapSet").F(t,n):nM(t)?lM("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:cM(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=NM;n&&(i=[r],o=BM);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):lM("ES5").J(t,n);return(n?n.A:cM()).p.push(r),r}function MM(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return iM(e)}var CM,_M,TM="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),AM="undefined"!=typeof Map,PM="undefined"!=typeof Set,OM="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,DM=TM?Symbol.for("immer-nothing"):((CM={})["immer-nothing"]=!0,CM),RM=TM?Symbol.for("immer-draftable"):"__$immer_draftable",kM=TM?Symbol.for("immer-state"):"__$immer_state",IM=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),LM="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,zM=Object.getOwnPropertyDescriptors||function(e){var t={};return LM(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},FM={},NM={get:function(e,t){if(t===kM)return e;var n=rM(e);if(!ZE(n,t))return function(e,t,n){var r,i=xM(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!QE(r)?r:r===bM(e.t,t)?(SM(e),e.o[t]=EM(e.A.h,r,e)):r},has:function(e,t){return t in rM(e)},ownKeys:function(e){return Reflect.ownKeys(rM(e))},set:function(e,t,n){var r=xM(rM(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=bM(rM(e),t),o=null==i?void 0:i[kM];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(eM(n,i)&&(void 0!==n||ZE(e.t,t)))return!0;SM(e),wM(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==bM(e.t,t)||t in e.t?(e.R[t]=!1,SM(e),wM(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=rM(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){YE(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){YE(12)}},BM={};qE(NM,(function(e,t){BM[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),BM.deleteProperty=function(e,t){return BM.set.call(this,e,t,void 0)},BM.set=function(e,t,n){return NM.set.call(this,e[0],t,n,e[0])};var UM=function(){function e(e){var t=this;this.O=OM,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&YE(6),void 0!==r&&"function"!=typeof r&&YE(7),QE(e)){var s=fM(t),l=EM(t,e,void 0),c=!0;try{a=n(l),c=!1}finally{c?dM(s):hM(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return uM(s,r),mM(e,s)}),(function(e){throw dM(s),e})):(uM(s,r),mM(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===DM&&(a=void 0),t.D&&oM(a,!0),r){var u=[],d=[];lM("Patches").M(e,a,u,d),r(u,d)}return a}YE(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){QE(e)||YE(8),XE(e)&&(e=function(e){return XE(e)||YE(22,e),function e(t){if(!QE(t))return t;var n,r=t[kM],i=KE(t);if(r){if(!r.P&&(r.i<4||!lM("ES5").K(r)))return r.t;r.I=!0,n=MM(t,i),r.I=!1}else n=MM(t,i);return qE(n,(function(t,i){r&&JE(r.t,t)===i||$E(n,t,e(i))})),3===i?new Set(n):n}(e)}(e));var t=fM(this),n=EM(this,e,void 0);return n[kM].C=!0,hM(t),n},t.finishDraft=function(e,t){var n=(e&&e[kM]).A;return uM(n,t),mM(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!OM&&YE(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=lM("Patches").$;return XE(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),jM=new UM,HM=jM.produce;jM.produceWithPatches.bind(jM),jM.setAutoFreeze.bind(jM),jM.setUseProxies.bind(jM),jM.applyPatches.bind(jM),jM.createDraft.bind(jM),jM.finishDraft.bind(jM);const VM=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,o),o},GM=e=>e?VM(e):VM;var WM=n(327);const{useSyncExternalStoreWithSelector:YM}=WM;const XM=e=>{"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n="function"===typeof e?GM(e):e,r=(e,r)=>function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getState,r=arguments.length>2?arguments[2]:void 0;const i=YM(e.subscribe,e.getState,e.getServerState||e.getState,n,r);return(0,t.useDebugValue)(i),i}(n,e,r);return Object.assign(r,n),r},QM=e=>e?XM(e):XM;const qM=e=>(t,n,r)=>{const i=r.subscribe;r.subscribe=(e,t,n)=>{let o=e;if(t){const i=(null==n?void 0:n.equalityFn)||Object.is;let a=e(r.getState());o=n=>{const r=e(n);if(!i(a,r)){const e=a;t(a=r,e)}},(null==n?void 0:n.fireImmediately)&&t(a,a)}return i(o)};return e(t,n,r)};const KM=e=>(t,n,r)=>(r.setState=function(e,n){const r="function"===typeof e?HM(e):e;for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return t(r,n,...o)},e(r.setState,n,r));var ZM=n(250);const JM=new ur,$M=new ur,eC=new ur;function tC(e,t,n){const r=JM.setFromMatrixPosition(e.matrixWorld);r.project(t);const i=n.width/2,o=n.height/2;return[r.x*i+i,-r.y*o+o]}const nC=e=>Math.abs(e)<1e-10?0:e;function rC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(";for(let i=0;16!==i;i++)r+=nC(t[i]*e.elements[i])+(15!==i?",":")");return n+r}const iC=(oC=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>rC(e,oC));var oC;const aC=(e,t)=>rC(e,(e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1])(t),"translate(-50%,-50%)");const sC=t.forwardRef(((e,n)=>{let{children:r,eps:i=.001,style:o,className:a,prepend:s,center:l,fullscreen:c,portal:u,distanceFactor:d,sprite:h=!1,transform:f=!1,occlude:p,onOcclude:m,castShadow:g,receiveShadow:v,material:b,geometry:x,zIndexRange:w=[16777271,0],calculatePosition:S=tC,as:E="div",wrapperClass:M,pointerEvents:C="auto",..._}=e;const{gl:T,camera:A,scene:P,size:O,raycaster:D,events:R,viewport:k}=_m(),[I]=t.useState((()=>document.createElement(E))),L=t.useRef(),z=t.useRef(null),F=t.useRef(0),N=t.useRef([0,0]),B=t.useRef(null),U=t.useRef(null),j=(null==u?void 0:u.current)||R.connected||T.domElement.parentNode,H=t.useRef(null),V=t.useRef(!1),G=t.useMemo((()=>p&&"blending"!==p||Array.isArray(p)&&p.length&&function(e){return e&&"object"===typeof e&&"current"in e}(p[0])),[p]);t.useLayoutEffect((()=>{const e=T.domElement;p&&"blending"===p?(e.style.zIndex=`${Math.floor(w[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[p]),t.useLayoutEffect((()=>{if(z.current){const e=L.current=ZM.s(I);if(P.updateMatrixWorld(),f)I.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const e=S(z.current,A,O);I.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return j&&(s?j.prepend(I):j.appendChild(I)),()=>{j&&j.removeChild(I),e.unmount()}}}),[j,f]),t.useLayoutEffect((()=>{M&&(I.className=M)}),[M]);const W=t.useMemo((()=>f?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:l?"translate3d(-50%,-50%,0)":"none",...c&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...o}),[o,l,c,O,f]),Y=t.useMemo((()=>({position:"absolute",pointerEvents:C})),[C]);t.useLayoutEffect((()=>{var e,i;(V.current=!1,f)?null==(e=L.current)||e.render(t.createElement("div",{ref:B,style:W},t.createElement("div",{ref:U,style:Y},t.createElement("div",{ref:n,className:a,style:o,children:r})))):null==(i=L.current)||i.render(t.createElement("div",{ref:n,style:W,className:a,children:r}))}));const X=t.useRef(!0);Tm((e=>{if(z.current){A.updateMatrixWorld(),z.current.updateWorldMatrix(!0,!1);const e=f?N.current:S(z.current,A,O);if(f||Math.abs(F.current-A.zoom)>i||Math.abs(N.current[0]-e[0])>i||Math.abs(N.current[1]-e[1])>i){const t=function(e,t){const n=JM.setFromMatrixPosition(e.matrixWorld),r=$M.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),o=t.getWorldDirection(eC);return i.angleTo(o)>Math.PI/2}(z.current,A);let n=!1;G&&("blending"!==p?n=[P]:Array.isArray(p)&&(n=p.map((e=>e.current))));const r=X.current;if(n){const e=function(e,t,n,r){const i=JM.setFromMatrixPosition(e.matrixWorld),o=i.clone();o.project(t),n.setFromCamera(o,t);const a=n.intersectObjects(r,!0);if(a.length){const e=a[0].distance;return i.distanceTo(n.ray.origin)<e}return!0}(z.current,A,D,n);X.current=e&&!t}else X.current=!t;r!==X.current&&(m?m(!X.current):I.style.display=X.current?"block":"none");const i=Math.floor(w[0]/2),o=p?G?[w[0],i]:[i-1,0]:w;if(I.style.zIndex=`${function(e,t,n){if(t instanceof Ro||t instanceof ra){const r=JM.setFromMatrixPosition(e.matrixWorld),i=$M.setFromMatrixPosition(t.matrixWorld),o=r.distanceTo(i),a=(n[1]-n[0])/(t.far-t.near),s=n[1]-a*t.far;return Math.round(a*o+s)}}(z.current,A,o)}`,f){const[e,t]=[O.width/2,O.height/2],n=A.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:i,left:o,bottom:a,right:s}=A,l=iC(A.matrixWorldInverse),c=r?`scale(${n})translate(${nC(-(s+o)/2)}px,${nC((i+a)/2)}px)`:`translateZ(${n}px)`;let u=z.current.matrixWorld;h&&(u=A.matrixWorldInverse.clone().transpose().copyPosition(u).scale(z.current.scale),u.elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),I.style.width=O.width+"px",I.style.height=O.height+"px",I.style.perspective=r?"":`${n}px`,B.current&&U.current&&(B.current.style.transform=`${c}${l}translate(${e}px,${t}px)`,U.current.style.transform=aC(u,1/((d||10)/400)))}else{const t=void 0===d?1:function(e,t){if(t instanceof ra)return t.zoom;if(t instanceof Ro){const n=JM.setFromMatrixPosition(e.matrixWorld),r=$M.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,o=n.distanceTo(r);return 1/(2*Math.tan(i/2)*o)}return 1}(z.current,A)*d;I.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}N.current=e,F.current=A.zoom}}if(!G&&H.current&&!V.current)if(f){if(B.current){const e=B.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){const{isOrthographicCamera:t}=A;if(t||x)_.scale&&(Array.isArray(_.scale)?_.scale instanceof ur?H.current.scale.copy(_.scale.clone().divideScalar(1)):H.current.scale.set(1/_.scale[0],1/_.scale[1],1/_.scale[2]):H.current.scale.setScalar(1/_.scale));else{const t=(d||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;H.current.scale.set(n,r,1)}V.current=!0}}}else{const t=I.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){const e=1/k.factor,n=t.clientWidth*e,r=t.clientHeight*e;H.current.scale.set(n,r,1),V.current=!0}H.current.lookAt(e.camera.position)}}));const Q=t.useMemo((()=>({vertexShader:f?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom" \n            is false. \n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n            \n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "})),[f]);return t.createElement("group",Gm({},_,{ref:z}),p&&!G&&t.createElement("mesh",{castShadow:g,receiveShadow:v,ref:H},x||t.createElement("planeGeometry",null),b||t.createElement("shaderMaterial",{side:y,vertexShader:Q.vertexShader,fragmentShader:Q.fragmentShader})))}));var lC=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),cC=Math.abs,uC=String.fromCharCode,dC=Object.assign;function hC(e){return e.trim()}function fC(e,t,n){return e.replace(t,n)}function pC(e,t){return e.indexOf(t)}function mC(e,t){return 0|e.charCodeAt(t)}function gC(e,t,n){return e.slice(t,n)}function vC(e){return e.length}function yC(e){return e.length}function bC(e,t){return t.push(e),e}var xC=1,wC=1,SC=0,EC=0,MC=0,CC="";function _C(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:xC,column:wC,length:a,return:""}}function TC(e,t){return dC(_C("",null,null,"",null,null,0),e,{length:-e.length},t)}function AC(){return MC=EC>0?mC(CC,--EC):0,wC--,10===MC&&(wC=1,xC--),MC}function PC(){return MC=EC<SC?mC(CC,EC++):0,wC++,10===MC&&(wC=1,xC++),MC}function OC(){return mC(CC,EC)}function DC(){return EC}function RC(e,t){return gC(CC,e,t)}function kC(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IC(e){return xC=wC=1,SC=vC(CC=e),EC=0,[]}function LC(e){return CC="",e}function zC(e){return hC(RC(EC-1,BC(91===e?e+2:40===e?e+1:e)))}function FC(e){for(;(MC=OC())&&MC<33;)PC();return kC(e)>2||kC(MC)>3?"":" "}function NC(e,t){for(;--t&&PC()&&!(MC<48||MC>102||MC>57&&MC<65||MC>70&&MC<97););return RC(e,DC()+(t<6&&32==OC()&&32==PC()))}function BC(e){for(;PC();)switch(MC){case e:return EC;case 34:case 39:34!==e&&39!==e&&BC(MC);break;case 40:41===e&&BC(e);break;case 92:PC()}return EC}function UC(e,t){for(;PC()&&e+MC!==57&&(e+MC!==84||47!==OC()););return"/*"+RC(t,EC-1)+"*"+uC(47===e?e:PC())}function jC(e){for(;!kC(OC());)PC();return RC(e,EC)}var HC="-ms-",VC="-moz-",GC="-webkit-",WC="comm",YC="rule",XC="decl",QC="@keyframes";function qC(e,t){for(var n="",r=yC(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function KC(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case XC:return e.return=e.return||e.value;case WC:return"";case QC:return e.return=e.value+"{"+qC(e.children,r)+"}";case YC:e.value=e.props.join(",")}return vC(n=qC(e.children,r))?e.return=e.value+"{"+n+"}":""}function ZC(e){return LC(JC("",null,null,null,[""],e=IC(e),0,[0],e))}function JC(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",x=i,w=o,S=r,E=b;g;)switch(p=y,y=PC()){case 40:if(108!=p&&58==mC(E,d-1)){-1!=pC(E+=fC(zC(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:E+=zC(y);break;case 9:case 10:case 13:case 32:E+=FC(p);break;case 92:E+=NC(DC()-1,7);continue;case 47:switch(OC()){case 42:case 47:bC(e_(UC(PC(),DC()),t,n),l);break;default:E+="/"}break;case 123*m:s[c++]=vC(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(E=fC(E,/\f/g,"")),f>0&&vC(E)-d&&bC(f>32?t_(E+";",r,n,d-1):t_(fC(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(bC(S=$C(E,t,n,c,u,i,s,b,x=[],w=[],d),o),123===y)if(0===u)JC(E,t,S,S,x,o,d,s,w);else switch(99===h&&110===mC(E,3)?100:h){case 100:case 108:case 109:case 115:JC(e,S,S,r&&bC($C(e,S,S,0,0,i,s,b,i,x=[],d),w),i,w,d,s,r?x:w);break;default:JC(E,S,S,S,[""],w,0,s,w)}}c=u=f=0,m=v=1,b=E="",d=a;break;case 58:d=1+vC(E),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==AC())continue;switch(E+=uC(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:s[c++]=(vC(E)-1)*v,v=1;break;case 64:45===OC()&&(E+=zC(PC())),h=OC(),u=d=vC(b=E+=jC(DC())),y++;break;case 45:45===p&&2==vC(E)&&(m=0)}}return o}function $C(e,t,n,r,i,o,a,s,l,c,u){for(var d=i-1,h=0===i?o:[""],f=yC(h),p=0,m=0,g=0;p<r;++p)for(var v=0,y=gC(e,d+1,d=cC(m=a[p])),b=e;v<f;++v)(b=hC(m>0?h[v]+" "+y:fC(y,/&\f/g,h[v])))&&(l[g++]=b);return _C(e,t,n,0===i?YC:s,l,c,u)}function e_(e,t,n){return _C(e,t,n,WC,uC(MC),gC(e,2,-2),0)}function t_(e,t,n,r){return _C(e,t,n,XC,gC(e,0,r),gC(e,r+1,-1),r)}var n_=function(e,t,n){for(var r=0,i=0;r=i,i=OC(),38===r&&12===i&&(t[n]=1),!kC(i);)PC();return RC(e,EC)},r_=function(e,t){return LC(function(e,t){var n=-1,r=44;do{switch(kC(r)){case 0:38===r&&12===OC()&&(t[n]=1),e[n]+=n_(EC-1,t,n);break;case 2:e[n]+=zC(r);break;case 4:if(44===r){e[++n]=58===OC()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=uC(r)}}while(r=PC());return e}(IC(e),t))},i_=new WeakMap,o_=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||i_.get(n))&&!r){i_.set(e,!0);for(var i=[],o=r_(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},a_=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function s_(e,t){switch(function(e,t){return 45^mC(e,0)?(((t<<2^mC(e,0))<<2^mC(e,1))<<2^mC(e,2))<<2^mC(e,3):0}(e,t)){case 5103:return GC+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return GC+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return GC+e+VC+e+HC+e+e;case 6828:case 4268:return GC+e+HC+e+e;case 6165:return GC+e+HC+"flex-"+e+e;case 5187:return GC+e+fC(e,/(\w+).+(:[^]+)/,GC+"box-$1$2"+HC+"flex-$1$2")+e;case 5443:return GC+e+HC+"flex-item-"+fC(e,/flex-|-self/,"")+e;case 4675:return GC+e+HC+"flex-line-pack"+fC(e,/align-content|flex-|-self/,"")+e;case 5548:return GC+e+HC+fC(e,"shrink","negative")+e;case 5292:return GC+e+HC+fC(e,"basis","preferred-size")+e;case 6060:return GC+"box-"+fC(e,"-grow","")+GC+e+HC+fC(e,"grow","positive")+e;case 4554:return GC+fC(e,/([^-])(transform)/g,"$1"+GC+"$2")+e;case 6187:return fC(fC(fC(e,/(zoom-|grab)/,GC+"$1"),/(image-set)/,GC+"$1"),e,"")+e;case 5495:case 3959:return fC(e,/(image-set\([^]*)/,GC+"$1$`$1");case 4968:return fC(fC(e,/(.+:)(flex-)?(.*)/,GC+"box-pack:$3"+HC+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+GC+e+e;case 4095:case 3583:case 4068:case 2532:return fC(e,/(.+)-inline(.+)/,GC+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vC(e)-1-t>6)switch(mC(e,t+1)){case 109:if(45!==mC(e,t+4))break;case 102:return fC(e,/(.+:)(.+)-([^]+)/,"$1"+GC+"$2-$3$1"+VC+(108==mC(e,t+3)?"$3":"$2-$3"))+e;case 115:return~pC(e,"stretch")?s_(fC(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==mC(e,t+1))break;case 6444:switch(mC(e,vC(e)-3-(~pC(e,"!important")&&10))){case 107:return fC(e,":",":"+GC)+e;case 101:return fC(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+GC+(45===mC(e,14)?"inline-":"")+"box$3$1"+GC+"$2$3$1"+HC+"$2box$3")+e}break;case 5936:switch(mC(e,t+11)){case 114:return GC+e+HC+fC(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return GC+e+HC+fC(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return GC+e+HC+fC(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return GC+e+HC+e+e}return e}var l_=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case XC:e.return=s_(e.value,e.length);break;case QC:return qC([TC(e,{value:fC(e.value,"@","@"+GC)})],r);case YC:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qC([TC(e,{props:[fC(t,/:(read-\w+)/,":"+VC+"$1")]})],r);case"::placeholder":return qC([TC(e,{props:[fC(t,/:(plac\w+)/,":"+GC+"input-$1")]}),TC(e,{props:[fC(t,/:(plac\w+)/,":"+VC+"$1")]}),TC(e,{props:[fC(t,/:(plac\w+)/,HC+"input-$1")]})],r)}return""}))}}],c_=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||l_;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,c,u=[KC,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=yC(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([o_,a_].concat(r,u));o=function(e,t,n,r){l=n,function(e){qC(ZC(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new lC({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(s),h},u_=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var d_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function h_(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var f_=/[A-Z]|^ms/g,p_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,m_=function(e){return 45===e.charCodeAt(1)},g_=function(e){return null!=e&&"boolean"!==typeof e},v_=h_((function(e){return m_(e)?e:e.replace(f_,"-$&").toLowerCase()})),y_=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(p_,(function(e,t,n){return x_={name:t,styles:n,next:x_},t}))}return 1===d_[e]||m_(e)||"number"!==typeof t||0===t?t:t+"px"};function b_(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return x_={name:n.name,styles:n.styles,next:x_},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)x_={name:r.name,styles:r.styles,next:x_},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=b_(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":g_(a)&&(r+=v_(o)+":"+y_(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=b_(e,t,a);switch(o){case"animation":case"animationName":r+=v_(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)g_(a[l])&&(r+=v_(o)+":"+y_(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=x_,o=n(e);return x_=i,b_(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var x_,w_=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var S_=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";x_=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=b_(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=b_(n,t,e[a]),r&&(i+=o[a]);w_.lastIndex=0;for(var s,l="";null!==(s=w_.exec(i));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:x_}},E_=!!i.useInsertionEffect&&i.useInsertionEffect,M_=E_||t.useLayoutEffect,C_=t.createContext("undefined"!==typeof HTMLElement?c_({key:"css"}):null);C_.Provider;var __=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(C_);return e(n,i,r)}))};var T_=t.createContext({});var A_=u_((function(e){return u_((function(t){return function(e,t){return"function"===typeof t?t(e):Gm({},e,t)}(e,t)}))})),P_=function(e){var n=t.useContext(T_);return e.theme!==n&&(n=A_(n)(e.theme)),t.createElement(T_.Provider,{value:n},e.children)};var O_=function(e,t,n){!function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)}(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},D_=(n(110),__((function(e,n){var r=e.styles,i=S_([r],void 0,t.useContext(T_)),o=t.useRef();return M_((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,r],function(){t.flush()}}),[n]),M_((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&O_(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null})));function R_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S_(t)}var k_=function(){var e=R_.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const I_={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};var L_=Object.defineProperty,z_=Object.getOwnPropertySymbols,F_=Object.prototype.hasOwnProperty,N_=Object.prototype.propertyIsEnumerable,B_=(e,t,n)=>t in e?L_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U_=(e,t)=>{for(var n in t||(t={}))F_.call(t,n)&&B_(e,n,t[n]);if(z_)for(var n of z_(t))N_.call(t,n)&&B_(e,n,t[n]);return e};function j_(e){return t=>"number"===typeof e.primaryShade?e.primaryShade:e.primaryShade[t||e.colorScheme]}function H_(e){const t=j_(e);return function(n,r){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("string"===typeof n&&n.includes(".")){const[t,i]=n.split("."),a=parseInt(i,10);if(t in e.colors&&a>=0&&a<10)return e.colors[t]["number"!==typeof r||o?a:r]}const a="number"===typeof r?r:t();return n in e.colors?e.colors[n][a]:i?e.colors[e.primaryColor][a]:n}}function V_(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function G_(e){const t=H_(e),n=j_(e);return r=>{const i={from:(null==r?void 0:r.from)||e.defaultGradient.from,to:(null==r?void 0:r.to)||e.defaultGradient.to,deg:(null==r?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function W_(e){return t=>{if("number"===typeof t)return`${t/16}${e}`;if("string"===typeof t){const n=t.replace("px","");if(!Number.isNaN(Number(n)))return`${Number(n)/16}${e}`}return t}}const Y_=W_("rem"),X_=W_("em");function Q_(e){let{size:t,sizes:n,units:r}=e;return t in n?n[t]:"number"===typeof t?"em"===r?X_(t):Y_(t):t||n.md}function q_(e){return"number"===typeof e?e:"string"===typeof e&&e.includes("rem")?16*Number(e.replace("rem","")):"string"===typeof e&&e.includes("em")?16*Number(e.replace("em","")):Number(e)}function K_(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)?function(e){let t=e.replace("#","");if(3===t.length){const e=t.split("");t=[e[0],e[0],e[1],e[1],e[2],e[2]].join("")}const n=parseInt(t,16);return{r:n>>16&255,g:n>>8&255,b:255&n,a:1}}(e):e.startsWith("rgb")?function(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}(e):{r:0,g:0,b:0,a:1}}function Z_(e,t){if("string"!==typeof e||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(--"))return e;const{r:n,g:r,b:i}=K_(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const J_={fontStyles:function(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})},themeColor:H_,focusStyles:function(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:U_({},"always"===e.focusRing||"auto"===e.focusRing?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:U_({},"auto"===e.focusRing||"never"===e.focusRing?e.focusRingStyles.resetStyles(e):null)})},linearGradient:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return`linear-gradient(${e}deg, ${V_(n)})`},radialGradient:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return`radial-gradient(circle, ${V_(t)})`},smallerThan:function(e){return t=>`@media (max-width: ${X_(q_(Q_({size:t,sizes:e.breakpoints}))-1)})`},largerThan:function(e){return t=>`@media (min-width: ${X_(q_(Q_({size:t,sizes:e.breakpoints})))})`},rgba:Z_,cover:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{position:"absolute",top:Y_(e),right:Y_(e),left:Y_(e),bottom:Y_(e)}},darken:function(e,t){if("string"===typeof e&&e.startsWith("var(--"))return e;const{r:n,g:r,b:i,a:o}=K_(e),a=1-t,s=e=>Math.round(e*a);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${o})`},lighten:function(e,t){if("string"===typeof e&&e.startsWith("var(--"))return e;const{r:n,g:r,b:i,a:o}=K_(e),a=e=>Math.round(e+(255-e)*t);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`},radius:function(e){return t=>{if("number"===typeof t)return Y_(t);const n="number"===typeof e.defaultRadius?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}},variant:function(e){const t=H_(e),n=j_(e),r=G_(e);return i=>{let{variant:o,color:a,gradient:s,primaryFallback:l}=i;const c=function(e,t){if("string"===typeof e&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}(a,e);switch(o){case"light":return{border:"transparent",background:Z_(t(a,"dark"===e.colorScheme?8:0,l,!1),"dark"===e.colorScheme?.2:1),color:"dark"===a?"dark"===e.colorScheme?e.colors.dark[0]:e.colors.dark[9]:t(a,"dark"===e.colorScheme?2:n("light")),hover:Z_(t(a,"dark"===e.colorScheme?7:1,l,!1),"dark"===e.colorScheme?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:"dark"===a?"dark"===e.colorScheme?e.colors.dark[0]:e.colors.dark[9]:t(a,"dark"===e.colorScheme?2:n("light")),hover:Z_(t(a,"dark"===e.colorScheme?8:0,l,!1),"dark"===e.colorScheme?.2:1)};case"outline":return{border:t(a,"dark"===e.colorScheme?5:n("light")),background:"transparent",color:t(a,"dark"===e.colorScheme?5:n("light")),hover:"dark"===e.colorScheme?Z_(t(a,5,l,!1),.05):Z_(t(a,0,l,!1),.35)};case"default":return{border:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4],background:"dark"===e.colorScheme?e.colors.dark[6]:e.white,color:"dark"===e.colorScheme?e.white:e.black,hover:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(a,n()),hover:null};case"transparent":return{border:"transparent",color:"dark"===a?"dark"===e.colorScheme?e.colors.dark[0]:e.colors.dark[9]:t(a,"dark"===e.colorScheme?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(s),color:e.white,border:"transparent",hover:null};default:{const r=n(),i=c.isSplittedColor?c.shade:r,o=c.isSplittedColor?c.key:a;return{border:"transparent",background:t(o,i,l),color:e.white,hover:t(o,9===i?8:i+1)}}}}},primaryShade:j_,hover:function(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}},gradient:G_,primaryColor:function(e){return t=>{const n=j_(e)(t);return e.colors[e.primaryColor][n]}},placeholderStyles:function(e){return()=>({userSelect:"none",color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]})},dimmed:function(e){return()=>"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6]}};var $_=Object.defineProperty,eT=Object.defineProperties,tT=Object.getOwnPropertyDescriptors,nT=Object.getOwnPropertySymbols,rT=Object.prototype.hasOwnProperty,iT=Object.prototype.propertyIsEnumerable,oT=(e,t,n)=>t in e?$_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aT=(e,t)=>{for(var n in t||(t={}))rT.call(t,n)&&oT(e,n,t[n]);if(nT)for(var n of nT(t))iT.call(t,n)&&oT(e,n,t[n]);return e},sT=(e,t)=>eT(e,tT(t));function lT(e){return sT(aT({},e),{fn:{fontStyles:J_.fontStyles(e),themeColor:J_.themeColor(e),focusStyles:J_.focusStyles(e),largerThan:J_.largerThan(e),smallerThan:J_.smallerThan(e),radialGradient:J_.radialGradient,linearGradient:J_.linearGradient,gradient:J_.gradient(e),rgba:J_.rgba,cover:J_.cover,lighten:J_.lighten,darken:J_.darken,primaryShade:J_.primaryShade(e),radius:J_.radius(e),variant:J_.variant(e),hover:J_.hover,primaryColor:J_.primaryColor(e),placeholderStyles:J_.placeholderStyles(e),dimmed:J_.dimmed(e)}})}Object.keys(I_);const cT=lT({dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:I_,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), 0 0.0625rem 0.125rem rgba(0, 0, 0, 0.1)",sm:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 0.625rem 0.9375rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.4375rem 0.4375rem -0.3125rem",md:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.25rem 1.5625rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.625rem 0.625rem -0.3125rem",lg:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.75rem 1.4375rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 0.75rem 0.75rem -0.4375rem",xl:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 2.25rem 1.75rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 1.0625rem 1.0625rem -0.4375rem"},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem"},radius:{xs:"0.125rem",sm:"0.25rem",md:"0.5rem",lg:"1rem",xl:"2rem"},spacing:{xs:"0.625rem",sm:"0.75rem",md:"1rem",lg:"1.25rem",xl:"1.5rem"},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:"2.125rem",lineHeight:1.3,fontWeight:void 0},h2:{fontSize:"1.625rem",lineHeight:1.35,fontWeight:void 0},h3:{fontSize:"1.375rem",lineHeight:1.4,fontWeight:void 0},h4:{fontSize:"1.125rem",lineHeight:1.45,fontWeight:void 0},h5:{fontSize:"1rem",lineHeight:1.5,fontWeight:void 0},h6:{fontSize:"0.875rem",lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(0.0625rem)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:"0.125rem",outline:`0.125rem solid ${e.colors[e.primaryColor]["dark"===e.colorScheme?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor]["object"===typeof e.primaryShade?e.primaryShade[e.colorScheme]:e.primaryShade]})}});var uT=Object.defineProperty,dT=Object.defineProperties,hT=Object.getOwnPropertyDescriptors,fT=Object.getOwnPropertySymbols,pT=Object.prototype.hasOwnProperty,mT=Object.prototype.propertyIsEnumerable,gT=(e,t,n)=>t in e?uT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vT=(e,t)=>{for(var n in t||(t={}))pT.call(t,n)&&gT(e,n,t[n]);if(fT)for(var n of fT(t))mT.call(t,n)&&gT(e,n,t[n]);return e},yT=(e,t)=>dT(e,hT(t));function bT(e){let{theme:n}=e;return t.createElement(D_,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},html:{colorScheme:"dark"===n.colorScheme?"dark":"light"},body:yT(vT({},n.fn.fontStyles()),{backgroundColor:"dark"===n.colorScheme?n.colors.dark[7]:n.white,color:"dark"===n.colorScheme?n.colors.dark[0]:n.black,lineHeight:n.lineHeight,fontSize:n.fontSizes.md,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"})}})}function xT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Y_;Object.keys(t).forEach((i=>{e[`--mantine-${n}-${i}`]=r(t[i])}))}function wT(e){let{theme:n}=e;const r={"--mantine-color-white":n.white,"--mantine-color-black":n.black,"--mantine-transition-timing-function":n.transitionTimingFunction,"--mantine-line-height":`${n.lineHeight}`,"--mantine-font-family":n.fontFamily,"--mantine-font-family-monospace":n.fontFamilyMonospace,"--mantine-font-family-headings":n.headings.fontFamily,"--mantine-heading-font-weight":`${n.headings.fontWeight}`};xT(r,n.shadows,"shadow"),xT(r,n.fontSizes,"font-size"),xT(r,n.radius,"radius"),xT(r,n.spacing,"spacing"),xT(r,n.breakpoints,"breakpoints",X_),Object.keys(n.colors).forEach((e=>{n.colors[e].forEach(((t,n)=>{r[`--mantine-color-${e}-${n}`]=t}))}));const i=n.headings.sizes;return Object.keys(i).forEach((e=>{r[`--mantine-${e}-font-size`]=i[e].fontSize,r[`--mantine-${e}-line-height`]=`${i[e].lineHeight}`})),t.createElement(D_,{styles:{":root":r}})}var ST=Object.defineProperty,ET=Object.defineProperties,MT=Object.getOwnPropertyDescriptors,CT=Object.getOwnPropertySymbols,_T=Object.prototype.hasOwnProperty,TT=Object.prototype.propertyIsEnumerable,AT=(e,t,n)=>t in e?ST(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PT=(e,t)=>{for(var n in t||(t={}))_T.call(t,n)&&AT(e,n,t[n]);if(CT)for(var n of CT(t))TT.call(t,n)&&AT(e,n,t[n]);return e},OT=(e,t)=>ET(e,MT(t));function DT(e,t){return lT(function(e,t){var n;if(!t)return e;const r=Object.keys(e).reduce(((n,r)=>{if("headings"===r&&t.headings){const r=t.headings.sizes?Object.keys(e.headings.sizes).reduce(((n,r)=>(n[r]=PT(PT({},e.headings.sizes[r]),t.headings.sizes[r]),n)),{}):e.headings.sizes;return OT(PT({},n),{headings:OT(PT(PT({},e.headings),t.headings),{sizes:r})})}if("breakpoints"===r&&t.breakpoints){const r=PT(PT({},e.breakpoints),t.breakpoints);return OT(PT({},n),{breakpoints:Object.fromEntries(Object.entries(r).sort(((e,t)=>q_(e[1])-q_(t[1]))))})}return n[r]="object"===typeof t[r]?PT(PT({},e[r]),t[r]):"number"===typeof t[r]||"boolean"===typeof t[r]||"function"===typeof t[r]?t[r]:t[r]||e[r],n}),{});if((null==t?void 0:t.fontFamily)&&!(null==(n=null==t?void 0:t.headings)?void 0:n.fontFamily)&&(r.headings.fontFamily=t.fontFamily),!(r.primaryColor in r.colors))throw new Error("MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more \u2013 https://mantine.dev/theming/colors/#primary-color");return r}(e,t))}function RT(e){return Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t)),{})}const kT={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:`${Y_(1)} dotted ButtonText`},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"none"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"}};function IT(){return t.createElement(D_,{styles:kT})}var LT=Object.defineProperty,zT=Object.getOwnPropertySymbols,FT=Object.prototype.hasOwnProperty,NT=Object.prototype.propertyIsEnumerable,BT=(e,t,n)=>t in e?LT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UT=(e,t)=>{for(var n in t||(t={}))FT.call(t,n)&&BT(e,n,t[n]);if(zT)for(var n of zT(t))NT.call(t,n)&&BT(e,n,t[n]);return e};const jT=(0,t.createContext)({theme:cT});function HT(){var e;return(null==(e=(0,t.useContext)(jT))?void 0:e.theme)||cT}function VT(){var e;return null==(e=(0,t.useContext)(jT))?void 0:e.emotionCache}function GT(e,t,n){var r;const i=HT(),o=null==(r=i.components[e])?void 0:r.defaultProps,a="function"===typeof o?o(i):o;return UT(UT(UT({},t),a),RT(n))}function WT(e){let{theme:n,emotionCache:r,withNormalizeCSS:i=!1,withGlobalStyles:o=!1,withCSSVariables:a=!1,inherit:s=!1,children:l}=e;const c=(0,t.useContext)(jT),u=DT(cT,s?UT(UT({},c.theme),n):n);return t.createElement(P_,{theme:u},t.createElement(jT.Provider,{value:{theme:u,emotionCache:r}},i&&t.createElement(IT,null),o&&t.createElement(bT,{theme:u}),a&&t.createElement(wT,{theme:u}),"function"===typeof u.globalStyles&&t.createElement(D_,{styles:u.globalStyles(u)}),l))}function YT(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=YT(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function XT(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=YT(e))&&(r&&(r+=" "),r+=t);return r}WT.displayName="@mantine/core/MantineProvider";const QT=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};const qT={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const KT=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}};var ZT=/[A-Z]|^ms/g,JT=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$T=function(e){return 45===e.charCodeAt(1)},eA=function(e){return null!=e&&"boolean"!==typeof e},tA=KT((function(e){return $T(e)?e:e.replace(ZT,"-$&").toLowerCase()})),nA=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(JT,(function(e,t,n){return iA={name:t,styles:n,next:iA},t}))}return 1===qT[e]||$T(e)||"number"!==typeof t||0===t?t:t+"px"};function rA(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return iA={name:n.name,styles:n.styles,next:iA},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)iA={name:r.name,styles:r.styles,next:iA},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=rA(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":eA(a)&&(r+=tA(o)+":"+nA(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=rA(e,t,a);switch(o){case"animation":case"animationName":r+=tA(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)eA(a[l])&&(r+=tA(o)+":"+nA(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=iA,o=n(e);return iA=i,rA(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var iA,oA=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var aA=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";iA=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=rA(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=rA(n,t,e[a]),r&&(i+=o[a]);oA.lastIndex=0;for(var s,l="";null!==(s=oA.exec(i));)l+="-"+s[1];return{name:QT(i)+l,styles:i,next:iA}};const sA=c_({key:"mantine",prepend:!0});var lA=Object.defineProperty,cA=Object.getOwnPropertySymbols,uA=Object.prototype.hasOwnProperty,dA=Object.prototype.propertyIsEnumerable,hA=(e,t,n)=>t in e?lA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fA="ref";function pA(e){let t;if(1!==e.length)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(fA in n))return{args:e,ref:t};t=n[fA];const r=((e,t)=>{for(var n in t||(t={}))uA.call(t,n)&&hA(e,n,t[n]);if(cA)for(var n of cA(t))dA.call(t,n)&&hA(e,n,t[n]);return e})({},n);return delete r[fA],{args:[r],ref:t}}const{cssFactory:mA}={cssFactory:function(e){const{cache:t}=e,n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const{ref:i,args:o}=pA(n),a=aA(o,t.registered);return O_(t,a,!1),`${t.key}-${a.name}${void 0===i?"":` ${i}`}`};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return function(e,t,n){const r=[],i=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(e,r,n);return r.length<2?n:i+t(r)}(t.registered,n,XT(r))}}}};function gA(){const e=VT()||sA;return function(e,n){const r=(0,t.useRef)();return(!r.current||n.length!==r.current.prevDeps.length||r.current.prevDeps.map(((e,t)=>e===n[t])).indexOf(!1)>=0)&&(r.current={v:e(),prevDeps:[...n]}),r.current.v}((()=>mA({cache:e})),[e])}function vA(e){let{cx:t,classes:n,context:r,classNames:i,name:o,cache:a}=e;const s=r.reduce(((e,t)=>(Object.keys(t.classNames).forEach((n=>{"string"!==typeof e[n]?e[n]=`${t.classNames[n]}`:e[n]=`${e[n]} ${t.classNames[n]}`})),e)),{});return Object.keys(n).reduce(((e,r)=>(e[r]=t(n[r],s[r],null!=i&&i[r],Array.isArray(o)?o.filter(Boolean).map((e=>`${(null==a?void 0:a.key)||"mantine"}-${e}-${r}`)).join(" "):o?`${(null==a?void 0:a.key)||"mantine"}-${o}-${r}`:null),e)),{})}var yA=Object.defineProperty,bA=Object.getOwnPropertySymbols,xA=Object.prototype.hasOwnProperty,wA=Object.prototype.propertyIsEnumerable,SA=(e,t,n)=>t in e?yA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EA=(e,t)=>{for(var n in t||(t={}))xA.call(t,n)&&SA(e,n,t[n]);if(bA)for(var n of bA(t))wA.call(t,n)&&SA(e,n,t[n]);return e};function MA(e,t){return t&&Object.keys(t).forEach((n=>{e[n]?e[n]=EA(EA({},e[n]),t[n]):e[n]=EA({},t[n])})),e}function CA(e,t,n,r){const i=e=>"function"===typeof e?e(t,n||{},r):e||{};return Array.isArray(e)?e.map((e=>i(e.styles))).reduce(((e,t)=>MA(e,t)),{}):i(e)}function _A(e){const t="function"===typeof e?e:()=>e;return function(e,n){const r=HT(),i=function(e){const t=HT(),n=e=>{var n,r,i,o;return{styles:(null==(n=t.components[e])?void 0:n.styles)||{},classNames:(null==(r=t.components[e])?void 0:r.classNames)||{},variants:null==(i=t.components[e])?void 0:i.variants,sizes:null==(o=t.components[e])?void 0:o.sizes}};return Array.isArray(e)?e.map(n):[n(e)]}(null==n?void 0:n.name),o=VT(),a={variant:null==n?void 0:n.variant,size:null==n?void 0:n.size},{css:s,cx:l}=gA(),c=t(r,e,a),u=CA(null==n?void 0:n.styles,r,e,a),d=CA(i,r,e,a),h=function(e){let{ctx:t,theme:n,params:r,variant:i,size:o}=e;return t.reduce(((e,t)=>(t.variants&&i in t.variants&&MA(e,t.variants[i](n,r,{variant:i,size:o})),t.sizes&&o in t.sizes&&MA(e,t.sizes[o](n,r,{variant:i,size:o})),e)),{})}({ctx:i,theme:r,params:e,variant:null==n?void 0:n.variant,size:null==n?void 0:n.size}),f=Object.fromEntries(Object.keys(c).map((e=>[e,l({[s(c[e])]:!(null==n?void 0:n.unstyled)},s(h[e]),s(d[e]),s(u[e]))])));return{classes:vA({cx:l,classes:f,context:i,classNames:null==n?void 0:n.classNames,name:null==n?void 0:n.name,cache:o}),cx:l,theme:r}}}var TA=Object.defineProperty,AA=Object.defineProperties,PA=Object.getOwnPropertyDescriptors,OA=Object.getOwnPropertySymbols,DA=Object.prototype.hasOwnProperty,RA=Object.prototype.propertyIsEnumerable,kA=(e,t,n)=>t in e?TA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IA=(e,t)=>{for(var n in t||(t={}))DA.call(t,n)&&kA(e,n,t[n]);if(OA)for(var n of OA(t))RA.call(t,n)&&kA(e,n,t[n]);return e},LA=(e,t)=>AA(e,PA(t));function zA(e){let{underline:t,strikethrough:n}=e;const r=[];return t&&r.push("underline"),n&&r.push("line-through"),r.length>0?r.join(" "):"none"}function FA(e){let{theme:t,color:n}=e;return"dimmed"===n?t.fn.dimmed():"string"===typeof n&&(n in t.colors||n.split(".")[0]in t.colors)?t.fn.variant({variant:"filled",color:n}).background:n||"inherit"}function NA(e){return"number"===typeof e?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function BA(e){let{theme:t,truncate:n}=e;return"start"===n?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:"ltr"===t.dir?"rtl":"ltr",textAlign:"ltr"===t.dir?"right":"left"}:n?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var UA=_A(((e,t,n)=>{let{color:r,lineClamp:i,truncate:o,inline:a,inherit:s,underline:l,gradient:c,weight:u,transform:d,align:h,strikethrough:f,italic:p}=t,{size:m}=n;const g=e.fn.variant({variant:"gradient",gradient:c});return{root:LA(IA(IA(IA(IA({},e.fn.fontStyles()),e.fn.focusStyles()),NA(i)),BA({theme:e,truncate:o})),{color:FA({color:r,theme:e}),fontFamily:s?"inherit":e.fontFamily,fontSize:s||void 0===m?"inherit":Q_({size:m,sizes:e.fontSizes}),lineHeight:s?"inherit":a?1:e.lineHeight,textDecoration:zA({underline:l,strikethrough:f}),WebkitTapHighlightColor:"transparent",fontWeight:s?"inherit":u,textTransform:d,textAlign:h,fontStyle:p?"italic":void 0}),gradient:{backgroundImage:g.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}));const jA=UA;var HA=Object.getOwnPropertySymbols,VA=Object.prototype.hasOwnProperty,GA=Object.prototype.propertyIsEnumerable,WA=(e,t)=>{var n={};for(var r in e)VA.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&HA)for(var r of HA(e))t.indexOf(r)<0&&GA.call(e,r)&&(n[r]=e[r]);return n};function YA(e){const t=e,{m:n,mx:r,my:i,mt:o,mb:a,ml:s,mr:l,p:c,px:u,py:d,pt:h,pb:f,pl:p,pr:m,bg:g,c:v,opacity:y,ff:b,fz:x,fw:w,lts:S,ta:E,lh:M,fs:C,tt:_,td:T,w:A,miw:P,maw:O,h:D,mih:R,mah:k,bgsz:I,bgp:L,bgr:z,bga:F,pos:N,top:B,left:U,bottom:j,right:H,inset:V,display:G}=t,W=WA(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:RT({m:n,mx:r,my:i,mt:o,mb:a,ml:s,mr:l,p:c,px:u,py:d,pt:h,pb:f,pl:p,pr:m,bg:g,c:v,opacity:y,ff:b,fz:x,fw:w,lts:S,ta:E,lh:M,fs:C,tt:_,td:T,w:A,miw:P,maw:O,h:D,mih:R,mah:k,bgsz:I,bgp:L,bgr:z,bga:F,pos:N,top:B,left:U,bottom:j,right:H,inset:V,display:G}),rest:W}}function XA(e){let{value:t,theme:n,getValue:r,property:i}=e;if(null==t)return;if("object"===typeof t){const e=function(e,t){const n=Object.keys(e).filter((e=>"base"!==e)).sort(((e,n)=>q_(Q_({size:e,sizes:t.breakpoints}))-q_(Q_({size:n,sizes:t.breakpoints}))));return"base"in e?["base",...n]:n}(t,n).reduce(((e,o)=>{if("base"===o&&void 0!==t.base){const o=r(t.base,n);return Array.isArray(i)?(i.forEach((t=>{e[t]=o})),e):(e[i]=o,e)}const a=r(t[o],n);return Array.isArray(i)?(e[n.fn.largerThan(o)]={},i.forEach((t=>{e[n.fn.largerThan(o)][t]=a})),e):(e[n.fn.largerThan(o)]={[i]:a},e)}),{});return e}const o=r(t,n);return Array.isArray(i)?i.reduce(((e,t)=>(e[t]=o,e)),{}):{[i]:o}}const QA=["-xs","-sm","-md","-lg","-xl"];const qA={identity:function(e){return e},color:function(e,t){return"dimmed"===e?"dark"===t.colorScheme?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background},size:function(e){return Y_(e)},fontSize:function(e,t){return Q_({size:e,sizes:t.fontSizes})},spacing:function(e,t){return QA.includes(e)?`calc(${Q_({size:e.replace("-",""),sizes:t.spacing})} * -1)`:Q_({size:e,sizes:t.spacing})}},KA={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"identity",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};var ZA=Object.defineProperty,JA=Object.getOwnPropertySymbols,$A=Object.prototype.hasOwnProperty,eP=Object.prototype.propertyIsEnumerable,tP=(e,t,n)=>t in e?ZA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nP=(e,t)=>{for(var n in t||(t={}))$A.call(t,n)&&tP(e,n,t[n]);if(JA)for(var n of JA(t))eP.call(t,n)&&tP(e,n,t[n]);return e};function rP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KA;return Object.keys(n).reduce(((r,i)=>(i in e&&void 0!==e[i]&&r.push(XA({value:e[i],getValue:qA[n[i].type],property:n[i].property,theme:t})),r)),[]).reduce(((e,t)=>(Object.keys(t).forEach((n=>{"object"===typeof t[n]&&null!==t[n]?e[n]=n in e?nP(nP({},e[n]),t[n]):t[n]:e[n]=t[n]})),e)),{})}function iP(e,t){return"function"===typeof e?e(t):e}function oP(e,t,n){const r=HT(),{css:i,cx:o}=gA();return Array.isArray(e)?o(n,i(rP(t,r)),e.map((e=>i(iP(e,r))))):o(n,i(iP(e,r)),i(rP(t,r)))}var aP=Object.defineProperty,sP=Object.getOwnPropertySymbols,lP=Object.prototype.hasOwnProperty,cP=Object.prototype.propertyIsEnumerable,uP=(e,t,n)=>t in e?aP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const dP=(0,t.forwardRef)(((e,n)=>{var r=e,{className:i,component:o,style:a,sx:s}=r,l=((e,t)=>{var n={};for(var r in e)lP.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&sP)for(var r of sP(e))t.indexOf(r)<0&&cP.call(e,r)&&(n[r]=e[r]);return n})(r,["className","component","style","sx"]);const{systemStyles:c,rest:u}=YA(l),d=o||"div";return t.createElement(d,((e,t)=>{for(var n in t||(t={}))lP.call(t,n)&&uP(e,n,t[n]);if(sP)for(var n of sP(t))cP.call(t,n)&&uP(e,n,t[n]);return e})({ref:n,className:oP(s,c,i),style:a},u))}));dP.displayName="@mantine/core/Box";const hP=dP;var fP=Object.defineProperty,pP=Object.getOwnPropertySymbols,mP=Object.prototype.hasOwnProperty,gP=Object.prototype.propertyIsEnumerable,vP=(e,t,n)=>t in e?fP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const yP={variant:"text"},bP=(0,t.forwardRef)(((e,n)=>{const r=GT("Text",yP,e),{className:i,size:o,weight:a,transform:s,color:l,align:c,variant:u,lineClamp:d,truncate:h,gradient:f,inline:p,inherit:m,underline:g,strikethrough:v,italic:y,classNames:b,styles:x,unstyled:w,span:S,__staticSelector:E}=r,M=((e,t)=>{var n={};for(var r in e)mP.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&pP)for(var r of pP(e))t.indexOf(r)<0&&gP.call(e,r)&&(n[r]=e[r]);return n})(r,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span","__staticSelector"]),{classes:C,cx:_}=jA({color:l,lineClamp:d,truncate:h,inline:p,inherit:m,underline:g,strikethrough:v,italic:y,weight:a,transform:s,align:c,gradient:f},{unstyled:w,name:E||"Text",variant:u,size:o});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))mP.call(t,n)&&vP(e,n,t[n]);if(pP)for(var n of pP(t))gP.call(t,n)&&vP(e,n,t[n]);return e})({ref:n,className:_(C.root,{[C.gradient]:"gradient"===u},i),component:S?"span":"div"},M))}));bP.displayName="@mantine/core/Text";const xP=bP;class wP{constructor(e,t,n){this.name=e,this.makeObject=t,this.cleanup=n,this[RM]=!0,this.children=void 0,this.clickable=void 0,this.children=[],this.clickable=!1}}const SP=new wP("",(e=>(0,Pg.jsx)("group",{ref:e,quaternion:(new cr).setFromEuler(new Kr(-Math.PI/2,0,0))}))),EP=new wP("/WorldAxes",(e=>(0,Pg.jsx)(HE,{ref:e})));function MP(e){const n=t.useContext(Qce),[r,i]=t.useState([]);return t.useEffect((()=>{let t,o=!0;function a(){var s;const l=null===(s=n.useSceneTree.getState().nodeFromName[e.name])||void 0===s?void 0:s.children;void 0!==l&&r!=l&&o&&(i(l),o=!1,t=setTimeout((()=>{o=!0,a()}),50))}const s=n.useSceneTree.subscribe((t=>t.nodeFromName[e.name]),a);return a(),()=>{clearTimeout(t),s()}}),[r]),Um((0,Pg.jsx)("group",{children:r.map((e=>(0,Pg.jsx)(_P,{name:e},e)))}),e.parent)}function CP(e){return t.useContext(Qce).useSceneTree((t=>t.labelVisibleFromName[e.name]))?(0,Pg.jsx)(sC,{children:(0,Pg.jsx)(xP,{style:{backgroundColor:"rgba(240, 240, 240, 0.9)",borderRadius:"0.2rem",userSelect:"none"},px:"xs",py:"0.1rem",children:e.name})}):null}function _P(e){var n;const r=t.useContext(Qce),i=r.useSceneTree((t=>{var n;return null===(n=t.nodeFromName[e.name])||void 0===n?void 0:n.makeObject})),o=r.useSceneTree((t=>{var n;return null===(n=t.nodeFromName[e.name])||void 0===n?void 0:n.cleanup})),a=null!==(n=r.useSceneTree((t=>{var n;return null===(n=t.nodeFromName[e.name])||void 0===n?void 0:n.clickable})))&&void 0!==n&&n,[s,l]=t.useState(null),c=t.useMemo((()=>i&&i(l)),[l,i]),u=t.useMemo((()=>null===s?null:(0,Pg.jsx)(MP,{name:e.name,parent:s})),[e.name,s]);Tm((()=>{if(null===s)return;const t=r.nodeAttributesFromName.current[e.name],n=null===t||void 0===t?void 0:t.wxyz,i=null===t||void 0===t?void 0:t.position,o=null===t||void 0===t?void 0:t.visibility;let a=!1;void 0!==o&&(s.visible=o),void 0!==n&&(a=!0,s.quaternion.set(n[1],n[2],n[3],n[0])),void 0!==i&&(a=!0,s.position.set(i[0],i[1],i[2])),a&&!s.matrixAutoUpdate&&s.updateMatrix(),a&&!s.matrixWorldAutoUpdate&&s.updateMatrixWorld()})),t.useEffect((()=>o));const d=iD(r.websocketRef,50),[h,f]=t.useState(!1);function p(){var t;const n=r.nodeAttributesFromName.current[e.name];return null!==(t=null===n||void 0===n?void 0:n.visibility)&&void 0!==t&&t}return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pointer",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";t.useEffect((()=>{if(e)return document.body.style.cursor=n,()=>{document.body.style.cursor=r}}),[e])}(h),!a&&h&&f(!1),a?(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)("group",{onClick:a?t=>{p()&&(t.stopPropagation(),d({type:"SceneNodeClickedMessage",name:e.name}))}:void 0,onPointerOver:a?e=>{p()&&(e.stopPropagation(),f(!0))}:void 0,onPointerOut:a?()=>{p()&&f(!1)}:void 0,children:(0,Pg.jsx)(Mx,{enabled:h,children:c})}),(0,Pg.jsx)(CP,{name:e.name}),u]}):(0,Pg.jsxs)(Pg.Fragment,{children:[c,(0,Pg.jsx)(CP,{name:e.name}),u]})}SP.children.push("/WorldAxes");const TP="websocket";function AP(e){!function(e){1===e.length&&window.location.host.includes(e[0].replace("ws://","").replace("/",""))&&(e=[]);window.history.replaceState(null,"Viser",0===e.length?window.location.href.split("?")[0]:"?"+e.map((e=>TP+"="+e)).join("&"))}([e])}const PP=new fr,OP=new ur;class DP extends wh{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new qi([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new qi([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))}applyMatrix4(e){const t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new ff(t,6,1);return this.setAttribute("instanceStart",new Dl(n,3,0)),this.setAttribute("instanceEnd",new Dl(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new ff(t,6,1);return this.setAttribute("instanceColorStart",new Dl(n,3,0)),this.setAttribute("instanceColorEnd",new Dl(n,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new sd(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new fr);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;void 0!==e&&void 0!==t&&(this.boundingBox.setFromBufferAttribute(e),PP.setFromBufferAttribute(t),this.boundingBox.union(PP))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Dr),null===this.boundingBox&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(void 0!==e&&void 0!==t){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let r=0;for(let i=0,o=e.count;i<o;i++)OP.fromBufferAttribute(e,i),r=Math.max(r,n.distanceToSquared(OP)),OP.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(OP));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}Qo.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new zn(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},qo.line={uniforms:Po.merge([Qo.common,Qo.fog,Qo.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\tworldStart = start.xyz;\n\t\t\t\tworldEnd = end.xyz;\n\n\t\t\t#else\n\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\tvec3 offset;\n\t\t\t\tif ( position.y < 0.5 ) {\n\n\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\n\t\t\t\t}\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t// extend the line bounds to encompass  endcaps\n\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\n\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t\toffset.z += 0.5;\n\n\t\t\t\t#endif\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth * 0.5;\n\n\t\t\t\t// set the world position\n\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\tworldPos.xyz += offset;\n\n\t\t\t\t// project the worldpos\n\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t// segments overlap neatly\n\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t#else\n\n\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t\t// undo aspect ratio adjustment\n\t\t\t\tdir.x /= aspect;\n\t\t\t\toffset.x /= aspect;\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\t\toffset += - dir;\n\n\t\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\t\toffset += dir;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth;\n\n\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\t\toffset /= resolution.y;\n\n\t\t\t\t// select end\n\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t\t// back to clip space\n\t\t\t\toffset *= clip.w;\n\n\t\t\t\tclip.xy += offset;\n\n\t\t\t#endif\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\t\tuniform float linewidth;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\tfloat mua;\n\t\t\tfloat mub;\n\n\t\t\tvec3 p13 = p1 - p3;\n\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\tmua = numer / denom;\n\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\treturn vec2( mua, mub );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\tfloat len = length( delta );\n\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#endif\n\n\t\t\t#else\n\n\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t#else\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t\t\t}\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};class RP extends Oo{constructor(e){super({type:"LineMaterial",uniforms:Po.clone(qo.line.uniforms),vertexShader:qo.line.vertexShader,fragmentShader:qo.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(e){!0===e?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(e){Boolean(e)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),!0===e?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)},set:function(e){Boolean(e)!==Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),!0===e?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const kP=new ur,IP=new ur,LP=new nr,zP=new nr,FP=new nr,NP=new ur,BP=new Ur,UP=new Mf,jP=new ur,HP=new fr,VP=new Dr,GP=new nr;let WP,YP,XP,QP;function qP(e,t,n){return GP.set(0,0,-t,1).applyMatrix4(e.projectionMatrix),GP.multiplyScalar(1/GP.w),GP.x=QP/n.width,GP.y=QP/n.height,GP.applyMatrix4(e.projectionMatrixInverse),GP.multiplyScalar(1/GP.w),Math.abs(Math.max(GP.x,GP.y))}class KP extends Eo{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new DP,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new RP({color:16777215*Math.random()})),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let o=0,a=0,s=t.count;o<s;o++,a+=2)kP.fromBufferAttribute(t,o),IP.fromBufferAttribute(n,o),r[a]=0===a?0:r[a-1],r[a+1]=r[a]+kP.distanceTo(IP);const i=new ff(r,2,1);return e.setAttribute("instanceDistanceStart",new Dl(i,1,0)),e.setAttribute("instanceDistanceEnd",new Dl(i,1,1)),this}raycast(e,t){const n=this.material.worldUnits,r=e.camera;null!==r||n||console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const i=void 0!==e.params.Line2&&e.params.Line2.threshold||0;WP=e.ray;const o=this.matrixWorld,a=this.geometry,s=this.material;let l,c;if(QP=s.linewidth+i,YP=a.attributes.instanceStart,XP=a.attributes.instanceEnd,null===a.boundingSphere&&a.computeBoundingSphere(),VP.copy(a.boundingSphere).applyMatrix4(o),n)l=.5*QP;else{l=qP(r,Math.max(r.near,VP.distanceToPoint(WP.origin)),s.resolution)}if(VP.radius+=l,!1!==WP.intersectsSphere(VP)){if(null===a.boundingBox&&a.computeBoundingBox(),HP.copy(a.boundingBox).applyMatrix4(o),n)c=.5*QP;else{c=qP(r,Math.max(r.near,HP.distanceToPoint(WP.origin)),s.resolution)}HP.expandByScalar(c),!1!==WP.intersectsBox(HP)&&(n?function(e,t){for(let n=0,r=YP.count;n<r;n++){UP.start.fromBufferAttribute(YP,n),UP.end.fromBufferAttribute(XP,n);const r=new ur,i=new ur;WP.distanceSqToSegment(UP.start,UP.end,i,r),i.distanceTo(r)<.5*QP&&t.push({point:i,pointOnLine:r,distance:WP.origin.distanceTo(i),object:e,face:null,faceIndex:n,uv:null,uv2:null})}}(this,t):function(e,t,n){const r=t.projectionMatrix,i=e.material.resolution,o=e.matrixWorld,a=e.geometry,s=a.attributes.instanceStart,l=a.attributes.instanceEnd,c=-t.near;WP.at(1,FP),FP.w=1,FP.applyMatrix4(t.matrixWorldInverse),FP.applyMatrix4(r),FP.multiplyScalar(1/FP.w),FP.x*=i.x/2,FP.y*=i.y/2,FP.z=0,NP.copy(FP),BP.multiplyMatrices(t.matrixWorldInverse,o);for(let u=0,d=s.count;u<d;u++){if(LP.fromBufferAttribute(s,u),zP.fromBufferAttribute(l,u),LP.w=1,zP.w=1,LP.applyMatrix4(BP),zP.applyMatrix4(BP),LP.z>c&&zP.z>c)continue;if(LP.z>c){const e=LP.z-zP.z,t=(LP.z-c)/e;LP.lerp(zP,t)}else if(zP.z>c){const e=zP.z-LP.z,t=(zP.z-c)/e;zP.lerp(LP,t)}LP.applyMatrix4(r),zP.applyMatrix4(r),LP.multiplyScalar(1/LP.w),zP.multiplyScalar(1/zP.w),LP.x*=i.x/2,LP.y*=i.y/2,zP.x*=i.x/2,zP.y*=i.y/2,UP.start.copy(LP),UP.start.z=0,UP.end.copy(zP),UP.end.z=0;const t=UP.closestPointToPointParameter(NP,!0);UP.at(t,jP);const a=Ln.lerp(LP.z,zP.z,t),d=a>=-1&&a<=1,h=NP.distanceTo(jP)<.5*QP;if(d&&h){UP.start.fromBufferAttribute(s,u),UP.end.fromBufferAttribute(l,u),UP.start.applyMatrix4(o),UP.end.applyMatrix4(o);const t=new ur,r=new ur;WP.distanceSqToSegment(UP.start,UP.end,r,t),n.push({point:r,pointOnLine:t,distance:WP.origin.distanceTo(r),object:e,face:null,faceIndex:u,uv:null,uv2:null})}}}(this,r,t))}}}class ZP extends DP{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,n=new Float32Array(2*t);for(let r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return super.setPositions(n),this}setColors(e){const t=e.length-3,n=new Float32Array(2*t);for(let r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return super.setColors(n),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class JP extends KP{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ZP,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new RP({color:16777215*Math.random()})),this.isLine2=!0,this.type="Line2"}}const $P=t.forwardRef((function(e,n){let{points:r,color:i="black",vertexColors:o,linewidth:a,lineWidth:s,segments:l,dashed:c,...u}=e;const d=_m((e=>e.size)),h=t.useMemo((()=>l?new KP:new JP),[l]),[f]=t.useState((()=>new RP)),p=t.useMemo((()=>{const e=l?new DP:new ZP,t=r.map((e=>{const t=Array.isArray(e);return e instanceof ur?[e.x,e.y,e.z]:e instanceof zn?[e.x,e.y,0]:t&&3===e.length?[e[0],e[1],e[2]]:t&&2===e.length?[e[0],e[1],0]:e}));if(e.setPositions(t.flat()),o){const t=o.map((e=>e instanceof Oi?e.toArray():e));e.setColors(t.flat())}return e}),[r,l,o]);return t.useLayoutEffect((()=>{h.computeLineDistances()}),[r,h]),t.useLayoutEffect((()=>{c?f.defines.USE_DASH="":delete f.defines.USE_DASH,f.needsUpdate=!0}),[c,f]),t.useEffect((()=>()=>p.dispose()),[p]),t.createElement("primitive",Gm({object:h,ref:n},u),t.createElement("primitive",{object:p,attach:"geometry"}),t.createElement("primitive",Gm({object:f,attach:"material",color:i,vertexColors:Boolean(o),resolution:[d.width,d.height],linewidth:null!==a&&void 0!==a?a:s,dashed:c},u)))})),eO=t.createContext(null),tO=new ur,nO=new ur,rO=new ur(0,1,0),iO=new Ur,oO=e=>{let{direction:n,axis:r}=e;const{translation:i,translationLimits:o,annotations:a,annotationsClass:s,depthTest:l,scale:c,lineWidth:u,fixed:d,axisColors:h,hoveredColor:f,opacity:p,onDragStart:m,onDrag:g,onDragEnd:v,userData:y}=t.useContext(eO),b=_m((e=>e.controls)),x=t.useRef(null),w=t.useRef(null),S=t.useRef(null),E=t.useRef(0),[M,C]=t.useState(!1),_=t.useCallback((e=>{a&&(x.current.innerText=`${i.current[r].toFixed(2)}`,x.current.style.display="block"),e.stopPropagation();const t=(new Ur).extractRotation(w.current.matrixWorld),o=e.point.clone(),s=(new ur).setFromMatrixPosition(w.current.matrixWorld),l=n.clone().applyMatrix4(t).normalize();S.current={clickPoint:o,dir:l},E.current=i.current[r],m({component:"Arrow",axis:r,origin:s,directions:[l]}),b&&(b.enabled=!1),e.target.setPointerCapture(e.pointerId)}),[a,n,b,m,i,r]),T=t.useCallback((e=>{if(e.stopPropagation(),M||C(!0),S.current){const{clickPoint:t,dir:n}=S.current,[s,l]=(null==o?void 0:o[r])||[void 0,void 0];let c=((e,t,n,r)=>{const i=t.dot(t),o=t.dot(e)-t.dot(n),a=t.dot(r);return 0===a?-o/i:(tO.copy(r).multiplyScalar(i/a).sub(t),nO.copy(r).multiplyScalar(o/a).add(n).sub(e),-tO.dot(nO)/tO.dot(tO))})(t,n,e.ray.origin,e.ray.direction);void 0!==s&&(c=Math.max(c,s-E.current)),void 0!==l&&(c=Math.min(c,l-E.current)),i.current[r]=E.current+c,a&&(x.current.innerText=`${i.current[r].toFixed(2)}`),iO.makeTranslation(n.x*c,n.y*c,n.z*c),g(iO)}}),[a,g,M,i,o,r]),A=t.useCallback((e=>{a&&(x.current.style.display="none"),e.stopPropagation(),S.current=null,v(),b&&(b.enabled=!0),e.target.releasePointerCapture(e.pointerId)}),[a,b,v]),P=t.useCallback((e=>{e.stopPropagation(),C(!1)}),[]),{cylinderLength:O,coneWidth:D,coneLength:R,matrixL:k}=t.useMemo((()=>{const e=d?u/c*1.6:c/20,t=d?.2:c/5,r=d?1-t:c-t,i=(new cr).setFromUnitVectors(rO,n.clone().normalize());return{cylinderLength:r,coneWidth:e,coneLength:t,matrixL:(new Ur).makeRotationFromQuaternion(i)}}),[n,c,u,d]),I=M?f:h[r];return t.createElement("group",{ref:w},t.createElement("group",{matrix:k,matrixAutoUpdate:!1,onPointerDown:_,onPointerMove:T,onPointerUp:A,onPointerOut:P},a&&t.createElement(sC,{position:[0,-R,0]},t.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:s,ref:x})),t.createElement("mesh",{visible:!1,position:[0,(O+R)/2,0],userData:y},t.createElement("cylinderGeometry",{args:[1.4*D,1.4*D,O+R,8,1]})),t.createElement($P,{transparent:!0,raycast:()=>null,depthTest:l,points:[0,0,0,0,O,0],lineWidth:u,color:I,opacity:p,polygonOffset:!0,renderOrder:1,polygonOffsetFactor:-10}),t.createElement("mesh",{raycast:()=>null,position:[0,O+R/2,0],renderOrder:500},t.createElement("coneGeometry",{args:[D,R,24,1]}),t.createElement("meshBasicMaterial",{transparent:!0,depthTest:l,color:I,opacity:p,polygonOffset:!0,polygonOffsetFactor:-10}))))},aO=new Br,sO=new ur,lO=new Ur,cO=e=>{let{dir1:n,dir2:r,axis:i}=e;const{translation:o,translationLimits:a,annotations:s,annotationsClass:l,depthTest:c,scale:u,lineWidth:d,fixed:h,axisColors:f,hoveredColor:p,opacity:m,onDragStart:g,onDrag:v,onDragEnd:b,userData:x}=t.useContext(eO),w=_m((e=>e.controls)),S=t.useRef(null),E=t.useRef(null),M=t.useRef(null),C=t.useRef(0),_=t.useRef(0),[T,A]=t.useState(!1),P=t.useCallback((e=>{s&&(S.current.innerText=`${o.current[(i+1)%3].toFixed(2)}, ${o.current[(i+2)%3].toFixed(2)}`,S.current.style.display="block"),e.stopPropagation();const t=e.point.clone(),n=(new ur).setFromMatrixPosition(E.current.matrixWorld),r=(new ur).setFromMatrixColumn(E.current.matrixWorld,0).normalize(),a=(new ur).setFromMatrixColumn(E.current.matrixWorld,1).normalize(),l=(new ur).setFromMatrixColumn(E.current.matrixWorld,2).normalize(),c=(new Uo).setFromNormalAndCoplanarPoint(l,n);M.current={clickPoint:t,e1:r,e2:a,plane:c},C.current=o.current[(i+1)%3],_.current=o.current[(i+2)%3],g({component:"Slider",axis:i,origin:n,directions:[r,a,l]}),w&&(w.enabled=!1),e.target.setPointerCapture(e.pointerId)}),[s,w,g,i]),O=t.useCallback((e=>{if(e.stopPropagation(),T||A(!0),M.current){const{clickPoint:t,e1:n,e2:r,plane:l}=M.current,[c,u]=(null==a?void 0:a[(i+1)%3])||[void 0,void 0],[d,h]=(null==a?void 0:a[(i+2)%3])||[void 0,void 0];aO.copy(e.ray),aO.intersectPlane(l,sO),aO.direction.negate(),aO.intersectPlane(l,sO),sO.sub(t);let[f,p]=((e,t,n)=>{const r=Math.abs(e.x)>=Math.abs(e.y)&&Math.abs(e.x)>=Math.abs(e.z)?0:Math.abs(e.y)>=Math.abs(e.x)&&Math.abs(e.y)>=Math.abs(e.z)?1:2,i=[0,1,2].sort(((e,n)=>Math.abs(t.getComponent(n))-Math.abs(t.getComponent(e)))),o=r===i[0]?i[1]:i[0],a=e.getComponent(r),s=e.getComponent(o),l=t.getComponent(r),c=t.getComponent(o),u=n.getComponent(r),d=(n.getComponent(o)-u*(s/a))/(c-l*(s/a));return[(u-d*l)/a,d]})(n,r,sO);void 0!==c&&(f=Math.max(f,c-C.current)),void 0!==u&&(f=Math.min(f,u-C.current)),void 0!==d&&(p=Math.max(p,d-_.current)),void 0!==h&&(p=Math.min(p,h-_.current)),o.current[(i+1)%3]=C.current+f,o.current[(i+2)%3]=_.current+p,s&&(S.current.innerText=`${o.current[(i+1)%3].toFixed(2)}, ${o.current[(i+2)%3].toFixed(2)}`),lO.makeTranslation(f*n.x+p*r.x,f*n.y+p*r.y,f*n.z+p*r.z),v(lO)}}),[s,v,T,o,a,i]),D=t.useCallback((e=>{s&&(S.current.style.display="none"),e.stopPropagation(),M.current=null,b(),w&&(w.enabled=!0),e.target.releasePointerCapture(e.pointerId)}),[s,w,b]),R=t.useCallback((e=>{e.stopPropagation(),A(!1)}),[]),k=t.useMemo((()=>{const e=n.clone().normalize(),t=r.clone().normalize();return(new Ur).makeBasis(e,t,e.clone().cross(t))}),[n,r]),I=h?1/7:u/7,L=h?.225:.225*u,z=T?p:f[i],F=t.useMemo((()=>[new ur(0,0,0),new ur(0,L,0),new ur(L,L,0),new ur(L,0,0),new ur(0,0,0)]),[L]);return t.createElement("group",{ref:E,matrix:k,matrixAutoUpdate:!1},s&&t.createElement(sC,{position:[0,0,0]},t.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:l,ref:S})),t.createElement("group",{position:[1.7*I,1.7*I,0]},t.createElement("mesh",{visible:!0,onPointerDown:P,onPointerMove:O,onPointerUp:D,onPointerOut:R,scale:L,userData:x},t.createElement("planeGeometry",null),t.createElement("meshBasicMaterial",{transparent:!0,depthTest:c,color:z,polygonOffset:!0,polygonOffsetFactor:-10,side:y})),t.createElement($P,{position:[-L/2,-L/2,0],transparent:!0,depthTest:c,points:F,lineWidth:d,color:z,opacity:m,polygonOffset:!0,polygonOffsetFactor:-10,userData:x})))};var uO=n(260),dO=n.n(uO);const hO=new ur,fO=new ur,pO=e=>180*e/Math.PI,mO=e=>{let t=((e,t)=>{let n=Math.floor(e/t);return n=n<0?n+1:n,e-n*t})(e,2*Math.PI);return Math.abs(t)<1e-6?0:(t<0&&(t+=2*Math.PI),t)},gO=new Ur,vO=new ur,yO=new Br,bO=new ur,xO=e=>{let{dir1:n,dir2:r,axis:i}=e;const{rotationLimits:o,annotations:a,annotationsClass:s,depthTest:l,scale:c,lineWidth:u,fixed:d,axisColors:h,hoveredColor:f,opacity:p,onDragStart:m,onDrag:g,onDragEnd:v,userData:y}=t.useContext(eO),b=_m((e=>e.controls)),x=t.useRef(null),w=t.useRef(null),S=t.useRef(0),E=t.useRef(0),M=t.useRef(null),[C,_]=t.useState(!1),T=t.useCallback((e=>{a&&(x.current.innerText=`${pO(E.current).toFixed(0)}\xba`,x.current.style.display="block"),e.stopPropagation();const t=e.point.clone(),n=(new ur).setFromMatrixPosition(w.current.matrixWorld),r=(new ur).setFromMatrixColumn(w.current.matrixWorld,0).normalize(),o=(new ur).setFromMatrixColumn(w.current.matrixWorld,1).normalize(),s=(new ur).setFromMatrixColumn(w.current.matrixWorld,2).normalize(),l=(new Uo).setFromNormalAndCoplanarPoint(s,n);M.current={clickPoint:t,origin:n,e1:r,e2:o,normal:s,plane:l},m({component:"Rotator",axis:i,origin:n,directions:[r,o,s]}),b&&(b.enabled=!1),e.target.setPointerCapture(e.pointerId)}),[a,b,m,i]),A=t.useCallback((e=>{if(e.stopPropagation(),C||_(!0),M.current){const{clickPoint:t,origin:n,e1:r,e2:s,normal:l,plane:c}=M.current,[u,d]=(null==o?void 0:o[i])||[void 0,void 0];yO.copy(e.ray),yO.intersectPlane(c,bO),yO.direction.negate(),yO.intersectPlane(c,bO);let h=((e,t,n,r,i)=>{hO.copy(e).sub(n),fO.copy(t).sub(n);const o=r.dot(r),a=i.dot(i),s=hO.dot(r)/o,l=hO.dot(i)/a,c=fO.dot(r)/o,u=fO.dot(i)/a,d=Math.atan2(l,s);return Math.atan2(u,c)-d})(t,bO,n,r,s),f=pO(h);e.shiftKey&&(f=10*Math.round(f/10),h=(e=>e*Math.PI/180)(f)),void 0!==u&&void 0!==d&&d-u<2*Math.PI?(h=mO(h),h=h>Math.PI?h-2*Math.PI:h,h=dO()(h,u-S.current,d-S.current),E.current=S.current+h):(E.current=mO(S.current+h),E.current=E.current>Math.PI?E.current-2*Math.PI:E.current),a&&(f=pO(E.current),x.current.innerText=`${f.toFixed(0)}\xba`),gO.makeRotationAxis(l,h),vO.copy(n).applyMatrix4(gO).sub(n).negate(),gO.setPosition(vO),g(gO)}}),[a,g,C,o,i]),P=t.useCallback((e=>{a&&(x.current.style.display="none"),e.stopPropagation(),S.current=E.current,M.current=null,v(),b&&(b.enabled=!0),e.target.releasePointerCapture(e.pointerId)}),[a,b,v]),O=t.useCallback((e=>{e.stopPropagation(),_(!1)}),[]),D=t.useMemo((()=>{const e=n.clone().normalize(),t=r.clone().normalize();return(new Ur).makeBasis(e,t,e.clone().cross(t))}),[n,r]),R=d?.65:.65*c,k=t.useMemo((()=>{const e=[];for(let t=0;t<=32;t++){const n=t*(Math.PI/2)/32;e.push(new ur(Math.cos(n)*R,Math.sin(n)*R,0))}return e}),[R]);return t.createElement("group",{ref:w,onPointerDown:T,onPointerMove:A,onPointerUp:P,onPointerOut:O,matrix:D,matrixAutoUpdate:!1},a&&t.createElement(sC,{position:[R,R,0]},t.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:s,ref:x})),t.createElement($P,{points:k,lineWidth:4*u,visible:!1,userData:y}),t.createElement($P,{transparent:!0,raycast:()=>null,depthTest:l,points:k,lineWidth:u,color:C?f:h[i],opacity:p,polygonOffset:!0,polygonOffsetFactor:-10}))},wO=new ur,SO=new ur,EO=new ur,MO=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=wO.set(e.x/n.width*2-1,-e.y/n.height*2+1,r);return i.unproject(t),i},CO=new Ur,_O=new Ur,TO=new Ur,AO=new Ur,PO=new Ur,OO=new Ur,DO=new Ur,RO=new Ur,kO=new fr,IO=new fr,LO=new ur,zO=new ur,FO=new ur,NO=new ur,BO=new ur(1,0,0),UO=new ur(0,1,0),jO=new ur(0,0,1),HO=t.forwardRef(((e,n)=>{let{matrix:r,onDragStart:i,onDrag:o,onDragEnd:a,autoTransform:s=!0,anchor:l,disableAxes:c=!1,disableSliders:u=!1,disableRotations:d=!1,activeAxes:h=[!0,!0,!0],offset:f=[0,0,0],rotation:p=[0,0,0],scale:m=1,lineWidth:g=4,fixed:v=!1,translationLimits:y,rotationLimits:b,depthTest:x=!0,axisColors:w=["#ff2060","#20df80","#2080ff"],hoveredColor:S="#ffff40",annotations:E=!1,annotationsClass:M,opacity:C=1,visible:_=!0,userData:T,children:A,...P}=e;const O=_m((e=>e.invalidate)),D=t.useRef(null),R=t.useRef(null),k=t.useRef(null),I=t.useRef(null),L=t.useRef([0,0,0]);t.useLayoutEffect((()=>{l&&(I.current.updateWorldMatrix(!0,!0),AO.copy(I.current.matrixWorld).invert(),kO.makeEmpty(),I.current.traverse((e=>{e.geometry&&(e.geometry.boundingBox||e.geometry.computeBoundingBox(),OO.copy(e.matrixWorld).premultiply(AO),IO.copy(e.geometry.boundingBox),IO.applyMatrix4(OO),kO.union(IO))})),LO.copy(kO.max).add(kO.min).multiplyScalar(.5),zO.copy(kO.max).sub(kO.min).multiplyScalar(.5),FO.copy(zO).multiply(new ur(...l)).add(LO),NO.set(...f).add(FO),k.current.position.copy(NO),O())}));const z=t.useMemo((()=>({onDragStart:e=>{CO.copy(R.current.matrix),_O.copy(R.current.matrixWorld),i&&i(e),O()},onDrag:e=>{TO.copy(D.current.matrixWorld),AO.copy(TO).invert(),PO.copy(_O).premultiply(e),OO.copy(PO).premultiply(AO),DO.copy(CO).invert(),RO.copy(OO).multiply(DO),s&&R.current.matrix.copy(OO),o&&o(OO,RO,PO,e),O()},onDragEnd:()=>{a&&a(),O()},translation:L,translationLimits:y,rotationLimits:b,axisColors:w,hoveredColor:S,opacity:C,scale:m,lineWidth:g,fixed:v,depthTest:x,userData:T,annotations:E,annotationsClass:M})),[i,o,a,L,y,b,x,m,g,v,...w,S,C,T,s,E,M]),F=new ur;return Tm((e=>{if(v){const i=((e,t,n,r)=>{const i=((e,t,n)=>{const r=n.width/2,i=n.height/2;t.updateMatrixWorld(!1);const o=e.project(t);return o.x=o.x*r+r,o.y=-o.y*i+i,o})(EO.copy(e),n,r);let o=0;for(let a=0;a<2;++a){const s=SO.copy(i).setComponent(a,i.getComponent(a)+t),l=MO(s,n,r,s.z);o=Math.max(o,e.distanceTo(l))}return o})(k.current.getWorldPosition(F),m,e.camera,e.size);var t,n,r;if(k.current)(null==(t=k.current)?void 0:t.scale.x)===i&&(null==(n=k.current)?void 0:n.scale.y)===i&&(null==(r=k.current)?void 0:r.scale.z)===i||(k.current.scale.setScalar(i),e.invalidate())}})),t.useImperativeHandle(n,(()=>R.current),[]),t.useLayoutEffect((()=>{r&&r instanceof Ur&&(R.current.matrix=r)}),[r]),t.createElement(eO.Provider,{value:z},t.createElement("group",{ref:D},t.createElement("group",Gm({ref:R,matrix:r,matrixAutoUpdate:!1},P),t.createElement("group",{visible:_,ref:k,position:f,rotation:p},!c&&h[0]&&t.createElement(oO,{axis:0,direction:BO}),!c&&h[1]&&t.createElement(oO,{axis:1,direction:UO}),!c&&h[2]&&t.createElement(oO,{axis:2,direction:jO}),!u&&h[0]&&h[1]&&t.createElement(cO,{axis:2,dir1:BO,dir2:UO}),!u&&h[0]&&h[2]&&t.createElement(cO,{axis:1,dir1:jO,dir2:BO}),!u&&h[2]&&h[1]&&t.createElement(cO,{axis:0,dir1:UO,dir2:jO}),!d&&h[0]&&h[1]&&t.createElement(xO,{axis:2,dir1:BO,dir2:UO}),!d&&h[0]&&h[2]&&t.createElement(xO,{axis:1,dir1:jO,dir2:BO}),!d&&h[2]&&h[1]&&t.createElement(xO,{axis:0,dir1:UO,dir2:jO})),t.createElement("group",{ref:I},A))))}));var VO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,GO=KT((function(e){return VO.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));const WO=GO;var YO=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},XO=!!i.useInsertionEffect&&i.useInsertionEffect,QO=XO||function(e){return e()},qO=(XO||t.useLayoutEffect,WO),KO=function(e){return"theme"!==e},ZO=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?qO:KO},JO=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},$O=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;YO(t,n,r);QO((function(){return function(e,t,n){YO(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null};const eD=function e(n,r){var i,o,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var l=JO(n,r,a),c=l||ZO(s),u=!c("as");return function(){var d=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var f=d.length,p=1;p<f;p++)h.push(d[p],d[0][p])}var m=__((function(e,n,r){var i=u&&e.as||s,a="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=(0,t.useContext)(T_)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,d,e.className):null!=e.className&&(a=e.className+" ");var m=aA(h.concat(d),n.registered,f);a+=n.key+"-"+m.name,void 0!==o&&(a+=" "+o);var g=u&&void 0===l?ZO(i):c,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=a,v.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)($O,{cache:n,serialized:m,isStringTag:"string"===typeof i}),(0,t.createElement)(i,v))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=h,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(t,n){return e(t,Gm({},r,n,{shouldForwardProp:JO(m,n,!0)})).apply(void 0,h)},m}};var tD=eD.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){tD[e]=tD(e)}));const nD=tD;function rD(e,t){null!==e.current&&e.current.send(fE(t))}function iD(e,t){let n=!0,r=!1,i=null;return function o(a){null!==e.current&&(i=a,n?(e.current.send(fE(a)),r=!1,n=!1,setTimeout((()=>{n=!0,r&&i&&o(i)}),t)):r=!0)}}function oD(e){return null!==e&&void 0!==e.isTexture}function aD(e){return new qi(new Float32Array(new Uint8Array(e)).map((e=>(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))),3)}function sD(){const e=(0,t.useContext)(Qce),n=function(){const e=(0,t.useContext)(Qce),n=e.useSceneTree((e=>e.removeSceneNode)),r=e.useSceneTree((e=>e.resetScene)),i=e.useSceneTree((e=>e.addSceneNode)),o=e.useGui((e=>e.setTheme)),a=e.useGui((e=>e.addGui)),s=e.useGui((e=>e.removeGui)),l=e.useGui((e=>e.guiSet)),c=e.useSceneTree((e=>e.setClickable));function u(t){const n=e.useSceneTree.getState().nodeFromName,r=t.name.split("/").slice(0,-1).join("/");r in n||u(new wP(r,(e=>(0,Pg.jsx)(HE,{ref:e,show_axes:!1})))),i(t)}return t=>{switch(t.type){case"ThemeConfigurationMessage":o(t);break;case"FrameMessage":u(new wP(t.name,(e=>(0,Pg.jsx)(HE,{ref:e,show_axes:t.show_axes,axes_length:t.axes_length,axes_radius:t.axes_radius}))));break;case"PointCloudMessage":{const e=new io,n=new Pc({size:t.point_size,vertexColors:!0,toneMapped:!1});e.setAttribute("position",new qi(new Float32Array(t.points.buffer.slice(t.points.byteOffset,t.points.byteOffset+t.points.byteLength)),3)),e.computeBoundingSphere(),e.setAttribute("color",aD(t.colors)),u(new wP(t.name,(t=>(0,Pg.jsx)("points",{ref:t,geometry:e,material:n})),(()=>{e.dispose(),n.dispose()})));break}case"MeshMessage":{const e=new io,n=new hd({color:t.color||void 0,vertexColors:null!==t.vertex_colors,wireframe:t.wireframe,side:{front:g,back:v,double:y}[t.side]});e.setAttribute("position",new qi(new Float32Array(t.vertices.buffer.slice(t.vertices.byteOffset,t.vertices.byteOffset+t.vertices.byteLength)),3)),null!==t.vertex_colors&&e.setAttribute("color",aD(t.vertex_colors)),e.setIndex(new Xi(new Uint32Array(t.faces.buffer.slice(t.faces.byteOffset,t.faces.byteOffset+t.faces.byteLength)),1)),e.computeVertexNormals(),e.computeBoundingSphere(),u(new wP(t.name,(t=>(0,Pg.jsx)("mesh",{ref:t,geometry:e,material:n})),(()=>{e.dispose(),n.dispose()})));break}case"CameraFrustumMessage":{const e=t.image_media_type&&t.image_base64_data&&(new $d).load(`data:${t.image_media_type};base64,${t.image_base64_data}`),n=t.scale*Math.tan(t.fov/2)*2;u(new wP(t.name,(r=>(0,Pg.jsxs)("group",{ref:r,children:[(0,Pg.jsx)(GE,{fov:t.fov,aspect:t.aspect,scale:t.scale,color:t.color}),e&&(0,Pg.jsxs)("mesh",{position:[0,0,t.scale],rotation:new Kr(Math.PI,0,0),children:[(0,Pg.jsx)("planeGeometry",{attach:"geometry",args:[t.aspect*n,n]}),(0,Pg.jsx)("meshBasicMaterial",{attach:"material",transparent:!0,side:y,map:e})]})]})),(()=>e&&e.dispose())));break}case"TransformControlsMessage":{const n=t.name,r=iD(e.websocketRef,25);u(new wP(t.name,(e=>(0,Pg.jsx)(HO,{ref:e,scale:t.scale,lineWidth:t.line_width,fixed:t.fixed,autoTransform:t.auto_transform,activeAxes:t.active_axes,disableAxes:t.disable_axes,disableSliders:t.disable_sliders,disableRotations:t.disable_rotations,translationLimits:t.translation_limits,rotationLimits:t.rotation_limits,depthTest:t.depth_test,opacity:t.opacity,onDrag:e=>{const t=new cr;t.setFromRotationMatrix(e);const i=(new ur).setFromMatrixPosition(e);r({type:"TransformControlsUpdateMessage",name:n,wxyz:[t.w,t.x,t.y,t.z],position:i.toArray()})}}))));break}case"SetCameraLookAtMessage":{const n=e.cameraControlRef.current,r=new cr;r.setFromEuler(new Kr(-Math.PI/2,0,0));const i=new ur(t.look_at[0],t.look_at[1],t.look_at[2]);i.applyQuaternion(r),n.setTarget(i.x,i.y,i.z);break}case"SetCameraUpDirectionMessage":{const n=e.cameraRef.current,r=e.cameraControlRef.current,i=new cr;i.setFromEuler(new Kr(-Math.PI/2,0,0));const o=new ur(t.position[0],t.position[1],t.position[2]).applyQuaternion(i);n.up.set(o.x,o.y,o.z),r.applyCameraUp();break}case"SetCameraPositionMessage":{const n=e.cameraControlRef.current,r=new ur(t.position[0],t.position[1],t.position[2]),i=new cr;i.setFromEuler(new Kr(-Math.PI/2,0,0)),r.applyQuaternion(i),n.setPosition(r.x,r.y,r.z);break}case"SetCameraFovMessage":{const n=e.cameraRef.current;n.setFocalLength(.5*n.getFilmHeight()/Math.tan(t.fov/2));break}case"SetOrientationMessage":{const n=e.nodeAttributesFromName.current;void 0===n[t.name]&&(n[t.name]={}),n[t.name].wxyz=t.wxyz;break}case"SetPositionMessage":{const n=e.nodeAttributesFromName.current;void 0===n[t.name]&&(n[t.name]={}),n[t.name].position=t.position;break}case"SetSceneNodeVisibilityMessage":{const n=e.nodeAttributesFromName.current;void 0===n[t.name]&&(n[t.name]={}),n[t.name].visibility=t.visible;break}case"BackgroundImageMessage":(new $d).load(`data:${t.media_type};base64,${t.base64_data}`,(t=>{t.encoding=Ft;const n=e.sceneRef.current.background;e.sceneRef.current.background=t,oD(n)&&n.dispose(),e.useGui.setState({backgroundAvailable:!0})}));break;case"LabelMessage":{const e=nD.span`
          background-color: rgba(255, 255, 255, 0.85);
          padding: 0.2em;
          border-radius: 0.2em;
          border: 1px solid #777;
          color: #333;

          &:before {
            content: "";
            position: absolute;
            top: -1em;
            left: 1em;
            width: 0;
            height: 0;
            border-left: 1px solid #777;
            box-sizing: border-box;
            height: 0.8em;
            box-shadow: 0 0 1em 0.1em rgba(255, 255, 255, 1);
          }
        `;u(new wP(t.name,(n=>(0,Pg.jsx)("group",{ref:n,children:(0,Pg.jsx)(sC,{children:(0,Pg.jsx)("div",{style:{width:"10em",fontSize:"0.8em",transform:"translateX(-1em) translateY(1em)"},children:(0,Pg.jsx)(e,{children:t.text})})})}))));break}case"ImageMessage":(new $d).load(`data:${t.media_type};base64,${t.base64_data}`,(e=>{u(new wP(t.name,(n=>(0,Pg.jsx)("group",{ref:n,children:(0,Pg.jsxs)("mesh",{rotation:new Kr(Math.PI,0,0),children:[(0,Pg.jsx)("planeGeometry",{attach:"geometry",args:[t.render_width,t.render_height]}),(0,Pg.jsx)("meshBasicMaterial",{attach:"material",transparent:!0,side:y,map:e,toneMapped:!1})]})})),(()=>e.dispose())))}));break;case"RemoveSceneNodeMessage":console.log("Removing scene node:",t.name),n(t.name);break;case"SetSceneNodeClickableMessage":c(t.name,t.clickable);break;case"ResetSceneMessage":{r();const t=e.sceneRef.current.background;e.sceneRef.current.background=null,oD(t)&&t.dispose(),e.useGui.setState({backgroundAvailable:!1});break}case"GuiAddMessage":a(t.name,{levaConf:t.leva_conf,folderLabels:t.folder_labels,visible:!0});break;case"GuiSetValueMessage":l(t.name,t.value);break;case"GuiSetVisibleMessage":{const n=e.useGui.getState().guiConfigFromName[t.name];void 0!==n&&a(t.name,{...n,visible:t.visible});break}case"GuiSetLevaConfMessage":{const n=e.useGui.getState().guiConfigFromName[t.name];void 0!==n&&a(t.name,{...n,levaConf:t.leva_conf});break}case"GuiRemoveMessage":s(t.name);break;default:console.log("Received message did not match any known types:",t)}}}(),r=e.useGui((e=>e.server)),i=e.useGui((e=>e.resetGui));return AP(r),t.useEffect((()=>{const t=new(wE());let o=null,a=!1;let s=setTimeout((function l(){if(a)return;o=new WebSocket(r);const c=setTimeout((()=>{o&&o.close()}),5e3);o.onopen=()=>{clearTimeout(c),console.log("Connected!"+r),e.websocketRef.current=o,e.useGui.setState({websocketConnected:!0})},o.onclose=()=>{console.log("Disconnected! "+r),clearTimeout(c),e.websocketRef.current=null,e.useGui.setState({websocketConnected:!1}),e.useGui.getState().guiNames.length>0&&i(),s=setTimeout(l,1e3)};const u=[],d=[];let h=!1;setInterval((()=>{const e=u.length,t=u.slice(0,e);u.splice(0,e),t.forEach(n)}),5),o.onmessage=async e=>{const n=new Promise((t=>{e.data.arrayBuffer().then((e=>{t(HS(new Uint8Array(e)))}))}));await t.acquireAsync({timeout:1e3}).catch((()=>{console.log("Order lock timed out."),t.release()}));try{const e=await n;"MessageGroupStart"===e.type?h=!0:"MessageGroupEnd"===e.type?(u.push(...d),d.length=0,h=!1):h?d.push(e):u.push(e)}finally{t.acquired&&t.release()}}}),500);return()=>{a=!0,clearTimeout(s),e.useGui.setState({websocketConnected:!1}),o&&o.close(),clearTimeout(s)}}),[r,n,i]),(0,Pg.jsx)(Pg.Fragment,{})}function lD(){const e=(0,t.useContext)(Qce),n=_m((e=>e.camera)),r=iD(e.websocketRef,20),i=t.useCallback((()=>{const t=n,o=e.cameraControlRef.current;if(null===o)return void setTimeout(i,10);const a=new cr,s=new cr;a.setFromEuler(new Kr(Math.PI,0,0)),s.setFromEuler(new Kr(Math.PI/2,0,0));const l=s.clone().multiply(t.quaternion).multiply(a),c=o.getTarget(new ur).applyQuaternion(s),u=t.up.clone().applyQuaternion(s);r({type:"ViewerCameraMessage",wxyz:[l.w,l.x,l.y,l.z],position:t.position.clone().applyQuaternion(s).toArray(),aspect:t.aspect,fov:t.fov*Math.PI/180,look_at:[c.x,c.y,c.z],up_direction:[u.x,u.y,u.z]})}),[n,r]),o=e.useGui((e=>e.websocketConnected));return t.useEffect((()=>{o&&setTimeout((()=>i()),50)}),[o,i]),t.useEffect((()=>(window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)})),[n]),t.useEffect((()=>{const t=87,n=65,r=83,i=68,o=37,a=38,s=39,l=40,c=e.cameraControlRef.current,u=new Yx(t,20),d=new Yx(n,20),h=new Yx(r,20),f=new Yx(i,20);d.addEventListener("holding",(e=>{c.truck(-.002*e.deltaTime,0,!1)})),f.addEventListener("holding",(e=>{c.truck(.002*e.deltaTime,0,!1)})),u.addEventListener("holding",(e=>{c.forward(.002*e.deltaTime,!1)})),h.addEventListener("holding",(e=>{c.forward(-.002*e.deltaTime,!1)}));const p=new Yx(o,20),m=new Yx(s,20),g=new Yx(a,20),v=new Yx(l,20);p.addEventListener("holding",(e=>{c.rotate(-.1*Ln.DEG2RAD*e.deltaTime,0,!0)})),m.addEventListener("holding",(e=>{c.rotate(.1*Ln.DEG2RAD*e.deltaTime,0,!0)})),g.addEventListener("holding",(e=>{c.rotate(0,-.05*Ln.DEG2RAD*e.deltaTime,!0)})),v.addEventListener("holding",(e=>{c.rotate(0,.05*Ln.DEG2RAD*e.deltaTime,!0)}))})),(0,Pg.jsx)(jw,{ref:e.cameraControlRef,minDistance:.1,maxDistance:200,dollySpeed:.3,smoothTime:0,draggingSmoothTime:0,onChange:i,makeDefault:!0})}var cD=n(164);function uD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.forEach((t=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(t,e)))}function dD(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useCallback)(uD(...n),n)}const hD=(0,t.forwardRef)(((e,n)=>{const{children:r,...i}=e,o=t.Children.toArray(r),a=o.find(mD);if(a){const e=a.props.children,r=o.map((n=>n===a?t.Children.count(e)>1?t.Children.only(null):(0,t.isValidElement)(e)?e.props.children:null:n));return(0,t.createElement)(fD,Gm({},i,{ref:n}),(0,t.isValidElement)(e)?(0,t.cloneElement)(e,void 0,r):null)}return(0,t.createElement)(fD,Gm({},i,{ref:n}),r)}));hD.displayName="Slot";const fD=(0,t.forwardRef)(((e,n)=>{const{children:r,...i}=e;return(0,t.isValidElement)(r)?(0,t.cloneElement)(r,{...gD(i,r.props),ref:uD(n,r.ref)}):t.Children.count(r)>1?t.Children.only(null):null}));fD.displayName="SlotClone";const pD=e=>{let{children:n}=e;return(0,t.createElement)(t.Fragment,null,n)};function mD(e){return(0,t.isValidElement)(e)&&e.type===pD}function gD(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=function(){o(...arguments),i(...arguments)}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const vD=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce(((e,n)=>{const r=(0,t.forwardRef)(((e,r)=>{const{asChild:i,...o}=e,a=i?hD:n;return(0,t.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,t.createElement)(a,Gm({},o,{ref:r}))}));return r.displayName=`Primitive.${n}`,{...e,[n]:r}}),{});const yD=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?t.useLayoutEffect:()=>{};const bD=e=>{const{present:n,children:r}=e,i=function(e){const[n,r]=(0,t.useState)(),i=(0,t.useRef)({}),o=(0,t.useRef)(e),a=(0,t.useRef)("none"),s=e?"mounted":"unmounted",[l,c]=function(e,n){return(0,t.useReducer)(((e,t)=>{const r=n[e][t];return null!==r&&void 0!==r?r:e}),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,t.useEffect)((()=>{const e=xD(i.current);a.current="mounted"===l?e:"none"}),[l]),yD((()=>{const t=i.current,n=o.current;if(n!==e){const r=a.current,i=xD(t);if(e)c("MOUNT");else if("none"===i||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}o.current=e}}),[e,c]),yD((()=>{if(n){const e=e=>{const t=xD(i.current).includes(e.animationName);e.target===n&&t&&(0,cD.flushSync)((()=>c("ANIMATION_END")))},t=e=>{e.target===n&&(a.current=xD(i.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),()=>{n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}c("ANIMATION_END")}),[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:(0,t.useCallback)((e=>{e&&(i.current=getComputedStyle(e)),r(e)}),[])}}(n),o="function"===typeof r?r({present:i.isPresent}):t.Children.only(r),a=dD(i.ref,o.ref);return"function"===typeof r||i.isPresent?(0,t.cloneElement)(o,{ref:a}):null};function xD(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}function wD(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n[0];if(1===n.length)return i;const o=()=>{const e=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=e.reduce(((e,t)=>{let{useScope:r,scopeName:i}=t;return{...e,...r(n)[`__scope${i}`]}}),{});return(0,t.useMemo)((()=>({[`__scope${i.scopeName}`]:r})),[r])}};return o.scopeName=i.scopeName,o}function SD(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e})),(0,t.useMemo)((()=>function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call(n,...r)}),[])}bD.displayName="Presence";const ED=(0,t.createContext)(void 0);function MD(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}const CD="ScrollArea",[_D,TD]=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const i=()=>{const n=r.map((e=>(0,t.createContext)(e)));return function(r){const i=(null===r||void 0===r?void 0:r[e])||n;return(0,t.useMemo)((()=>({[`__scope${e}`]:{...r,[e]:i}})),[r,i])}};return i.scopeName=e,[function(n,i){const o=(0,t.createContext)(i),a=r.length;function s(n){const{scope:r,children:i,...s}=n,l=(null===r||void 0===r?void 0:r[e][a])||o,c=(0,t.useMemo)((()=>s),Object.values(s));return(0,t.createElement)(l.Provider,{value:c},i)}return r=[...r,i],s.displayName=n+"Provider",[s,function(r,s){const l=(null===s||void 0===s?void 0:s[e][a])||o,c=(0,t.useContext)(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},wD(i,...n)]}(CD),[AD,PD]=_D(CD),OD=(0,t.forwardRef)(((e,n)=>{const{__scopeScrollArea:r,type:i="hover",dir:o,scrollHideDelay:a=600,...s}=e,[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(0),[x,w]=(0,t.useState)(0),[S,E]=(0,t.useState)(!1),[M,C]=(0,t.useState)(!1),_=dD(n,(e=>c(e))),T=function(e){const n=(0,t.useContext)(ED);return e||n||"ltr"}(o);return(0,t.createElement)(AD,{scope:r,type:i,dir:T,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:S,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:M,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:w},(0,t.createElement)(vD.div,Gm({dir:T},s,{ref:_,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})))})),DD="ScrollAreaViewport",RD=(0,t.forwardRef)(((e,n)=>{const{__scopeScrollArea:r,children:i,...o}=e,a=PD(DD,r),s=dD(n,(0,t.useRef)(null),a.onViewportChange);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),(0,t.createElement)(vD.div,Gm({"data-radix-scroll-area-viewport":""},o,{ref:s,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style}}),(0,t.createElement)("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"}},i)))})),kD="ScrollAreaScrollbar",ID=(0,t.forwardRef)(((e,n)=>{const{forceMount:r,...i}=e,o=PD(kD,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=o,l="horizontal"===e.orientation;return(0,t.useEffect)((()=>(l?a(!0):s(!0),()=>{l?a(!1):s(!1)})),[l,a,s]),"hover"===o.type?(0,t.createElement)(LD,Gm({},i,{ref:n,forceMount:r})):"scroll"===o.type?(0,t.createElement)(zD,Gm({},i,{ref:n,forceMount:r})):"auto"===o.type?(0,t.createElement)(FD,Gm({},i,{ref:n,forceMount:r})):"always"===o.type?(0,t.createElement)(ND,Gm({},i,{ref:n})):null})),LD=(0,t.forwardRef)(((e,n)=>{const{forceMount:r,...i}=e,o=PD(kD,e.__scopeScrollArea),[a,s]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const e=o.scrollArea;let t=0;if(e){const n=()=>{window.clearTimeout(t),s(!0)},r=()=>{t=window.setTimeout((()=>s(!1)),o.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",r)}}}),[o.scrollArea,o.scrollHideDelay]),(0,t.createElement)(bD,{present:r||a},(0,t.createElement)(FD,Gm({"data-state":a?"visible":"hidden"},i,{ref:n})))})),zD=(0,t.forwardRef)(((e,n)=>{const{forceMount:r,...i}=e,o=PD(kD,e.__scopeScrollArea),a="horizontal"===e.orientation,s=rR((()=>c("SCROLL_END")),100),[l,c]=function(e,n){return(0,t.useReducer)(((e,t)=>{const r=n[e][t];return null!==r&&void 0!==r?r:e}),e)}("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return(0,t.useEffect)((()=>{if("idle"===l){const e=window.setTimeout((()=>c("HIDE")),o.scrollHideDelay);return()=>window.clearTimeout(e)}}),[l,o.scrollHideDelay,c]),(0,t.useEffect)((()=>{const e=o.viewport,t=a?"scrollLeft":"scrollTop";if(e){let n=e[t];const r=()=>{const r=e[t];n!==r&&(c("SCROLL"),s()),n=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}}),[o.viewport,a,c,s]),(0,t.createElement)(bD,{present:r||"hidden"!==l},(0,t.createElement)(ND,Gm({"data-state":"hidden"===l?"hidden":"visible"},i,{ref:n,onPointerEnter:MD(e.onPointerEnter,(()=>c("POINTER_ENTER"))),onPointerLeave:MD(e.onPointerLeave,(()=>c("POINTER_LEAVE")))})))})),FD=(0,t.forwardRef)(((e,n)=>{const r=PD(kD,e.__scopeScrollArea),{forceMount:i,...o}=e,[a,s]=(0,t.useState)(!1),l="horizontal"===e.orientation,c=rR((()=>{if(r.viewport){const e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?e:t)}}),10);return iR(r.viewport,c),iR(r.content,c),(0,t.createElement)(bD,{present:i||a},(0,t.createElement)(ND,Gm({"data-state":a?"visible":"hidden"},o,{ref:n})))})),ND=(0,t.forwardRef)(((e,n)=>{const{orientation:r="vertical",...i}=e,o=PD(kD,e.__scopeScrollArea),a=(0,t.useRef)(null),s=(0,t.useRef)(0),[l,c]=(0,t.useState)({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ZD(l.viewport,l.content),d={...i,sizes:l,onSizesChange:c,hasThumb:Boolean(u>0&&u<1),onThumbChange:e=>a.current=e,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:e=>s.current=e};function h(e,t){return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ltr";const i=JD(n),o=i/2,a=t||o,s=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,d="ltr"===r?[0,u]:[-1*u,0];return eR([l,c],d)(e)}(e,s.current,l,t)}return"horizontal"===r?(0,t.createElement)(BD,Gm({},d,{ref:n,onThumbPositionChange:()=>{if(o.viewport&&a.current){const e=$D(o.viewport.scrollLeft,l,o.dir);a.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollLeft=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollLeft=h(e,o.dir))}})):"vertical"===r?(0,t.createElement)(UD,Gm({},d,{ref:n,onThumbPositionChange:()=>{if(o.viewport&&a.current){const e=$D(o.viewport.scrollTop,l);a.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollTop=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollTop=h(e))}})):null})),BD=(0,t.forwardRef)(((e,n)=>{const{sizes:r,onSizesChange:i,...o}=e,a=PD(kD,e.__scopeScrollArea),[s,l]=(0,t.useState)(),c=(0,t.useRef)(null),u=dD(n,c,a.onScrollbarXChange);return(0,t.useEffect)((()=>{c.current&&l(getComputedStyle(c.current))}),[c]),(0,t.createElement)(VD,Gm({"data-orientation":"horizontal"},o,{ref:u,sizes:r,style:{bottom:0,left:"rtl"===a.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===a.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":JD(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(a.viewport){const r=a.viewport.scrollLeft+t.deltaX;e.onWheelScroll(r),tR(r,n)&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&i({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:KD(s.paddingLeft),paddingEnd:KD(s.paddingRight)}})}}))})),UD=(0,t.forwardRef)(((e,n)=>{const{sizes:r,onSizesChange:i,...o}=e,a=PD(kD,e.__scopeScrollArea),[s,l]=(0,t.useState)(),c=(0,t.useRef)(null),u=dD(n,c,a.onScrollbarYChange);return(0,t.useEffect)((()=>{c.current&&l(getComputedStyle(c.current))}),[c]),(0,t.createElement)(VD,Gm({"data-orientation":"vertical"},o,{ref:u,sizes:r,style:{top:0,right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":JD(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(a.viewport){const r=a.viewport.scrollTop+t.deltaY;e.onWheelScroll(r),tR(r,n)&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&i({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:KD(s.paddingTop),paddingEnd:KD(s.paddingBottom)}})}}))})),[jD,HD]=_D(kD),VD=(0,t.forwardRef)(((e,n)=>{const{__scopeScrollArea:r,sizes:i,hasThumb:o,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,p=PD(kD,r),[m,g]=(0,t.useState)(null),v=dD(n,(e=>g(e))),y=(0,t.useRef)(null),b=(0,t.useRef)(""),x=p.viewport,w=i.content-i.viewport,S=SD(d),E=SD(c),M=rR(h,10);function C(e){if(y.current){const t=e.clientX-y.current.left,n=e.clientY-y.current.top;u({x:t,y:n})}}return(0,t.useEffect)((()=>{const e=e=>{const t=e.target;(null===m||void 0===m?void 0:m.contains(t))&&S(e,w)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})}),[x,m,w,S]),(0,t.useEffect)(E,[i,E]),iR(m,M),iR(p.content,M),(0,t.createElement)(jD,{scope:r,scrollbar:m,hasThumb:o,onThumbChange:SD(a),onThumbPointerUp:SD(s),onThumbPositionChange:E,onThumbPointerDown:SD(l)},(0,t.createElement)(vD.div,Gm({},f,{ref:v,style:{position:"absolute",...f.style},onPointerDown:MD(e.onPointerDown,(e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),y.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C(e)}})),onPointerMove:MD(e.onPointerMove,C),onPointerUp:MD(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=b.current,y.current=null}))})))})),GD="ScrollAreaThumb",WD=(0,t.forwardRef)(((e,n)=>{const{forceMount:r,...i}=e,o=HD(GD,e.__scopeScrollArea);return(0,t.createElement)(bD,{present:r||o.hasThumb},(0,t.createElement)(YD,Gm({ref:n},i)))})),YD=(0,t.forwardRef)(((e,n)=>{const{__scopeScrollArea:r,style:i,...o}=e,a=PD(GD,r),s=HD(GD,r),{onThumbPositionChange:l}=s,c=dD(n,(e=>s.onThumbChange(e))),u=(0,t.useRef)(),d=rR((()=>{u.current&&(u.current(),u.current=void 0)}),100);return(0,t.useEffect)((()=>{const e=a.viewport;if(e){const t=()=>{if(d(),!u.current){const t=nR(e,l);u.current=t,l()}};return l(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[a.viewport,d,l]),(0,t.createElement)(vD.div,Gm({"data-state":s.hasThumb?"visible":"hidden"},o,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:MD(e.onPointerDownCapture,(e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;s.onThumbPointerDown({x:n,y:r})})),onPointerUp:MD(e.onPointerUp,s.onThumbPointerUp)}))})),XD="ScrollAreaCorner",QD=(0,t.forwardRef)(((e,n)=>{const r=PD(XD,e.__scopeScrollArea),i=Boolean(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&i?(0,t.createElement)(qD,Gm({},e,{ref:n})):null})),qD=(0,t.forwardRef)(((e,n)=>{const{__scopeScrollArea:r,...i}=e,o=PD(XD,r),[a,s]=(0,t.useState)(0),[l,c]=(0,t.useState)(0),u=Boolean(a&&l);return iR(o.scrollbarX,(()=>{var e;const t=(null===(e=o.scrollbarX)||void 0===e?void 0:e.offsetHeight)||0;o.onCornerHeightChange(t),c(t)})),iR(o.scrollbarY,(()=>{var e;const t=(null===(e=o.scrollbarY)||void 0===e?void 0:e.offsetWidth)||0;o.onCornerWidthChange(t),s(t)})),u?(0,t.createElement)(vD.div,Gm({},i,{ref:n,style:{width:a,height:l,position:"absolute",right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:0,...e.style}})):null}));function KD(e){return e?parseInt(e,10):0}function ZD(e,t){const n=e/t;return isNaN(n)?0:n}function JD(e){const t=ZD(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function $D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr";const r=JD(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,a=t.content-t.viewport,s=o-r,l=function(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}(e,"ltr"===n?[0,a]:[-1*a,0]);return eR([0,a],[0,s])(l)}function eR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function tR(e,t){return e>0&&e<t}const nR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},a=n.left!==o.left,s=n.top!==o.top;(a||s)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function rR(e,n){const r=SD(e),i=(0,t.useRef)(0);return(0,t.useEffect)((()=>()=>window.clearTimeout(i.current)),[]),(0,t.useCallback)((()=>{window.clearTimeout(i.current),i.current=window.setTimeout(r,n)}),[r,n])}function iR(e,t){const n=SD(t);yD((()=>{let t=0;if(e){const r=new ResizeObserver((()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)}));return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}}),[e,n])}const oR=OD,aR=RD,sR=ID,lR=WD,cR=QD;function uR(e){return Array.isArray(e)?e:[e]}function dR(e){return`___ref-${e||""}`}const hR=_A(((e,t)=>{let{scrollbarSize:n,offsetScrollbars:r,scrollbarHovered:i,hidden:o}=t;return{root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:r?Y_(n):void 0,paddingBottom:r?Y_(n):void 0},scrollbar:{display:o?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:`calc(${Y_(n)}  / 5)`,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.colors.gray[0],[`& .${dR("thumb")}`]:{backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:Y_(n)},'&[data-orientation="horizontal"]':{flexDirection:"column",height:Y_(n)},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:dR("thumb"),flex:1,backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:Y_(n),position:"relative",transition:"background-color 150ms ease",display:o?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:Y_(44),minHeight:Y_(44)}},corner:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:i?1:0,display:o?"none":void 0}}}));var fR=Object.defineProperty,pR=Object.defineProperties,mR=Object.getOwnPropertyDescriptors,gR=Object.getOwnPropertySymbols,vR=Object.prototype.hasOwnProperty,yR=Object.prototype.propertyIsEnumerable,bR=(e,t,n)=>t in e?fR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xR=(e,t)=>{for(var n in t||(t={}))vR.call(t,n)&&bR(e,n,t[n]);if(gR)for(var n of gR(t))yR.call(t,n)&&bR(e,n,t[n]);return e},wR=(e,t)=>pR(e,mR(t)),SR=(e,t)=>{var n={};for(var r in e)vR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gR)for(var r of gR(e))t.indexOf(r)<0&&yR.call(e,r)&&(n[r]=e[r]);return n};const ER={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},MR=(0,t.forwardRef)(((e,n)=>{const r=GT("ScrollArea",ER,e),{children:i,className:o,classNames:a,styles:s,scrollbarSize:l,scrollHideDelay:c,type:u,dir:d,offsetScrollbars:h,viewportRef:f,onScrollPositionChange:p,unstyled:m,variant:g,viewportProps:v}=r,y=SR(r,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps"]),[b,x]=(0,t.useState)(!1),w=HT(),{classes:S,cx:E}=hR({scrollbarSize:l,offsetScrollbars:h,scrollbarHovered:b,hidden:"never"===u},{name:"ScrollArea",classNames:a,styles:s,unstyled:m,variant:g});return t.createElement(oR,{type:"never"===u?"always":u,scrollHideDelay:c,dir:d||w.dir,ref:n,asChild:!0},t.createElement(hP,xR({className:E(S.root,o)},y),t.createElement(aR,wR(xR({},v),{className:S.viewport,ref:f,onScroll:"function"===typeof p?e=>{let{currentTarget:t}=e;return p({x:t.scrollLeft,y:t.scrollTop})}:void 0}),i),t.createElement(sR,{orientation:"horizontal",className:S.scrollbar,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},t.createElement(lR,{className:S.thumb})),t.createElement(sR,{orientation:"vertical",className:S.scrollbar,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},t.createElement(lR,{className:S.thumb})),t.createElement(cR,{className:S.corner})))})),CR=(0,t.forwardRef)(((e,n)=>{const r=GT("ScrollAreaAutosize",ER,e),{children:i,classNames:o,styles:a,scrollbarSize:s,scrollHideDelay:l,type:c,dir:u,offsetScrollbars:d,viewportRef:h,onScrollPositionChange:f,unstyled:p,sx:m,variant:g,viewportProps:v}=r,y=SR(r,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx","variant","viewportProps"]);return t.createElement(hP,wR(xR({},y),{ref:n,sx:[{display:"flex"},...uR(m)]}),t.createElement(hP,{sx:{display:"flex",flexDirection:"column",flex:1}},t.createElement(MR,{classNames:o,styles:a,scrollHideDelay:l,scrollbarSize:s,type:c,dir:u,offsetScrollbars:d,viewportRef:h,onScrollPositionChange:f,unstyled:p,variant:g,viewportProps:v},i)))}));CR.displayName="@mantine/core/ScrollAreaAutosize",MR.displayName="@mantine/core/ScrollArea",MR.Autosize=CR;const _R=MR,TR={theme:{type:"ThemeConfigurationMessage",titlebar_content:null,fixed_sidebar:!1},label:"",server:"ws://localhost:8080",websocketConnected:!1,backgroundAvailable:!1,guiNames:[],guiConfigFromName:{},guiSetQueue:{}};function AR(e){return t.useState((()=>QM(KM((t=>({...TR,server:e,setTheme:e=>t((t=>{t.theme=e})),addGui:(e,n)=>t((t=>{t.guiNames.push(e),t.guiConfigFromName[e]=n})),removeGui:e=>t((t=>{t.guiNames.splice(t.guiNames.indexOf(e),1),delete t.guiConfigFromName[e]})),resetGui:()=>t((e=>{e.guiNames=[],e.guiConfigFromName={}})),guiSet:(e,n)=>t((t=>{t.guiSetQueue[e]=n})),applyGuiSetQueue:e=>t((t=>{for(const[n,r]of Object.entries(t.guiSetQueue))t.guiNames.includes(n)&&(delete t.guiSetQueue[n],e(n,r))}))}))))))[0]}var PR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},OR=Object.defineProperty,DR=Object.defineProperties,RR=Object.getOwnPropertyDescriptors,kR=Object.getOwnPropertySymbols,IR=Object.prototype.hasOwnProperty,LR=Object.prototype.propertyIsEnumerable,zR=(e,t,n)=>t in e?OR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FR=(e,t)=>{for(var n in t||(t={}))IR.call(t,n)&&zR(e,n,t[n]);if(kR)for(var n of kR(t))LR.call(t,n)&&zR(e,n,t[n]);return e},NR=(e,n,r)=>{const i=(0,t.forwardRef)(((n,i)=>{var o=n,{color:a="currentColor",size:s=24,stroke:l=2,children:c}=o,u=((e,t)=>{var n={};for(var r in e)IR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&kR)for(var r of kR(e))t.indexOf(r)<0&&LR.call(e,r)&&(n[r]=e[r]);return n})(o,["color","size","stroke","children"]);return(0,t.createElement)("svg",FR(((e,t)=>DR(e,RR(t)))(FR({ref:i},PR),{width:s,height:s,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),u),[...r.map((e=>{let[n,r]=e;return(0,t.createElement)(n,r)})),...c||[]])}));return i.propTypes={color:ME().string,size:ME().oneOfType([ME().string,ME().number]),stroke:ME().oneOfType([ME().string,ME().number])},i.displayName=`${n}`,i},BR=NR("adjustments","IconAdjustments",[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]]),UR=NR("tool","IconTool",[["path",{d:"M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6 -6a6 6 0 0 1 -8 -8l3.5 3.5",key:"svg-0"}]]),jR=NR("binary-tree-2","IconBinaryTree2",[["path",{d:"M14 6a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-0"}],["path",{d:"M7 14a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-1"}],["path",{d:"M21 14a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-2"}],["path",{d:"M14 18a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-3"}],["path",{d:"M12 8v8",key:"svg-4"}],["path",{d:"M6.316 12.496l4.368 -4.992",key:"svg-5"}],["path",{d:"M17.684 12.496l-4.366 -4.99",key:"svg-6"}]]),HR=NR("cloud-check","IconCloudCheck",[["path",{d:"M11 18.004h-4.343c-2.572 -.004 -4.657 -2.011 -4.657 -4.487c0 -2.475 2.085 -4.482 4.657 -4.482c.393 -1.762 1.794 -3.2 3.675 -3.773c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.388 0 2.585 .82 3.138 2.007",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}]]),VR=NR("cloud-off","IconCloudOff",[["path",{d:"M9.58 5.548c.24 -.11 .492 -.207 .752 -.286c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.913 0 3.464 1.56 3.464 3.486c0 .957 -.383 1.824 -1.003 2.454m-2.997 1.033h-11.343c-2.572 -.004 -4.657 -2.011 -4.657 -4.487c0 -2.475 2.085 -4.482 4.657 -4.482c.13 -.582 .37 -1.128 .7 -1.62",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);function GR(e){const n=(0,t.createContext)(null);return[e=>{let{children:r,value:i}=e;return t.createElement(n.Provider,{value:i},r)},()=>{const r=(0,t.useContext)(n);if(null===r)throw new Error(e);return r}]}const WR="Tabs component was not found in the tree",YR="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",[XR,QR]=GR(WR),qR={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};_A(((e,t)=>{let{spacing:n,position:r,noWrap:i,grow:o,align:a,count:s}=t;return{root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:a||"center",flexWrap:i?"nowrap":"wrap",justifyContent:qR[r],gap:Q_({size:n,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:o?`calc(${100/s}% - (${Y_(Q_({size:n,sizes:e.spacing}))} - ${Q_({size:n,sizes:e.spacing})} / ${s}))`:void 0,flexGrow:o?1:0}}}}));var KR=Object.defineProperty,ZR=Object.getOwnPropertySymbols,JR=Object.prototype.hasOwnProperty,$R=Object.prototype.propertyIsEnumerable,ek=(e,t,n)=>t in e?KR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tk=(e,t)=>{for(var n in t||(t={}))JR.call(t,n)&&ek(e,n,t[n]);if(ZR)for(var n of ZR(t))$R.call(t,n)&&ek(e,n,t[n]);return e};function nk(e,t,n){let{orientation:r,inverted:i,placement:o}=e;const a="vertical"===r;return"default"===n?{[a?"left"===o?"borderRight":"borderLeft":i?"borderTop":"borderBottom"]:`${Y_(2)} solid ${"dark"===t.colorScheme?t.colors.dark[4]:t.colors.gray[3]}`}:"outline"===n?{[a?"left"===o?"borderRight":"borderLeft":i?"borderTop":"borderBottom"]:`${Y_(1)} solid ${"dark"===t.colorScheme?t.colors.dark[4]:t.colors.gray[3]}`}:"pills"===n?{gap:`calc(${t.spacing.sm} / 2)`}:{}}var rk=_A(((e,t,n)=>{let{variant:r}=n;const i="vertical"===t.orientation;return{tabsList:tk({display:"flex",flexWrap:"wrap",flexDirection:i?"column":"row",justifyContent:qR[t.position],'& [role="tab"]':{flex:t.grow?1:void 0}},nk(t,e,r))}}));const ik=rk;var ok=Object.defineProperty,ak=Object.defineProperties,sk=Object.getOwnPropertyDescriptors,lk=Object.getOwnPropertySymbols,ck=Object.prototype.hasOwnProperty,uk=Object.prototype.propertyIsEnumerable,dk=(e,t,n)=>t in e?ok(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const hk={grow:!1,position:"left"},fk=(0,t.forwardRef)(((e,n)=>{const r=GT("TabsList",hk,e),{children:i,className:o,grow:a,position:s}=r,l=((e,t)=>{var n={};for(var r in e)ck.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&lk)for(var r of lk(e))t.indexOf(r)<0&&uk.call(e,r)&&(n[r]=e[r]);return n})(r,["children","className","grow","position"]),{orientation:c,variant:u,color:d,radius:h,inverted:f,placement:p,classNames:m,styles:g,unstyled:v}=QR(),{classes:y,cx:b}=ik({orientation:c,grow:a,color:d,position:s,radius:h,inverted:f,placement:p},{name:"Tabs",unstyled:v,classNames:m,styles:g,variant:u});return t.createElement(hP,((e,t)=>ak(e,sk(t)))(((e,t)=>{for(var n in t||(t={}))ck.call(t,n)&&dk(e,n,t[n]);if(lk)for(var n of lk(t))uk.call(t,n)&&dk(e,n,t[n]);return e})({},l),{className:b(y.tabsList,o),ref:n,role:"tablist","aria-orientation":c}),i)}));fk.displayName="@mantine/core/TabsList";const pk=_A(((e,t)=>{let{orientation:n}=t;return{panel:{flex:"vertical"===n?1:void 0}}}));var mk=Object.defineProperty,gk=Object.defineProperties,vk=Object.getOwnPropertyDescriptors,yk=Object.getOwnPropertySymbols,bk=Object.prototype.hasOwnProperty,xk=Object.prototype.propertyIsEnumerable,wk=(e,t,n)=>t in e?mk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Sk={},Ek=(0,t.forwardRef)(((e,n)=>{const r=GT("TabsPanel",Sk,e),{value:i,children:o,sx:a,className:s}=r,l=((e,t)=>{var n={};for(var r in e)bk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yk)for(var r of yk(e))t.indexOf(r)<0&&xk.call(e,r)&&(n[r]=e[r]);return n})(r,["value","children","sx","className"]),c=QR(),{classes:u,cx:d}=pk({orientation:c.orientation,color:c.color,radius:c.radius,inverted:c.inverted,placement:c.placement},{name:"Tabs",unstyled:c.unstyled,classNames:c.classNames,styles:c.styles,variant:c.variant}),h=c.getPanelId(i),f=c.value===i,p=c.keepMounted||f?o:null;return(0,t.useEffect)((()=>(c.setMountedPanelIds((e=>[...e,h])),c.setMountedPanelIds((e=>e.filter((e=>e!==h)))))),[h]),t.createElement(hP,((e,t)=>gk(e,vk(t)))(((e,t)=>{for(var n in t||(t={}))bk.call(t,n)&&wk(e,n,t[n]);if(yk)for(var n of yk(t))xk.call(t,n)&&wk(e,n,t[n]);return e})({},l),{ref:n,sx:[{display:f?void 0:"none"},...uR(a)],className:d(u.panel,s),role:"tabpanel",id:h,"aria-labelledby":c.getTabId(i)}),p)}));function Mk(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Ck(e){let{parentSelector:t,siblingSelector:n,onKeyDown:r,loop:i=!0,activateOnFocus:o=!1,dir:a="rtl",orientation:s}=e;return e=>{var l;null==r||r(e);const c=Array.from((null==(l=Mk(e.currentTarget,t))?void 0:l.querySelectorAll(n))||[]).filter((n=>function(e,t,n){return Mk(e,n)===Mk(t,n)}(e.currentTarget,n,t))),u=c.findIndex((t=>e.currentTarget===t)),d=function(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n)for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r;return e}(u,c,i),h=function(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n)for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r;return e}(u,c,i),f="rtl"===a?h:d,p="rtl"===a?d:h;switch(e.key){case"ArrowRight":"horizontal"===s&&(e.stopPropagation(),e.preventDefault(),c[f].focus(),o&&c[f].click());break;case"ArrowLeft":"horizontal"===s&&(e.stopPropagation(),e.preventDefault(),c[p].focus(),o&&c[p].click());break;case"ArrowUp":"vertical"===s&&(e.stopPropagation(),e.preventDefault(),c[h].focus(),o&&c[h].click());break;case"ArrowDown":"vertical"===s&&(e.stopPropagation(),e.preventDefault(),c[d].focus(),o&&c[d].click());break;case"Home":e.stopPropagation(),e.preventDefault(),!c[0].disabled&&c[0].focus();break;case"End":{e.stopPropagation(),e.preventDefault();const t=c.length-1;!c[t].disabled&&c[t].focus();break}}}}Ek.displayName="@mantine/core/TabsPanel";var _k=Object.defineProperty,Tk=Object.defineProperties,Ak=Object.getOwnPropertyDescriptors,Pk=Object.getOwnPropertySymbols,Ok=Object.prototype.hasOwnProperty,Dk=Object.prototype.propertyIsEnumerable,Rk=(e,t,n)=>t in e?_k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kk=(e,t)=>{for(var n in t||(t={}))Ok.call(t,n)&&Rk(e,n,t[n]);if(Pk)for(var n of Pk(t))Dk.call(t,n)&&Rk(e,n,t[n]);return e},Ik=(e,t)=>Tk(e,Ak(t));function Lk(e,t,n){let{orientation:r,color:i,radius:o,inverted:a,placement:s}=t;const l="vertical"===r,c=e.fn.variant({color:i,variant:"filled"}),u=Y_(e.fn.radius(o)),d="vertical"===r?"left"===s?`${u} 0 0 ${u}`:` 0 ${u} ${u} 0`:a?`0 0 ${u} ${u}`:`${u} ${u} 0 0`;return"default"===n?Ik(kk({[l?"left"===s?"borderRight":"borderLeft":a?"borderTop":"borderBottom"]:`${Y_(2)} solid transparent`,[l?"left"===s?"marginRight":"marginLeft":a?"marginTop":"marginBottom"]:Y_(-2),borderRadius:d},e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0],borderColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]})),{"&[data-active]":kk({borderColor:c.background,color:"dark"===e.colorScheme?e.white:e.black},e.fn.hover({borderColor:c.background}))}):"outline"===n?{borderRadius:d,border:`${Y_(1)} solid transparent`,[l?"left"===s?"borderRight":"borderLeft":a?"borderTop":"borderBottom"]:"none","&[data-active]":{borderColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3],"&::before":{content:'""',backgroundColor:"dark"===e.colorScheme?e.colors.dark[7]:e.white,position:"absolute",bottom:l?0:a?"unset":Y_(-1),top:l?0:a?Y_(-1):"unset",[l?"width":"height"]:Y_(1),right:l?"left"===s?Y_(-1):"unset":0,left:l?"left"===s?"unset":Y_(-1):0}}}:"pills"===n?Ik(kk({borderRadius:e.fn.radius(o)},e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]})),{"&[data-active]":kk({backgroundColor:c.background,color:e.white},e.fn.hover({backgroundColor:c.background}))}):{}}var zk=_A(((e,t,n)=>{let{variant:r}=n;return{tabLabel:{},tab:kk({position:"relative",padding:`${e.spacing.xs} ${e.spacing.md}`,paddingLeft:t.withIcon?e.spacing.xs:void 0,paddingRight:t.withRightSection?e.spacing.xs:void 0,fontSize:e.fontSizes.sm,whiteSpace:"nowrap",zIndex:0,display:"flex",alignItems:"center",justifyContent:"horizontal"===t.orientation?"center":void 0,lineHeight:1,"&:disabled":kk({opacity:.5,cursor:"not-allowed"},e.fn.hover({backgroundColor:"transparent"})),"&:focus":{zIndex:1}},Lk(e,t,r)),tabRightSection:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginLeft:Y_(7)}},tabIcon:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginRight:Y_(7)}}}}));const Fk=zk;var Nk=Object.defineProperty,Bk=Object.defineProperties,Uk=Object.getOwnPropertyDescriptors,jk=Object.getOwnPropertySymbols,Hk=Object.prototype.hasOwnProperty,Vk=Object.prototype.propertyIsEnumerable,Gk=(e,t,n)=>t in e?Nk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wk=(e,t)=>{for(var n in t||(t={}))Hk.call(t,n)&&Gk(e,n,t[n]);if(jk)for(var n of jk(t))Vk.call(t,n)&&Gk(e,n,t[n]);return e},Yk=(e,t)=>Bk(e,Uk(t));const Xk=_A((e=>({root:Yk(Wk(Wk({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})})));var Qk=Object.defineProperty,qk=Object.getOwnPropertySymbols,Kk=Object.prototype.hasOwnProperty,Zk=Object.prototype.propertyIsEnumerable,Jk=(e,t,n)=>t in e?Qk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $k=(0,t.forwardRef)(((e,n)=>{const r=GT("UnstyledButton",{},e),{className:i,component:o="button",unstyled:a,variant:s}=r,l=((e,t)=>{var n={};for(var r in e)Kk.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&qk)for(var r of qk(e))t.indexOf(r)<0&&Zk.call(e,r)&&(n[r]=e[r]);return n})(r,["className","component","unstyled","variant"]),{classes:c,cx:u}=Xk(null,{name:"UnstyledButton",unstyled:a,variant:s});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))Kk.call(t,n)&&Jk(e,n,t[n]);if(qk)for(var n of qk(t))Zk.call(t,n)&&Jk(e,n,t[n]);return e})({component:o,ref:n,className:u(c.root,i),type:"button"===o?"button":void 0},l))}));$k.displayName="@mantine/core/UnstyledButton";const eI=$k;var tI=Object.defineProperty,nI=Object.defineProperties,rI=Object.getOwnPropertyDescriptors,iI=Object.getOwnPropertySymbols,oI=Object.prototype.hasOwnProperty,aI=Object.prototype.propertyIsEnumerable,sI=(e,t,n)=>t in e?tI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const lI={},cI=(0,t.forwardRef)(((e,n)=>{const r=GT("TabsTab",lI,e),{value:i,children:o,onKeyDown:a,onClick:s,className:l,icon:c,rightSection:u,color:d}=r,h=((e,t)=>{var n={};for(var r in e)oI.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&iI)for(var r of iI(e))t.indexOf(r)<0&&aI.call(e,r)&&(n[r]=e[r]);return n})(r,["value","children","onKeyDown","onClick","className","icon","rightSection","color"]),f=QR(),p=!!c,m=!!u,{theme:g,classes:v,cx:y}=Fk({withIcon:p||m&&!o,withRightSection:m||p&&!o,orientation:f.orientation,color:d||f.color,radius:f.radius,inverted:f.inverted,placement:f.placement},{name:"Tabs",unstyled:f.unstyled,classNames:f.classNames,styles:f.styles,variant:f.variant}),b=i===f.value,x=f.getPanelId(i),w=f.mountedPanelIds.includes(i)?x:void 0;return t.createElement(eI,((e,t)=>nI(e,rI(t)))(((e,t)=>{for(var n in t||(t={}))oI.call(t,n)&&sI(e,n,t[n]);if(iI)for(var n of iI(t))aI.call(t,n)&&sI(e,n,t[n]);return e})({},h),{unstyled:f.unstyled,className:y(v.tab,l),"data-active":b||void 0,ref:n,type:"button",role:"tab",id:f.getTabId(i),"aria-selected":b,tabIndex:b||null===f.value?0:-1,"aria-controls":w,onClick:e=>{f.onTabChange(f.allowTabDeactivation&&i===f.value?null:i),null==s||s(e)},onKeyDown:Ck({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:f.activateTabWithKeyboard,loop:f.loop,dir:g.dir,orientation:f.orientation,onKeyDown:a})}),c&&t.createElement("span",{className:v.tabIcon},c),o&&t.createElement("span",{className:v.tabLabel},o),u&&t.createElement("span",{className:v.tabRightSection},u))}));function uI(e,t){return n=>{if("string"!==typeof n||0===n.trim().length)throw new Error(t);return`${e}-${n}`}}cI.displayName="@mantine/core/Tab";const dI="undefined"!==typeof document?t.useLayoutEffect:t.useEffect,hI=t["useId".toString()]||(()=>{});function fI(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function pI(e){const n=function(){const e=hI();return e?`mantine-${e.replace(/:/g,"")}`:""}(),[r,i]=(0,t.useState)(n);return dI((()=>{i(fI())}),[]),"string"===typeof e?e:"undefined"===typeof window?n:r}function mI(e){let{value:n,defaultValue:r,finalValue:i,onChange:o=(()=>{})}=e;const[a,s]=(0,t.useState)(void 0!==r?r:i);return void 0!==n?[n,o,!0]:[a,e=>{s(e),null==o||o(e)},!1]}function gI(e){let{defaultValue:n,value:r,onTabChange:i,orientation:o,children:a,loop:s,id:l,activateTabWithKeyboard:c,allowTabDeactivation:u,variant:d,color:h,radius:f,inverted:p,placement:m,keepMounted:g=!0,classNames:v,styles:y,unstyled:b}=e;const x=pI(l),[w,S]=(0,t.useState)([]),[E,M]=mI({value:r,defaultValue:n,finalValue:null,onChange:i});return t.createElement(XR,{value:{placement:m,value:E,orientation:o,id:x,loop:s,activateTabWithKeyboard:c,getTabId:uI(`${x}-tab`,YR),getPanelId:uI(`${x}-panel`,YR),onTabChange:M,setMountedPanelIds:S,mountedPanelIds:w,allowTabDeactivation:u,variant:d,color:h,radius:f,inverted:p,keepMounted:g,classNames:v,styles:y,unstyled:b}},a)}gI.displayName="@mantine/core/TabsProvider";const vI=_A(((e,t)=>{let{orientation:n,placement:r}=t;return{root:{display:"vertical"===n?"flex":void 0,flexDirection:"right"===r?"row-reverse":"row"}}}));var yI=Object.defineProperty,bI=Object.defineProperties,xI=Object.getOwnPropertyDescriptors,wI=Object.getOwnPropertySymbols,SI=Object.prototype.hasOwnProperty,EI=Object.prototype.propertyIsEnumerable,MI=(e,t,n)=>t in e?yI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const CI={orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},_I=(0,t.forwardRef)(((e,n)=>{const r=GT("Tabs",CI,e),{defaultValue:i,value:o,orientation:a,loop:s,activateTabWithKeyboard:l,allowTabDeactivation:c,children:u,id:d,onTabChange:h,variant:f,color:p,className:m,unstyled:g,classNames:v,styles:y,radius:b,inverted:x,keepMounted:w,placement:S}=r,E=((e,t)=>{var n={};for(var r in e)SI.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wI)for(var r of wI(e))t.indexOf(r)<0&&EI.call(e,r)&&(n[r]=e[r]);return n})(r,["defaultValue","value","orientation","loop","activateTabWithKeyboard","allowTabDeactivation","children","id","onTabChange","variant","color","className","unstyled","classNames","styles","radius","inverted","keepMounted","placement"]),{classes:M,cx:C}=vI({orientation:a,color:p,radius:b,inverted:x,placement:S},{unstyled:g,name:"Tabs",classNames:v,styles:y,variant:f});return t.createElement(gI,{activateTabWithKeyboard:l,defaultValue:i,orientation:a,onTabChange:h,value:o,id:d,loop:s,allowTabDeactivation:c,color:p,variant:f,radius:b,inverted:x,keepMounted:w,placement:S,classNames:v,styles:y,unstyled:g},t.createElement(hP,((e,t)=>bI(e,xI(t)))(((e,t)=>{for(var n in t||(t={}))SI.call(t,n)&&MI(e,n,t[n]);if(wI)for(var n of wI(t))EI.call(t,n)&&MI(e,n,t[n]);return e})({},E),{className:C(M.root,m),id:d,ref:n}),u))}));function TI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.forEach((t=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(t,e)))}function AI(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback(TI(...n),n)}_I.List=fk,_I.Tab=cI,_I.Panel=Ek,_I.displayName="@mantine/core/Tabs";const PI=t.forwardRef(((e,n)=>{const{children:r,...i}=e;return t.Children.toArray(r).some(RI)?t.createElement(t.Fragment,null,t.Children.map(r,(e=>RI(e)?t.createElement(OI,Gm({},i,{ref:n}),e.props.children):e))):t.createElement(OI,Gm({},i,{ref:n}),r)}));PI.displayName="Slot";const OI=t.forwardRef(((e,n)=>{const{children:r,...i}=e;return t.isValidElement(r)?t.cloneElement(r,{...kI(i,r.props),ref:TI(n,r.ref)}):t.Children.count(r)>1?t.Children.only(null):null}));OI.displayName="SlotClone";const DI=e=>{let{children:n}=e;return t.createElement(t.Fragment,null,n)};function RI(e){return t.isValidElement(e)&&e.type===DI}function kI(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=function(){null==o||o(...arguments),null==i||i(...arguments)}:"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const II=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((e,n)=>({...e,[n]:t.forwardRef(((e,r)=>{const{asChild:i,...o}=e,a=i?PI:n;return t.useEffect((()=>{window[Symbol.for("radix-ui")]=!0}),[]),t.createElement(a,Gm({},o,{ref:r}))}))})),{}),LI=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?t.useLayoutEffect:()=>{},zI=t.forwardRef(((e,n)=>{var r,i;const{containerRef:o,style:a,...s}=e,l=null!==(r=null==o?void 0:o.current)&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body,[,c]=t.useState({});return LI((()=>{c({})}),[]),l?cD.createPortal(t.createElement(II.div,Gm({"data-radix-portal":""},s,{ref:n,style:l===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...a}:void 0})),l):null})),FI=zI;var NI=Object.prototype.hasOwnProperty;function BI(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&BI(e[r],t[r]););return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(NI.call(e,n)&&++r&&!NI.call(t,n))return!1;if(!(n in t)||!BI(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}function UI(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var jI=function(e,t,n,r){this.name=e,this.fn=t,this.args=n,this.modifiers=r};function HI(e,t){return void 0===t&&(t="simple"),"object"===typeof e?e[t]:e}function VI(e,t,n){if(e.length){var r=e.shift(),i=VI(e,t,n);return r.perform(i,n)}return HI(t)}function GI(e,t,n){if(e.length){var r=e.shift(),i=GI(e,t,n);return r.performAsync(i,n)}return function(e){return Promise.resolve(HI(t,"async")(e))}}jI.prototype._test=function(e){var t=this.fn;try{VI(this.modifiers.slice(),t,this)(e)}catch(n){t=function(){return!1}}try{return VI(this.modifiers.slice(),t,this)(e)}catch(r){return!1}},jI.prototype._check=function(e){try{VI(this.modifiers.slice(),this.fn,this)(e)}catch(t){if(VI(this.modifiers.slice(),(function(e){return e}),this)(!1))return}if(!VI(this.modifiers.slice(),this.fn,this)(e))throw null},jI.prototype._testAsync=function(e){var t=this;return new Promise((function(n,r){GI(t.modifiers.slice(),t.fn,t)(e).then((function(t){t?n(e):r(null)})).catch((function(e){return r(e)}))}))};var WI=function(e,t,n){this.name=e,this.perform=t,this.performAsync=n},YI=function(e){function t(n,r,i,o){for(var a=[],s=arguments.length-4;s-- >0;)a[s]=arguments[s+4];e.call(this,a),e.captureStackTrace&&e.captureStackTrace(this,t),this.rule=n,this.value=r,this.cause=i,this.target=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),XI=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.chain=e,this.nextRuleModifiers=t};function QI(e,t,n,r){if(t.length){var i=t.shift();i._testAsync(e).then((function(){QI(e,t,n,r)}),(function(t){r(new YI(i,e,t))}))}else n(e)}XI.prototype._applyRule=function(e,t){var n=this;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return n.chain.push(new jI(t,e.apply(n,r),r,n.nextRuleModifiers)),n.nextRuleModifiers=[],n}},XI.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new WI(t,e.simple,e.async)),this},XI.prototype._clone=function(){return new XI(this.chain.slice(),this.nextRuleModifiers.slice())},XI.prototype.test=function(e){return this.chain.every((function(t){return t._test(e)}))},XI.prototype.testAll=function(e){var t=[];return this.chain.forEach((function(n){try{n._check(e)}catch(r){t.push(new YI(n,e,r))}})),t},XI.prototype.check=function(e){this.chain.forEach((function(t){try{t._check(e)}catch(n){throw new YI(t,e,n)}}))},XI.prototype.testAsync=function(e){var t=this;return new Promise((function(n,r){QI(e,t.chain.slice(),n,r)}))};var qI=function(e,t){return!(!t||"string"!==typeof e||0!==e.trim().length)||(void 0===e||null===e)};function KI(){return"undefined"!==typeof Proxy?JI(new XI):$I(new XI)}var ZI={};function JI(e){return new Proxy(e,{get:function(t,n){if(n in t)return t[n];var r=JI(e._clone());return n in eL?r._applyModifier(eL[n],n):n in ZI?r._applyRule(ZI[n],n):n in rL?r._applyRule(rL[n],n):void 0}})}function $I(e){var t=function(e,t){return Object.keys(e).forEach((function(n){t[n]=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return $I(t._clone())._applyRule(e[n],n).apply(void 0,r)}})),t},n=t(rL,e),r=t(ZI,n);return Object.keys(eL).forEach((function(e){Object.defineProperty(r,e,{get:function(){return $I(r._clone())._applyModifier(eL[e],e)}})})),r}KI.extend=function(e){Object.assign(ZI,e)},KI.clearCustomRules=function(){ZI={}};var eL={not:{simple:function(e){return function(t){return!e(t)}},async:function(e){return function(t){return Promise.resolve(e(t)).then((function(e){return!e})).catch((function(){return!0}))}}},some:{simple:function(e){return function(t){return nL(t).some((function(t){try{return e(t)}catch(n){return!1}}))}},async:function(e){return function(t){return Promise.all(nL(t).map((function(t){try{return e(t).catch((function(){return!1}))}catch(n){return!1}}))).then((function(e){return e.some(Boolean)}))}}},every:{simple:function(e){return function(t){return!1!==t&&nL(t).every(e)}},async:function(e){return function(t){return Promise.all(nL(t).map(e)).then((function(e){return e.every(Boolean)}))}}},strict:{simple:function(e,t){return function(n){return tL(t)&&n&&"object"===typeof n?Object.keys(t.args[0]).length===Object.keys(n).length&&e(n):e(n)}},async:function(e,t){return function(n){return Promise.resolve(e(n)).then((function(e){return tL(t)&&n&&"object"===typeof n?Object.keys(t.args[0]).length===Object.keys(n).length&&e:e})).catch((function(){return!1}))}}}};function tL(e){return e&&"schema"===e.name&&e.args.length>0&&"object"===typeof e.args[0]}function nL(e){return"string"===typeof e?e.split(""):e}var rL={equal:function(e){return function(t){return t==e}},exact:function(e){return function(t){return t===e}},number:function(e){return void 0===e&&(e=!0),function(t){return"number"===typeof t&&(e||isFinite(t))}},integer:function(){return function(e){return(Number.isInteger||oL)(e)}},numeric:function(){return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},string:function(){return iL("string")},boolean:function(){return iL("boolean")},undefined:function(){return iL("undefined")},null:function(){return iL("null")},array:function(){return iL("array")},object:function(){return iL("object")},instanceOf:function(e){return function(t){return t instanceof e}},pattern:function(e){return function(t){return e.test(t)}},lowercase:function(){return function(e){return"boolean"===typeof e||e===e.toLowerCase()&&""!==e.trim()}},uppercase:function(){return function(e){return e===e.toUpperCase()&&""!==e.trim()}},vowel:function(){return function(e){return/^[aeiou]+$/i.test(e)}},consonant:function(){return function(e){return/^(?=[^aeiou])([a-z]+)$/i.test(e)}},first:function(e){return function(t){return t[0]==e}},last:function(e){return function(t){return t[t.length-1]==e}},empty:function(){return function(e){return 0===e.length}},length:function(e,t){return function(n){return n.length>=e&&n.length<=(t||e)}},minLength:function(e){return function(t){return t.length>=e}},maxLength:function(e){return function(t){return t.length<=e}},negative:function(){return function(e){return e<0}},positive:function(){return function(e){return e>=0}},between:function(e,t){return function(n){return n>=e&&n<=t}},range:function(e,t){return function(n){return n>=e&&n<=t}},lessThan:function(e){return function(t){return t<e}},lessThanOrEqual:function(e){return function(t){return t<=e}},greaterThan:function(e){return function(t){return t>e}},greaterThanOrEqual:function(e){return function(t){return t>=e}},even:function(){return function(e){return e%2===0}},odd:function(){return function(e){return e%2!==0}},includes:function(e){return function(t){return~t.indexOf(e)}},schema:function(e){return function(e){return{simple:function(t){var n=[];if(Object.keys(e).forEach((function(r){var i=e[r];try{i.check((t||{})[r])}catch(o){o.target=r,n.push(o)}})),n.length>0)throw n;return!0},async:function(t){var n=[],r=Object.keys(e).map((function(r){return e[r].testAsync((t||{})[r]).catch((function(e){e.target=r,n.push(e)}))}));return Promise.all(r).then((function(){if(n.length>0)throw n;return!0}))}}}(e)},passesAnyOf:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t){return e.some((function(e){return e.test(t)}))}},optional:function(e,t){return void 0===t&&(t=!1),{simple:function(n){return qI(n,t)||void 0===e.check(n)},async:function(n){return qI(n,t)||e.testAsync(n)}}}};function iL(e){return function(t){return Array.isArray(t)&&"array"===e||null===t&&"null"===e||typeof t===e}}function oL(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}const aL=KI;var sL="colors",lL="sizes",cL="space",uL={gap:cL,gridGap:cL,columnGap:cL,gridColumnGap:cL,rowGap:cL,gridRowGap:cL,inset:cL,insetBlock:cL,insetBlockEnd:cL,insetBlockStart:cL,insetInline:cL,insetInlineEnd:cL,insetInlineStart:cL,margin:cL,marginTop:cL,marginRight:cL,marginBottom:cL,marginLeft:cL,marginBlock:cL,marginBlockEnd:cL,marginBlockStart:cL,marginInline:cL,marginInlineEnd:cL,marginInlineStart:cL,padding:cL,paddingTop:cL,paddingRight:cL,paddingBottom:cL,paddingLeft:cL,paddingBlock:cL,paddingBlockEnd:cL,paddingBlockStart:cL,paddingInline:cL,paddingInlineEnd:cL,paddingInlineStart:cL,top:cL,right:cL,bottom:cL,left:cL,scrollMargin:cL,scrollMarginTop:cL,scrollMarginRight:cL,scrollMarginBottom:cL,scrollMarginLeft:cL,scrollMarginX:cL,scrollMarginY:cL,scrollMarginBlock:cL,scrollMarginBlockEnd:cL,scrollMarginBlockStart:cL,scrollMarginInline:cL,scrollMarginInlineEnd:cL,scrollMarginInlineStart:cL,scrollPadding:cL,scrollPaddingTop:cL,scrollPaddingRight:cL,scrollPaddingBottom:cL,scrollPaddingLeft:cL,scrollPaddingX:cL,scrollPaddingY:cL,scrollPaddingBlock:cL,scrollPaddingBlockEnd:cL,scrollPaddingBlockStart:cL,scrollPaddingInline:cL,scrollPaddingInlineEnd:cL,scrollPaddingInlineStart:cL,fontSize:"fontSizes",background:sL,backgroundColor:sL,backgroundImage:sL,borderImage:sL,border:sL,borderBlock:sL,borderBlockEnd:sL,borderBlockStart:sL,borderBottom:sL,borderBottomColor:sL,borderColor:sL,borderInline:sL,borderInlineEnd:sL,borderInlineStart:sL,borderLeft:sL,borderLeftColor:sL,borderRight:sL,borderRightColor:sL,borderTop:sL,borderTopColor:sL,caretColor:sL,color:sL,columnRuleColor:sL,fill:sL,outline:sL,outlineColor:sL,stroke:sL,textDecorationColor:sL,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:lL,minBlockSize:lL,maxBlockSize:lL,inlineSize:lL,minInlineSize:lL,maxInlineSize:lL,width:lL,minWidth:lL,maxWidth:lL,height:lL,minHeight:lL,maxHeight:lL,flexBasis:lL,gridTemplateColumns:lL,gridTemplateRows:lL,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},dL=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,hL=()=>{const e=Object.create(null);return function(t,n){const r=(e=>JSON.stringify(e,dL))(t);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return r in e?e[r]:e[r]=n(t,...o)}},fL=Symbol.for("sxs.internal"),pL=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),mL=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:gL}=Object.prototype,vL=e=>e.includes("-")?e:e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),yL=/\s+(?![^()]*\))/,bL=e=>t=>e(..."string"==typeof t?String(t).split(yL):[t]),xL={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:bL(((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e}))),marginInline:bL(((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e}))),maxSize:bL(((e,t)=>({maxBlockSize:e,maxInlineSize:t||e}))),minSize:bL(((e,t)=>({minBlockSize:e,minInlineSize:t||e}))),paddingBlock:bL(((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e}))),paddingInline:bL(((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e})))},wL=/([\d.]+)([^]*)/,SL=(e,t)=>e.length?e.reduce(((e,n)=>(e.push(...t.map((e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?`:is(${n})`:n):n+" "+e))),e)),[]):t,EL=(e,t)=>e in ML&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((t,n,r,i)=>n+("stretch"===r?`-moz-available${i};${vL(e)}:${n}-webkit-fill-available`:`-moz-fit-content${i};${vL(e)}:${n}fit-content`)+i)):String(t),ML={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},CL=e=>e?e+"-":"",_L=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((e,r,i,o,a)=>"$"==o==!!i?e:(r||"--"==o?"calc(":"")+"var(--"+("$"===o?CL(t)+(a.includes("$")?"":CL(n))+a.replace(/\$/g,"-"):a)+")"+(r||"--"==o?"*"+(r||"")+(i||"1")+")":""))),TL=/\s*,\s*(?![^()]*\))/,AL=Object.prototype.toString,PL=(e,t,n,r,i)=>{let o,a,s;const l=(e,t,n)=>{let c,u;const d=e=>{for(c in e){const p=64===c.charCodeAt(0),m=p&&Array.isArray(e[c])?e[c]:[e[c]];for(u of m){const e=/[A-Z]/.test(f=c)?f:f.replace(/-[^]/g,(e=>e[1].toUpperCase())),m="object"==typeof u&&u&&u.toString===AL&&(!r.utils[e]||!t.length);if(e in r.utils&&!m){const t=r.utils[e];if(t!==a){a=t,d(t(u)),a=null;continue}}else if(e in xL){const t=xL[e];if(t!==s){s=t,d(t(u)),s=null;continue}}if(p&&(h=c.slice(1)in r.media?"@media "+r.media[c.slice(1)]:c,c=h.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((e,t,n,r,i,o)=>{const a=wL.test(t),s=.0625*(a?-1:1),[l,c]=a?[r,t]:[t,r];return"("+("="===n[0]?"":">"===n[0]===a?"max-":"min-")+l+":"+("="!==n[0]&&1===n.length?c.replace(wL,((e,t,r)=>Number(t)+s*(">"===n?1:-1)+r)):c)+(i?") and ("+(">"===i[0]?"min-":"max-")+l+":"+(1===i.length?o.replace(wL,((e,t,n)=>Number(t)+s*(">"===i?-1:1)+n)):o):"")+")"}))),m){const e=p?n.concat(c):[...n],r=p?[...t]:SL(t,c.split(TL));void 0!==o&&i(OL(...o)),o=void 0,l(u,r,e)}else void 0===o&&(o=[[],t,n]),c=p||36!==c.charCodeAt(0)?c:`--${CL(r.prefix)}${c.slice(1).replace(/\$/g,"-")}`,u=m?u:"number"==typeof u?u&&e in DL?String(u)+"px":String(u):_L(EL(e,null==u?"":u),r.prefix,r.themeMap[e]),o[0].push(`${p?`${c} `:`${vL(c)}:`}${u}`)}}var h,f};d(e),void 0!==o&&i(OL(...o)),o=void 0};l(e,t,n)},OL=(e,t,n)=>`${n.map((e=>`${e}{`)).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,DL={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},RL=e=>String.fromCharCode(e+(e>25?39:97)),kL=e=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=RL(t%52)+n;return RL(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(e))>>>0),IL=["themed","global","styled","onevar","resonevar","allvar","inline"],LL=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},zL=e=>{let t;const n=()=>{const{cssRules:e}=t.sheet;return[].map.call(e,((n,r)=>{const{cssText:i}=n;let o="";if(i.startsWith("--sxs"))return"";if(e[r-1]&&(o=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(const e in t.rules)if(t.rules[e].group===n)return`--sxs{--sxs:${[...t.rules[e].cache].join(" ")}}${i}`;return n.cssRules.length?`${o}${i}`:""}return i})).join("")},r=()=>{if(t){const{rules:e,sheet:n}=t;if(!n.deleteRule){for(;3===Object(Object(n.cssRules)[0]).type;)n.cssRules.splice(0,1);n.cssRules=[]}for(const t in e)delete e[t]}const i=Object(e).styleSheets||[];for(const e of i)if(LL(e)){for(let i=0,o=e.cssRules;o[i];++i){const a=Object(o[i]);if(1!==a.type)continue;const s=Object(o[i+1]);if(4!==s.type)continue;++i;const{cssText:l}=a;if(!l.startsWith("--sxs"))continue;const c=l.slice(14,-3).trim().split(/\s+/),u=IL[c[0]];u&&(t||(t={sheet:e,reset:r,rules:{},toString:n}),t.rules[u]={group:s,index:i,cache:new Set(c)})}if(t)break}if(!t){const i=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,i(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,(e=>e.cssText)).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:i("","text/css"),rules:{},reset:r,toString:n}}const{sheet:o,rules:a}=t;for(let e=IL.length-1;e>=0;--e){const t=IL[e];if(!a[t]){const n=IL[e+1],r=a[n]?a[n].index:o.cssRules.length;o.insertRule("@media{}",r),o.insertRule(`--sxs{--sxs:${e}}`,r),a[t]={group:o.cssRules[r+1],index:r,cache:new Set([e])}}FL(a[t])}};return r(),t},FL=e=>{const t=e.group;let n=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,n),++n}catch(e){}}},NL=Symbol(),BL=hL(),UL=(e,t)=>BL(e,(()=>function(){let n={type:null,composers:new Set};for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(const t of i)if(null!=t)if(t[fL]){null==n.type&&(n.type=t[fL].type);for(const e of t[fL].composers)n.composers.add(e)}else t.constructor!==Object||t.$$typeof?null==n.type&&(n.type=t):n.composers.add(jL(t,e));return null==n.type&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),HL(e,n,t)})),jL=(e,t)=>{let{variants:n,compoundVariants:r,defaultVariants:i,...o}=e;const a=`${CL(t.prefix)}c-${kL(o)}`,s=[],l=[],c=Object.create(null),u=[];for(const f in i)c[f]=String(i[f]);if("object"==typeof n&&n)for(const f in n){d=c,h=f,gL.call(d,h)||(c[f]="undefined");const e=n[f];for(const t in e){const n={[f]:String(t)};"undefined"===String(t)&&u.push(f);const r=e[t],i=[n,r,!mL(r)];s.push(i)}}var d,h;if("object"==typeof r&&r)for(const f of r){let{css:e,...t}=f;e="object"==typeof e&&e||{};for(const r in t)t[r]=String(t[r]);const n=[t,e,!mL(e)];l.push(n)}return[a,o,s,l,c,u]},HL=(e,t,n)=>{const[r,i,o,a]=VL(t.composers),s="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let n=0;n<t[NL].length;n++){const[r,i]=t[NL][n];e.rules[r].apply(i)}return t[NL]=[],null}return t[NL]=[],t.rules={},IL.forEach((e=>t.rules[e]={apply:n=>t[NL].push([e,n])})),t})(n):null,l=(s||n).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=u=>{u="object"==typeof u&&u||WL;const{css:d,...h}=u,f={};for(const e in o)if(delete h[e],e in u){let t=u[e];"object"==typeof t&&t?f[e]={"@initial":o[e],...t}:(t=String(t),f[e]="undefined"!==t||a.has(e)?t:o[e])}else f[e]=o[e];const p=new Set([...i]);for(const[r,i,o,a]of t.composers){n.rules.styled.cache.has(r)||(n.rules.styled.cache.add(r),PL(i,[`.${r}`],[],e,(e=>{l.styled.apply(e)})));const t=GL(o,f,e.media),s=GL(a,f,e.media,!0);for(const i of t)if(void 0!==i)for(const[t,o,a]of i){const i=`${r}-${kL(o)}-${t}`;p.add(i);const s=(a?n.rules.resonevar:n.rules.onevar).cache,c=a?l.resonevar:l.onevar;s.has(i)||(s.add(i),PL(o,[`.${i}`],[],e,(e=>{c.apply(e)})))}for(const i of s)if(void 0!==i)for(const[t,o]of i){const i=`${r}-${kL(o)}-${t}`;p.add(i),n.rules.allvar.cache.has(i)||(n.rules.allvar.cache.add(i),PL(o,[`.${i}`],[],e,(e=>{l.allvar.apply(e)})))}}if("object"==typeof d&&d){const t=`${r}-i${kL(d)}-css`;p.add(t),n.rules.inline.cache.has(t)||(n.rules.inline.cache.add(t),PL(d,[`.${t}`],[],e,(e=>{l.inline.apply(e)})))}for(const e of String(u.className||"").trim().split(/\s+/))e&&p.add(e);const m=h.className=[...p].join(" ");return{type:t.type,className:m,selector:c,props:h,toString:()=>m,deferredInjector:s}};return pL(u,{className:r,selector:c,[fL]:t,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},VL=e=>{let t="";const n=[],r={},i=[];for(const[o,,,,a,s]of e){""===t&&(t=o),n.push(o),i.push(...s);for(const e in a){const t=a[e];(void 0===r[e]||"undefined"!==t||s.includes(t))&&(r[e]=t)}}return[t,n,r,new Set(i)]},GL=(e,t,n,r)=>{const i=[];e:for(let[o,a,s]of e){if(s)continue;let e,l=0,c=!1;for(e in o){const r=o[e];let i=t[e];if(i!==r){if("object"!=typeof i||!i)continue e;{let e,t,o=0;for(const a in i){if(r===String(i[a])){if("@initial"!==a){const e=a.slice(1);(t=t||[]).push(e in n?n[e]:a.replace(/^@media ?/,"")),c=!0}l+=o,e=!0}++o}if(t&&t.length&&(a={["@media "+t.join(", ")]:a}),!e)continue e}}}(i[l]=i[l]||[]).push([r?"cv":`${e}-${o[e]}`,a,c])}return i},WL={},YL=hL(),XL=(e,t)=>YL(e,(()=>function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const o=()=>{for(let n of r){n="object"==typeof n&&n||{};let r=kL(n);if(!t.rules.global.cache.has(r)){if(t.rules.global.cache.add(r),"@import"in n){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let r of[].concat(n["@import"]))r=r.includes('"')||r.includes("'")?r:`"${r}"`,t.sheet.insertRule(`@import ${r};`,e++);delete n["@import"]}PL(n,[],[],e,(e=>{t.rules.global.apply(e)}))}}return""};return pL(o,{toString:o})})),QL=hL(),qL=(e,t)=>QL(e,(()=>n=>{const r=`${CL(e.prefix)}k-${kL(n)}`,i=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);const i=[];PL(n,[],[],e,(e=>i.push(e)));const o=`@keyframes ${r}{${i.join("")}}`;t.rules.global.apply(o)}return r};return pL(i,{get name(){return i()},toString:i})})),KL=class{constructor(e,t,n,r){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==n?"":String(n),this.prefix=null==r?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+CL(this.prefix)+CL(this.scale)+this.token}toString(){return this.computedValue}},ZL=hL(),JL=(e,t)=>ZL(e,(()=>(n,r)=>{r="object"==typeof n&&n||Object(r);const i=`.${n=(n="string"==typeof n?n:"")||`${CL(e.prefix)}t-${kL(r)}`}`,o={},a=[];for(const t in r){o[t]={};for(const n in r[t]){const i=`--${CL(e.prefix)}${t}-${n}`,s=_L(String(r[t][n]),e.prefix,t);o[t][n]=new KL(n,s,t,e.prefix),a.push(`${i}:${s}`)}}const s=()=>{if(a.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const i=`${r===e.theme?":root,":""}.${n}{${a.join(";")}}`;t.rules.themed.apply(i)}return n};return{...o,get className(){return s()},selector:i,toString:s}})),$L=hL(),ez=hL(),tz=e=>{const n=(e=>{let t=!1;const n=$L(e,(e=>{t=!0;const n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},i="object"==typeof e.root?e.root||null:globalThis.document||null,o="object"==typeof e.theme&&e.theme||{},a={prefix:n,media:r,theme:o,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...uL},utils:"object"==typeof e.utils&&e.utils||{}},s=zL(i),l={css:UL(a,s),globalCss:XL(a,s),keyframes:qL(a,s),createTheme:JL(a,s),reset(){s.reset(),l.theme.toString()},theme:{},sheet:s,config:a,prefix:n,getCssText:s.toString,toString:s.toString};return String(l.theme=l.createTheme(o)),l}));return t||n.reset(),n})(e);return n.styled=(e=>{let{config:n,sheet:r}=e;return ez(n,(()=>{const e=UL(n,r);return function(){const n=e(...arguments),r=n[fL].type,i=t.forwardRef(((e,i)=>{const o=e&&e.as||r,{props:a,deferredInjector:s}=n(e);return delete a.as,a.ref=i,s?t.createElement(t.Fragment,null,t.createElement(o,a),t.createElement(s,null)):t.createElement(o,a)}));return i.className=n.className,i.displayName=`Styled.${r.displayName||r.name||r}`,i.selector=n.selector,i.toString=()=>n.selector,i[fL]=n[fL],i}}))})(n),n};const nz={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function rz(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function iz(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-rz(t-e,n-t,r)+t:e>n?+rz(e-n,n-t,r)+n:e}function oz(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function az(e,t,n){return(t=oz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sz(Object(n),!0).forEach((function(t){az(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const cz={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function uz(e){return e?e[0].toUpperCase()+e.slice(1):""}const dz=["enter","leave"];function hz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=cz[e],i=r&&r[t]||t;return"on"+uz(e)+uz(i)+(function(){let e=arguments.length>1?arguments[1]:void 0;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&!dz.includes(e)}(n,i)?"Capture":"")}const fz=["gotpointercapture","lostpointercapture"];function pz(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=fz.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function mz(e){return"touches"in e}function gz(e){return mz(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function vz(e){return mz(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function yz(e){return function(e){return Array.from(e.touches).filter((t=>{var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((e=>e.identifier))}function bz(e){const t=vz(e);return mz(e)?t.identifier:t.pointerId}function xz(e){const t=vz(e);return[t.clientX,t.clientY]}function wz(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e(...n)}return e}function Sz(){}function Ez(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?Sz:1===t.length?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function Mz(e,t){return Object.assign({},t,e||{})}class Cz{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:n,args:r}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?wz(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:n,shared:r}=this;t.args=this.args;let i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);nz.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[s,l]=n.threshold,{_step:c,values:u}=t;if(n.hasCustomTransform?(!1===c[0]&&(c[0]=Math.abs(o)>=s&&u[0]),!1===c[1]&&(c[1]=Math.abs(a)>=l&&u[1])):(!1===c[0]&&(c[0]=Math.abs(o)>=s&&Math.sign(o)*s),!1===c[1]&&(c[1]=Math.abs(a)>=l&&Math.sign(a)*l)),t.intentional=!1!==c[0]||!1!==c[1],!t.intentional)return;const d=[0,0];if(n.hasCustomTransform){const[e,t]=u;d[0]=!1!==c[0]?e-c[0]:0,d[1]=!1!==c[1]?t-c[1]:0}else d[0]=!1!==c[0]?o-c[0]:0,d[1]=!1!==c[1]?a-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const h=t.offset,f=t._active&&!t._blocked||t.active;f&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=wz(n.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[p,m]=t.offset,[[g,v],[y,b]]=t._bounds;t.overflow=[p<g?-1:p>v?1:0,m<y?-1:m>b?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);const x=t._active&&n.rubberband||[0,0];if(t.offset=function(e,t,n){let[r,i]=t,[o,a]=n;const[[s,l],[c,u]]=e;return[iz(r,s,l,o),iz(i,c,u,a)]}(t._bounds,t.offset,x),t.delta=nz.sub(t.offset,h),this.computeMovement(),f&&(!t.last||i>32)){t.delta=nz.sub(t.offset,h);const e=t.delta.map(Math.abs);nz.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[e[0]/i,e[1]/i],t.timeDelta=i)}}emit(){const e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const r=this.handler(lz(lz(lz({},t),e),{},{[this.aliasKey]:e.values}));void 0!==r&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class _z extends Cz{constructor(){super(...arguments),az(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=nz.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=nz.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,n=this.config;if(!t.axis&&e){const r="object"===typeof n.axisThreshold?n.axisThreshold[gz(e)]:n.axisThreshold;t.axis=function(e,t){let[n,r]=e;const i=Math.abs(n),o=Math.abs(r);return i>o&&i>t?"x":o>i&&o>t?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}const Tz=e=>e,Az={enabled(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},eventOptions:(e,t,n)=>lz(lz({},n.shared.eventOptions),e),preventDefault(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},triggerAllEvents(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},rubberband(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return nz.toVector(e)}},from:e=>"function"===typeof e?e:null!=e?nz.toVector(e):void 0,transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||Tz},threshold:e=>nz.toVector(e,0)};const Pz=lz(lz({},Az),{},{axis(e,t,n){let{axis:r}=n;if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:0},bounds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return t=>Pz.bounds(e(t));if("current"in e)return()=>e.current;if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),Oz={ArrowRight:function(e){return[e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),0]},ArrowLeft:function(e){return[-1*e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),0]},ArrowUp:function(e){return[0,-1*e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)]},ArrowDown:function(e){return[0,e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)]}};const Dz="undefined"!==typeof window&&window.document&&window.document.createElement;function Rz(){return Dz&&"ontouchstart"in window||Dz&&window.navigator.maxTouchPoints>1}const kz={isBrowser:Dz,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:Rz(),touchscreen:Rz(),pointer:Dz&&"onpointerdown"in window,pointerLock:Dz&&"exitPointerLock"in window.document},Iz=.5,Lz=50,zz=250,Fz={mouse:0,touch:0,pen:8},Nz=lz(lz({},Pz),{},{device(e,t,n){let{pointer:{touch:r=!1,lock:i=!1,mouse:o=!1}={}}=n;return this.pointerLock=i&&kz.pointerLock,kz.touch&&r?"touch":this.pointerLock?"mouse":kz.pointer&&!o?"pointer":kz.touch?"touch":"mouse"},preventScrollAxis(e,t,n){let{preventScroll:r}=n;if(this.preventScrollDelay="number"===typeof r?r:r||void 0===r&&e?250:void 0,kz.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture(e,t,n){let{pointer:{capture:r=!0,buttons:i=1,keys:o=!0}={}}=n;return this.pointerButtons=i,this.keys=o,!this.pointerLock&&"pointer"===this.device&&r},threshold(e,t,n){let{filterTaps:r=!1,tapsThreshold:i=3,axis:o}=n;const a=nz.toVector(e,r?i:o?1:0);return this.filterTaps=r,this.tapsThreshold=i,a},swipe(){let{velocity:e=Iz,distance:t=Lz,duration:n=zz}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{velocity:this.transform(nz.toVector(e)),distance:this.transform(nz.toVector(t)),duration:n}},delay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?lz(lz({},Fz),e):Fz,keyboardDisplacement(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:10}});lz(lz({},Az),{},{device(e,t,n){let{shared:r,pointer:{touch:i=!1}={}}=n;if(r.target&&!kz.touch&&kz.gesture)return"gesture";if(kz.touch&&i)return"touch";if(kz.touchscreen){if(kz.pointer)return"pointer";if(kz.touch)return"touch"}},bounds(e,t,n){let{scaleBounds:r={},angleBounds:i={}}=n;const o=e=>{const t=Mz(wz(r,e),{min:-1/0,max:1/0});return[t.min,t.max]},a=e=>{const t=Mz(wz(i,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof r&&"function"!==typeof i?[o(),a()]:e=>[o(e),a(e)]},threshold(e,t,n){this.lockDirection="lock"===n.axis;return nz.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}});lz(lz({},Pz),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}});lz(lz({},Pz),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}});const Bz=new Map,Uz=new Map;const jz={key:"drag",engine:class extends _z{constructor(){super(...arguments),az(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=Pz.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout((()=>{this.compute(),this.emit()}),0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,n=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=bz(e),n._pointerActive=!0,this.computeValues(xz(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==gz(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,n=this.config;if(!t._pointerActive)return;if(t.type===e.type&&e.timeStamp===t.timeStamp)return;const r=bz(e);if(void 0!==t._pointerId&&r!==t._pointerId)return;const i=xz(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=nz.sub(i,t._values),this.computeValues(i)),nz.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(a){0}const t=this.state,n=this.config;if(!t._active||!t._pointerActive)return;const r=bz(e);if(void 0!==t._pointerId&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[i,o]=t._distance;if(t.tap=i<=n.tapsThreshold&&o<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{const[e,r]=t._delta,[i,o]=t._movement,[a,s]=n.swipe.velocity,[l,c]=n.swipe.distance,u=n.swipe.duration;if(t.elapsedTime<u){const n=Math.abs(e/t.timeDelta),u=Math.abs(r/t.timeDelta);n>a&&Math.abs(i)>l&&(t.swipe[0]=Math.sign(e)),u>s&&Math.abs(o)>c&&(t.swipe[1]=Math.sign(r))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",(()=>{this.state._step=[0,0],this.startPointerDrag(e)}),this.config.delay)}keyDown(e){const t=Oz[e.key];if(t){const n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(this.config.keyboardDisplacement,r),n._keyboardActive=!0,nz.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Oz&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:Nz};function Hz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Vz={target(e){if(e)return()=>"current"in e?e.current:e},enabled(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},window(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:kz.isBrowser?window:void 0},eventOptions(){let{passive:e=!0,capture:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{passive:e,capture:t}},transform:e=>e},Gz=["target","eventOptions","window","enabled","transform"];function Wz(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=Wz(e[r],i);break;case"boolean":i&&(n[r]=e[r])}return n}class Yz{constructor(e,t){az(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,r,i){const o=this._listeners,a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=cz[e];return e+(n&&n[t]||t)}(t,n),s=lz(lz({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(a,r,s);const l=()=>{e.removeEventListener(a,r,s),o.delete(l)};return o.add(l),l}clean(){this._listeners.forEach((e=>e())),this._listeners.clear()}}class Xz{constructor(){az(this,"_timeouts",new Map)}add(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];this._timeouts.set(e,window.setTimeout(t,n,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach((e=>{window.clearTimeout(e)})),this._timeouts.clear()}}class Qz{constructor(e){az(this,"gestures",new Set),az(this,"_targetEventStore",new Yz(this)),az(this,"gestureEventStores",{}),az(this,"gestureTimeoutStores",{}),az(this,"handlers",{}),az(this,"config",{}),az(this,"pointerIds",new Set),az(this,"touchIds",new Set),az(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&qz(e,"drag");t.wheel&&qz(e,"wheel");t.scroll&&qz(e,"scroll");t.move&&qz(e,"move");t.pinch&&qz(e,"pinch");t.hover&&qz(e,"hover")}(this,e)}setEventIds(e){return mz(e)?(this.touchIds=new Set(yz(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e,{target:i,eventOptions:o,window:a,enabled:s,transform:l}=r,c=Hz(r,Gz);if(n.shared=Wz({target:i,eventOptions:o,window:a,enabled:s,transform:l},Vz),t){const e=Uz.get(t);n[t]=Wz(lz({shared:n.shared},c),e)}else for(const u in c){const e=Uz.get(u);e&&(n[u]=Wz(lz({shared:n.shared},c[u]),e))}return n}(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=this.config.shared,i={};let o;if(!r.target||(o=r.target(),o)){if(r.enabled){for(const n of this.gestures){const e=this.config[n],r=Kz(i,e.eventOptions,!!o);if(e.enabled){new(Bz.get(n))(this,t,n).bind(r)}}const e=Kz(i,r.eventOptions,!!o);for(const n in this.nativeHandlers)e(n,"",(e=>this.nativeHandlers[n](lz(lz({},this.state.shared),{},{event:e,args:t}))),void 0,!0)}for(const e in i)i[e]=Ez(...i[e]);if(!o)return i;for(const e in i){const{device:t,capture:n,passive:r}=pz(e);this._targetEventStore.add(o,t,"",i[e],{capture:n,passive:r})}}}}function qz(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Yz(e,t),e.gestureTimeoutStores[t]=new Xz}const Kz=(e,t,n)=>function(r,i,o){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];var l,c;const u=null!==(l=a.capture)&&void 0!==l?l:t.capture,d=null!==(c=a.passive)&&void 0!==c?c:t.passive;let h=s?r:hz(r,i,u);n&&d&&(h+="Passive"),e[h]=e[h]||[],e[h].push(o)};function Zz(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;const o=t.useMemo((()=>new Qz(e)),[]);if(o.applyHandlers(e,i),o.applyConfig(n,r),t.useEffect(o.effect.bind(o)),t.useEffect((()=>o.clean.bind(o)),[]),void 0===n.target)return o.bind.bind(o)}function Jz(e,t){var n;return n=jz,Bz.set(n.key,n.engine),Uz.set(n.key,n.resolver),Zz({drag:e},t||{},"drag")}const $z=i["useId".toString()]||(()=>{});let eF=0;const tF=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce(((e,n)=>({...e,[n]:t.forwardRef(((e,r)=>{const{asChild:i,...o}=e,a=i?PI:n;return t.useEffect((()=>{window[Symbol.for("radix-ui")]=!0}),[]),e.as&&console.error(nF),t.createElement(a,Gm({},o,{ref:r}))}))})),{}),nF="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",rF=t.forwardRef(((e,n)=>t.createElement(tF.span,Gm({},e,{ref:n,style:{...e.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}})))),iF=rF,oF=t.forwardRef(((e,n)=>{var r,i;const{containerRef:o,style:a,...s}=e,l=null!==(r=null==o?void 0:o.current)&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body,[,c]=t.useState({});return LI((()=>{c({})}),[]),l?cD.createPortal(t.createElement(tF.div,Gm({"data-radix-portal":""},s,{ref:n,style:l===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...a}:void 0})),l):null})),aF=t.forwardRef(((e,n)=>{const{children:r,width:i=10,height:o=5,...a}=e;return t.createElement(tF.svg,Gm({},a,{ref:n,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?r:t.createElement("polygon",{points:"0,0 30,0 15,10"}))})),sF=aF;function lF(e){const[n,r]=t.useState(void 0);return t.useEffect((()=>{if(e){const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let i,o;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else{const t=e.getBoundingClientRect();i=t.width,o=t.height}r({width:i,height:o})}));return t.observe(e,{box:"border-box"}),()=>{r(void 0),t.unobserve(e)}}}),[e]),n}let cF;const uF=new Map;function dF(){const e=[];uF.forEach(((t,n)=>{const r=n.getBoundingClientRect();var i,o;o=r,((i=t.rect).width!==o.width||i.height!==o.height||i.top!==o.top||i.right!==o.right||i.bottom!==o.bottom||i.left!==o.left)&&(t.rect=r,e.push(t))})),e.forEach((e=>{e.callbacks.forEach((t=>t(e.rect)))})),cF=requestAnimationFrame(dF)}function hF(e){const[n,r]=t.useState();return t.useEffect((()=>{if(e){const t=function(e,t){const n=uF.get(e);return void 0===n?(uF.set(e,{rect:{},callbacks:[t]}),1===uF.size&&(cF=requestAnimationFrame(dF))):(n.callbacks.push(t),t(e.getBoundingClientRect())),()=>{const n=uF.get(e);if(void 0===n)return;const r=n.callbacks.indexOf(t);r>-1&&n.callbacks.splice(r,1),0===n.callbacks.length&&(uF.delete(e),0===uF.size&&cancelAnimationFrame(cF))}}(e,r);return()=>{r(void 0),t()}}}),[e]),n}function fF(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const i=()=>{const n=r.map((e=>t.createContext(e)));return function(r){const i=(null==r?void 0:r[e])||n;return t.useMemo((()=>({[`__scope${e}`]:{...r,[e]:i}})),[r,i])}};return i.scopeName=e,[function(n,i){const o=t.createContext(i),a=r.length;function s(n){const{scope:r,children:i,...s}=n,l=(null==r?void 0:r[e][a])||o,c=t.useMemo((()=>s),Object.values(s));return t.createElement(l.Provider,{value:c},i)}return r=[...r,i],s.displayName=n+"Provider",[s,function(r,s){const l=(null==s?void 0:s[e][a])||o,c=t.useContext(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},pF(i,...n)]}function pF(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n[0];if(1===n.length)return i;const o=()=>{const e=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=e.reduce(((e,t)=>{let{useScope:r,scopeName:i}=t;return{...e,...r(n)[`__scope${i}`]}}),{});return t.useMemo((()=>({[`__scope${i.scopeName}`]:r})),[r])}};return o.scopeName=i.scopeName,o}function mF(e,t,n){const r=e["x"===n?"left":"top"],i="x"===n?"width":"height",o=e[i],a=t[i];return{before:r-a,start:r,center:r+(o-a)/2,end:r+o-a,after:r+o}}function gF(e){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(e.x+window.scrollX)}px, ${Math.round(e.y+window.scrollY)}px, 0)`}}function vF(e,t,n,r,i){const o="top"===t||"bottom"===t,a=i?i.width:0,s=i?i.height:0,l=a/2+r;let c="",u="";return o?(c={start:`${l}px`,center:"center",end:e.width-l+"px"}[n],u="top"===t?`${e.height+s}px`:-s+"px"):(c="left"===t?`${e.width+s}px`:-s+"px",u={start:`${l}px`,center:"center",end:e.height-l+"px"}[n]),`${c} ${u}`}const yF={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},bF={position:"absolute",opacity:0};function xF(e){let{popperSize:t,arrowSize:n,arrowOffset:r,side:i,align:o}=e;const a=(t.width-n.width)/2,s=(t.height-n.width)/2,l={top:0,right:90,bottom:180,left:-90}[i],c=Math.max(n.width,n.height),u={width:`${c}px`,height:`${c}px`,transform:`rotate(${l}deg)`,willChange:"transform",position:"absolute",[i]:"100%",direction:wF(i,o)};return"top"!==i&&"bottom"!==i||("start"===o&&(u.left=`${r}px`),"center"===o&&(u.left=`${a}px`),"end"===o&&(u.right=`${r}px`)),"left"!==i&&"right"!==i||("start"===o&&(u.top=`${r}px`),"center"===o&&(u.top=`${s}px`),"end"===o&&(u.bottom=`${r}px`)),u}function wF(e,t){return("top"!==e&&"right"!==e||"end"!==t)&&("bottom"!==e&&"left"!==e||"end"===t)?"ltr":"rtl"}function SF(e){return{top:"bottom",right:"left",bottom:"top",left:"right"}[e]}function EF(e,t){return{top:e.top<t.top,right:e.right>t.right,bottom:e.bottom>t.bottom,left:e.left<t.left}}const[MF,CF]=fF("Popper"),[_F,TF]=MF("Popper"),AF=t.forwardRef(((e,n)=>{const{__scopePopper:r,virtualRef:i,...o}=e,a=TF("PopperAnchor",r),s=t.useRef(null),l=AI(n,s);return t.useEffect((()=>{a.onAnchorChange((null==i?void 0:i.current)||s.current)})),i?null:t.createElement(tF.div,Gm({},o,{ref:l}))})),[PF,OF]=MF("PopperContent"),DF=t.forwardRef(((e,n)=>{const{__scopePopper:r,side:i="bottom",sideOffset:o,align:a="center",alignOffset:s,collisionTolerance:l,avoidCollisions:c=!0,...u}=e,d=TF("PopperContent",r),[h,f]=t.useState(),p=hF(d.anchor),[m,g]=t.useState(null),v=lF(m),[y,b]=t.useState(null),x=lF(y),w=AI(n,(e=>g(e))),S=function(){const[e,n]=t.useState(void 0);return t.useEffect((()=>{let e;function t(){n({width:window.innerWidth,height:window.innerHeight})}function r(){window.clearTimeout(e),e=window.setTimeout(t,100)}return t(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)}),[]),e}(),E=S?DOMRect.fromRect({...S,x:0,y:0}):void 0,{popperStyles:M,arrowStyles:C,placedSide:_,placedAlign:T}=function(e){let{anchorRect:t,popperSize:n,arrowSize:r,arrowOffset:i=0,side:o,sideOffset:a=0,align:s,alignOffset:l=0,shouldAvoidCollisions:c=!0,collisionBoundariesRect:u,collisionTolerance:d=0}=e;if(!t||!n||!u)return{popperStyles:yF,arrowStyles:bF};const h=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;const o=i?i.height:0,a=mF(t,e,"x"),s=mF(t,e,"y"),l=s.before-n-o,c=s.after+n+o,u=a.before-n-o,d=a.after+n+o;return{top:{start:{x:a.start+r,y:l},center:{x:a.center,y:l},end:{x:a.end-r,y:l}},right:{start:{x:d,y:s.start+r},center:{x:d,y:s.center},end:{x:d,y:s.end-r}},bottom:{start:{x:a.start+r,y:c},center:{x:a.center,y:c},end:{x:a.end-r,y:c}},left:{start:{x:u,y:s.start+r},center:{x:u,y:s.center},end:{x:u,y:s.end-r}}}}(n,t,a,l,r),f=h[o][s];if(!1===c){const e=gF(f);let t=bF;return r&&(t=xF({popperSize:n,arrowSize:r,arrowOffset:i,side:o,align:s})),{popperStyles:{...e,"--radix-popper-transform-origin":vF(n,o,s,i,r)},arrowStyles:t,placedSide:o,placedAlign:s}}const p=DOMRect.fromRect({...n,...f}),m=(g=u,v=d,DOMRect.fromRect({width:g.width-2*v,height:g.height-2*v,x:g.left+v,y:g.top+v}));var g,v;const y=EF(p,m),b=h[SF(o)][s],x=function(e,t,n){const r=SF(e);return t[e]&&!n[r]?r:e}(o,y,EF(DOMRect.fromRect({...n,...b}),m)),w=function(e,t,n,r,i){const o="top"===n||"bottom"===n,a=o?"left":"top",s=o?"right":"bottom",l=o?"width":"height",c=t[l]>e[l];return"start"!==r&&"center"!==r||!(i[a]&&c||i[s]&&!c)?"end"!==r&&"center"!==r||!(i[s]&&c||i[a]&&!c)?r:"start":"end"}(n,t,o,s,y),S=gF(h[x][w]);let E=bF;return r&&(E=xF({popperSize:n,arrowSize:r,arrowOffset:i,side:x,align:w})),{popperStyles:{...S,"--radix-popper-transform-origin":vF(n,x,w,i,r)},arrowStyles:E,placedSide:x,placedAlign:w}}({anchorRect:p,popperSize:v,arrowSize:x,arrowOffset:h,side:i,sideOffset:o,align:a,alignOffset:s,shouldAvoidCollisions:c,collisionBoundariesRect:E,collisionTolerance:l}),A=void 0!==_;return t.createElement("div",{style:M,"data-radix-popper-content-wrapper":""},t.createElement(PF,{scope:r,arrowStyles:C,onArrowChange:b,onArrowOffsetChange:f},t.createElement(tF.div,Gm({"data-side":_,"data-align":T},u,{style:{...u.style,animation:A?void 0:"none"},ref:w}))))})),RF=t.forwardRef((function(e,n){const{__scopePopper:r,offset:i,...o}=e,a=OF("PopperArrow",r),{onArrowOffsetChange:s}=a;return t.useEffect((()=>s(i)),[s,i]),t.createElement("span",{style:{...a.arrowStyles,pointerEvents:"none"}},t.createElement("span",{ref:a.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},t.createElement(sF,Gm({},o,{ref:n,style:{...o.style,display:"block"}}))))})),kF=e=>{const{__scopePopper:n,children:r}=e,[i,o]=t.useState(null);return t.createElement(_F,{scope:n,anchor:i,onAnchorChange:o},r)},IF=AF,LF=DF,zF=RF,FF=e=>{const{present:n,children:r}=e,i=function(e){const[n,r]=t.useState(),i=t.useRef({}),o=t.useRef(e),a=t.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,n){return t.useReducer(((e,t)=>{const r=n[e][t];return null!=r?r:e}),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect((()=>{const e=NF(i.current);a.current="mounted"===l?e:"none"}),[l]),LI((()=>{const t=i.current,n=o.current;if(n!==e){const r=a.current,i=NF(t);if(e)c("MOUNT");else if("none"===i||"none"===(null==t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}o.current=e}}),[e,c]),LI((()=>{if(n){const e=e=>{const t=NF(i.current).includes(e.animationName);e.target===n&&t&&c("ANIMATION_END")},t=e=>{e.target===n&&(a.current=NF(i.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),()=>{n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}}),[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:t.useCallback((e=>{e&&(i.current=getComputedStyle(e)),r(e)}),[])}}(n),o="function"==typeof r?r({present:i.isPresent}):t.Children.only(r),a=AI(i.ref,o.ref);return"function"==typeof r||i.isPresent?t.cloneElement(o,{ref:a}):null};function NF(e){return(null==e?void 0:e.animationName)||"none"}function BF(e){const n=t.useRef(e);return t.useEffect((()=>{n.current=e}),[e]),n.current}function UF(e){const n=t.useRef(e);return t.useEffect((()=>{n.current=e})),t.useMemo((()=>function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call(n,...r)}),[])}function jF(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}FF.displayName="Presence";const[HF,VF]=fF("Tooltip",[CF]),GF=CF(),WF=700,[YF,XF]=HF("TooltipProvider",{isOpenDelayed:!0,delayDuration:WF,onOpen:()=>{},onClose:()=>{}}),[QF,qF]=HF("Tooltip"),KF=t.forwardRef(((e,n)=>{const{__scopeTooltip:r,...i}=e,o=qF("TooltipTrigger",r),a=GF(r),s=AI(n,o.onTriggerChange),l=t.useRef(!1),c=t.useCallback((()=>l.current=!1),[]);return t.useEffect((()=>()=>document.removeEventListener("mouseup",c)),[c]),t.createElement(IF,Gm({asChild:!0},a),t.createElement(tF.button,Gm({"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute},i,{ref:s,onMouseEnter:jF(e.onMouseEnter,o.onTriggerEnter),onMouseLeave:jF(e.onMouseLeave,o.onClose),onMouseDown:jF(e.onMouseDown,(()=>{o.onClose(),l.current=!0,document.addEventListener("mouseup",c,{once:!0})})),onFocus:jF(e.onFocus,(()=>{l.current||o.onOpen()})),onBlur:jF(e.onBlur,o.onClose),onClick:jF(e.onClick,o.onClose)})))})),ZF=t.forwardRef(((e,n)=>{const{forceMount:r,...i}=e,o=qF("TooltipContent",e.__scopeTooltip);return t.createElement(FF,{present:r||o.open},t.createElement(JF,Gm({ref:n},i)))})),JF=t.forwardRef(((e,n)=>{const{__scopeTooltip:r,children:i,"aria-label":o,portalled:a=!0,...s}=e,l=qF("TooltipContent",r),c=GF(r),u=a?oF:t.Fragment,{onClose:d}=l;return function(e){const n=UF(e);t.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[n])}((()=>d())),t.useEffect((()=>(document.addEventListener("tooltip.open",d),()=>document.removeEventListener("tooltip.open",d))),[d]),t.createElement(u,null,t.createElement(eN,{__scopeTooltip:r}),t.createElement(LF,Gm({"data-state":l.stateAttribute},c,s,{ref:n,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),t.createElement(DI,null,i),t.createElement(iF,{id:l.contentId,role:"tooltip"},o||i)))})),$F=t.forwardRef(((e,n)=>{const{__scopeTooltip:r,...i}=e,o=GF(r);return t.createElement(zF,Gm({},o,i,{ref:n}))}));function eN(e){const{__scopeTooltip:n}=e,r=qF("CheckTriggerMoved",n),i=hF(r.trigger),o=null==i?void 0:i.left,a=BF(o),s=null==i?void 0:i.top,l=BF(s),c=r.onClose;return t.useEffect((()=>{(void 0!==a&&a!==o||void 0!==l&&l!==s)&&c()}),[c,a,l,o,s]),null}const tN=e=>{const{__scopeTooltip:n,children:r,open:i,defaultOpen:o=!1,onOpenChange:a,delayDuration:s}=e,l=XF("Tooltip",n),c=GF(n),[u,d]=t.useState(null),h=function(e){const[n,r]=t.useState($z());return LI((()=>{e||r((e=>null!=e?e:String(eF++)))}),[e]),e||(n?`radix-${n}`:"")}(),f=t.useRef(0),p=null!=s?s:l.delayDuration,m=t.useRef(!1),{onOpen:g,onClose:v}=l,[y=!1,b]=function(e){let{prop:n,defaultProp:r,onChange:i=(()=>{})}=e;const[o,a]=function(e){let{defaultProp:n,onChange:r}=e;const i=t.useState(n),[o]=i,a=t.useRef(o),s=UF(r);return t.useEffect((()=>{a.current!==o&&(s(o),a.current=o)}),[o,a,s]),i}({defaultProp:r,onChange:i}),s=void 0!==n,l=s?n:o,c=UF(i);return[l,t.useCallback((e=>{if(s){const t="function"==typeof e?e(n):e;t!==n&&c(t)}else a(e)}),[s,n,a,c])]}({prop:i,defaultProp:o,onChange:e=>{e&&(document.dispatchEvent(new CustomEvent("tooltip.open")),g()),null==a||a(e)}}),x=t.useMemo((()=>y?m.current?"delayed-open":"instant-open":"closed"),[y]),w=t.useCallback((()=>{window.clearTimeout(f.current),m.current=!1,b(!0)}),[b]),S=t.useCallback((()=>{window.clearTimeout(f.current),f.current=window.setTimeout((()=>{m.current=!0,b(!0)}),p)}),[p,b]);return t.useEffect((()=>()=>window.clearTimeout(f.current)),[]),t.createElement(kF,c,t.createElement(QF,{scope:n,contentId:h,open:y,stateAttribute:x,trigger:u,onTriggerChange:d,onTriggerEnter:t.useCallback((()=>{l.isOpenDelayed?S():w()}),[l.isOpenDelayed,S,w]),onOpen:t.useCallback(w,[w]),onClose:t.useCallback((()=>{window.clearTimeout(f.current),b(!1),v()}),[b,v])},r))},nN=KF,rN=ZF,iN=$F;function oN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let aN;!function(e){e[e.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",e[e.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",e[e.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",e[e.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",e[e.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",e[e.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",e[e.THEME_ERROR=6]="THEME_ERROR",e[e.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",e[e.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",e[e.EMPTY_KEY=9]="EMPTY_KEY"}(aN||(aN={}));const sN={[aN.UNSUPPORTED_INPUT]:(e,t)=>[`An input with type \`${e}\` input was found at path \`${t}\` but it's not supported yet.`],[aN.NO_COMPONENT_FOR_TYPE]:(e,t)=>[`Type \`${e}\` found at path \`${t}\` can't be displayed in panel because no component supports it yet.`],[aN.UNKNOWN_INPUT]:(e,t)=>[`input at path \`${e}\` is not recognized.`,t],[aN.DUPLICATE_KEYS]:(e,t,n)=>[`Key \`${e}\` of path \`${t}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[aN.ALREADY_REGISTERED_TYPE]:e=>[`Type ${e} has already been registered. You can't register a component with the same type.`],[aN.CLIPBOARD_ERROR]:e=>["Error copying the value",e],[aN.THEME_ERROR]:(e,t)=>[`Error accessing the theme \`${e}.${t}\` value.`],[aN.PATH_DOESNT_EXIST]:e=>[`Error getting the value at path \`${e}\`. There is probably an error in your \`render\` function.`],[aN.PATH_DOESNT_EXIST]:e=>[`Error accessing the value at path \`${e}\``],[aN.INPUT_TYPE_OVERRIDE]:(e,t,n)=>[`Input at path \`${e}\` already exists with type: \`${t}\`. Its type cannot be overridden with type \`${n}\`.`],[aN.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function lN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];const[o,...a]=sN[t](...r);console[e]("LEVA: "+o,...a)}const cN=lN.bind(null,"warn"),uN=lN.bind(null,"log"),dN=["value"],hN=["schema"],fN=["value"],pN=[],mN={};function gN(e){let{value:t}=e,n=oN(e,dN);for(let r of pN){const e=r(t,n);if(e)return e}}function vN(e,t){let{schema:n}=t,r=oN(t,hN);e in mN?cN(aN.ALREADY_REGISTERED_TYPE,e):(pN.push(((t,r)=>n(t,r)&&e)),mN[e]=r)}function yN(e,t,n,r){const{normalize:i}=mN[e];if(i)return i(t,n,r);if("object"!==typeof t||!("value"in t))return{value:t};const{value:o}=t;return{value:o,settings:oN(t,fN)}}function bN(e,t,n){const{format:r}=mN[e];return r?r(t,n):t}function xN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wN(Object(n),!0).forEach((function(t){xN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const EN=(e,t,n)=>e>n?n:e<t?t:e,MN=e=>{if(""===e||"number"===typeof e)return e;try{const t=LN(e);if(!isNaN(t))return t}catch(t){}return parseFloat(e)},CN=Math.log(10);function _N(e){let t=Math.abs(+String(e).replace(".",""));if(0===t)return.01;for(;0!==t&&t%10===0;)t/=10;const n=Math.floor(Math.log(t)/CN)+1,r=Math.floor(Math.log10(Math.abs(e))),i=Math.pow(10,r-n);return Math.max(i,.001)}const TN=(e,t,n)=>{if(n===t)return 0;return(EN(e,t,n)-t)/(n-t)},AN=(e,t,n)=>e*(n-t)+t,PN=/\(([0-9+\-*/^ .]+)\)/,ON=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,DN=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,RN=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,kN=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,IN=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function LN(e){if(isNaN(Number(e))){if(PN.test(e)){const t=e.replace(PN,((e,t)=>String(LN(t))));return LN(t)}if(ON.test(e)){return LN(e.replace(ON,((e,t,n)=>String(Math.pow(Number(t),Number(n))))))}if(DN.test(e)){const t=e.replace(DN,((e,t,n)=>String(Number(t)*Number(n))));return LN(t)}if(RN.test(e)){const t=e.replace(RN,((e,t,n)=>{if(0!=n)return String(Number(t)/Number(n));throw new Error("Division by zero")}));return LN(t)}if(kN.test(e)){const t=e.replace(kN,((e,t,n)=>String(Number(t)+Number(n))));return LN(t)}if(IN.test(e)){const t=e.replace(IN,((e,t,n)=>String(Number(t)-Number(n))));return LN(t)}return Number(e)}return Number(e)}function zN(e){return"[object Object]"===Object.prototype.toString.call(e)}const FN=e=>zN(e)&&0===Object.keys(e).length;let NN,BN;!function(e){e.BUTTON="BUTTON",e.BUTTON_GROUP="BUTTON_GROUP",e.MONITOR="MONITOR",e.FOLDER="FOLDER"}(NN||(NN={})),function(e){e.SELECT="SELECT",e.IMAGE="IMAGE",e.NUMBER="NUMBER",e.COLOR="COLOR",e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.INTERVAL="INTERVAL",e.VECTOR3D="VECTOR3D",e.VECTOR2D="VECTOR2D"}(BN||(BN={}));const UN=["type","__customInput"],jN=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],HN=["type"];function VN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;var i,o;if("object"!==typeof e||Array.isArray(e))return{type:r,input:e,options:SN({key:t,label:t,optional:!1,disabled:!1,order:0},n)};if("__customInput"in e){const{type:n,__customInput:r}=e;return VN(r,t,oN(e,UN),n)}const{render:a,label:s,optional:l,order:c=0,disabled:u,hint:d,onChange:h,onEditStart:f,onEditEnd:p,transient:m}=e,g=oN(e,jN),v=SN({render:a,key:t,label:null!==s&&void 0!==s?s:t,hint:d,transient:null!==m&&void 0!==m?m:!!h,onEditStart:f,onEditEnd:p,disabled:u,optional:l,order:c},n);let y,{type:b}=g,x=oN(g,HN);return b=null!==r&&void 0!==r?r:b,b in NN?{type:b,input:x,options:v}:(y=r&&zN(x)&&"value"in x?x.value:FN(x)?void 0:x,{type:b,input:y,options:SN(SN({},v),{},{onChange:h,optional:null!==(i=v.optional)&&void 0!==i&&i,disabled:null!==(o=v.disabled)&&void 0!==o&&o})})}function GN(e,t,n,r){const i=VN(e,t),{type:o,input:a,options:s}=i;if(o)return o in NN?i:{type:o,input:yN(o,a,n,r),options:s};let l=gN(a);return l?{type:l,input:yN(l,a,n,r),options:s}:(l=gN({value:a}),!!l&&{type:l,input:yN(l,{value:a},n,r),options:s})}function WN(e,t,n,r,i){const{value:o,type:a,settings:s}=e;e.value=XN({type:a,value:o,settings:s},t,n,r),e.fromPanel=i}const YN=function(e,t,n){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=n};function XN(e,t,n,r){let{type:i,value:o,settings:a}=e;const s="SELECT"!==i&&"function"===typeof t?t(o):t;let l;try{l=function(e,t,n,r,i,o){const{sanitize:a}=mN[e];return a?a(t,n,r,i,o):t}(i,s,a,o,n,r)}catch(c){throw new YN(`The value \`${t}\` did not result in a correct value.`,o,c)}return BI(l,o)?o:l}const QN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;return function(){const i=arguments,o=n&&!r,a=()=>e.apply(this,i);window.clearTimeout(r),r=window.setTimeout(a,t),o&&a()}},qN=e=>e.shiftKey?5:e.altKey?.2:1;const KN=["value"],ZN=["min","max"],JN=(e,t)=>{let{min:n=-1/0,max:r=1/0,suffix:i}=t;const o=parseFloat(e);if(""===e||isNaN(o))throw Error("Invalid number");const a=EN(o,n,r);return i?a+i:a},$N=e=>{let{value:t}=e,n=oN(e,KN);const{min:r=-1/0,max:i=1/0}=n,o=oN(n,ZN);let a=parseFloat(t);const s="string"===typeof t?t.substring((""+a).length):void 0;a=EN(a,r,i);let l=n.step;l||(Number.isFinite(r)?l=Number.isFinite(i)?+(Math.abs(i-r)/100).toPrecision(1):+(Math.abs(a-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-a)/100).toPrecision(1)));const c=l?10*_N(l):_N(a);l=l||c/10;return{value:s?a+s:a,settings:SN({initialValue:a,step:l,pad:Math.round(EN(Math.log10(1/c),0,2)),min:r,max:i,suffix:s},o)}},eB=(e,t)=>{let{step:n,initialValue:r}=t;return r+Math.round((e-r)/n)*n};var tB=Object.freeze({__proto__:null,schema:e=>{if("number"===typeof e)return!0;if("string"===typeof e){const t=parseFloat(e);if(isNaN(t))return!1;return e.substring((""+t).length).trim().length<4}return!1},sanitize:JN,format:(e,t)=>{let{pad:n=0,suffix:r}=t;const i=parseFloat(e).toFixed(n);return r?i+r:i},normalize:$N,sanitizeStep:eB});function nB(){return nB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nB.apply(this,arguments)}const rB=(0,t.createContext)({});function iB(){return(0,t.useContext)(rB)}const oB=(0,t.createContext)(null),aB=(0,t.createContext)(null),sB=(0,t.createContext)(null);function lB(){return(0,t.useContext)(aB)}const cB=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function uB(e,t){const[n,r]=e.split(" "),i={};return"none"!==n&&(i.boxShadow=`${t.inset?"inset ":""}0 0 0 $borderWidths${[t.key]} $colors${"default"!==n&&n||t.borderColor}`),r&&(i.backgroundColor=r),i}const dB={$inputStyle:()=>e=>uB(e,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>e=>uB(e,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>e=>uB(e,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>e=>uB(e,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:hB,css:fB,createTheme:pB,globalCss:mB,keyframes:gB}=tz({prefix:"leva",theme:cB(),utils:SN(SN({},dB),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:e=>({"&:focus":dB.$focusStyle()(e)}),$focusWithin:e=>({"&:focus-within":dB.$focusStyle()(e)}),$hover:e=>({"&:hover":dB.$hoverStyle()(e)}),$active:e=>({"&:active":dB.$activeStyle()(e)})})}),vB=mB({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function yB(e,n){const{theme:r}=(0,t.useContext)(oB);if(!(e in r)||!(n in r[e]))return cN(aN.THEME_ERROR,e,n),"";let i=n;for(;;){let t=r[e][i];if("string"!==typeof t||"$"!==t.charAt(0))return t;i=t.substr(1)}}const bB=hB("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),xB=hB("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${bB}`]:{paddingLeft:0}}),wB=hB(xB,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),SB=hB("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),EB=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],MB=["onUpdate"];function CB(e){let{innerLabel:n,value:r,onUpdate:i,onChange:o,onKeyDown:a,type:s,id:l,inputType:c="text",rows:u=0}=e,d=oN(e,EB);const{id:h,emitOnEditStart:f,emitOnEditEnd:p,disabled:m}=iB(),g=l||h,v=(0,t.useRef)(null),y=u>0,b=y?"textarea":"input",x=(0,t.useCallback)((e=>t=>{const n=t.currentTarget.value;e(n)}),[]);t.useEffect((()=>{const e=v.current,t=x((e=>{i(e),p()}));return null===e||void 0===e||e.addEventListener("blur",t),()=>null===e||void 0===e?void 0:e.removeEventListener("blur",t)}),[x,i,p]);const w=(0,t.useCallback)((e=>{"Enter"===e.key&&x(i)(e)}),[x,i]),S=Object.assign({as:b},y?{rows:u}:{},d);return t.createElement(SB,{textArea:y},n&&"string"===typeof n?t.createElement(xB,null,n):n,t.createElement(bB,nB({levaType:s,ref:v,id:g,type:c,autoComplete:"off",spellCheck:"false",value:r,onChange:x(o),onFocus:()=>f(),onKeyPress:w,onKeyDown:a,disabled:m},S)))}function _B(e){let{onUpdate:n}=e,r=oN(e,MB);const i=(0,t.useCallback)((e=>n(MN(e))),[n]),o=(0,t.useCallback)((e=>{const t="ArrowUp"===e.key?1:"ArrowDown"===e.key?-1:0;if(t){e.preventDefault();const r=e.altKey?.1:e.shiftKey?10:1;n((e=>parseFloat(e)+t*r))}}),[n]);return t.createElement(CB,nB({},r,{onUpdate:i,onKeyDown:o,type:"number"}))}const TB=hB("div",{}),AB=hB("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),PB=hB("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${AB}::after`]:{opacity:.6},[`${TB}:hover > & + ${AB}::after`]:{opacity:.6},[`${TB}:hover > & > svg`]:{opacity:1}}),OB=hB("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${TB}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),DB=hB("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${OB} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),RB=hB(DB,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),kB=hB("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),IB=hB("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),LB=hB("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),zB=hB("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${LB}`]:{pointerEvents:"auto"}}}}}),FB=hB("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),NB=hB("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),BB=hB(iN,{fill:"$toolTipBackground"});function UB(e){let{children:n}=e;const{className:r}=(0,t.useContext)(oB);return t.createElement(FI,{className:r},n)}const jB=["align"];function HB(){const{id:e,disable:n,disabled:r}=iB();return t.createElement(t.Fragment,null,t.createElement(IB,{id:e+"__disable",type:"checkbox",checked:!r,onChange:()=>n(!r)}),t.createElement("label",{htmlFor:e+"__disable"}))}function VB(e){const{id:n,optional:r,hint:i}=iB(),o=e.htmlFor||(n?{htmlFor:n}:null),a=i||"string"!==typeof e.children?null:{title:e.children};return t.createElement(t.Fragment,null,r&&t.createElement(HB,null),void 0!==i?t.createElement(tN,null,t.createElement(nN,{asChild:!0},t.createElement(LB,nB({},o,e))),t.createElement(rN,{side:"top",sideOffset:2},t.createElement(NB,null,i,t.createElement(BB,null)))):t.createElement(LB,nB({},o,a,e)))}function GB(e){let{align:n}=e,r=oN(e,jB);const{value:i,label:o,key:a,disabled:s}=iB(),{hideCopyButton:l}=(0,t.useContext)(sB),c=!l&&void 0!==a,[u,d]=(0,t.useState)(!1);return t.createElement(kB,{align:n,onPointerLeave:()=>d(!1)},t.createElement(VB,r),c&&!s&&t.createElement("div",{title:`Click to copy ${"string"===typeof o?o:a} value`},u?t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),t.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):t.createElement("svg",{onClick:async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:null!==i&&void 0!==i?i:""})),d(!0)}catch(e){cN(aN.CLIPBOARD_ERROR,{[a]:i})}},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),t.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const WB=["toggled"],YB=hB("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function XB(e){let{toggled:n}=e,r=oN(e,WB);return t.createElement(YB,nB({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${n?0:-90}deg)`}},r),t.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const QB=["input"];function qB(e){let{input:n}=e,r=oN(e,QB);return n?t.createElement(RB,r):t.createElement(DB,r)}function KB(e){let{value:n,type:r,settings:i,setValue:o}=e;const[a,s]=(0,t.useState)(bN(r,n,i)),l=(0,t.useRef)(n),c=(0,t.useRef)(i);c.current=i;const u=(0,t.useCallback)((e=>s(bN(r,e,c.current))),[r]),d=(0,t.useCallback)((e=>{try{o(e)}catch($ce){const{type:t,previousValue:n}=$ce;if("LEVA_ERROR"!==t)throw $ce;u(n)}}),[u,o]);return(0,t.useEffect)((()=>{BI(n,l.current)||u(n),l.current=n}),[n,u]),{displayValue:a,onChange:s,onUpdate:d}}function ZB(e,t){const{emitOnEditStart:n,emitOnEditEnd:r}=iB();return Jz((t=>{t.first&&(document.body.classList.add("leva__panel__dragged"),null===n||void 0===n||n());const i=e(t);return t.last&&(document.body.classList.remove("leva__panel__dragged"),null===r||void 0===r||r()),i}),t)}function JB(){const e=(0,t.useRef)(null),n=(0,t.useRef)({x:0,y:0}),r=(0,t.useCallback)((t=>{Object.assign(n.current,t),e.current&&(e.current.style.transform=`translate3d(${n.current.x}px, ${n.current.y}px, 0)`)}),[]);return[e,r]}const $B=["__refCount"],eU=(e,t)=>{if(!e[t])return null;return oN(e[t],$B)};const tU=hB("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),nU=hB("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),rU=hB("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),iU=hB("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),oU=hB("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function aU(e){let{value:n,min:r,max:i,onDrag:o,step:a,initialValue:s}=e;const l=(0,t.useRef)(null),c=(0,t.useRef)(null),u=(0,t.useRef)(0),d=yB("sizes","scrubberWidth"),h=ZB((e=>{let{event:t,first:h,xy:[f],movement:[p],memo:m}=e;if(h){const{width:e,left:o}=l.current.getBoundingClientRect();u.current=e-parseFloat(d);m=(null===t||void 0===t?void 0:t.target)===c.current?n:AN((f-o)/e,r,i)}const g=m+AN(p/u.current,0,i-r);return o(eB(g,{step:a,initialValue:s})),m})),f=TN(n,r,i);return t.createElement(iU,nB({ref:l},h()),t.createElement(nU,null,t.createElement(oU,{style:{left:0,right:100*(1-f)+"%"}})),t.createElement(rU,{ref:c,style:{left:`calc(${f} * (100% - ${d}))`}}))}const sU=t.memo((e=>{let{label:n,onUpdate:r,step:i,innerLabelTrim:o}=e;const[a,s]=(0,t.useState)(!1),l=ZB((e=>{let{active:t,delta:[n],event:o,memo:a=0}=e;return s(t),a+=n/2,Math.abs(a)>=1&&(r((e=>parseFloat(e)+Math.floor(a)*i*qN(o))),a=0),a}));return t.createElement(wB,nB({dragging:a,title:n.length>1?n:""},l()),n.slice(0,o))}));function lU(e){let{label:n,id:r,displayValue:i,onUpdate:o,onChange:a,settings:s,innerLabelTrim:l=1}=e;const c=l>0&&t.createElement(sU,{label:n,step:s.step,onUpdate:o,innerLabelTrim:l});return t.createElement(_B,{id:r,value:String(i),onUpdate:o,onChange:a,innerLabel:c})}const{sanitizeStep:cU}=tB;var uU=SN({component:function(){const e=iB(),{label:n,value:r,onUpdate:i,settings:o,id:a}=e,{min:s,max:l}=o,c=l!==1/0&&s!==-1/0;return t.createElement(qB,{input:!0},t.createElement(GB,null,n),t.createElement(tU,{hasRange:c},c&&t.createElement(aU,nB({value:parseFloat(r),onDrag:i},o)),t.createElement(lU,nB({},e,{id:a,label:"value",innerLabelTrim:c?0:1}))))}},oN(tB,["sanitizeStep"]));var dU=Object.freeze({__proto__:null,schema:(e,t)=>aL().schema({options:aL().passesAnyOf(aL().object(),aL().array())}).test(t),sanitize:(e,t)=>{let{values:n}=t;if(n.indexOf(e)<0)throw Error("Selected value doesn't match Select options");return e},format:(e,t)=>{let{values:n}=t;return n.indexOf(e)},normalize:e=>{let t,n,{value:r,options:i}=e;return Array.isArray(i)?(n=i,t=i.map((e=>String(e)))):(n=Object.values(i),t=Object.keys(i)),"value"in e?n.includes(r)||(t.unshift(String(r)),n.unshift(r)):r=n[0],Object.values(i).includes(r)||(i[String(r)]=r),{value:r,settings:{keys:t,values:n}}}});const hU=hB("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),fU=hB("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),pU=hB("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${fU}:focus + &`]:{$focusStyle:""},[`${fU}:hover + &`]:{$hoverStyle:""}});function mU(e){let{displayValue:n,value:r,onUpdate:i,id:o,settings:a,disabled:s}=e;const{keys:l,values:c}=a,u=(0,t.useRef)();return r===c[n]&&(u.current=l[n]),t.createElement(hU,null,t.createElement(fU,{id:o,value:n,onChange:e=>i(c[Number(e.currentTarget.value)]),disabled:s},l.map(((e,n)=>t.createElement("option",{key:e,value:n},e)))),t.createElement(pU,null,u.current),t.createElement(XB,{toggled:!0}))}var gU=SN({component:function(){const{label:e,value:n,displayValue:r,onUpdate:i,id:o,disabled:a,settings:s}=iB();return t.createElement(qB,{input:!0},t.createElement(GB,null,e),t.createElement(mU,{id:o,value:n,displayValue:r,onUpdate:i,settings:s,disabled:a}))}},dU);var vU=Object.freeze({__proto__:null,schema:e=>aL().string().test(e),sanitize:e=>{if("string"!==typeof e)throw Error("Invalid string");return e},normalize:e=>{let{value:t,editable:n=!0,rows:r=!1}=e;return{value:t,settings:{editable:n,rows:"number"===typeof r?r:r?5:0}}}});const yU=["displayValue","onUpdate","onChange","editable"],bU=hB("div",{whiteSpace:"pre-wrap"});function xU(e){let{displayValue:n,onUpdate:r,onChange:i,editable:o=!0}=e,a=oN(e,yU);return o?t.createElement(CB,nB({value:n,onUpdate:r,onChange:i},a)):t.createElement(bU,null,n)}var wU=SN({component:function(){const{label:e,settings:n,displayValue:r,onUpdate:i,onChange:o}=iB();return t.createElement(qB,{input:!0},t.createElement(GB,null,e),t.createElement(xU,nB({displayValue:r,onUpdate:i,onChange:o},n)))}},vU);var SU=Object.freeze({__proto__:null,schema:e=>aL().boolean().test(e),sanitize:e=>{if("boolean"!==typeof e)throw Error("Invalid boolean");return e}});const EU=hB("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function MU(e){let{value:n,onUpdate:r,id:i,disabled:o}=e;return t.createElement(EU,null,t.createElement("input",{id:i,type:"checkbox",checked:n,onChange:e=>r(e.currentTarget.checked),disabled:o}),t.createElement("label",{htmlFor:i},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var CU=SN({component:function(){const{label:e,value:n,onUpdate:r,disabled:i,id:o}=iB();return t.createElement(qB,{input:!0},t.createElement(GB,null,e),t.createElement(MU,{value:n,onUpdate:r,id:o,disabled:i}))}},SU);const _U=["locked"];function TU(e){let{value:n,id:r,valueKey:i,settings:o,onUpdate:a,innerLabelTrim:s}=e;const l=(0,t.useRef)(n[i]);l.current=n[i];const c=(0,t.useCallback)((e=>a({[i]:XN({type:"NUMBER",value:l.current,settings:o},e)})),[a,o,i]),u=KB({type:"NUMBER",value:n[i],settings:o,setValue:c});return t.createElement(lU,{id:r,label:i,value:n[i],displayValue:u.displayValue,onUpdate:u.onUpdate,onChange:u.onChange,settings:o,innerLabelTrim:s})}const AU=hB("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function PU(e){let{locked:n}=e,r=oN(e,_U);return t.createElement("svg",nB({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),n?t.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):t.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function OU(e){let{value:n,onUpdate:r,settings:i,innerLabelTrim:o}=e;const{id:a,setSettings:s}=iB(),{lock:l,locked:c}=i;return t.createElement(AU,{withLock:l},l&&t.createElement(PU,{locked:c,onClick:()=>s({locked:!c})}),Object.keys(n).map(((e,s)=>t.createElement(TU,{id:0===s?a:`${a}.${e}`,key:e,valueKey:e,value:n,settings:i[e],onUpdate:r,innerLabelTrim:o}))))}const DU=(e,t)=>{const n={};let r=0,i=1/0;Object.entries(e).forEach((e=>{let[o,a]=e;n[o]=$N(SN({value:a},t[o])).settings,r=Math.max(r,n[o].step),i=Math.min(i,n[o].pad)}));for(let o in n){const{step:e,min:a,max:s}=t[o]||{};isFinite(e)||isFinite(a)&&isFinite(s)||(n[o].step=r,n[o].pad=i)}return n},RU=["lock"],kU=["value"];function IU(e){const t=aL().array().length(e).every.number();return n=>t.test(n)||(t=>{if(!t||"object"!==typeof t)return!1;const n=Object.values(t);return n.length===e&&n.every((e=>isFinite(e)))})(n)}function LU(e,t,n){return function(e){return Array.isArray(e)?"array":"object"}(e)===t?e:"array"===t?Object.values(e):function(e,t){return e.reduce(((e,n,r)=>Object.assign(e,{[t[r]]:n})),{})}(e,n)}const zU=e=>!!e&&("step"in e||"min"in e||"max"in e);function FU(e){return{schema:IU(e.length),normalize:t=>{let{value:n}=t;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{lock:r=!1}=t,i=oN(t,RU),o=Array.isArray(e)?"array":"object",a="object"===o?Object.keys(e):n,s=LU(e,"object",a),l=zU(i)?a.reduce(((e,t)=>Object.assign(e,{[t]:i})),{}):i;return{value:"array"===o?e:s,settings:SN(SN({},DU(s,l)),{},{format:o,keys:a,lock:r,locked:!1})}}(n,oN(t,kU),e)},format:(e,t)=>((e,t)=>LU(e,"object",t.keys))(e,t),sanitize:(e,t,n)=>((e,t,n)=>{const r=LU(e,"object",t.keys);for(let a in r)r[a]=JN(r[a],t[a]);const i=Object.keys(r);let o={};if(i.length===t.keys.length)o=r;else{const e=LU(n,"object",t.keys);if(1===i.length&&t.locked){const t=i[0],n=r[t],a=e[t],s=0!==a?n/a:1;for(let r in e)r===t?o[t]=n:o[r]=e[r]*s}else o=SN(SN({},e),r)}return LU(o,t.format,t.keys)})(e,t,n)}}var NU={grad:.9,turn:360,rad:360/(2*Math.PI)},BU=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},UU=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},jU=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},HU=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},VU=function(e){return{r:jU(e.r,0,255),g:jU(e.g,0,255),b:jU(e.b,0,255),a:jU(e.a)}},GU=function(e){return{r:UU(e.r),g:UU(e.g),b:UU(e.b),a:UU(e.a,3)}},WU=/^#([0-9a-f]{3,8})$/i,YU=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},XU=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),a=o-Math.min(t,n,r),s=a?o===t?(n-r)/a:o===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(s<0?s+6:s),s:o?a/o*100:0,v:o/255*100,a:i}},QU=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),a=r*(1-n),s=r*(1-(t-o)*n),l=r*(1-(1-t+o)*n),c=o%6;return{r:255*[r,s,a,a,l,r][c],g:255*[l,r,r,s,a,a][c],b:255*[a,a,l,r,r,s][c],a:i}},qU=function(e){return{h:HU(e.h),s:jU(e.s,0,100),l:jU(e.l,0,100),a:jU(e.a)}},KU=function(e){return{h:UU(e.h),s:UU(e.s),l:UU(e.l),a:UU(e.a,3)}},ZU=function(e){return QU((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},JU=function(e){return{h:(t=XU(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},$U=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ej=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tj=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nj=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rj={string:[[function(e){var t=WU.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?UU(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?UU(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=tj.exec(e)||nj.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:VU({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=$U.exec(e)||ej.exec(e);if(!t)return null;var n,r,i=qU({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(NU[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return ZU(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=void 0===i?1:i;return BU(t)&&BU(n)&&BU(r)?VU({r:Number(t),g:Number(n),b:Number(r),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,o=void 0===i?1:i;if(!BU(t)||!BU(n)||!BU(r))return null;var a=qU({h:Number(t),s:Number(n),l:Number(r),a:Number(o)});return ZU(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,o=void 0===i?1:i;if(!BU(t)||!BU(n)||!BU(r))return null;var a=function(e){return{h:HU(e.h),s:jU(e.s,0,100),v:jU(e.v,0,100),a:jU(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(o)});return QU(a)},"hsv"]]},ij=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},oj=function(e){return"string"==typeof e?ij(e.trim(),rj.string):"object"==typeof e&&null!==e?ij(e,rj.object):[null,void 0]},aj=function(e,t){var n=JU(e);return{h:n.h,s:jU(n.s+100*t,0,100),l:n.l,a:n.a}},sj=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},lj=function(e,t){var n=JU(e);return{h:n.h,s:n.s,l:jU(n.l+100*t,0,100),a:n.a}},cj=function(){function e(e){this.parsed=oj(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return UU(sj(this.rgba),2)},e.prototype.isDark=function(){return sj(this.rgba)<.5},e.prototype.isLight=function(){return sj(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=GU(this.rgba)).r,n=e.g,r=e.b,o=(i=e.a)<1?YU(UU(255*i)):"","#"+YU(t)+YU(n)+YU(r)+o;var e,t,n,r,i,o},e.prototype.toRgb=function(){return GU(this.rgba)},e.prototype.toRgbString=function(){return t=(e=GU(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return KU(JU(this.rgba))},e.prototype.toHslString=function(){return t=(e=KU(JU(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=XU(this.rgba),{h:UU(e.h),s:UU(e.s),v:UU(e.v),a:UU(e.a,3)};var e},e.prototype.invert=function(){return uj({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),uj(aj(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),uj(aj(this.rgba,-e))},e.prototype.grayscale=function(){return uj(aj(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),uj(lj(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),uj(lj(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?uj({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):UU(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=JU(this.rgba);return"number"==typeof e?uj({h:e,s:t.s,l:t.l,a:t.a}):UU(t.h)},e.prototype.isEqual=function(e){return this.toHex()===uj(e).toHex()},e}(),uj=function(e){return e instanceof cj?e:new cj(e)},dj=[];function hj(){return(hj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fj(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}function pj(e){var n=(0,t.useRef)(e),r=(0,t.useRef)((function(e){n.current&&n.current(e)}));return n.current=e,r.current}var mj=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},gj=function(e){return"touches"in e},vj=function(e){return e&&e.ownerDocument.defaultView||self},yj=function(e,t,n){var r=e.getBoundingClientRect(),i=gj(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:mj((i.pageX-(r.left+vj(e).pageXOffset))/r.width),top:mj((i.pageY-(r.top+vj(e).pageYOffset))/r.height)}},bj=function(e){!gj(e)&&e.preventDefault()},xj=t.memo((function(e){var n=e.onMove,r=e.onKey,i=fj(e,["onMove","onKey"]),o=(0,t.useRef)(null),a=pj(n),s=pj(r),l=(0,t.useRef)(null),c=(0,t.useRef)(!1),u=(0,t.useMemo)((function(){var e=function(e){bj(e),(gj(e)?e.touches.length>0:e.buttons>0)&&o.current?a(yj(o.current,e,l.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=c.current,i=vj(o.current),a=n?i.addEventListener:i.removeEventListener;a(r?"touchmove":"mousemove",e),a(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=o.current;if(r&&(bj(t),!function(e,t){return t&&!gj(e)}(t,c.current)&&r)){if(gj(t)){c.current=!0;var i=t.changedTouches||[];i.length&&(l.current=i[0].identifier)}r.focus(),a(yj(r,t,l.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[s,a]),d=u[0],h=u[1],f=u[2];return(0,t.useEffect)((function(){return f}),[f]),t.createElement("div",hj({},i,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:o,onKeyDown:h,tabIndex:0,role:"slider"}))})),wj=function(e){return e.filter(Boolean).join(" ")},Sj=function(e){var n=e.color,r=e.left,i=e.top,o=void 0===i?.5:i,a=wj(["react-colorful__pointer",e.className]);return t.createElement("div",{className:a,style:{top:100*o+"%",left:100*r+"%"}},t.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:n}}))},Ej=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},Mj=(Math.PI,function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:Ej(e.h),s:Ej(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:Ej(i/2),a:Ej(r,2)}}),Cj=function(e){var t=Mj(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},_j=function(e){var t=Mj(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},Tj=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),a=r*(1-n),s=r*(1-(t-o)*n),l=r*(1-(1-t+o)*n),c=o%6;return{r:Ej(255*[r,s,a,a,l,r][c]),g:Ej(255*[l,r,r,s,a,a][c]),b:Ej(255*[a,a,l,r,r,s][c]),a:Ej(i,2)}},Aj=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),a=o-Math.min(t,n,r),s=a?o===t?(n-r)/a:o===n?2+(r-t)/a:4+(t-n)/a:0;return{h:Ej(60*(s<0?s+6:s)),s:Ej(o?a/o*100:0),v:Ej(o/255*100),a:i}},Pj=t.memo((function(e){var n=e.hue,r=e.onChange,i=wj(["react-colorful__hue",e.className]);return t.createElement("div",{className:i},t.createElement(xj,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:mj(n+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ej(n),"aria-valuemax":"360","aria-valuemin":"0"},t.createElement(Sj,{className:"react-colorful__hue-pointer",left:n/360,color:Cj({h:n,s:100,v:100,a:1})})))})),Oj=t.memo((function(e){var n=e.hsva,r=e.onChange,i={backgroundColor:Cj({h:n.h,s:100,v:100,a:1})};return t.createElement("div",{className:"react-colorful__saturation",style:i},t.createElement(xj,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:mj(n.s+100*e.left,0,100),v:mj(n.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ej(n.s)+"%, Brightness "+Ej(n.v)+"%"},t.createElement(Sj,{className:"react-colorful__saturation-pointer",top:1-n.v/100,left:n.s/100,color:Cj(n)})))})),Dj=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function Rj(e,n,r){var i=pj(r),o=(0,t.useState)((function(){return e.toHsva(n)})),a=o[0],s=o[1],l=(0,t.useRef)({color:n,hsva:a});(0,t.useEffect)((function(){if(!e.equal(n,l.current.color)){var t=e.toHsva(n);l.current={hsva:t,color:n},s(t)}}),[n,e]),(0,t.useEffect)((function(){var t;Dj(a,l.current.hsva)||e.equal(t=e.fromHsva(a),l.current.color)||(l.current={hsva:a,color:t},i(t))}),[a,e,i]);var c=(0,t.useCallback)((function(e){s((function(t){return Object.assign({},t,e)}))}),[]);return[a,c]}var kj,Ij="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Lj=new Map,zj=function(e){Ij((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!Lj.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',Lj.set(t,r);var i=kj||n.nc;i&&r.setAttribute("nonce",i),t.head.appendChild(r)}}),[])},Fj=function(e){var n=e.className,r=e.colorModel,i=e.color,o=void 0===i?r.defaultColor:i,a=e.onChange,s=fj(e,["className","colorModel","color","onChange"]),l=(0,t.useRef)(null);zj(l);var c=Rj(r,o,a),u=c[0],d=c[1],h=wj(["react-colorful",n]);return t.createElement("div",hj({},s,{ref:l,className:h}),t.createElement(Oj,{hsva:u,onChange:d}),t.createElement(Pj,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},Nj=function(e){var n=e.className,r=e.hsva,i=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+_j(Object.assign({},r,{a:0}))+", "+_j(Object.assign({},r,{a:1}))+")"},a=wj(["react-colorful__alpha",n]),s=Ej(100*r.a);return t.createElement("div",{className:a},t.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),t.createElement(xj,{onMove:function(e){i({a:e.left})},onKey:function(e){i({a:mj(r.a+e.left)})},"aria-label":"Alpha","aria-valuetext":s+"%","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},t.createElement(Sj,{className:"react-colorful__alpha-pointer",left:r.a,color:_j(r)})))},Bj=function(e){var n=e.className,r=e.colorModel,i=e.color,o=void 0===i?r.defaultColor:i,a=e.onChange,s=fj(e,["className","colorModel","color","onChange"]),l=(0,t.useRef)(null);zj(l);var c=Rj(r,o,a),u=c[0],d=c[1],h=wj(["react-colorful",n]);return t.createElement("div",hj({},s,{ref:l,className:h}),t.createElement(Oj,{hsva:u,onChange:d}),t.createElement(Pj,{hue:u.h,onChange:d}),t.createElement(Nj,{hsva:u,onChange:d,className:"react-colorful__last-control"}))},Uj={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Aj,fromHsva:Tj,equal:Dj},jj=function(e){return t.createElement(Bj,hj({},e,{colorModel:Uj}))},Hj={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return Aj({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){return{r:(t=Tj(e)).r,g:t.g,b:t.b};var t},equal:Dj},Vj=function(e){return t.createElement(Fj,hj({},e,{colorModel:Hj}))};function Gj(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function Wj(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function Yj(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch($ce){i={error:$ce}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;var Xj=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Qj(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=Xj.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var qj=[".DS_Store","Thumbs.db"];function Kj(e){return"object"===typeof e&&null!==e}function Zj(e){return tH(e.target.files).map((function(e){return Qj(e)}))}function Jj(e){return Gj(this,void 0,void 0,(function(){return Wj(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return Qj(e)}))]}}))}))}function $j(e,t){return Gj(this,void 0,void 0,(function(){var n;return Wj(this,(function(r){switch(r.label){case 0:return null===e?[2,[]]:e.items?(n=tH(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(nH))]):[3,2];case 1:return[2,eH(rH(r.sent()))];case 2:return[2,eH(tH(e.files).map((function(e){return Qj(e)})))]}}))}))}function eH(e){return e.filter((function(e){return-1===qj.indexOf(e.name)}))}function tH(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function nH(e){if("function"!==typeof e.webkitGetAsEntry)return iH(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?aH(t):iH(e)}function rH(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Yj(arguments[t]));return e}(e,Array.isArray(t)?rH(t):[t])}),[])}function iH(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=Qj(t);return Promise.resolve(n)}function oH(e){return Gj(this,void 0,void 0,(function(){return Wj(this,(function(t){return[2,e.isDirectory?aH(e):sH(e)]}))}))}function aH(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var o=this;t.readEntries((function(t){return Gj(o,void 0,void 0,(function(){var o,a,s;return Wj(this,(function(l){switch(l.label){case 0:if(t.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=l.sent(),e(o),[3,4];case 3:return a=l.sent(),n(a),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(oH)),r.push(s),i(),l.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function sH(e){return Gj(this,void 0,void 0,(function(){return Wj(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=Qj(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var lH=n(998);function cH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cH(Object(n),!0).forEach((function(t){dH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fH(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pH="file-invalid-type",mH="file-too-large",gH="file-too-small",vH="too-many-files",yH=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:pH,message:"File type must be ".concat(t)}},bH=function(e){return{code:mH,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},xH=function(e){return{code:gH,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},wH={code:vH,message:"Too many files"};function SH(e,t){var n="application/x-moz-file"===e.type||(0,lH.Z)(e,t);return[n,n?null:yH(t)]}function EH(e,t,n){if(MH(e.size))if(MH(t)&&MH(n)){if(e.size>n)return[!1,bH(n)];if(e.size<t)return[!1,xH(t)]}else{if(MH(t)&&e.size<t)return[!1,xH(t)];if(MH(n)&&e.size>n)return[!1,bH(n)]}return[!0,null]}function MH(e){return void 0!==e&&null!==e}function CH(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function _H(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function TH(e){e.preventDefault()}function AH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!CH(e)&&t&&t.apply(void 0,[e].concat(r)),CH(e)}))}}function PH(e){return e="string"===typeof e?e.split(","):e,[{description:"everything",accept:Array.isArray(e)?e.filter((function(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)})).reduce((function(e,t){return uH(uH({},e),{},dH({},t,[]))}),{}):{}}]}var OH=["children"],DH=["open"],RH=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],kH=["refKey","onChange","onClick"];function IH(e){return function(e){if(Array.isArray(e))return FH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zH(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||zH(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zH(e,t){if(e){if("string"===typeof e)return FH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FH(e,t):void 0}}function FH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NH(Object(n),!0).forEach((function(t){UH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HH=(0,t.forwardRef)((function(e,n){var r=e.children,i=WH(jH(e,OH)),o=i.open,a=jH(i,DH);return(0,t.useImperativeHandle)(n,(function(){return{open:o}}),[o]),t.createElement(t.Fragment,null,r(BH(BH({},a),{},{open:o})))}));HH.displayName="Dropzone";var VH={disabled:!1,getFilesFromEvent:function(e){return Gj(this,void 0,void 0,(function(){return Wj(this,(function(t){return Kj(e)&&Kj(e.dataTransfer)?[2,$j(e.dataTransfer,e.type)]:function(e){return Kj(e)&&Kj(e.target)}(e)?[2,Zj(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,Jj(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};HH.defaultProps=VH,HH.propTypes={children:ME().func,accept:ME().oneOfType([ME().string,ME().arrayOf(ME().string)]),multiple:ME().bool,preventDropOnDocument:ME().bool,noClick:ME().bool,noKeyboard:ME().bool,noDrag:ME().bool,noDragEventsBubbling:ME().bool,minSize:ME().number,maxSize:ME().number,maxFiles:ME().number,disabled:ME().bool,getFilesFromEvent:ME().func,onFileDialogCancel:ME().func,onFileDialogOpen:ME().func,useFsAccessApi:ME().bool,onDragEnter:ME().func,onDragLeave:ME().func,onDragOver:ME().func,onDrop:ME().func,onDropAccepted:ME().func,onDropRejected:ME().func,validator:ME().func};var GH={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function WH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=BH(BH({},VH),e),r=n.accept,i=n.disabled,o=n.getFilesFromEvent,a=n.maxSize,s=n.minSize,l=n.multiple,c=n.maxFiles,u=n.onDragEnter,d=n.onDragLeave,h=n.onDragOver,f=n.onDrop,p=n.onDropAccepted,m=n.onDropRejected,g=n.onFileDialogCancel,v=n.onFileDialogOpen,y=n.useFsAccessApi,b=n.preventDropOnDocument,x=n.noClick,w=n.noKeyboard,S=n.noDrag,E=n.noDragEventsBubbling,M=n.validator,C=(0,t.useMemo)((function(){return"function"===typeof v?v:XH}),[v]),_=(0,t.useMemo)((function(){return"function"===typeof g?g:XH}),[g]),T=(0,t.useRef)(null),A=(0,t.useRef)(null),P=LH((0,t.useReducer)(YH,GH),2),O=P[0],D=P[1],R=O.isFocused,k=O.isFileDialogActive,I=O.draggedFiles,L=(0,t.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&"showOpenFilePicker"in window),z=function(){!L.current&&k&&setTimeout((function(){A.current&&(A.current.files.length||(D({type:"closeDialog"}),_()))}),300)};(0,t.useEffect)((function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}}),[A,k,_,L]);var F=(0,t.useRef)([]),N=function(e){T.current&&T.current.contains(e.target)||(e.preventDefault(),F.current=[])};(0,t.useEffect)((function(){return b&&(document.addEventListener("dragover",TH,!1),document.addEventListener("drop",N,!1)),function(){b&&(document.removeEventListener("dragover",TH),document.removeEventListener("drop",N))}}),[T,b]);var B=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),J(e),F.current=[].concat(IH(F.current),[e.target]),_H(e)&&Promise.resolve(o(e)).then((function(t){CH(e)&&!E||(D({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e))}))}),[o,u,E]),U=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),J(e);var t=_H(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&h&&h(e),!1}),[h,E]),j=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),J(e);var t=F.current.filter((function(e){return T.current&&T.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),F.current=t,t.length>0||(D({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),_H(e)&&d&&d(e))}),[T,d,E]),H=(0,t.useCallback)((function(e,t){var n=[],i=[];e.forEach((function(e){var t=LH(SH(e,r),2),o=t[0],l=t[1],c=LH(EH(e,s,a),2),u=c[0],d=c[1],h=M?M(e):null;if(o&&u&&!h)n.push(e);else{var f=[l,d];h&&(f=f.concat(h)),i.push({file:e,errors:f.filter((function(e){return e}))})}})),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach((function(e){i.push({file:e,errors:[wH]})})),n.splice(0)),D({acceptedFiles:n,fileRejections:i,type:"setFiles"}),f&&f(n,i,t),i.length>0&&m&&m(i,t),n.length>0&&p&&p(n,t)}),[D,l,r,s,a,c,f,p,m,M]),V=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),J(e),F.current=[],_H(e)&&Promise.resolve(o(e)).then((function(t){CH(e)&&!E||H(t,e)})),D({type:"reset"})}),[o,H,E]),G=(0,t.useCallback)((function(){if(L.current){D({type:"openDialog"}),C();var e={multiple:l,types:PH(r)};window.showOpenFilePicker(e).then((function(e){return o(e)})).then((function(e){H(e,null),D({type:"closeDialog"})})).catch((function(e){!function(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}(e)?function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)&&(L.current=!1,A.current&&(A.current.value=null,A.current.click())):(_(e),D({type:"closeDialog"}))}))}else A.current&&(D({type:"openDialog"}),C(),A.current.value=null,A.current.click())}),[D,C,_,y,H,r,l]),W=(0,t.useCallback)((function(e){T.current&&T.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),G()))}),[T,G]),Y=(0,t.useCallback)((function(){D({type:"focus"})}),[]),X=(0,t.useCallback)((function(){D({type:"blur"})}),[]),Q=(0,t.useCallback)((function(){x||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?G():setTimeout(G,0))}),[x,G]),q=function(e){return i?null:e},K=function(e){return w?null:q(e)},Z=function(e){return S?null:q(e)},J=function(e){E&&e.stopPropagation()},$=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,o=e.onKeyDown,a=e.onFocus,s=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,h=e.onDrop,f=jH(e,RH);return BH(BH(UH({onKeyDown:K(AH(o,W)),onFocus:K(AH(a,Y)),onBlur:K(AH(s,X)),onClick:q(AH(l,Q)),onDragEnter:Z(AH(c,B)),onDragOver:Z(AH(u,U)),onDragLeave:Z(AH(d,j)),onDrop:Z(AH(h,V)),role:"string"===typeof r&&""!==r?r:"button"},n,T),i||w?{}:{tabIndex:0}),f)}}),[T,W,Y,X,Q,B,U,j,V,w,S,i]),ee=(0,t.useCallback)((function(e){e.stopPropagation()}),[]),te=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.onChange,o=e.onClick,a=jH(e,kH);return BH(BH({},UH({accept:r,multiple:l,type:"file",style:{display:"none"},onChange:q(AH(i,V)),onClick:q(AH(o,ee)),tabIndex:-1},n,A)),a)}}),[A,r,l,V,i]),ne=I.length,re=ne>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,a=e.maxFiles;return!(!o&&t.length>1||o&&a>=1&&t.length>a)&&t.every((function(e){var t=hH(SH(e,n),1)[0],o=hH(EH(e,r,i),1)[0];return t&&o}))}({files:I,accept:r,minSize:s,maxSize:a,multiple:l,maxFiles:c}),ie=ne>0&&!re;return BH(BH({},O),{},{isDragAccept:re,isDragReject:ie,isFocused:R&&!i,getRootProps:$,getInputProps:te,rootRef:T,inputRef:A,open:q(G)})}function YH(e,t){switch(t.type){case"focus":return BH(BH({},e),{},{isFocused:!0});case"blur":return BH(BH({},e),{},{isFocused:!1});case"openDialog":return BH(BH({},GH),{},{isFileDialogActive:!0});case"closeDialog":return BH(BH({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return BH(BH({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return BH(BH({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return BH({},GH);default:return e}}function XH(){}function QH(e){let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,subscribe:(e,r,o)=>r||o?function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function s(){const n=r(t);if(!o(a,n)){const t=a;e(a=n,t)}}return n.add(s),()=>n.delete(s)}(e,r,o):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}const qH="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?t.useEffect:t.useLayoutEffect;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var KH=n(89),ZH=n.n(KH);const JH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(".")};function $H(e,n){return(0,t.useMemo)(e,function(e,n){const r=(0,t.useRef)();return(n?BI:UI)(e,r.current)||(r.current=e),r.current}(n,!0))}function eV(e,t,n){const r=e.useStore((e=>function(e,t){return Object.entries(function(e,t){return t.reduce(((t,n)=>(e&&e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}(e,t)).reduce(((e,t)=>{let[,{value:n,disabled:r,key:i}]=t;return e[i]=r?void 0:n,e}),{})}(SN(SN({},n),e.data),t)),UI);return r}function tV(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const n=(0,t.useRef)(null),r=(0,t.useRef)(null),[i,o]=(0,t.useState)(!1),a=(0,t.useCallback)((()=>o(!0)),[]),s=(0,t.useCallback)((()=>o(!1)),[]);return(0,t.useLayoutEffect)((()=>{if(i){const{bottom:t,top:i,left:o}=n.current.getBoundingClientRect(),{height:a}=r.current.getBoundingClientRect(),s=t+a>window.innerHeight-40?"up":"down";r.current.style.position="fixed",r.current.style.zIndex="10000",r.current.style.left=o+"px","down"===s?r.current.style.top=t+e+"px":r.current.style.bottom=window.innerHeight-i+e+"px"}}),[e,i]),{popinRef:n,wrapperRef:r,shown:i,show:a,hide:s}}!function(e){e.forEach((function(e){dj.indexOf(e)<0&&(e(cj,rj),dj.push(e))}))}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var o={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,a,s=r[this.toHex()];if(s)return s;if(null==t?void 0:t.closest){var l=this.toRgb(),c=1/0,u="black";if(!o.length)for(var d in n)o[d]=new e(n[d]).toRgb();for(var h in n){var f=(i=l,a=o[h],Math.pow(i.r-a.r,2)+Math.pow(i.g-a.g,2)+Math.pow(i.b-a.b,2));f<c&&(c=f,u=h)}return u}},t.string.push([function(t){var r=t.toLowerCase(),i="transparent"===r?"#0000":n[r];return i?new e(i).toRgb():null},"name"])}]);const nV={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};aL.extend({color:()=>e=>uj(e).isValid()});function rV(e,t){let{format:n,hasAlpha:r,isString:i}=t;const o=e[nV[n]+(i&&"hex"!==n?"String":"")]();return"object"!==typeof o||r?o:function(e,t){const n=SN({},e);return t.forEach((t=>t in e&&delete n[t])),n}(o,["a"])}const iV=(e,t)=>{const n=uj(e);if(!n.isValid())throw Error("Invalid color");return rV(n,t)};var oV=Object.freeze({__proto__:null,schema:e=>aL().color().test(e),sanitize:iV,format:(e,t)=>rV(uj(e),SN(SN({},t),{},{isString:!0,format:"hex"})),normalize:e=>{let{value:t}=e;const n=function(e){return oj(e)[1]}(t),r={format:"name"===n?"hex":n,hasAlpha:"object"===typeof t?"a"in t:"hex"===n&&8===t.length||/^(rgba)|(hsla)|(hsva)/.test(t),isString:"string"===typeof t};return{value:iV(t,r),settings:r}}});const aV=hB("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')',$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),sV=hB("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),lV=hB("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function cV(e,t){return"rgb"!==t?uj(e).toRgb():e}function uV(e){let{value:n,displayValue:r,settings:i,onUpdate:o}=e;const{emitOnEditStart:a,emitOnEditEnd:s}=iB(),{format:l,hasAlpha:c}=i,{popinRef:u,wrapperRef:d,shown:h,show:f,hide:p}=tV(),m=(0,t.useRef)(0),[g,v]=(0,t.useState)((()=>cV(n,l))),y=c?jj:Vj,b=()=>{p(),s(),window.clearTimeout(m.current)};return(0,t.useEffect)((()=>()=>window.clearTimeout(m.current)),[]),t.createElement(t.Fragment,null,t.createElement(aV,{ref:u,active:h,onClick:()=>(v(cV(n,l)),f(),void a()),style:{color:r}}),h&&t.createElement(UB,null,t.createElement(FB,{onPointerUp:b}),t.createElement(lV,{ref:d,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:e=>0===e.buttons&&void(m.current=window.setTimeout(b,500))},t.createElement(y,{color:g,onChange:o}))))}var dV=SN({component:function(){const{value:e,displayValue:n,label:r,onChange:i,onUpdate:o,settings:a}=iB();return t.createElement(qB,{input:!0},t.createElement(GB,null,r),t.createElement(sV,null,t.createElement(uV,{value:e,displayValue:n,onChange:i,onUpdate:o,settings:a}),t.createElement(CB,{value:n,onChange:i,onUpdate:o})))}},oV);var hV=SN({component:function(){const{label:e,displayValue:n,onUpdate:r,settings:i}=iB();return t.createElement(qB,{input:!0},t.createElement(GB,null,e),t.createElement(OU,{value:n,settings:i,onUpdate:r}))}},FU(["x","y","z"]));const fV=hB("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),pV=hB("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function mV(e){let{value:n,settings:r,onUpdate:i}=e;const o=(0,t.useRef)(),a=(0,t.useRef)(0),s=(0,t.useRef)(0),l=(0,t.useRef)(1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=JB(),m=(0,t.useRef)(null),g=(0,t.useRef)(null);(0,t.useLayoutEffect)((()=>{if(c){const{top:e,left:t,width:n,height:r}=m.current.getBoundingClientRect();g.current.style.left=t+n/2+"px",g.current.style.top=e+r/2+"px"}}),[c]);const{keys:[v,y],joystick:b}=r,x="invertY"===b?1:-1,{[v]:{step:w},[y]:{step:S}}=r,E=yB("sizes","joystickWidth"),M=yB("sizes","joystickHeight"),C=.8*parseFloat(E)/2,_=.8*parseFloat(M)/2,T=(0,t.useCallback)((()=>{o.current||(h(!0),a.current&&p({x:a.current*C}),s.current&&p({y:s.current*-_}),o.current=window.setInterval((()=>{i((e=>{const t=w*a.current*l.current,n=x*S*s.current*l.current;return Array.isArray(e)?{[v]:e[0]+t,[y]:e[1]+n}:{[v]:e[v]+t,[y]:e[y]+n}}))}),16))}),[C,_,i,p,w,S,v,y,x]),A=(0,t.useCallback)((()=>{window.clearTimeout(o.current),o.current=void 0,h(!1)}),[]);(0,t.useEffect)((()=>{function e(e){l.current=qN(e)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.clearTimeout(o.current),window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}}),[]);const P=ZB((e=>{let{first:t,active:r,delta:[o,c],movement:[d,h]}=e;t&&u(!0);const f=EN(d,-C,C),m=EN(h,-_,_);a.current=Math.abs(d)>Math.abs(f)?Math.sign(d-f):0,s.current=Math.abs(h)>Math.abs(m)?Math.sign(m-h):0;let g=n[v],b=n[y];r?(a.current||(g+=o*w*l.current,p({x:f})),s.current||(b-=x*c*S*l.current,p({y:m})),a.current||s.current?T():A(),i({[v]:g,[y]:b})):(u(!1),a.current=0,s.current=0,p({x:0,y:0}),A())}));return t.createElement(fV,nB({ref:m},P()),c&&t.createElement(UB,null,t.createElement(pV,{ref:g,isOutOfBounds:d},t.createElement("div",null),t.createElement("span",{ref:f}))))}const gV=hB("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});const vV=["joystick"],yV=FU(["x","y"]);var bV=SN(SN({component:function(){const{label:e,displayValue:n,onUpdate:r,settings:i}=iB();return t.createElement(qB,{input:!0},t.createElement(GB,null,e),t.createElement(gV,{withJoystick:!!i.joystick},i.joystick&&t.createElement(mV,{value:n,settings:i,onUpdate:r}),t.createElement(OU,{value:n,settings:i,onUpdate:r})))}},yV),{},{normalize:e=>{let{joystick:t=!0}=e,n=oN(e,vV);const{value:r,settings:i}=yV.normalize(n);return{value:r,settings:SN(SN({},i),{},{joystick:t})}}});var xV=Object.freeze({__proto__:null,sanitize:e=>{if(void 0!==e){if(e instanceof File)try{return URL.createObjectURL(e)}catch(t){return}if("string"===typeof e&&0===e.indexOf("blob:"))return e;throw Error("Invalid image format [undefined | blob |\xa0File].")}},schema:(e,t)=>"object"===typeof t&&"image"in t,normalize:e=>{let{image:t}=e;return{value:t}}});const wV=hB("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),SV=hB("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),EV=hB("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),MV=hB("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),CV=hB("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),_V=hB("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var TV=SN({component:function(){const{label:e,value:n,onUpdate:r,disabled:i}=iB(),{popinRef:o,wrapperRef:a,shown:s,show:l,hide:c}=tV(),u=(0,t.useCallback)((e=>{e.length&&r(e[0])}),[r]),d=(0,t.useCallback)((e=>{e.stopPropagation(),r(void 0)}),[r]),{getRootProps:h,getInputProps:f,isDragAccept:p}=WH({maxFiles:1,accept:"image/*",onDrop:u,disabled:i});return t.createElement(qB,{input:!0},t.createElement(GB,null,e),t.createElement(wV,null,t.createElement(EV,{ref:o,hasImage:!!n,onPointerDown:()=>!!n&&l(),onPointerUp:c,style:{backgroundImage:n?`url(${n})`:"none"}}),s&&!!n&&t.createElement(UB,null,t.createElement(FB,{onPointerUp:c,style:{cursor:"pointer"}}),t.createElement(MV,{ref:a,style:{backgroundImage:`url(${n})`}})),t.createElement(SV,h({isDragAccept:p}),t.createElement("input",f()),t.createElement(CV,null,p?"drop image":"click or drop")),t.createElement(_V,{onClick:d,disabled:!n})))}},xV);const AV=aL().number(),PV=e=>({min:e[0],max:e[1]}),OV=(e,t,n)=>{let{bounds:[r,i]}=t;const o=Array.isArray(e)?PV(e):e,a={min:n[0],max:n[1]},{min:s,max:l}=SN(SN({},a),o);return[EN(Number(s),r,Math.max(r,l)),EN(Number(l),Math.min(i,s),i)]};var DV=Object.freeze({__proto__:null,schema:(e,t)=>aL().array().length(2).every.number().test(e)&&aL().schema({min:AV,max:AV}).test(t),format:PV,sanitize:OV,normalize:e=>{let{value:t,min:n,max:r}=e;const i={min:n,max:r},o=[n,r],a=SN(SN({},DU(PV(t),{min:i,max:i})),{},{bounds:o});return{value:OV(PV(t),a,t),settings:a}}});const RV=["value","bounds","onDrag"],kV=["bounds"],IV=hB("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function LV(e){let{value:n,bounds:[r,i],onDrag:o}=e,a=oN(e,RV);const s=(0,t.useRef)(null),l=(0,t.useRef)(null),c=(0,t.useRef)(null),u=(0,t.useRef)(0),d=yB("sizes","scrubberWidth"),h=ZB((e=>{let{event:t,first:h,xy:[f],movement:[p],memo:m={}}=e;if(h){const{width:e,left:o}=s.current.getBoundingClientRect();u.current=e-parseFloat(d);const a=(null===t||void 0===t?void 0:t.target)===l.current||(null===t||void 0===t?void 0:t.target)===c.current;m.pos=AN((f-o)/e,r,i);const h=Math.abs(m.pos-n.min)-Math.abs(m.pos-n.max);m.key=h<0||0===h&&m.pos<=n.min?"min":"max",a&&(m.pos=n[m.key])}const g=m.pos+AN(p/u.current,0,i-r);return o({[m.key]:cU(g,a[m.key])}),m})),f=`calc(${TN(n.min,r,i)} * (100% - ${d} - 8px) + 4px)`,p=`calc(${1-TN(n.max,r,i)} * (100% - ${d} - 8px) + 4px)`;return t.createElement(iU,nB({ref:s},h()),t.createElement(nU,null,t.createElement(oU,{style:{left:f,right:p}})),t.createElement(rU,{position:"left",ref:l,style:{left:f}}),t.createElement(rU,{position:"right",ref:c,style:{right:p}}))}var zV=SN({component:function(){const{label:e,displayValue:n,onUpdate:r,settings:i}=iB(),o=oN(i,kV);return t.createElement(t.Fragment,null,t.createElement(qB,{input:!0},t.createElement(GB,null,e),t.createElement(IV,null,t.createElement(LV,nB({value:n},i,{onDrag:r})),t.createElement(OU,{value:n,settings:o,onUpdate:r,innerLabelTrim:0}))))}},DV);const FV=["type","value"],NV=["onChange","transient","onEditStart","onEditEnd"],BV=function(){const e=function(e){const n="function"===typeof e?QH(e):e,r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const[,i]=(0,t.useReducer)((e=>e+1),0),o=n.getState(),a=(0,t.useRef)(o),s=(0,t.useRef)(e),l=(0,t.useRef)(r),c=(0,t.useRef)(!1),u=(0,t.useRef)();let d;void 0===u.current&&(u.current=e(o));let h=!1;(a.current!==o||s.current!==e||l.current!==r||c.current)&&(d=e(o),h=!r(u.current,d)),qH((()=>{h&&(u.current=d),a.current=o,s.current=e,l.current=r,c.current=!1}));const f=(0,t.useRef)(o);qH((()=>{const e=()=>{try{const e=n.getState(),t=s.current(e);l.current(u.current,t)||(a.current=e,u.current=t,i())}catch($ce){c.current=!0,i()}},t=n.subscribe(e);return n.getState()!==f.current&&e(),t}),[]);const p=h?d:u.current;return(0,t.useDebugValue)(p),p};return Object.assign(r,n),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[r,n];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},r}((e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(e,t,n)=>{let o=e;if(t){const i=(null==n?void 0:n.equalityFn)||Object.is;let a=e(r.getState());o=n=>{const r=e(n);if(!i(a,r)){const e=a;t(a=r,e)}},(null==n?void 0:n.fireImmediately)&&t(a,a)}return i(o)},e(t,n,r)})((()=>({data:{}})))),n=(()=>{const e=new Map;return{on:(t,n)=>{let r=e.get(t);void 0===r&&(r=new Set,e.set(t,r)),r.add(n)},off:(t,n)=>{const r=e.get(t);void 0!==r&&(r.delete(n),0===r.size&&e.delete(t))},emit:function(t){const n=e.get(t);if(void 0!==n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(const e of n)e(...i)}}}})();this.storeId="_"+Math.random().toString(36).substr(2,9),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const e=this.getData(),t=Object.keys(e),n=[];Object.entries(r).forEach((e=>{let[r,i]=e;i.render&&t.some((e=>0===e.indexOf(r)))&&!i.render(this.get)&&n.push(r+".")}));const o=[];return i.forEach((t=>{t in e&&e[t].__refCount>0&&n.every((e=>-1===t.indexOf(e)))&&(!e[t].render||e[t].render(this.get))&&o.push(t)})),o},this.setOrderedPaths=e=>{e.forEach((e=>i.add(e)))},this.orderPaths=e=>(this.setOrderedPaths(e),e),this.disposePaths=t=>{e.setState((e=>{const n=e.data;return t.forEach((e=>{if(e in n){const t=n[e];t.__refCount--,0===t.__refCount&&t.type in NN&&delete n[e]}})),{data:n}}))},this.dispose=()=>{e.setState((()=>({data:{}})))},this.getFolderSettings=e=>r[e]||{},this.getData=()=>e.getState().data,this.addData=(t,n)=>{e.setState((e=>{const r=e.data;return Object.entries(t).forEach((e=>{let[t,i]=e,o=r[t];if(o){const{type:e,value:t}=i,r=oN(i,FV);e!==o.type?cN(aN.INPUT_TYPE_OVERRIDE,e):((0===o.__refCount||n)&&Object.assign(o,r),o.__refCount++)}else r[t]=SN(SN({},i),{},{__refCount:1})})),{data:r}}))},this.setValueAtPath=(t,n,r)=>{e.setState((e=>{const i=e.data;return WN(i[t],n,t,this,r),{data:i}}))},this.setSettingsAtPath=(t,n)=>{e.setState((e=>{const r=e.data;return r[t].settings=SN(SN({},r[t].settings),n),{data:r}}))},this.disableInputAtPath=(t,n)=>{e.setState((e=>{const r=e.data;return r[t].disabled=n,{data:r}}))},this.set=(t,n)=>{e.setState((e=>{const r=e.data;return Object.entries(t).forEach((e=>{let[t,i]=e;try{WN(r[t],i,void 0,void 0,n)}catch(o){0}})),{data:r}}))},this.getInput=e=>{try{return this.getData()[e]}catch(t){cN(aN.PATH_DOESNT_EXIST,e)}},this.get=e=>{var t;return null===(t=this.getInput(e))||void 0===t?void 0:t.value},this.emitOnEditStart=e=>{n.emit(`onEditStart:${e}`,this.get(e),e,SN(SN({},this.getInput(e)),{},{get:this.get}))},this.emitOnEditEnd=e=>{n.emit(`onEditEnd:${e}`,this.get(e),e,SN(SN({},this.getInput(e)),{},{get:this.get}))},this.subscribeToEditStart=(e,t)=>{const r=`onEditStart:${e}`;return n.on(r,t),()=>n.off(r,t)},this.subscribeToEditEnd=(e,t)=>{const r=`onEditEnd:${e}`;return n.on(r,t),()=>n.off(r,t)};const o=(e,t,n)=>{const i={};return Object.entries(e).forEach((e=>{let[a,s]=e;if(""===a)return cN(aN.EMPTY_KEY);let l=JH(t,a);if(s.type===NN.FOLDER){const e=o(s.schema,l,n);Object.assign(i,e),l in r||(r[l]=s.settings)}else if(a in n)cN(aN.DUPLICATE_KEYS,a,l,n[a].path);else{const e=GN(s,a,l,i);if(e){const{type:t,options:r,input:o}=e,{onChange:s,transient:c,onEditStart:u,onEditEnd:d}=r,h=oN(r,NV);i[l]=SN(SN(SN({type:t},h),o),{},{fromPanel:!0}),n[a]={path:l,onChange:s,transient:c,onEditStart:u,onEditEnd:d}}else cN(aN.UNKNOWN_INPUT,l,s)}})),i};this.getDataFromSchema=e=>{const t={};return[o(e,"",t),t]}},UV=new BV;const jV={collapsed:!1};function HV(e,t){return{type:NN.FOLDER,schema:e,settings:SN(SN({},jV),t)}}const VV={disabled:!1};const GV=e=>"__levaInput"in e,WV=["type","label","path","valueKey","value","settings","setValue","disabled"];function YV(e){let{type:n,label:r,path:i,valueKey:o,value:a,settings:s,setValue:l,disabled:c}=e,u=oN(e,WV);const{displayValue:d,onChange:h,onUpdate:f}=KB({type:n,value:a,settings:s,setValue:l}),p=mN[n].component;return p?t.createElement(rB.Provider,{value:SN({key:o,path:i,id:""+i,label:r,displayValue:d,value:a,onChange:h,onUpdate:f,settings:s,setValue:l,disabled:c},u)},t.createElement(zB,{disabled:c},t.createElement(p,null))):(cN(aN.NO_COMPONENT_FOR_TYPE,n,i),null)}const XV=hB("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});const QV=hB("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),qV=hB("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}});const KV=hB("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"});const ZV=(0,t.forwardRef)((function(e,n){let{initialValue:r}=e;const i=yB("colors","highlight3"),o=yB("colors","elevation2"),a=yB("colors","highlight1"),[s,l]=(0,t.useMemo)((()=>[uj(a).alpha(.4).toRgbString(),uj(a).alpha(.1).toRgbString()]),[a]),c=(0,t.useRef)([r]),u=(0,t.useRef)(r),d=(0,t.useRef)(r),h=(0,t.useRef)(),f=(0,t.useCallback)(((e,t)=>{if(!e)return;const{width:n,height:r}=e,a=new Path2D,h=n/100,f=.05*r;for(let i=0;i<c.current.length;i++){const e=h*i,t=r-TN(c.current[i],u.current,d.current)*(r-2*f)-f;a.lineTo(e,t)}t.clearRect(0,0,n,r);const p=new Path2D(a);p.lineTo(h*(c.current.length+1),r),p.lineTo(0,r),p.lineTo(0,0);const m=t.createLinearGradient(0,0,0,r);m.addColorStop(0,s),m.addColorStop(1,l),t.fillStyle=m,t.fill(p),t.strokeStyle=o,t.lineJoin="round",t.lineWidth=14,t.stroke(a),t.strokeStyle=i,t.lineWidth=2,t.stroke(a)}),[i,o,s,l]),[p,m]=function(e){const n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{const t=QN((()=>{n.current.width=n.current.offsetWidth*window.devicePixelRatio,n.current.height=n.current.offsetHeight*window.devicePixelRatio,e(n.current,r.current)}),250);return window.addEventListener("resize",t),i.current||(t(),i.current=!0),()=>window.removeEventListener("resize",t)}),[e]),(0,t.useEffect)((()=>{r.current=n.current.getContext("2d")}),[]),[n,r]}(f);return(0,t.useImperativeHandle)(n,(()=>({frame:e=>{(void 0===u.current||e<u.current)&&(u.current=e),(void 0===d.current||e>d.current)&&(d.current=e),function(e,t){e.push(t),e.length>100&&e.shift()}(c.current,e),h.current=requestAnimationFrame((()=>f(p.current,m.current)))}})),[p,m,f]),(0,t.useEffect)((()=>()=>cancelAnimationFrame(h.current)),[]),t.createElement(KV,{ref:p})})),JV=e=>Number.isFinite(e)?e.toPrecision(2):e.toString(),$V=(0,t.forwardRef)((function(e,n){let{initialValue:r}=e;const[i,o]=(0,t.useState)(JV(r));return(0,t.useImperativeHandle)(n,(()=>({frame:e=>o(JV(e))})),[]),t.createElement("div",null,i)}));function eG(e){return"function"===typeof e?e():e.current}const tG=["type","label","key"],nG={[NN.BUTTON]:function(e){let{onClick:n,settings:r,label:i}=e;const o=lB();return t.createElement(qB,null,t.createElement(XV,{disabled:r.disabled,onClick:()=>n(o.get)},i))},[NN.BUTTON_GROUP]:function(e){const{label:n,opts:r}=(e=>{let{label:t,opts:n}=e,r="string"===typeof t&&""===t.trim()?null:t,i=n;return"object"===typeof n.opts&&(void 0!==i.label&&(r=n.label),i=n.opts),{label:r,opts:i}})(e),i=lB();return t.createElement(qB,{input:!!n},n&&t.createElement(GB,null,n),t.createElement(QV,null,Object.entries(r).map((e=>{let[n,r]=e;return t.createElement(qV,{key:n,onClick:()=>r(i.get)},n)}))))},[NN.MONITOR]:function(e){let{label:n,objectOrFn:r,settings:i}=e;const o=(0,t.useRef)(),a=(0,t.useRef)(eG(r));return(0,t.useEffect)((()=>{const e=window.setInterval((()=>{var e;document.hidden||null===(e=o.current)||void 0===e||e.frame(eG(r))}),i.interval);return()=>window.clearInterval(e)}),[r,i.interval]),t.createElement(qB,{input:!0},t.createElement(GB,{align:"top"},n),i.graph?t.createElement(ZV,{ref:o,initialValue:a.current}):t.createElement($V,{ref:o,initialValue:a.current}))}},rG=t.memo((e=>{let{path:n}=e;const[r,{set:i,setSettings:o,disable:a,storeId:s,emitOnEditStart:l,emitOnEditEnd:c}]=function(e){const n=lB(),[r,i]=(0,t.useState)(eU(n.getData(),e)),o=(0,t.useCallback)((t=>n.setValueAtPath(e,t,!0)),[e,n]),a=(0,t.useCallback)((t=>n.setSettingsAtPath(e,t)),[e,n]),s=(0,t.useCallback)((t=>n.disableInputAtPath(e,t)),[e,n]),l=(0,t.useCallback)((()=>n.emitOnEditStart(e)),[e,n]),c=(0,t.useCallback)((()=>n.emitOnEditEnd(e)),[e,n]);return(0,t.useEffect)((()=>{i(eU(n.getData(),e));const t=n.useStore.subscribe((t=>eU(t.data,e)),i,{equalityFn:UI});return()=>t()}),[n,e]),[r,{set:o,setSettings:a,disable:s,storeId:n.storeId,emitOnEditStart:l,emitOnEditEnd:c}]}(n);if(!r)return null;const{type:u,label:d,key:h}=r,f=oN(r,tG);if(u in NN){const e=nG[u];return t.createElement(e,nB({label:d,path:n},f))}return u in mN?t.createElement(YV,nB({key:s+n,type:u,label:d,storeId:s,path:n,valueKey:h,setValue:i,setSettings:o,disable:a,emitOnEditStart:l,emitOnEditEnd:c},f)):(uN(aN.UNSUPPORTED_INPUT,u,n),null)}));function iG(e){let{toggle:n,toggled:r,name:i}=e;return t.createElement(PB,{onClick:()=>n()},t.createElement(XB,{toggled:r}),t.createElement("div",null,i))}const oG=e=>{let{name:n,path:r,tree:i}=e;const o=lB(),a=JH(r,n),{collapsed:s,color:l}=o.getFolderSettings(a),[c,u]=(0,t.useState)(!s),d=(0,t.useRef)(null),h=yB("colors","folderWidgetColor"),f=yB("colors","folderTextColor");return(0,t.useLayoutEffect)((()=>{d.current.style.setProperty("--leva-colors-folderWidgetColor",l||h),d.current.style.setProperty("--leva-colors-folderTextColor",l||f)}),[l,h,f]),t.createElement(TB,{ref:d},t.createElement(iG,{name:n,toggled:c,toggle:()=>u((e=>!e))}),t.createElement(aG,{parent:a,tree:i,toggled:c}))},aG=t.memo((e=>{let{isRoot:n=!1,fill:r=!1,flat:i=!1,parent:o,tree:a,toggled:s}=e;const{wrapperRef:l,contentRef:c}=function(e){const n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=(0,t.useRef)(!0);return(0,t.useLayoutEffect)((()=>{e||(n.current.style.height="0px",n.current.style.overflow="hidden")}),[]),(0,t.useEffect)((()=>{if(i.current)return void(i.current=!1);let t;const o=n.current,a=()=>{e&&(o.style.removeProperty("height"),o.style.removeProperty("overflow"),r.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};o.addEventListener("transitionend",a,{once:!0});const{height:s}=r.current.getBoundingClientRect();return o.style.height=s+"px",e||(o.style.overflow="hidden",t=window.setTimeout((()=>o.style.height="0px"),50)),()=>{o.removeEventListener("transitionend",a),clearTimeout(t)}}),[e]),{wrapperRef:n,contentRef:r}}(s),u=lB(),d=e=>{let[t,n]=e;var r;return(GV(n)?null===(r=u.getInput(n.path))||void 0===r?void 0:r.order:u.getFolderSettings(JH(o,t)).order)||0},h=Object.entries(a).sort(((e,t)=>d(e)-d(t)));return t.createElement(AB,{ref:l,isRoot:n,fill:r,flat:i},t.createElement(OB,{ref:c,isRoot:n,toggled:s},h.map((e=>{let[n,r]=e;return GV(r)?t.createElement(rG,{key:r.path,valueKey:r.valueKey,path:r.path}):t.createElement(oG,{key:n,name:n,path:o,tree:r})}))))})),sG=hB("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${RB}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),lG=hB("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),cG=hB("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),uG=hB("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${lG}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),dG=hB("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),hG=hB("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),fG=t.forwardRef(((e,n)=>{let{setFilter:r,toggle:i}=e;const[o,a]=(0,t.useState)(""),s=(0,t.useMemo)((()=>QN(r,250)),[r]);return(0,t.useEffect)((()=>{s(o)}),[o,s]),t.createElement(t.Fragment,null,t.createElement(dG,{ref:n,value:o,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:e=>e.stopPropagation(),onChange:e=>{const t=e.currentTarget.value;i(!0),a(t)}}),t.createElement(lG,{onClick:()=>(r(""),void a("")),style:{visibility:o?"visible":"hidden"}},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))}));function pG(e){let{setFilter:n,onDrag:r,onDragStart:i,onDragEnd:o,toggle:a,toggled:s,title:l,drag:c,filterEnabled:u,from:d}=e;const[h,f]=(0,t.useState)(!1),p=(0,t.useRef)(null);(0,t.useEffect)((()=>{var e,t;h?null===(e=p.current)||void 0===e||e.focus():null===(t=p.current)||void 0===t||t.blur()}),[h]);const m=ZB((e=>{let{offset:[t,n],first:a,last:s}=e;r({x:t,y:n}),a&&i({x:t,y:n}),s&&o({x:t,y:n})}),{filterTaps:!0,from:e=>{let{offset:[t,n]}=e;return[(null===d||void 0===d?void 0:d.x)||t,(null===d||void 0===d?void 0:d.y)||n]}});return(0,t.useEffect)((()=>{const e=e=>{"L"===e.key&&e.shiftKey&&e.metaKey&&f((e=>!e))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]),t.createElement(t.Fragment,null,t.createElement(cG,{mode:c?"drag":void 0},t.createElement(lG,{active:!s,onClick:()=>a()},t.createElement(XB,{toggled:s,width:12,height:8})),t.createElement(hG,nB({},c?m():{},{drag:c,filterEnabled:u}),void 0===l&&c?t.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},t.createElement("circle",{cx:"2",cy:"2",r:"2"}),t.createElement("circle",{cx:"14",cy:"2",r:"2"}),t.createElement("circle",{cx:"26",cy:"2",r:"2"}),t.createElement("circle",{cx:"2",cy:"12",r:"2"}),t.createElement("circle",{cx:"14",cy:"12",r:"2"}),t.createElement("circle",{cx:"26",cy:"12",r:"2"})):l),u&&t.createElement(lG,{active:h,onClick:()=>f((e=>!e))},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},t.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),t.createElement(uG,{toggled:h},t.createElement(fG,{ref:p,setFilter:n,toggle:a})))}const mG=["store","hidden","theme","collapsed"];function gG(e){let{store:n,hidden:r=!1,theme:i,collapsed:o=!1}=e,a=oN(e,mG);const s=$H((()=>function(e){const t=cB();if(!e)return{theme:t,className:""};Object.keys(e).forEach((n=>{Object.assign(t[n],e[n])}));const n=pB(t);return{theme:t,className:n.className}}(i)),[i]),[l,c]=(0,t.useState)(!o),u="object"===typeof o?!o.collapsed:l,d=(0,t.useMemo)((()=>"object"===typeof o?e=>{"function"===typeof e?o.onChange(!e(!o.collapsed)):o.onChange(!e)}:c),[o]);return!n||r?null:t.createElement(oB.Provider,{value:s},t.createElement(vG,nB({store:n},a,{toggled:u,setToggle:d,rootClass:s.className})))}const vG=t.memo((e=>{let{store:n,rootClass:r,fill:i=!1,flat:o=!1,neverHide:a=!1,oneLineLabels:s=!1,titleBar:l={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:c=!1,toggled:u,setToggle:d}=e;var h,f;const p=(e=>{const[n,r]=(0,t.useState)(e.getVisiblePaths());return(0,t.useEffect)((()=>{r(e.getVisiblePaths());const t=e.useStore.subscribe(e.getVisiblePaths,r,{equalityFn:UI});return()=>t()}),[e]),n})(n),[m,g]=(0,t.useState)(""),v=(0,t.useMemo)((()=>((e,t)=>{const n={},r=t?t.toLowerCase():null;return e.forEach((e=>{const[t,i]=function(e){const t=e.split(".");return[t.pop(),t.join(".")||void 0]}(e);(!r||t.toLowerCase().indexOf(r)>-1)&&ZH()(n,i,{[t]:{__levaInput:!0,path:e}})})),n})(p,m)),[p,m]),[y,b]=JB(),x=a||p.length>0,w="object"===typeof l&&l.title||void 0,S="object"!==typeof l||(null===(h=l.drag)||void 0===h||h),E="object"!==typeof l||(null===(f=l.filter)||void 0===f||f),M="object"===typeof l&&l.position||void 0,C="object"===typeof l&&l.onDrag||void 0,_="object"===typeof l&&l.onDragStart||void 0,T="object"===typeof l&&l.onDragEnd||void 0;return t.useEffect((()=>{b({x:null===M||void 0===M?void 0:M.x,y:null===M||void 0===M?void 0:M.y})}),[M,b]),vB(),t.createElement(sB.Provider,{value:{hideCopyButton:c}},t.createElement(sG,{ref:y,className:r,fill:i,flat:o,oneLineLabels:s,hideTitleBar:!l,style:{display:x?"block":"none"}},l&&t.createElement(pG,{onDrag:e=>{b(e),null===C||void 0===C||C(e)},onDragStart:e=>null===_||void 0===_?void 0:_(e),onDragEnd:e=>null===T||void 0===T?void 0:T(e),setFilter:g,toggle:e=>d((t=>null!==e&&void 0!==e?e:!t)),toggled:u,title:w,drag:S,filterEnabled:E,from:M}),x&&t.createElement(aB.Provider,{value:n},t.createElement(aG,{isRoot:!0,fill:i,flat:o,tree:v,toggled:u}))))})),yG=["isRoot"];let bG=!1,xG=null;function wG(e){let{isRoot:n=!1}=e,r=oN(e,yG);return(0,t.useEffect)((()=>(bG=!0,!n&&xG&&(xG.remove(),xG=null),()=>{n||(bG=!1)})),[n]),t.createElement(gG,nB({store:UV},r))}function SG(e){(0,t.useEffect)((()=>{e&&!bG&&(xG||(xG=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(xG),function(e,t){const n=console.error;console.error=()=>{},cD.render(e,t),console.error=n}(t.createElement(wG,{isRoot:!0}),xG))),bG=!0)}),[e])}const EG=["store"];function MG(e){let{store:n}=e,r=oN(e,EG);const i=lB(),o=void 0===n?i:n;return t.createElement(gG,nB({store:o},r))}function CG(e,n,r,i,o){const{folderName:a,schema:s,folderSettings:l,hookSettings:c,deps:u}=function(e,t,n,r,i){let o,a,s,l,c;return"string"===typeof e?(a=e,o=t,Array.isArray(n)?c=n:n&&("store"in n?(l=n,c=r):(s=n,Array.isArray(r)?c=r:(l=r,c=i)))):(o=e,Array.isArray(t)?c=t:(l=t,c=n)),{schema:o,folderName:a,folderSettings:s,hookSettings:l,deps:c||[]}}(e,n,r,i,o),d="function"===typeof s,h=(0,t.useRef)(!1),f=(0,t.useRef)(!0),p=$H((()=>{h.current=!0;const e="function"===typeof s?s():s;return a?{[a]:HV(e,l)}:e}),u);SG(!(null!==c&&void 0!==c&&c.store));const[m]=(0,t.useState)((()=>(null===c||void 0===c?void 0:c.store)||UV)),[g,v]=(0,t.useMemo)((()=>m.getDataFromSchema(p)),[m,p]),[y,b,x,w,S]=(0,t.useMemo)((()=>{const e=[],t=[],n={},r={},i={};return Object.values(v).forEach((o=>{let{path:a,onChange:s,onEditStart:l,onEditEnd:c,transient:u}=o;e.push(a),s?(n[a]=s,u||t.push(a)):t.push(a),l&&(r[a]=l),c&&(i[a]=c)})),[e,t,n,r,i]}),[v]),E=(0,t.useMemo)((()=>m.orderPaths(y)),[y,m]),M=eV(m,b,g),C=(0,t.useCallback)((e=>{const t=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[v[n].path]:r})}),{});m.set(t,!1)}),[m,v]),_=(0,t.useCallback)((e=>m.get(v[e].path)),[m,v]);return(0,t.useEffect)((()=>{const e=!f.current&&h.current;return m.addData(g,e),f.current=!1,h.current=!1,()=>m.disposePaths(E)}),[m,E,g]),(0,t.useEffect)((()=>{const e=[];return Object.entries(x).forEach((t=>{let[n,r]=t;r(m.get(n),n,SN({initial:!0,get:m.get},m.getInput(n)));const i=m.useStore.subscribe((e=>{const t=e.data[n];return[t.disabled?void 0:t.value,t]}),(e=>{let[t,i]=e;return r(t,n,SN({initial:!1,get:m.get},i))}),{equalityFn:UI});e.push(i)})),()=>e.forEach((e=>e()))}),[m,x]),(0,t.useEffect)((()=>{const e=[];return Object.entries(w).forEach((t=>{let[n,r]=t;return e.push(m.subscribeToEditStart(n,r))})),Object.entries(S).forEach((t=>{let[n,r]=t;return e.push(m.subscribeToEditEnd(n,r))})),()=>e.forEach((e=>e()))}),[w,S,m]),d?[M,C,_]:M}vN(BN.SELECT,gU),vN(BN.IMAGE,TV),vN(BN.NUMBER,uU),vN(BN.COLOR,dV),vN(BN.STRING,wU),vN(BN.BOOLEAN,CU),vN(BN.INTERVAL,zV),vN(BN.VECTOR3D,hV),vN(BN.VECTOR2D,bV);const _G={colors:{elevation1:"#e5e5e5",elevation2:"#ffffff",elevation3:"#f5f5f5",accent1:"#0066dc",accent2:"#1976d2",accent3:"#3c93ff",folderWidgetColor:"#777",highlight1:"#000000",highlight2:"#1d1d1d",highlight3:"#000000",vivid1:"#ffcc00"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{sm:"6px",md:"12px",rowGap:"8px",colGap:"8px"},fontSizes:{root:"0.9em"},fonts:{mono:"",sans:""},sizes:{rootWidth:"350px",controlWidth:"170px",scrubberWidth:"10px",scrubberHeight:"14px",rowHeight:"24px",numberInputMinWidth:"60px",folderTitleHeight:"24px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"160px",colorPickerHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}};function TG(){const e=t.useContext(Qce),n=e.useGui((e=>e.guiNames)),r=e.useGui((e=>e.guiConfigFromName)),i=t.useRef({}),o={};function a(e,t){const{_is_folder_marker:n,...r}=e;if(e=r,t||!0===n){const n={};for(const[t,r]of Object.entries(e))n[t]=a(r,!1);return t?n:HV(n)}return e}n.forEach((t=>{const{levaConf:n,folderLabels:a,visible:s}=r[t],l=function(e){let t=o;return e.forEach((e=>{void 0===t[e]&&(t[e]={_is_folder_marker:!0}),t=t[e]})),t}(a);if("BUTTON"===n.type){if(!s)return;l[t]=(c=()=>{rD(e.websocketRef,{type:"GuiUpdateMessage",name:t,value:!0})},u=n.settings,{type:NN.BUTTON,onClick:c,settings:SN(SN({},VV),u)})}else if("BUTTON_GROUP"===n.type){if(!s)return;const r={};n.opts.forEach((n=>{r[n]=()=>{rD(e.websocketRef,{type:"GuiUpdateMessage",name:t,value:n})}})),l[t]=function(e){return{type:NN.BUTTON_GROUP,opts:e}}({label:n.label,opts:r})}else{const r=iD(e.websocketRef,50);l["_viser-generated-input-"+t]={...n,onChange:(e,n,o)=>{o.initial||(i.current[t]?delete i.current[t]:r({type:"GuiUpdateMessage",name:t,value:e}))},render:()=>s}}var c,u}));const s=(0,t.useMemo)((()=>new BV),[]),[,l]=CG((()=>a(o,!0)),{store:s},[o]),c=e.useGui((e=>e.guiSetQueue)),u=e.useGui((e=>e.applyGuiSetQueue)),d=t.useRef({});return t.useEffect((()=>{0!==Object.keys(c).length&&u(((e,t)=>{i.current[e]=!0,clearTimeout(d.current[e]),d.current[e]=setTimeout((()=>{i.current[e]=!1}),10),l({["_viser-generated-input-"+e]:t})}))}),[c,u,l]),(0,Pg.jsx)(hP,{sx:{"& label":{color:"#777"},"& input[type='checkbox']~label svg path":{stroke:"#fff !important"},"& button:not(:only-child)":{color:"#777 !important",backgroundColor:"#e5e5e5 !important"},"& button:only-child":{color:"#fff !important",height:"2em"}},children:(0,Pg.jsx)(MG,{fill:!0,flat:!0,titleBar:!1,theme:_G,store:s,hideCopyButton:!0})})}var AG=n(49),PG=n.n(AG);function OG(e,t){"function"===typeof e?e(t):null!=e&&(e.current=t)}function DG(e){let{showPanel:n=0,className:r,parent:i}=e;const o=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;const[i,o]=t.useState();return t.useLayoutEffect((()=>{const t=e();return o(t),OG(r,t),()=>OG(r,null)}),n),i}((()=>new(PG())),[]);return t.useEffect((()=>{if(o){const e=i&&i.current||document.body;o.showPanel(n),null==e||e.appendChild(o.dom),r&&o.dom.classList.add(...r.split(" ").filter((e=>e)));const t=ym((()=>o.begin())),a=bm((()=>o.end()));return()=>{null==e||e.removeChild(o.dom),t(),a()}}}),[i,o,r,n]),null}const RG=_A(((e,t)=>{let{spacing:n,align:r,justify:i}=t;return{root:{display:"flex",flexDirection:"column",alignItems:r,justifyContent:i,gap:Q_({size:n,sizes:e.spacing})}}}));var kG=Object.defineProperty,IG=Object.getOwnPropertySymbols,LG=Object.prototype.hasOwnProperty,zG=Object.prototype.propertyIsEnumerable,FG=(e,t,n)=>t in e?kG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const NG={spacing:"md",align:"stretch",justify:"flex-start"},BG=(0,t.forwardRef)(((e,n)=>{const r=GT("Stack",NG,e),{spacing:i,className:o,align:a,justify:s,unstyled:l,variant:c}=r,u=((e,t)=>{var n={};for(var r in e)LG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&IG)for(var r of IG(e))t.indexOf(r)<0&&zG.call(e,r)&&(n[r]=e[r]);return n})(r,["spacing","className","align","justify","unstyled","variant"]),{classes:d,cx:h}=RG({spacing:i,align:a,justify:s},{name:"Stack",unstyled:l,variant:c});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))LG.call(t,n)&&FG(e,n,t[n]);if(IG)for(var n of IG(t))zG.call(t,n)&&FG(e,n,t[n]);return e})({className:h(d.root,o),ref:n},u))}));BG.displayName="@mantine/core/Stack";var UG=Object.defineProperty,jG=Object.defineProperties,HG=Object.getOwnPropertyDescriptors,VG=Object.getOwnPropertySymbols,GG=Object.prototype.hasOwnProperty,WG=Object.prototype.propertyIsEnumerable,YG=(e,t,n)=>t in e?UG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XG=(e,t)=>{for(var n in t||(t={}))GG.call(t,n)&&YG(e,n,t[n]);if(VG)for(var n of VG(t))WG.call(t,n)&&YG(e,n,t[n]);return e};function QG(e,t,n){const r=GT(e,t,n),{label:i,description:o,error:a,required:s,classNames:l,styles:c,className:u,unstyled:d,__staticSelector:h,sx:f,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:v,id:y,size:b,style:x,inputContainer:w,inputWrapperOrder:S,withAsterisk:E,variant:M}=r,C=((e,t)=>{var n={};for(var r in e)GG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&VG)for(var r of VG(e))t.indexOf(r)<0&&WG.call(e,r)&&(n[r]=e[r]);return n})(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk","variant"]),_=pI(y),{systemStyles:T,rest:A}=YA(C),P=XG({label:i,description:o,error:a,required:s,classNames:l,className:u,__staticSelector:h,sx:f,errorProps:p,labelProps:m,descriptionProps:g,unstyled:d,styles:c,id:_,size:b,style:x,inputContainer:w,inputWrapperOrder:S,withAsterisk:E,variant:M},v);return((e,t)=>jG(e,HG(t)))(XG({},A),{classNames:l,styles:c,unstyled:d,wrapperProps:XG(XG({},P),T),inputProps:{required:s,classNames:l,styles:c,unstyled:d,id:_,size:b,__staticSelector:h,error:a,variant:M}})}const qG=_A(((e,t,n)=>{let{size:r}=n;return{label:{display:"inline-block",fontSize:Q_({size:r,sizes:e.fontSizes}),fontWeight:500,color:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}}));var KG=Object.defineProperty,ZG=Object.getOwnPropertySymbols,JG=Object.prototype.hasOwnProperty,$G=Object.prototype.propertyIsEnumerable,eW=(e,t,n)=>t in e?KG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const tW={labelElement:"label",size:"sm"},nW=(0,t.forwardRef)(((e,n)=>{const r=GT("InputLabel",tW,e),{labelElement:i,children:o,required:a,size:s,classNames:l,styles:c,unstyled:u,className:d,htmlFor:h,__staticSelector:f,variant:p,onMouseDown:m}=r,g=((e,t)=>{var n={};for(var r in e)JG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ZG)for(var r of ZG(e))t.indexOf(r)<0&&$G.call(e,r)&&(n[r]=e[r]);return n})(r,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector","variant","onMouseDown"]),{classes:v,cx:y}=qG(null,{name:["InputWrapper",f],classNames:l,styles:c,unstyled:u,variant:p,size:s});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))JG.call(t,n)&&eW(e,n,t[n]);if(ZG)for(var n of ZG(t))$G.call(t,n)&&eW(e,n,t[n]);return e})({component:i,ref:n,className:y(v.label,d),htmlFor:"label"===i?h:void 0,onMouseDown:e=>{null==m||m(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault()}},g),o,a&&t.createElement("span",{className:v.required,"aria-hidden":!0}," *"))}));nW.displayName="@mantine/core/InputLabel";const rW=_A(((e,t,n)=>{let{size:r}=n;return{error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:`calc(${Q_({size:r,sizes:e.fontSizes})} - ${Y_(2)})`,lineHeight:1.2,display:"block"}}}));var iW=Object.defineProperty,oW=Object.getOwnPropertySymbols,aW=Object.prototype.hasOwnProperty,sW=Object.prototype.propertyIsEnumerable,lW=(e,t,n)=>t in e?iW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const cW={size:"sm"},uW=(0,t.forwardRef)(((e,n)=>{const r=GT("InputError",cW,e),{children:i,className:o,classNames:a,styles:s,unstyled:l,size:c,__staticSelector:u,variant:d}=r,h=((e,t)=>{var n={};for(var r in e)aW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oW)for(var r of oW(e))t.indexOf(r)<0&&sW.call(e,r)&&(n[r]=e[r]);return n})(r,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:f,cx:p}=rW(null,{name:["InputWrapper",u],classNames:a,styles:s,unstyled:l,variant:d,size:c});return t.createElement(xP,((e,t)=>{for(var n in t||(t={}))aW.call(t,n)&&lW(e,n,t[n]);if(oW)for(var n of oW(t))sW.call(t,n)&&lW(e,n,t[n]);return e})({className:p(f.error,o),ref:n},h),i)}));uW.displayName="@mantine/core/InputError";const dW=_A(((e,t,n)=>{let{size:r}=n;return{description:{wordBreak:"break-word",color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6],fontSize:`calc(${Q_({size:r,sizes:e.fontSizes})} - ${Y_(2)})`,lineHeight:1.2,display:"block"}}}));var hW=Object.defineProperty,fW=Object.getOwnPropertySymbols,pW=Object.prototype.hasOwnProperty,mW=Object.prototype.propertyIsEnumerable,gW=(e,t,n)=>t in e?hW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const vW={size:"sm"},yW=(0,t.forwardRef)(((e,n)=>{const r=GT("InputDescription",vW,e),{children:i,className:o,classNames:a,styles:s,unstyled:l,size:c,__staticSelector:u,variant:d}=r,h=((e,t)=>{var n={};for(var r in e)pW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fW)for(var r of fW(e))t.indexOf(r)<0&&mW.call(e,r)&&(n[r]=e[r]);return n})(r,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:f,cx:p}=dW(null,{name:["InputWrapper",u],classNames:a,styles:s,unstyled:l,variant:d,size:c});return t.createElement(xP,((e,t)=>{for(var n in t||(t={}))pW.call(t,n)&&gW(e,n,t[n]);if(fW)for(var n of fW(t))mW.call(t,n)&&gW(e,n,t[n]);return e})({color:"dimmed",className:p(f.description,o),ref:n,unstyled:l},h),i)}));yW.displayName="@mantine/core/InputDescription";const bW=(0,t.createContext)({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),xW=bW.Provider;function wW(e,t){let{hasDescription:n,hasError:r}=t;const i=e.findIndex((e=>"input"===e)),o=e[i-1],a=e[i+1];return{offsetBottom:n&&"description"===a||r&&"error"===a,offsetTop:n&&"description"===o||r&&"error"===o}}var SW=Object.defineProperty,EW=Object.defineProperties,MW=Object.getOwnPropertyDescriptors,CW=Object.getOwnPropertySymbols,_W=Object.prototype.hasOwnProperty,TW=Object.prototype.propertyIsEnumerable,AW=(e,t,n)=>t in e?SW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PW=(e,t)=>{for(var n in t||(t={}))_W.call(t,n)&&AW(e,n,t[n]);if(CW)for(var n of CW(t))TW.call(t,n)&&AW(e,n,t[n]);return e},OW=(e,t)=>EW(e,MW(t));const DW=_A((e=>({root:OW(PW({},e.fn.fontStyles()),{lineHeight:e.lineHeight})})));var RW=Object.defineProperty,kW=Object.defineProperties,IW=Object.getOwnPropertyDescriptors,LW=Object.getOwnPropertySymbols,zW=Object.prototype.hasOwnProperty,FW=Object.prototype.propertyIsEnumerable,NW=(e,t,n)=>t in e?RW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BW=(e,t)=>{for(var n in t||(t={}))zW.call(t,n)&&NW(e,n,t[n]);if(LW)for(var n of LW(t))FW.call(t,n)&&NW(e,n,t[n]);return e},UW=(e,t)=>kW(e,IW(t));const jW={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},HW=(0,t.forwardRef)(((e,n)=>{const r=GT("InputWrapper",jW,e),{className:i,label:o,children:a,required:s,id:l,error:c,description:u,labelElement:d,labelProps:h,descriptionProps:f,errorProps:p,classNames:m,styles:g,size:v,inputContainer:y,__staticSelector:b,unstyled:x,inputWrapperOrder:w,withAsterisk:S,variant:E}=r,M=((e,t)=>{var n={};for(var r in e)zW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&LW)for(var r of LW(e))t.indexOf(r)<0&&FW.call(e,r)&&(n[r]=e[r]);return n})(r,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk","variant"]),{classes:C,cx:_}=DW(null,{classNames:m,styles:g,name:["InputWrapper",b],unstyled:x,variant:E,size:v}),T={classNames:m,styles:g,unstyled:x,size:v,variant:E,__staticSelector:b},A="boolean"===typeof S?S:s,P=l?`${l}-error`:null==p?void 0:p.id,O=l?`${l}-description`:null==f?void 0:f.id,D=`${!!c&&"boolean"!==typeof c?P:""} ${u?O:""}`,R=D.trim().length>0?D.trim():void 0,k=o&&t.createElement(nW,BW(BW({key:"label",labelElement:d,id:l?`${l}-label`:void 0,htmlFor:l,required:A},T),h),o),I=u&&t.createElement(yW,UW(BW(BW({key:"description"},f),T),{size:(null==f?void 0:f.size)||T.size,id:(null==f?void 0:f.id)||O}),u),L=t.createElement(t.Fragment,{key:"input"},y(a)),z="boolean"!==typeof c&&c&&t.createElement(uW,UW(BW(BW({},p),T),{size:(null==p?void 0:p.size)||T.size,key:"error",id:(null==p?void 0:p.id)||P}),c),F=w.map((e=>{switch(e){case"label":return k;case"input":return L;case"description":return I;case"error":return z;default:return null}}));return t.createElement(xW,{value:BW({describedBy:R},wW(w,{hasDescription:!!I,hasError:!!z}))},t.createElement(hP,BW({className:_(C.root,i),ref:n},M),F))}));HW.displayName="@mantine/core/InputWrapper";var VW=Object.defineProperty,GW=Object.getOwnPropertySymbols,WW=Object.prototype.hasOwnProperty,YW=Object.prototype.propertyIsEnumerable,XW=(e,t,n)=>t in e?VW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const QW={},qW=(0,t.forwardRef)(((e,n)=>{const r=GT("InputPlaceholder",QW,e),{sx:i}=r,o=((e,t)=>{var n={};for(var r in e)WW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&GW)for(var r of GW(e))t.indexOf(r)<0&&YW.call(e,r)&&(n[r]=e[r]);return n})(r,["sx"]);return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))WW.call(t,n)&&XW(e,n,t[n]);if(GW)for(var n of GW(t))YW.call(t,n)&&XW(e,n,t[n]);return e})({component:"span",sx:[e=>e.fn.placeholderStyles(),...uR(i)],ref:n},o))}));qW.displayName="@mantine/core/InputPlaceholder";var KW=Object.defineProperty,ZW=Object.defineProperties,JW=Object.getOwnPropertyDescriptors,$W=Object.getOwnPropertySymbols,eY=Object.prototype.hasOwnProperty,tY=Object.prototype.propertyIsEnumerable,nY=(e,t,n)=>t in e?KW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rY=(e,t)=>{for(var n in t||(t={}))eY.call(t,n)&&nY(e,n,t[n]);if($W)for(var n of $W(t))tY.call(t,n)&&nY(e,n,t[n]);return e},iY=(e,t)=>ZW(e,JW(t));const oY={xs:Y_(30),sm:Y_(36),md:Y_(42),lg:Y_(50),xl:Y_(60)},aY=["default","filled","unstyled"];function sY(e){let{theme:t,variant:n}=e;return aY.includes(n)?"default"===n?{border:`${Y_(1)} solid ${"dark"===t.colorScheme?t.colors.dark[4]:t.colors.gray[4]}`,backgroundColor:"dark"===t.colorScheme?t.colors.dark[6]:t.white,transition:"border-color 100ms ease","&:focus, &:focus-within":t.focusRingStyles.inputStyles(t)}:"filled"===n?{border:`${Y_(1)} solid transparent`,backgroundColor:"dark"===t.colorScheme?t.colors.dark[5]:t.colors.gray[1],"&:focus, &:focus-within":t.focusRingStyles.inputStyles(t)}:{borderWidth:0,color:"dark"===t.colorScheme?t.colors.dark[0]:t.black,backgroundColor:"transparent",minHeight:Y_(28),outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}:null}var lY=_A(((e,t,n)=>{let{multiline:r,radius:i,invalid:o,rightSectionWidth:a,withRightSection:s,iconWidth:l,offsetBottom:c,offsetTop:u,pointer:d}=t,{variant:h,size:f}=n;const p=e.fn.variant({variant:"filled",color:"red"}).background,m="default"===h||"filled"===h?{minHeight:Q_({size:f,sizes:oY}),paddingLeft:`calc(${Q_({size:f,sizes:oY})}  / 3)`,paddingRight:s?a||Q_({size:f,sizes:oY}):`calc(${Q_({size:f,sizes:oY})}  / 3)`,borderRadius:e.fn.radius(i)}:"unstyled"===h&&s?{paddingRight:a||Q_({size:f,sizes:oY})}:null;return{wrapper:{position:"relative",marginTop:u?`calc(${e.spacing.xs} / 2)`:void 0,marginBottom:c?`calc(${e.spacing.xs} / 2)`:void 0,"&:has(input:disabled)":{"& .mantine-Input-rightSection":{display:"none"}}},input:iY(rY(rY(iY(rY({},e.fn.fontStyles()),{height:r?"unstyled"===h?void 0:"auto":Q_({size:f,sizes:oY}),WebkitTapHighlightColor:"transparent",lineHeight:r?e.lineHeight:`calc(${Q_({size:f,sizes:oY})} - ${Y_(2)})`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:Q_({size:f,sizes:e.fontSizes}),width:"100%",color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:d?"pointer":void 0}),sY({theme:e,variant:h})),m),{"&:disabled, &[data-disabled]":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed",pointerEvents:"none","&::placeholder":{color:e.colors.dark[2]}},"&[data-invalid]":{color:p,borderColor:p,"&::placeholder":{opacity:1,color:p}},"&[data-with-icon]":{paddingLeft:"number"===typeof l?Y_(l):Q_({size:f,sizes:oY})},"&::placeholder":iY(rY({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:l?Y_(l):Q_({size:f,sizes:oY}),color:o?e.colors.red["dark"===e.colorScheme?6:7]:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:a||Q_({size:f,sizes:oY})}}}));const cY=lY;var uY=Object.defineProperty,dY=Object.defineProperties,hY=Object.getOwnPropertyDescriptors,fY=Object.getOwnPropertySymbols,pY=Object.prototype.hasOwnProperty,mY=Object.prototype.propertyIsEnumerable,gY=(e,t,n)=>t in e?uY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vY=(e,t)=>{for(var n in t||(t={}))pY.call(t,n)&&gY(e,n,t[n]);if(fY)for(var n of fY(t))mY.call(t,n)&&gY(e,n,t[n]);return e},yY=(e,t)=>dY(e,hY(t));const bY={size:"sm",variant:"default"},xY=(0,t.forwardRef)(((e,n)=>{const r=GT("Input",bY,e),{className:i,error:o,required:a,disabled:s,variant:l,icon:c,style:u,rightSectionWidth:d,iconWidth:h,rightSection:f,rightSectionProps:p,radius:m,size:g,wrapperProps:v,classNames:y,styles:b,__staticSelector:x,multiline:w,sx:S,unstyled:E,pointer:M}=r,C=((e,t)=>{var n={};for(var r in e)pY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fY)for(var r of fY(e))t.indexOf(r)<0&&mY.call(e,r)&&(n[r]=e[r]);return n})(r,["className","error","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:_,offsetTop:T,describedBy:A}=(0,t.useContext)(bW),{classes:P,cx:O}=cY({radius:m,multiline:w,invalid:!!o,rightSectionWidth:d?Y_(d):void 0,iconWidth:h,withRightSection:!!f,offsetBottom:_,offsetTop:T,pointer:M},{classNames:y,styles:b,name:["Input",x],unstyled:E,variant:l,size:g}),{systemStyles:D,rest:R}=YA(C);return t.createElement(hP,vY(vY({className:O(P.wrapper,i),sx:S,style:u},D),v),c&&t.createElement("div",{className:P.icon},c),t.createElement(hP,yY(vY({component:"input"},R),{ref:n,required:a,"aria-invalid":!!o,"aria-describedby":A,disabled:s,"data-disabled":s||void 0,"data-with-icon":!!c||void 0,"data-invalid":!!o||void 0,className:P.input})),f&&t.createElement("div",yY(vY({},p),{className:P.rightSection}),f))}));xY.displayName="@mantine/core/Input",xY.Wrapper=HW,xY.Label=nW,xY.Description=yW,xY.Error=uW,xY.Placeholder=qW;const wY=xY;var SY=Object.defineProperty,EY=Object.defineProperties,MY=Object.getOwnPropertyDescriptors,CY=Object.getOwnPropertySymbols,_Y=Object.prototype.hasOwnProperty,TY=Object.prototype.propertyIsEnumerable,AY=(e,t,n)=>t in e?SY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PY=(e,t)=>{for(var n in t||(t={}))_Y.call(t,n)&&AY(e,n,t[n]);if(CY)for(var n of CY(t))TY.call(t,n)&&AY(e,n,t[n]);return e};const OY={type:"text",size:"sm",__staticSelector:"TextInput"},DY=(0,t.forwardRef)(((e,n)=>{const r=QG("TextInput",OY,e),{inputProps:i,wrapperProps:o}=r,a=((e,t)=>{var n={};for(var r in e)_Y.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&CY)for(var r of CY(e))t.indexOf(r)<0&&TY.call(e,r)&&(n[r]=e[r]);return n})(r,["inputProps","wrapperProps"]);return t.createElement(wY.Wrapper,PY({},o),t.createElement(wY,((e,t)=>EY(e,MY(t)))(PY(PY({},i),a),{ref:n})))}));DY.displayName="@mantine/core/TextInput";const RY=_A(((e,t)=>{let{orientation:n,buttonBorderWidth:r}=t;return{root:{display:"flex",flexDirection:"vertical"===n?"column":"row","& [data-button]":{"&:first-of-type:not(:last-of-type)":{borderBottomRightRadius:0,["vertical"===n?"borderBottomLeftRadius":"borderTopRightRadius"]:0,["vertical"===n?"borderBottomWidth":"borderRightWidth"]:`calc(${Y_(r)} / 2)`},"&:last-of-type:not(:first-of-type)":{borderTopLeftRadius:0,["vertical"===n?"borderTopRightRadius":"borderBottomLeftRadius"]:0,["vertical"===n?"borderTopWidth":"borderLeftWidth"]:`calc(${Y_(r)} / 2)`},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,["vertical"===n?"borderTopWidth":"borderLeftWidth"]:`calc(${Y_(r)} / 2)`,["vertical"===n?"borderBottomWidth":"borderRightWidth"]:`calc(${Y_(r)} / 2)`},"& + [data-button]":{["vertical"===n?"marginTop":"marginLeft"]:`calc(${r} * -1)`,"@media (min-resolution: 192dpi)":{["vertical"===n?"marginTop":"marginLeft"]:0}}}}}}));var kY=Object.defineProperty,IY=Object.getOwnPropertySymbols,LY=Object.prototype.hasOwnProperty,zY=Object.prototype.propertyIsEnumerable,FY=(e,t,n)=>t in e?kY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const NY={orientation:"horizontal",buttonBorderWidth:1},BY=(0,t.forwardRef)(((e,n)=>{const r=GT("ButtonGroup",NY,e),{className:i,orientation:o,buttonBorderWidth:a,unstyled:s}=r,l=((e,t)=>{var n={};for(var r in e)LY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&IY)for(var r of IY(e))t.indexOf(r)<0&&zY.call(e,r)&&(n[r]=e[r]);return n})(r,["className","orientation","buttonBorderWidth","unstyled"]),{classes:c,cx:u}=RY({orientation:o,buttonBorderWidth:a},{name:"ButtonGroup",unstyled:s});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))LY.call(t,n)&&FY(e,n,t[n]);if(IY)for(var n of IY(t))zY.call(t,n)&&FY(e,n,t[n]);return e})({className:u(c.root,i),ref:n},l))}));BY.displayName="@mantine/core/ButtonGroup";var UY=Object.defineProperty,jY=Object.defineProperties,HY=Object.getOwnPropertyDescriptors,VY=Object.getOwnPropertySymbols,GY=Object.prototype.hasOwnProperty,WY=Object.prototype.propertyIsEnumerable,YY=(e,t,n)=>t in e?UY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XY=(e,t)=>{for(var n in t||(t={}))GY.call(t,n)&&YY(e,n,t[n]);if(VY)for(var n of VY(t))WY.call(t,n)&&YY(e,n,t[n]);return e},QY=(e,t)=>jY(e,HY(t));const qY=["filled","outline","light","white","default","subtle","gradient"],KY={xs:{height:oY.xs,paddingLeft:Y_(14),paddingRight:Y_(14)},sm:{height:oY.sm,paddingLeft:Y_(18),paddingRight:Y_(18)},md:{height:oY.md,paddingLeft:Y_(22),paddingRight:Y_(22)},lg:{height:oY.lg,paddingLeft:Y_(26),paddingRight:Y_(26)},xl:{height:oY.xl,paddingLeft:Y_(32),paddingRight:Y_(32)},"compact-xs":{height:Y_(22),paddingLeft:Y_(7),paddingRight:Y_(7)},"compact-sm":{height:Y_(26),paddingLeft:Y_(8),paddingRight:Y_(8)},"compact-md":{height:Y_(30),paddingLeft:Y_(10),paddingRight:Y_(10)},"compact-lg":{height:Y_(34),paddingLeft:Y_(12),paddingRight:Y_(12)},"compact-xl":{height:Y_(40),paddingLeft:Y_(14),paddingRight:Y_(14)}};function ZY(e){let{compact:t,size:n,withLeftIcon:r,withRightIcon:i}=e;if(t)return KY[`compact-${n}`];const o=KY[n];return o?QY(XY({},o),{paddingLeft:r?`calc(${o.paddingLeft}  / 1.5)`:o.paddingLeft,paddingRight:i?`calc(${o.paddingRight}  / 1.5)`:o.paddingRight}):{}}const JY=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function $Y(e){let{variant:t,theme:n,color:r,gradient:i}=e;if(!qY.includes(t))return null;const o=n.fn.variant({color:r,variant:t,gradient:i});return"gradient"===t?XY({border:0,backgroundImage:o.background,color:o.color},n.fn.hover({backgroundSize:"200%"})):XY({border:`${Y_(1)} solid ${o.border}`,backgroundColor:o.background,color:o.color},n.fn.hover({backgroundColor:o.hover}))}var eX=_A(((e,t,n)=>{let{radius:r,fullWidth:i,compact:o,withLeftIcon:a,withRightIcon:s,color:l,gradient:c}=t,{variant:u,size:d}=n;return{root:QY(XY(QY(XY(XY(XY(XY({},ZY({compact:o,size:d,withLeftIcon:a,withRightIcon:s})),e.fn.fontStyles()),e.fn.focusStyles()),JY(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:Q_({size:d,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),$Y({variant:u,theme:e,color:l,gradient:c})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],color:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":QY(XY({content:'""'},e.fn.cover(Y_(-1))),{backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"})}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:e.spacing.xs},rightIcon:{marginLeft:e.spacing.xs},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}}));const tX=eX;var nX=Object.defineProperty,rX=Object.getOwnPropertySymbols,iX=Object.prototype.hasOwnProperty,oX=Object.prototype.propertyIsEnumerable,aX=(e,t,n)=>t in e?nX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var sX=Object.defineProperty,lX=Object.getOwnPropertySymbols,cX=Object.prototype.hasOwnProperty,uX=Object.prototype.propertyIsEnumerable,dX=(e,t,n)=>t in e?sX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var hX=Object.defineProperty,fX=Object.getOwnPropertySymbols,pX=Object.prototype.hasOwnProperty,mX=Object.prototype.propertyIsEnumerable,gX=(e,t,n)=>t in e?hX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vX=Object.defineProperty,yX=Object.getOwnPropertySymbols,bX=Object.prototype.hasOwnProperty,xX=Object.prototype.propertyIsEnumerable,wX=(e,t,n)=>t in e?vX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const SX={bars:function(e){var n=e,{size:r,color:i}=n,o=((e,t)=>{var n={};for(var r in e)iX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&rX)for(var r of rX(e))t.indexOf(r)<0&&oX.call(e,r)&&(n[r]=e[r]);return n})(n,["size","color"]);return t.createElement("svg",((e,t)=>{for(var n in t||(t={}))iX.call(t,n)&&aX(e,n,t[n]);if(rX)for(var n of rX(t))oX.call(t,n)&&aX(e,n,t[n]);return e})({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:i,width:r},o),t.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},t.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),t.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},t.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),t.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},t.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),t.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},t.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),t.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},t.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),t.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))},oval:function(e){var n=e,{size:r,color:i}=n,o=((e,t)=>{var n={};for(var r in e)cX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&lX)for(var r of lX(e))t.indexOf(r)<0&&uX.call(e,r)&&(n[r]=e[r]);return n})(n,["size","color"]);return t.createElement("svg",((e,t)=>{for(var n in t||(t={}))cX.call(t,n)&&dX(e,n,t[n]);if(lX)for(var n of lX(t))uX.call(t,n)&&dX(e,n,t[n]);return e})({width:r,height:r,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:i},o),t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},t.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),t.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},t.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))},dots:function(e){var n=e,{size:r,color:i}=n,o=((e,t)=>{var n={};for(var r in e)pX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fX)for(var r of fX(e))t.indexOf(r)<0&&mX.call(e,r)&&(n[r]=e[r]);return n})(n,["size","color"]);return t.createElement("svg",((e,t)=>{for(var n in t||(t={}))pX.call(t,n)&&gX(e,n,t[n]);if(fX)for(var n of fX(t))mX.call(t,n)&&gX(e,n,t[n]);return e})({width:r,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:i},o),t.createElement("circle",{cx:"15",cy:"15",r:"15"},t.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),t.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),t.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},t.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),t.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),t.createElement("circle",{cx:"105",cy:"15",r:"15"},t.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),t.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}},EX={xs:Y_(18),sm:Y_(22),md:Y_(36),lg:Y_(44),xl:Y_(58)},MX={size:"md"};function CX(e){const n=GT("Loader",MX,e),{size:r,color:i,variant:o}=n,a=((e,t)=>{var n={};for(var r in e)bX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yX)for(var r of yX(e))t.indexOf(r)<0&&xX.call(e,r)&&(n[r]=e[r]);return n})(n,["size","color","variant"]),s=HT(),l=o in SX?o:s.loader;return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))bX.call(t,n)&&wX(e,n,t[n]);if(yX)for(var n of yX(t))xX.call(t,n)&&wX(e,n,t[n]);return e})({role:"presentation",component:SX[l]||SX.bars,size:Q_({size:r,sizes:EX}),color:s.fn.variant({variant:"filled",primaryFallback:!1,color:i||s.primaryColor}).background},a))}CX.displayName="@mantine/core/Loader";var _X=Object.defineProperty,TX=Object.getOwnPropertySymbols,AX=Object.prototype.hasOwnProperty,PX=Object.prototype.propertyIsEnumerable,OX=(e,t,n)=>t in e?_X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DX=(e,t)=>{for(var n in t||(t={}))AX.call(t,n)&&OX(e,n,t[n]);if(TX)for(var n of TX(t))PX.call(t,n)&&OX(e,n,t[n]);return e};const RX={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},kX=(0,t.forwardRef)(((e,n)=>{const r=GT("Button",RX,e),{className:i,size:o,color:a,type:s,disabled:l,children:c,leftIcon:u,rightIcon:d,fullWidth:h,variant:f,radius:p,uppercase:m,compact:g,loading:v,loaderPosition:y,loaderProps:b,gradient:x,classNames:w,styles:S,unstyled:E}=r,M=((e,t)=>{var n={};for(var r in e)AX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&TX)for(var r of TX(e))t.indexOf(r)<0&&PX.call(e,r)&&(n[r]=e[r]);return n})(r,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:C,cx:_,theme:T}=tX({radius:p,color:a,fullWidth:h,compact:g,gradient:x,withLeftIcon:!!u,withRightIcon:!!d},{name:"Button",unstyled:E,classNames:w,styles:S,variant:f,size:o}),A=T.fn.variant({color:a,variant:f}),P=t.createElement(CX,DX({color:A.color,size:`calc(${Q_({size:o,sizes:KY}).height} / 2)`},b));return t.createElement(eI,DX({className:_(C.root,i),type:s,disabled:l,"data-button":!0,"data-disabled":l||void 0,"data-loading":v||void 0,ref:n,unstyled:E},M),t.createElement("div",{className:C.inner},(u||v&&"left"===y)&&t.createElement("span",{className:_(C.icon,C.leftIcon)},v&&"left"===y?P:u),v&&"center"===y&&t.createElement("span",{className:C.centerLoader},P),t.createElement("span",{className:C.label,style:{textTransform:m?"uppercase":void 0}},c),(d||v&&"right"===y)&&t.createElement("span",{className:_(C.icon,C.rightIcon)},v&&"right"===y?P:d)))}));kX.displayName="@mantine/core/Button",kX.Group=BY;const IX=kX,LX=(0,t.createContext)(null),zX=LX.Provider;var FX=Object.defineProperty,NX=Object.getOwnPropertySymbols,BX=Object.prototype.hasOwnProperty,UX=Object.prototype.propertyIsEnumerable,jX=(e,t,n)=>t in e?FX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HX=(e,t)=>{for(var n in t||(t={}))BX.call(t,n)&&jX(e,n,t[n]);if(NX)for(var n of NX(t))UX.call(t,n)&&jX(e,n,t[n]);return e};const VX={size:"sm"},GX=(0,t.forwardRef)(((e,n)=>{const r=GT("SwitchGroup",VX,e),{children:i,value:o,defaultValue:a,onChange:s,size:l,wrapperProps:c}=r,u=((e,t)=>{var n={};for(var r in e)BX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&NX)for(var r of NX(e))t.indexOf(r)<0&&UX.call(e,r)&&(n[r]=e[r]);return n})(r,["children","value","defaultValue","onChange","size","wrapperProps"]),[d,h]=mI({value:o,defaultValue:a,finalValue:[],onChange:s});return t.createElement(zX,{value:{value:d,onChange:e=>{const t=e.currentTarget.value;h(d.includes(t)?d.filter((e=>e!==t)):[...d,t])},size:l}},t.createElement(wY.Wrapper,HX(HX({labelElement:"div",size:l,__staticSelector:"SwitchGroup",ref:n},c),u),i))}));GX.displayName="@mantine/core/SwitchGroup";var WX=Object.defineProperty,YX=Object.defineProperties,XX=Object.getOwnPropertyDescriptors,QX=Object.getOwnPropertySymbols,qX=Object.prototype.hasOwnProperty,KX=Object.prototype.propertyIsEnumerable,ZX=(e,t,n)=>t in e?WX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JX=(e,t)=>{for(var n in t||(t={}))qX.call(t,n)&&ZX(e,n,t[n]);if(QX)for(var n of QX(t))KX.call(t,n)&&ZX(e,n,t[n]);return e},$X=(e,t)=>YX(e,XX(t));const eQ={xs:Y_(16),sm:Y_(20),md:Y_(24),lg:Y_(30),xl:Y_(36)},tQ={xs:Y_(32),sm:Y_(38),md:Y_(46),lg:Y_(56),xl:Y_(72)},nQ={xs:Y_(12),sm:Y_(14),md:Y_(18),lg:Y_(22),xl:Y_(28)},rQ={xs:Y_(5),sm:Y_(6),md:Y_(7),lg:Y_(9),xl:Y_(11)},iQ={xs:Y_(4),sm:Y_(5),md:Y_(6),lg:Y_(8),xl:Y_(10)};var oQ=_A(((e,t,n)=>{let{radius:r,color:i,labelPosition:o,error:a}=t,{size:s}=n;const l=Q_({size:s,sizes:nQ}),c=Q_({size:r,sizes:e.radius}),u=e.fn.variant({variant:"filled",color:i}),d=Q_({size:s,sizes:tQ}),h=Y_("xs"===s?1:2),f=e.fn.variant({variant:"filled",color:"red"}).background;return{root:{position:"relative"},input:{height:0,width:0,overflow:"hidden",whiteSpace:"nowrap",padding:0,WebkitClipPath:"inset(50%)",clipPath:"inset(50%)",position:"absolute"},track:$X(JX({},e.fn.focusStyles("input:focus + &")),{cursor:e.cursorType,overflow:"hidden",WebkitTapHighlightColor:"transparent",position:"relative",borderRadius:c,backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[2],border:`${Y_(1)} solid ${a?f:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}`,height:Q_({size:s,sizes:eQ}),minWidth:d,margin:0,transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:"150ms",boxSizing:"border-box",appearance:"none",display:"flex",alignItems:"center",fontSize:Q_({size:s,sizes:rQ}),fontWeight:600,order:"left"===o?2:1,userSelect:"none",zIndex:0,lineHeight:0,color:"dark"===e.colorScheme?e.colors.dark[1]:e.colors.gray[6],transition:`color 150ms ${e.transitionTimingFunction}`,"input:checked + &":{backgroundColor:u.background,borderColor:u.background,color:e.white,transition:`color 150ms ${e.transitionTimingFunction}`},"input:disabled + &":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],borderColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],cursor:"not-allowed",pointerEvents:"none"}}),thumb:{position:"absolute",zIndex:1,borderRadius:c,boxSizing:"border-box",display:"flex",backgroundColor:e.white,height:l,width:l,border:`${Y_(1)} solid ${"dark"===e.colorScheme?e.white:e.colors.gray[3]}`,left:h,transition:`left 150ms ${e.transitionTimingFunction}`,"& > *":{margin:"auto"},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":""},"input:checked + * > &":{left:`calc(100% - ${l} - ${h})`,borderColor:e.white},"input:disabled + * > &":{borderColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],backgroundColor:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[0]}},trackLabel:{height:"100%",display:"grid",placeContent:"center",minWidth:`calc(${d} - ${l})`,paddingInline:Q_({size:s,sizes:iQ}),margin:`0 0 0 calc(${l} + ${h})`,transition:`margin 150ms ${e.transitionTimingFunction}`,"input:checked + * > &":{margin:`0 calc(${l} + ${h}) 0 0`}}}}));const aQ=oQ;var sQ=Object.defineProperty,lQ=Object.defineProperties,cQ=Object.getOwnPropertyDescriptors,uQ=Object.getOwnPropertySymbols,dQ=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,fQ=(e,t,n)=>t in e?sQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pQ=(e,t)=>{for(var n in t||(t={}))dQ.call(t,n)&&fQ(e,n,t[n]);if(uQ)for(var n of uQ(t))hQ.call(t,n)&&fQ(e,n,t[n]);return e},mQ=(e,t)=>lQ(e,cQ(t));const gQ={xs:Y_(16),sm:Y_(20),md:Y_(24),lg:Y_(30),xl:Y_(36)};const vQ=_A(((e,t,n)=>{let{labelPosition:r}=t,{size:i}=n;return{root:{},body:{display:"flex","&:has(input:disabled) label":{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]}},labelWrapper:mQ(pQ({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:i in gQ?Q_({size:i,sizes:e.fontSizes}):void 0,lineHeight:i in gQ?Q_({size:i,sizes:gQ}):void 0,color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,cursor:e.cursorType,order:"left"===r?1:2}),description:{marginTop:`calc(${e.spacing.xs} / 2)`,["left"===r?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs} / 2)`,["left"===r?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,["left"===r?"paddingRight":"paddingLeft"]:e.spacing.sm,"&:disabled, &[data-disabled]":{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]}}}}));var yQ=Object.defineProperty,bQ=Object.getOwnPropertySymbols,xQ=Object.prototype.hasOwnProperty,wQ=Object.prototype.propertyIsEnumerable,SQ=(e,t,n)=>t in e?yQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const EQ=(0,t.forwardRef)(((e,n)=>{var r=e,{__staticSelector:i,className:o,classNames:a,styles:s,unstyled:l,children:c,label:u,description:d,id:h,disabled:f,error:p,size:m,labelPosition:g,variant:v}=r,y=((e,t)=>{var n={};for(var r in e)xQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&bQ)for(var r of bQ(e))t.indexOf(r)<0&&wQ.call(e,r)&&(n[r]=e[r]);return n})(r,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition","variant"]);const{classes:b,cx:x}=vQ({labelPosition:g},{name:i,styles:s,classNames:a,unstyled:l,variant:v,size:m});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))xQ.call(t,n)&&SQ(e,n,t[n]);if(bQ)for(var n of bQ(t))wQ.call(t,n)&&SQ(e,n,t[n]);return e})({className:x(b.root,o),ref:n},y),t.createElement("div",{className:x(b.body)},c,t.createElement("div",{className:b.labelWrapper},u&&t.createElement("label",{className:b.label,"data-disabled":f||void 0,htmlFor:h},u),d&&t.createElement(wY.Description,{className:b.description},d),p&&"boolean"!==p&&t.createElement(wY.Error,{className:b.error},p))))}));EQ.displayName="@mantine/core/InlineInput";var MQ=Object.defineProperty,CQ=Object.defineProperties,_Q=Object.getOwnPropertyDescriptors,TQ=Object.getOwnPropertySymbols,AQ=Object.prototype.hasOwnProperty,PQ=Object.prototype.propertyIsEnumerable,OQ=(e,t,n)=>t in e?MQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DQ=(e,t)=>{for(var n in t||(t={}))AQ.call(t,n)&&OQ(e,n,t[n]);if(TQ)for(var n of TQ(t))PQ.call(t,n)&&OQ(e,n,t[n]);return e};const RQ={offLabel:"",onLabel:"",size:"sm",radius:"xl",error:!1},kQ=(0,t.forwardRef)(((e,n)=>{var r;const i=GT("Switch",RQ,e),{className:o,color:a,label:s,offLabel:l,onLabel:c,id:u,style:d,size:h,radius:f,wrapperProps:p,children:m,unstyled:g,styles:v,classNames:y,thumbIcon:b,sx:x,checked:w,defaultChecked:S,onChange:E,labelPosition:M,description:C,error:_,disabled:T,variant:A}=i,P=((e,t)=>{var n={};for(var r in e)AQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&TQ)for(var r of TQ(e))t.indexOf(r)<0&&PQ.call(e,r)&&(n[r]=e[r]);return n})(i,["className","color","label","offLabel","onLabel","id","style","size","radius","wrapperProps","children","unstyled","styles","classNames","thumbIcon","sx","checked","defaultChecked","onChange","labelPosition","description","error","disabled","variant"]),O=(0,t.useContext)(LX),D=(null==O?void 0:O.size)||h,{classes:R,cx:k}=aQ({color:a,radius:f,labelPosition:M,error:!!_},{name:"Switch",classNames:y,styles:v,unstyled:g,size:D,variant:A}),{systemStyles:I,rest:L}=YA(P),z=pI(u),F=O?{checked:O.value.includes(L.value),onChange:O.onChange}:{},[N,B]=mI({value:null!=(r=F.checked)?r:w,defaultValue:S,finalValue:!1});return t.createElement(EQ,DQ(DQ({className:k(o,R.root),sx:x,style:d,id:z,size:(null==O?void 0:O.size)||h,labelPosition:M,label:s,description:C,error:_,disabled:T,__staticSelector:"Switch",classNames:y,styles:v,unstyled:g,"data-checked":F.checked||void 0,variant:A},I),p),t.createElement("input",((e,t)=>CQ(e,_Q(t)))(DQ({},L),{disabled:T,checked:N,onChange:e=>{O?F.onChange(e):null==E||E(e),B(e.currentTarget.checked)},id:z,ref:n,type:"checkbox",className:R.input})),t.createElement("label",{htmlFor:z,className:R.track},t.createElement("div",{className:R.thumb},b),t.createElement("div",{className:R.trackLabel},N?c:l)))}));kQ.displayName="@mantine/core/Switch",kQ.Group=GX;var IQ=NR("photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]);function LQ(){const e=t.useContext(Qce),[n,r]=t.useState(!1);function i(e){"Enter"==e.key&&(e.currentTarget.blur(),e.currentTarget.focus())}return(0,Pg.jsxs)(Pg.Fragment,{children:[n?(0,Pg.jsx)(DG,{className:"stats-panel"}):null,(0,Pg.jsxs)(BG,{spacing:"xs",children:[(0,Pg.jsx)(DY,{label:"Label",defaultValue:e.useGui((e=>e.label)),onBlur:t=>e.useGui.setState({label:t.currentTarget.value}),onKeyDown:i}),(0,Pg.jsx)(DY,{label:"Server",defaultValue:e.useGui((e=>e.server)),onBlur:t=>e.useGui.setState({server:t.currentTarget.value}),onKeyDown:i}),(0,Pg.jsx)(IX,{onClick:()=>{if(!oD(e.sceneRef.current.background))return void alert("No background to download!");const t=e.sceneRef.current.background.image.src;console.log(t);const n=document.createElement("a");n.download="background",n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},fullWidth:!0,disabled:!e.useGui((e=>e.backgroundAvailable)),leftIcon:(0,Pg.jsx)(IQ,{size:"1rem"}),children:"Download Background"}),(0,Pg.jsx)(kQ,{label:"WebGL Statistics",onChange:e=>{r(e.currentTarget.checked)}})]})]})}var zQ=Object.defineProperty,FQ=Object.defineProperties,NQ=Object.getOwnPropertyDescriptors,BQ=Object.getOwnPropertySymbols,UQ=Object.prototype.hasOwnProperty,jQ=Object.prototype.propertyIsEnumerable,HQ=(e,t,n)=>t in e?zQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VQ=(e,t)=>{for(var n in t||(t={}))UQ.call(t,n)&&HQ(e,n,t[n]);if(BQ)for(var n of BQ(t))jQ.call(t,n)&&HQ(e,n,t[n]);return e},GQ=(e,t)=>FQ(e,NQ(t));const WQ=["subtle","filled","outline","light","default","transparent","gradient"],YQ={xs:Y_(18),sm:Y_(22),md:Y_(28),lg:Y_(34),xl:Y_(44)};function XQ(e){let{variant:t,theme:n,color:r,gradient:i}=e;const o=n.fn.variant({color:r,variant:t,gradient:i});return"gradient"===t?{border:0,backgroundImage:o.background,color:o.color,"&:hover":n.fn.hover({backgroundSize:"200%"})}:WQ.includes(t)?VQ({border:`${Y_(1)} solid ${o.border}`,backgroundColor:o.background,color:o.color},n.fn.hover({backgroundColor:o.hover})):null}var QQ=_A(((e,t,n)=>{let{radius:r,color:i,gradient:o}=t,{variant:a,size:s}=n;return{root:GQ(VQ({position:"relative",borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",height:Q_({size:s,sizes:YQ}),minHeight:Q_({size:s,sizes:YQ}),width:Q_({size:s,sizes:YQ}),minWidth:Q_({size:s,sizes:YQ})},XQ({variant:a,theme:e,color:i,gradient:o})),{"&:active":e.activeStyles,"& [data-action-icon-loader]":{maxWidth:"70%"},"&:disabled, &[data-disabled]":{color:e.colors.gray["dark"===e.colorScheme?6:4],cursor:"not-allowed",backgroundColor:"transparent"===a?void 0:e.fn.themeColor("gray","dark"===e.colorScheme?8:1),borderColor:"transparent"===a?void 0:e.fn.themeColor("gray","dark"===e.colorScheme?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":GQ(VQ({content:'""'},e.fn.cover(Y_(-1))),{backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"})}})}}));const qQ=QQ;var KQ=Object.defineProperty,ZQ=Object.getOwnPropertySymbols,JQ=Object.prototype.hasOwnProperty,$Q=Object.prototype.propertyIsEnumerable,eq=(e,t,n)=>t in e?KQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tq=(e,t)=>{for(var n in t||(t={}))JQ.call(t,n)&&eq(e,n,t[n]);if(ZQ)for(var n of ZQ(t))$Q.call(t,n)&&eq(e,n,t[n]);return e};const nq={color:"gray",size:"md",variant:"subtle"},rq=(0,t.forwardRef)(((e,n)=>{const r=GT("ActionIcon",nq,e),{className:i,color:o,children:a,radius:s,size:l,variant:c,gradient:u,disabled:d,loaderProps:h,loading:f,unstyled:p,__staticSelector:m}=r,g=((e,t)=>{var n={};for(var r in e)JQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ZQ)for(var r of ZQ(e))t.indexOf(r)<0&&$Q.call(e,r)&&(n[r]=e[r]);return n})(r,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled","__staticSelector"]),{classes:v,cx:y,theme:b}=qQ({radius:s,color:o,gradient:u},{name:["ActionIcon",m],unstyled:p,size:l,variant:c}),x=t.createElement(CX,tq({color:b.fn.variant({color:o,variant:c}).color,size:"100%","data-action-icon-loader":!0},h));return t.createElement(eI,tq({className:y(v.root,i),ref:n,disabled:d,"data-disabled":d||void 0,"data-loading":f||void 0,unstyled:p},g),f?x:a)}));rq.displayName="@mantine/core/ActionIcon";const iq=rq,[oq,aq]=GR("Modal component was not found in tree"),sq={xs:Y_(320),sm:Y_(380),md:Y_(440),lg:Y_(620),xl:Y_(780)};const lq=_A(((e,t,n)=>{let{yOffset:r,xOffset:i,centered:o,fullScreen:a}=t,{size:s}=n;return{content:{flex:a?"0 0 100%":`0 0 ${Q_({size:s,sizes:sq})}`,maxWidth:"100%",maxHeight:a?void 0:`calc(100vh - (${Y_(r)} * 2))`,height:a?"100vh":void 0,borderRadius:a?0:void 0,overflowY:"auto"},inner:{paddingTop:a?0:r,paddingBottom:a?0:r,paddingLeft:a?0:i,paddingRight:a?0:i,display:"flex",justifyContent:"center",alignItems:o?"center":"flex-start"}}}));var cq=function(){return cq=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cq.apply(this,arguments)};function uq(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function dq(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var hq="right-scroll-bar-position",fq="width-before-scroll-bar";function pq(e,n){return function(e,n){var r=(0,t.useState)((function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=n,r.facade}(n||null,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}var mq=function(){return mq=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mq.apply(this,arguments)};function gq(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;function vq(e){return e}function yq(e,t){void 0===t&&(t=vq);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return i}var bq=function(e){void 0===e&&(e={});var t=yq(null);return t.options=mq({async:!0,ssr:!1},e),t}(),xq=function(){},wq=t.forwardRef((function(e,n){var r=t.useRef(null),i=t.useState({onScrollCapture:xq,onWheelCapture:xq,onTouchMoveCapture:xq}),o=i[0],a=i[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=void 0===v?"div":v,b=e.gapMode,x=uq(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,S=pq([r,n]),E=cq(cq({},x),o);return t.createElement(t.Fragment,null,d&&t.createElement(w,{sideCar:bq,removeScrollBar:u,shards:h,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:b}),s?t.cloneElement(t.Children.only(l),cq(cq({},E),{ref:S})):t.createElement(y,cq({},E,{className:c,ref:S}),l))}));wq.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},wq.classNames={fullWidth:fq,zeroRight:hq};var Sq,Eq=function(e){var n=e.sideCar,r=gq(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return t.createElement(i,mq({},r))};Eq.isSideCarExport=!0;function Mq(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Sq||n.nc;return t&&e.setAttribute("nonce",t),e}var Cq=function(){var e=0,t=null;return{add:function(n){var r;0==e&&(t=Mq())&&(!function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_q=function(){var e=function(){var e=Cq();return function(n,r){t.useEffect((function(){return e.add(n),function(){e.remove()}}),[n&&r])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},Tq={left:0,top:0,right:0,gap:0},Aq=function(e){return parseInt(e||"",10)||0},Pq=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Tq;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[Aq(n),Aq(r),Aq(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Oq=_q(),Dq=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(hq," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(fq," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(hq," .").concat(hq," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(fq," .").concat(fq," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Rq=function(e){var n=e.noRelative,r=e.noImportant,i=e.gapMode,o=void 0===i?"margin":i,a=t.useMemo((function(){return Pq(o)}),[o]);return t.createElement(Oq,{styles:Dq(a,!n,o,r?"":"!important")})},kq=!1;if("undefined"!==typeof window)try{var Iq=Object.defineProperty({},"passive",{get:function(){return kq=!0,!0}});window.addEventListener("test",Iq,Iq),window.removeEventListener("test",Iq,Iq)}catch(eue){kq=!1}var Lq=!!kq&&{passive:!1},zq=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Fq=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Nq(e,r)){var i=Bq(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Nq=function(e,t){return"v"===e?function(e){return zq(e,"overflowY")}(t):function(e){return zq(e,"overflowX")}(t)},Bq=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Uq=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jq=function(e){return[e.deltaX,e.deltaY]},Hq=function(e){return e&&"current"in e?e.current:e},Vq=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Gq=0,Wq=[];const Yq=(Xq=function(e){var n=t.useRef([]),r=t.useRef([0,0]),i=t.useRef(),o=t.useState(Gq++)[0],a=t.useState(_q)[0],s=t.useRef(e);t.useEffect((function(){s.current=e}),[e]),t.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=dq([e.lockRef.current],(e.shards||[]).map(Hq),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(o))})),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(o))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=t.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var n,o=Uq(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-o[0],c="deltaY"in e?e.deltaY:a[1]-o[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=Fq(d,u);if(!h)return!0;if(h?n=d:(n="v"===d?"h":"v",h=Fq(d,u)),!h)return!1;if(!i.current&&"changedTouches"in e&&(l||c)&&(i.current=n),!n)return!0;var f=i.current||n;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),c=!1,u=a>0,d=0,h=0;do{var f=Bq(e,s),p=f[0],m=f[1]-f[2]-o*p;(p||m)&&Nq(e,s)&&(d+=m,h+=p),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(i&&0===d||!i&&a>d)||!u&&(i&&0===h||!i&&-a>h))&&(c=!0),c}(f,t,e,"h"===f?l:c,!0)}),[]),c=t.useCallback((function(e){var t=e;if(Wq.length&&Wq[Wq.length-1]===a){var r="deltaY"in t?jq(t):Uq(t),i=n.current.filter((function(e){return e.name===t.type&&e.target===t.target&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(i&&i.should)t.cancelable&&t.preventDefault();else if(!i){var o=(s.current.shards||[]).map(Hq).filter(Boolean).filter((function(e){return e.contains(t.target)}));(o.length>0?l(t,o[0]):!s.current.noIsolation)&&t.cancelable&&t.preventDefault()}}}),[]),u=t.useCallback((function(e,t,r,i){var o={name:e,delta:t,target:r,should:i};n.current.push(o),setTimeout((function(){n.current=n.current.filter((function(e){return e!==o}))}),1)}),[]),d=t.useCallback((function(e){r.current=Uq(e),i.current=void 0}),[]),h=t.useCallback((function(t){u(t.type,jq(t),t.target,l(t,e.lockRef.current))}),[]),f=t.useCallback((function(t){u(t.type,Uq(t),t.target,l(t,e.lockRef.current))}),[]);t.useEffect((function(){return Wq.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Lq),document.addEventListener("touchmove",c,Lq),document.addEventListener("touchstart",d,Lq),function(){Wq=Wq.filter((function(e){return e!==a})),document.removeEventListener("wheel",c,Lq),document.removeEventListener("touchmove",c,Lq),document.removeEventListener("touchstart",d,Lq)}}),[]);var p=e.removeScrollBar,m=e.inert;return t.createElement(t.Fragment,null,m?t.createElement(a,{styles:Vq(o)}):null,p?t.createElement(Rq,{gapMode:e.gapMode}):null)},bq.useMedium(Xq),Eq);var Xq,Qq=t.forwardRef((function(e,n){return t.createElement(wq,cq({},e,{ref:n,sideCar:Yq}))}));Qq.classNames=wq.classNames;const qq=Qq;function Kq(e,n,r){(0,t.useEffect)((()=>(window.addEventListener(e,n,r),()=>window.removeEventListener(e,n,r))),[e,n])}function Zq(e,n){const r=(0,t.useRef)(!1);(0,t.useEffect)((()=>()=>{r.current=!1}),[]),(0,t.useEffect)((()=>{if(r.current)return e();r.current=!0}),n)}function Jq(e){let{opened:n,shouldReturnFocus:r=!0}=e;const i=(0,t.useRef)(),o=()=>{var e;i.current&&"focus"in i.current&&"function"===typeof i.current.focus&&(null==(e=i.current)||e.focus({preventScroll:!0}))};return Zq((()=>{let e=-1;const t=t=>{"Tab"===t.key&&window.clearTimeout(e)};return document.addEventListener("keydown",t),n?i.current=document.activeElement:r&&(e=window.setTimeout(o,10)),()=>{window.clearTimeout(e),document.removeEventListener("keydown",t)}}),[n,r]),o}const $q={app:100,modal:200,popover:300,overlay:400,max:9999};function eK(e){return $q[e]}const[tK,nK]=GR("ModalBase component was not found in tree");const rK=_A((()=>({close:{marginLeft:"auto",marginRight:0}})));var iK=Object.defineProperty,oK=Object.getOwnPropertySymbols,aK=Object.prototype.hasOwnProperty,sK=Object.prototype.propertyIsEnumerable,lK=(e,t,n)=>t in e?iK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function cK(e){return t.createElement("svg",((e,t)=>{for(var n in t||(t={}))aK.call(t,n)&&lK(e,n,t[n]);if(oK)for(var n of oK(t))sK.call(t,n)&&lK(e,n,t[n]);return e})({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}cK.displayName="@mantine/core/CloseIcon";var uK=Object.defineProperty,dK=Object.getOwnPropertySymbols,hK=Object.prototype.hasOwnProperty,fK=Object.prototype.propertyIsEnumerable,pK=(e,t,n)=>t in e?uK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const mK={xs:Y_(12),sm:Y_(16),md:Y_(20),lg:Y_(28),xl:Y_(34)},gK={size:"sm"},vK=(0,t.forwardRef)(((e,n)=>{const r=GT("CloseButton",gK,e),{iconSize:i,size:o,children:a}=r,s=((e,t)=>{var n={};for(var r in e)hK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&dK)for(var r of dK(e))t.indexOf(r)<0&&fK.call(e,r)&&(n[r]=e[r]);return n})(r,["iconSize","size","children"]),l=Y_(i||mK[o]);return t.createElement(iq,((e,t)=>{for(var n in t||(t={}))hK.call(t,n)&&pK(e,n,t[n]);if(dK)for(var n of dK(t))fK.call(t,n)&&pK(e,n,t[n]);return e})({ref:n,__staticSelector:"CloseButton",size:o},s),a||t.createElement(cK,{width:l,height:l}))}));vK.displayName="@mantine/core/CloseButton";const yK=vK;var bK=Object.defineProperty,xK=Object.getOwnPropertySymbols,wK=Object.prototype.hasOwnProperty,SK=Object.prototype.propertyIsEnumerable,EK=(e,t,n)=>t in e?bK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const MK={size:"sm"},CK=(0,t.forwardRef)(((e,n)=>{const r=nK(),i=GT(`${r.__staticSelector}CloseButton`,MK,e),{className:o}=i,a=((e,t)=>{var n={};for(var r in e)wK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&xK)for(var r of xK(e))t.indexOf(r)<0&&SK.call(e,r)&&(n[r]=e[r]);return n})(i,["className"]),{classes:s,cx:l}=rK(null,r.stylesApi);return t.createElement(yK,((e,t)=>{for(var n in t||(t={}))wK.call(t,n)&&EK(e,n,t[n]);if(xK)for(var n of xK(t))SK.call(t,n)&&EK(e,n,t[n]);return e})({className:l(s.close,o),ref:n,onClick:r.onClose},a))}));const _K=_A((()=>({overlay:{}})));var TK=Object.defineProperty,AK=Object.defineProperties,PK=Object.getOwnPropertyDescriptors,OK=Object.getOwnPropertySymbols,DK=Object.prototype.hasOwnProperty,RK=Object.prototype.propertyIsEnumerable,kK=(e,t,n)=>t in e?TK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IK=(e,t)=>{for(var n in t||(t={}))DK.call(t,n)&&kK(e,n,t[n]);if(OK)for(var n of OK(t))RK.call(t,n)&&kK(e,n,t[n]);return e},LK=(e,t)=>AK(e,PK(t));const zK={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${Y_(10)})`},transitionProperty:"transform, opacity"},FK={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(-${Y_(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${Y_(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Y_(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Y_(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:LK(IK({},zK),{common:{transformOrigin:"center center"}}),"pop-bottom-left":LK(IK({},zK),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":LK(IK({},zK),{common:{transformOrigin:"bottom right"}}),"pop-top-left":LK(IK({},zK),{common:{transformOrigin:"top left"}}),"pop-top-right":LK(IK({},zK),{common:{transformOrigin:"top right"}})};var NK=Object.defineProperty,BK=Object.getOwnPropertySymbols,UK=Object.prototype.hasOwnProperty,jK=Object.prototype.propertyIsEnumerable,HK=(e,t,n)=>t in e?NK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VK=(e,t)=>{for(var n in t||(t={}))UK.call(t,n)&&HK(e,n,t[n]);if(BK)for(var n of BK(t))jK.call(t,n)&&HK(e,n,t[n]);return e};const GK={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function WK(e,n){let{getInitialValueInEffect:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{getInitialValueInEffect:!0};const[i,o]=(0,t.useState)(r?n:function(e,t){return"boolean"===typeof t?t:"undefined"!==typeof window&&"matchMedia"in window&&window.matchMedia(e).matches}(e,n)),a=(0,t.useRef)();return(0,t.useEffect)((()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),o(a.current.matches),function(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch(n){return e.addListener(t),()=>e.removeListener(t)}}(a.current,(e=>o(e.matches)))}),[e]),i}function YK(e,t){return WK("(prefers-reduced-motion: reduce)",e,t)}function XK(e){let{duration:n,exitDuration:r,timingFunction:i,mounted:o,onEnter:a,onExit:s,onEntered:l,onExited:c}=e;const u=HT(),d=YK(),h=!!u.respectReducedMotion&&d,[f,p]=(0,t.useState)(h?0:n),[m,g]=(0,t.useState)(o?"entered":"exited"),v=(0,t.useRef)(-1);return Zq((()=>{(e=>{const t=e?a:s,i=e?l:c;g(e?"pre-entering":"pre-exiting"),window.clearTimeout(v.current);const o=h?0:e?n:r;if(p(o),0===o)"function"===typeof t&&t(),"function"===typeof i&&i(),g(e?"entered":"exited");else{const n=window.setTimeout((()=>{"function"===typeof t&&t(),g(e?"entering":"exiting")}),10);v.current=window.setTimeout((()=>{window.clearTimeout(n),"function"===typeof i&&i(),g(e?"entered":"exited")}),o)}})(o)}),[o]),(0,t.useEffect)((()=>()=>window.clearTimeout(v.current)),[]),{transitionDuration:f,transitionStatus:m,transitionTimingFunction:i||u.transitionTimingFunction}}function QK(e){let{keepMounted:n,transition:r,duration:i=250,exitDuration:o=i,mounted:a,children:s,timingFunction:l,onExit:c,onEntered:u,onEnter:d,onExited:h}=e;const{transitionDuration:f,transitionStatus:p,transitionTimingFunction:m}=XK({mounted:a,exitDuration:o,duration:i,timingFunction:l,onExit:c,onEntered:u,onEnter:d,onExited:h});return 0===f?a?t.createElement(t.Fragment,null,s({})):n?s({display:"none"}):null:"exited"===p?n?s({display:"none"}):null:t.createElement(t.Fragment,null,s(function(e){let{transition:t,state:n,duration:r,timingFunction:i}=e;const o={transitionDuration:`${r}ms`,transitionTimingFunction:i};return"string"===typeof t?t in FK?VK(VK(VK({transitionProperty:FK[t].transitionProperty},o),FK[t].common),FK[t][GK[n]]):null:VK(VK(VK({transitionProperty:t.transitionProperty},o),t.common),t[GK[n]])}({transition:r,duration:f,state:p,timingFunction:m})))}QK.displayName="@mantine/core/Transition";var qK=Object.defineProperty,KK=Object.defineProperties,ZK=Object.getOwnPropertyDescriptors,JK=Object.getOwnPropertySymbols,$K=Object.prototype.hasOwnProperty,eZ=Object.prototype.propertyIsEnumerable,tZ=(e,t,n)=>t in e?qK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nZ=(e,t)=>{for(var n in t||(t={}))$K.call(t,n)&&tZ(e,n,t[n]);if(JK)for(var n of JK(t))eZ.call(t,n)&&tZ(e,n,t[n]);return e},rZ=(e,t)=>KK(e,ZK(t)),iZ=_A(((e,t)=>{let{color:n,opacity:r,blur:i,radius:o,gradient:a,fixed:s,zIndex:l}=t;return{root:rZ(nZ({},e.fn.cover(0)),{position:s?"fixed":"absolute",backgroundColor:a?void 0:e.fn.rgba(n,r),backgroundImage:a,backdropFilter:i?`blur(${Y_(i)})`:void 0,borderRadius:e.fn.radius(o),zIndex:l,"&[data-center]":{display:"flex",alignItems:"center",justifyContent:"center"}})}}));const oZ=iZ;var aZ=Object.defineProperty,sZ=Object.getOwnPropertySymbols,lZ=Object.prototype.hasOwnProperty,cZ=Object.prototype.propertyIsEnumerable,uZ=(e,t,n)=>t in e?aZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const dZ={opacity:.6,color:"#000",zIndex:eK("modal"),radius:0},hZ=(0,t.forwardRef)(((e,n)=>{const r=GT("Overlay",dZ,e),{variant:i,opacity:o,color:a,blur:s,gradient:l,zIndex:c,radius:u,children:d,className:h,classNames:f,styles:p,unstyled:m,center:g,fixed:v}=r,y=((e,t)=>{var n={};for(var r in e)lZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&sZ)for(var r of sZ(e))t.indexOf(r)<0&&cZ.call(e,r)&&(n[r]=e[r]);return n})(r,["variant","opacity","color","blur","gradient","zIndex","radius","children","className","classNames","styles","unstyled","center","fixed"]),{classes:b,cx:x}=oZ({color:a,opacity:o,blur:s,radius:u,gradient:l,fixed:v,zIndex:c},{name:"Overlay",classNames:f,styles:p,unstyled:m,variant:i});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))lZ.call(t,n)&&uZ(e,n,t[n]);if(sZ)for(var n of sZ(t))cZ.call(t,n)&&uZ(e,n,t[n]);return e})({ref:n,className:x(b.root,h),"data-center":g||void 0},y),d)}));hZ.displayName="@mantine/core/Overlay";const fZ=hZ;var pZ=Object.defineProperty,mZ=Object.defineProperties,gZ=Object.getOwnPropertyDescriptors,vZ=Object.getOwnPropertySymbols,yZ=Object.prototype.hasOwnProperty,bZ=Object.prototype.propertyIsEnumerable,xZ=(e,t,n)=>t in e?pZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wZ=(e,t)=>{for(var n in t||(t={}))yZ.call(t,n)&&xZ(e,n,t[n]);if(vZ)for(var n of vZ(t))bZ.call(t,n)&&xZ(e,n,t[n]);return e};const SZ={},EZ=(0,t.forwardRef)(((e,n)=>{const r=nK(),i=GT(`${r.__staticSelector}Overlay`,SZ,e),{onClick:o,transitionProps:a,style:s,className:l}=i,c=((e,t)=>{var n={};for(var r in e)yZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&vZ)for(var r of vZ(e))t.indexOf(r)<0&&bZ.call(e,r)&&(n[r]=e[r]);return n})(i,["onClick","transitionProps","style","className"]),{classes:u,cx:d}=_K(null,r.stylesApi),h=e=>{null==o||o(e),r.closeOnClickOutside&&r.onClose()};return t.createElement(QK,((e,t)=>mZ(e,gZ(t)))(wZ(wZ({mounted:r.opened},r.transitionProps),a),{transition:"fade"}),(e=>t.createElement(fZ,wZ({ref:n,onClick:h,fixed:!0,style:wZ(wZ({},s),e),className:d(u.overlay,l),zIndex:r.zIndex},c))))}));const MZ=_A(((e,t)=>{let{zIndex:n}=t;return{inner:{position:"fixed",width:"100%",top:0,bottom:0,maxHeight:"100%",zIndex:n,pointerEvents:"none"},content:{pointerEvents:"all"}}}));function CZ(e){return!Array.isArray(e)&&null!==e&&("object"===typeof e&&e.type!==t.Fragment)}const _Z=/input|select|textarea|button|object/,TZ="a, input, select, textarea, button, object, [tabindex]";function AZ(e){return"none"===e.style.display}function PZ(e){let t=e.getAttribute("tabindex");return null===t&&(t=void 0),parseInt(t,10)}function OZ(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(PZ(e));return(_Z.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&function(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||"hidden"===e.getAttribute("type"))return!1;let t=e;for(;t&&t!==document.body&&11!==t.nodeType;){if(AZ(t))return!1;t=t.parentNode}return!0}(e)}function DZ(e){const t=PZ(e);return(Number.isNaN(t)||t>=0)&&OZ(e)}function RZ(e,t){const n=(r=e,Array.from(r.querySelectorAll(TZ)).filter(DZ));var r;if(!n.length)return void t.preventDefault();const i=n[t.shiftKey?0:n.length-1],o=e.getRootNode();if(!(i===o.activeElement||e===o.activeElement))return;t.preventDefault();const a=n[t.shiftKey?n.length-1:0];a&&a.focus()}function kZ(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useRef)(),r=(0,t.useRef)(null),i=e=>{let t=e.querySelector("[data-autofocus]");if(!t){const n=Array.from(e.querySelectorAll(TZ));t=n.find(DZ)||n.find(OZ)||null,!t&&OZ(e)&&(t=e)}t&&t.focus({preventScroll:!0})},o=(0,t.useCallback)((t=>{e&&(null!==t?(r.current=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body > :not(script)";const n=fI(),r=Array.from(document.querySelectorAll(t)).map((t=>{var r;if((null==(r=null==t?void 0:t.shadowRoot)?void 0:r.contains(e))||t.contains(e))return;const i=t.getAttribute("aria-hidden"),o=t.getAttribute("data-hidden"),a=t.getAttribute("data-focus-id");return t.setAttribute("data-focus-id",n),null===i||"false"===i?t.setAttribute("aria-hidden","true"):o||a||t.setAttribute("data-hidden",i),{node:t,ariaHidden:o||null}}));return()=>{r.forEach((e=>{e&&n===e.node.getAttribute("data-focus-id")&&(null===e.ariaHidden?e.node.removeAttribute("aria-hidden"):e.node.setAttribute("aria-hidden",e.ariaHidden),e.node.removeAttribute("data-focus-id"),e.node.removeAttribute("data-hidden"))}))}}(t),n.current!==t&&(t?(setTimeout((()=>{t.getRootNode()&&i(t)})),n.current=t):n.current=null)):r.current&&(r.current(),r.current=null))}),[e]);return(0,t.useEffect)((()=>{if(!e)return;n.current&&setTimeout((()=>i(n.current)));const t=e=>{"Tab"===e.key&&n.current&&RZ(n.current,e)};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t),r.current&&r.current()}}),[e]),o}function IZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>function(e,t){"function"===typeof e?e(t):"object"===typeof e&&null!==e&&"current"in e&&(e.current=t)}(t,e)))}}function LZ(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useCallback)(IZ(...n),n)}function zZ(e){let{children:n,active:r=!0,refProp:i="ref"}=e;const o=LZ(kZ(r),null==n?void 0:n.ref);return CZ(n)?(0,t.cloneElement)(n,{[i]:o}):n}zZ.displayName="@mantine/core/FocusTrap";var FZ=_A(((e,t)=>{let{radius:n,shadow:r}=t;return{root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,backgroundColor:"dark"===e.colorScheme?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(n),boxShadow:e.shadows[r]||r||"none","&[data-with-border]":{border:`${Y_(1)} solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}`}}}}));const NZ=FZ;var BZ=Object.defineProperty,UZ=Object.getOwnPropertySymbols,jZ=Object.prototype.hasOwnProperty,HZ=Object.prototype.propertyIsEnumerable,VZ=(e,t,n)=>t in e?BZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const GZ={},WZ=(0,t.forwardRef)(((e,n)=>{const r=GT("Paper",GZ,e),{className:i,children:o,radius:a,withBorder:s,shadow:l,unstyled:c,variant:u}=r,d=((e,t)=>{var n={};for(var r in e)jZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&UZ)for(var r of UZ(e))t.indexOf(r)<0&&HZ.call(e,r)&&(n[r]=e[r]);return n})(r,["className","children","radius","withBorder","shadow","unstyled","variant"]),{classes:h,cx:f}=NZ({radius:a,shadow:l},{name:"Paper",unstyled:c,variant:u});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))jZ.call(t,n)&&VZ(e,n,t[n]);if(UZ)for(var n of UZ(t))HZ.call(t,n)&&VZ(e,n,t[n]);return e})({className:f(h.root,i),"data-with-border":s||void 0,ref:n},d),o)}));WZ.displayName="@mantine/core/Paper";const YZ=WZ;var XZ=Object.defineProperty,QZ=Object.getOwnPropertySymbols,qZ=Object.prototype.hasOwnProperty,KZ=Object.prototype.propertyIsEnumerable,ZZ=(e,t,n)=>t in e?XZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JZ=(e,t)=>{for(var n in t||(t={}))qZ.call(t,n)&&ZZ(e,n,t[n]);if(QZ)for(var n of QZ(t))KZ.call(t,n)&&ZZ(e,n,t[n]);return e};const $Z={},eJ=(0,t.forwardRef)(((e,n)=>{const r=nK(),i=GT(`${r.__staticSelector}Content`,$Z,e),{className:o,transitionProps:a,style:s,onKeyDown:l}=i,c=((e,t)=>{var n={};for(var r in e)qZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&QZ)for(var r of QZ(e))t.indexOf(r)<0&&KZ.call(e,r)&&(n[r]=e[r]);return n})(i,["className","transitionProps","style","onKeyDown"]),{classes:u,cx:d}=MZ({zIndex:r.zIndex+1},r.stylesApi),h=e=>{var t;"true"!==(null==(t=e.target)?void 0:t.getAttribute("data-mantine-stop-propagation"))&&"Escape"===e.key&&r.closeOnEscape&&r.onClose(),null==l||l(e)};return t.createElement(QK,JZ(JZ({mounted:r.opened,transition:"pop"},r.transitionProps),a),(e=>t.createElement("div",{className:d(u.inner)},t.createElement(zZ,{active:r.opened&&r.trapFocus},t.createElement(YZ,JZ({component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":r.bodyMounted?r.getBodyId():void 0,"aria-labelledby":r.titleMounted?r.getTitleId():void 0,onKeyDown:h,ref:n,className:d(u.content,o),style:JZ(JZ({},s),e),shadow:r.shadow},c),c.children)))))}));var tJ=_A(((e,t)=>{let{padding:n}=t;const r=Q_({size:n,sizes:e.spacing});return{header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:r,paddingRight:`calc(${r} - ${Y_(5)})`,position:"sticky",top:0,backgroundColor:"dark"===e.colorScheme?e.colors.dark[7]:e.white,zIndex:1e3}}}));const nJ=tJ;var rJ=Object.defineProperty,iJ=Object.getOwnPropertySymbols,oJ=Object.prototype.hasOwnProperty,aJ=Object.prototype.propertyIsEnumerable,sJ=(e,t,n)=>t in e?rJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const lJ={},cJ=(0,t.forwardRef)(((e,n)=>{const r=nK(),i=GT(`${r.__staticSelector}Header`,lJ,e),{className:o}=i,a=((e,t)=>{var n={};for(var r in e)oJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&iJ)for(var r of iJ(e))t.indexOf(r)<0&&aJ.call(e,r)&&(n[r]=e[r]);return n})(i,["className"]),{classes:s,cx:l}=nJ({padding:r.padding},r.stylesApi);return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))oJ.call(t,n)&&sJ(e,n,t[n]);if(iJ)for(var n of iJ(t))aJ.call(t,n)&&sJ(e,n,t[n]);return e})({ref:n,className:l(s.header,o)},a))}));const uJ=_A((e=>({title:{lineHeight:1,padding:0,margin:0,fontWeight:400,fontSize:e.fontSizes.md}})));var dJ=Object.defineProperty,hJ=Object.getOwnPropertySymbols,fJ=Object.prototype.hasOwnProperty,pJ=Object.prototype.propertyIsEnumerable,mJ=(e,t,n)=>t in e?dJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const gJ={},vJ=(0,t.forwardRef)(((e,n)=>{const r=nK(),i=GT(`${r.__staticSelector}Title`,gJ,e),{className:o}=i,a=((e,t)=>{var n={};for(var r in e)fJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&hJ)for(var r of hJ(e))t.indexOf(r)<0&&pJ.call(e,r)&&(n[r]=e[r]);return n})(i,["className"]),{classes:s,cx:l}=uJ(null,r.stylesApi);return(0,t.useEffect)((()=>(r.setTitleMounted(!0),()=>r.setTitleMounted(!1))),[]),t.createElement(hP,((e,t)=>{for(var n in t||(t={}))fJ.call(t,n)&&mJ(e,n,t[n]);if(hJ)for(var n of hJ(t))pJ.call(t,n)&&mJ(e,n,t[n]);return e})({component:"h2",id:r.getTitleId(),className:l(s.title,o),ref:n},a))}));var yJ=_A(((e,t)=>{let{padding:n}=t;return{body:{padding:Q_({size:n,sizes:e.spacing}),"&:not(:only-child)":{paddingTop:0}}}}));const bJ=yJ;var xJ=Object.defineProperty,wJ=Object.getOwnPropertySymbols,SJ=Object.prototype.hasOwnProperty,EJ=Object.prototype.propertyIsEnumerable,MJ=(e,t,n)=>t in e?xJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const CJ={},_J=(0,t.forwardRef)(((e,n)=>{const r=nK(),i=GT(`${r.__staticSelector}Body`,CJ,e),{className:o}=i,a=((e,t)=>{var n={};for(var r in e)SJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wJ)for(var r of wJ(e))t.indexOf(r)<0&&EJ.call(e,r)&&(n[r]=e[r]);return n})(i,["className"]),{classes:s,cx:l}=bJ({padding:r.padding},r.stylesApi);return(0,t.useEffect)((()=>(r.setBodyMounted(!0),()=>r.setBodyMounted(!1))),[]),t.createElement(hP,((e,t)=>{for(var n in t||(t={}))SJ.call(t,n)&&MJ(e,n,t[n]);if(wJ)for(var n of wJ(t))EJ.call(t,n)&&MJ(e,n,t[n]);return e})({id:r.getBodyId(),className:l(s.body,o),ref:n},a))}));const TJ=_A((()=>({root:{}})));var AJ=Object.defineProperty,PJ=Object.defineProperties,OJ=Object.getOwnPropertyDescriptors,DJ=Object.getOwnPropertySymbols,RJ=Object.prototype.hasOwnProperty,kJ=Object.prototype.propertyIsEnumerable,IJ=(e,t,n)=>t in e?AJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LJ=(e,t)=>{for(var n in t||(t={}))RJ.call(t,n)&&IJ(e,n,t[n]);if(DJ)for(var n of DJ(t))kJ.call(t,n)&&IJ(e,n,t[n]);return e},zJ=(e,t)=>PJ(e,OJ(t)),FJ=(e,t)=>{var n={};for(var r in e)RJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&DJ)for(var r of DJ(e))t.indexOf(r)<0&&kJ.call(e,r)&&(n[r]=e[r]);return n};function NJ(e){const n=GT("Portal",{},e),{children:r,target:i,className:o,innerRef:a}=n,s=FJ(n,["children","target","className","innerRef"]),l=HT(),[c,u]=(0,t.useState)(!1),d=(0,t.useRef)();return dI((()=>(u(!0),d.current=i?"string"===typeof i?document.querySelector(i):i:document.createElement("div"),i||document.body.appendChild(d.current),()=>{!i&&document.body.removeChild(d.current)})),[i]),c?(0,cD.createPortal)(t.createElement("div",zJ(LJ({className:o,dir:l.dir},s),{ref:a}),r),d.current):null}NJ.displayName="@mantine/core/Portal";var BJ=Object.defineProperty,UJ=Object.getOwnPropertySymbols,jJ=Object.prototype.hasOwnProperty,HJ=Object.prototype.propertyIsEnumerable,VJ=(e,t,n)=>t in e?BJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GJ=(e,t)=>{for(var n in t||(t={}))jJ.call(t,n)&&VJ(e,n,t[n]);if(UJ)for(var n of UJ(t))HJ.call(t,n)&&VJ(e,n,t[n]);return e},WJ=(e,t)=>{var n={};for(var r in e)jJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&UJ)for(var r of UJ(e))t.indexOf(r)<0&&HJ.call(e,r)&&(n[r]=e[r]);return n};function YJ(e){var n=e,{withinPortal:r=!0,children:i}=n,o=WJ(n,["withinPortal","children"]);return r?t.createElement(NJ,GJ({},o),i):t.createElement(t.Fragment,null,i)}YJ.displayName="@mantine/core/OptionalPortal";var XJ=Object.defineProperty,QJ=Object.defineProperties,qJ=Object.getOwnPropertyDescriptors,KJ=Object.getOwnPropertySymbols,ZJ=Object.prototype.hasOwnProperty,JJ=Object.prototype.propertyIsEnumerable,$J=(e,t,n)=>t in e?XJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e$=(e,t)=>{for(var n in t||(t={}))ZJ.call(t,n)&&$J(e,n,t[n]);if(KJ)for(var n of KJ(t))JJ.call(t,n)&&$J(e,n,t[n]);return e},t$=(e,t)=>QJ(e,qJ(t)),n$=(e,t)=>{var n={};for(var r in e)ZJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&KJ)for(var r of KJ(e))t.indexOf(r)<0&&JJ.call(e,r)&&(n[r]=e[r]);return n};const r$={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:eK("modal"),padding:"md",size:"md",shadow:"xl"};function i$(e){const n=GT("ModalBase",r$,e),{opened:r,onClose:i,children:o,closeOnClickOutside:a,__staticSelector:s,transitionProps:l,withinPortal:c,portalProps:u,keepMounted:d,target:h,zIndex:f,lockScroll:p,trapFocus:m,closeOnEscape:g,returnFocus:v,padding:y,shadow:b,id:x,size:w,variant:S,classNames:E,unstyled:M,styles:C,className:_}=n,T=n$(n,["opened","onClose","children","closeOnClickOutside","__staticSelector","transitionProps","withinPortal","portalProps","keepMounted","target","zIndex","lockScroll","trapFocus","closeOnEscape","returnFocus","padding","shadow","id","size","variant","classNames","unstyled","styles","className"]),{classes:A,cx:P}=TJ(null,{name:s,classNames:E,styles:C,unstyled:M,variant:S,size:w}),O=pI(x),[D,R]=(0,t.useState)(!1),[k,I]=(0,t.useState)(!1),L="number"===typeof(null==l?void 0:l.duration)?null==l?void 0:l.duration:200,z=function(e){let{opened:n,transitionDuration:r}=e;const[i,o]=(0,t.useState)(n),a=(0,t.useRef)(),s=YK()?0:r;return(0,t.useEffect)((()=>(n?(o(!0),window.clearTimeout(a.current)):0===s?o(!1):a.current=window.setTimeout((()=>o(!1)),s),()=>window.clearTimeout(a.current))),[n,s]),i}({opened:r,transitionDuration:L});return Kq("keydown",(e=>{!m&&"Escape"===e.key&&g&&i()})),Jq({opened:r,shouldReturnFocus:m&&v}),t.createElement(YJ,t$(e$({},u),{withinPortal:c,target:h}),t.createElement(tK,{value:{__staticSelector:s,opened:r,onClose:i,closeOnClickOutside:a,transitionProps:t$(e$({},l),{duration:L,keepMounted:d}),zIndex:f,padding:y,id:O,getTitleId:()=>`${O}-title`,getBodyId:()=>`${O}-body`,titleMounted:D,bodyMounted:k,setTitleMounted:R,setBodyMounted:I,trapFocus:m,closeOnEscape:g,shadow:b,stylesApi:{name:s,size:w,variant:S,classNames:E,styles:C,unstyled:M}}},t.createElement(qq,{enabled:z&&p},t.createElement(hP,e$({className:P(A.root,_)},T),o))))}i$.CloseButton=CK,i$.Overlay=EZ,i$.Content=eJ,i$.Header=cJ,i$.Title=vJ,i$.Body=_J,i$.NativeScrollArea=function(e){let{children:n}=e;return t.createElement(t.Fragment,null,n)};var o$=Object.defineProperty,a$=Object.defineProperties,s$=Object.getOwnPropertyDescriptors,l$=Object.getOwnPropertySymbols,c$=Object.prototype.hasOwnProperty,u$=Object.prototype.propertyIsEnumerable,d$=(e,t,n)=>t in e?o$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h$=(e,t)=>{for(var n in t||(t={}))c$.call(t,n)&&d$(e,n,t[n]);if(l$)for(var n of l$(t))u$.call(t,n)&&d$(e,n,t[n]);return e},f$=(e,t)=>a$(e,s$(t)),p$=(e,t)=>{var n={};for(var r in e)c$.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l$)for(var r of l$(e))t.indexOf(r)<0&&u$.call(e,r)&&(n[r]=e[r]);return n};const m$=f$(h$({},r$),{yOffset:"5vh",xOffset:"5vw"});function g$(e){const n=GT("ModalRoot",m$,e),{classNames:r,variant:i,size:o,yOffset:a,xOffset:s,scrollAreaComponent:l,radius:c,centered:u,fullScreen:d}=n,h=p$(n,["classNames","variant","size","yOffset","xOffset","scrollAreaComponent","radius","centered","fullScreen"]),{classes:f,cx:p}=lq({yOffset:a,xOffset:s,centered:u,fullScreen:d},{name:"Modal",variant:i,size:o});return t.createElement(oq,{value:{yOffset:a,scrollAreaComponent:l,radius:c}},t.createElement(i$,h$({__staticSelector:"Modal",size:o,variant:i,classNames:f$(h$({},r),{content:p(f.content,null==r?void 0:r.content),inner:p(f.inner,null==r?void 0:r.inner)})},h)))}var v$=Object.defineProperty,y$=Object.getOwnPropertySymbols,b$=Object.prototype.hasOwnProperty,x$=Object.prototype.propertyIsEnumerable,w$=(e,t,n)=>t in e?v$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const S$={shadow:"xl"},E$=(0,t.forwardRef)(((e,n)=>{const r=GT("ModalContent",S$,e),{children:i,scrollAreaComponent:o}=r,a=((e,t)=>{var n={};for(var r in e)b$.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&y$)for(var r of y$(e))t.indexOf(r)<0&&x$.call(e,r)&&(n[r]=e[r]);return n})(r,["children","scrollAreaComponent"]),s=aq(),l=o||s.scrollAreaComponent||i$.NativeScrollArea;return t.createElement(i$.Content,((e,t)=>{for(var n in t||(t={}))b$.call(t,n)&&w$(e,n,t[n]);if(y$)for(var n of y$(t))x$.call(t,n)&&w$(e,n,t[n]);return e})({ref:n,radius:s.radius},a),t.createElement(l,{style:{maxHeight:`calc(100vh - (${Y_(s.yOffset)} * 2))`}},i))}));var M$=Object.defineProperty,C$=Object.defineProperties,_$=Object.getOwnPropertyDescriptors,T$=Object.getOwnPropertySymbols,A$=Object.prototype.hasOwnProperty,P$=Object.prototype.propertyIsEnumerable,O$=(e,t,n)=>t in e?M$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D$=(e,t)=>{for(var n in t||(t={}))A$.call(t,n)&&O$(e,n,t[n]);if(T$)for(var n of T$(t))P$.call(t,n)&&O$(e,n,t[n]);return e},R$=(e,t)=>{var n={};for(var r in e)A$.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&T$)for(var r of T$(e))t.indexOf(r)<0&&P$.call(e,r)&&(n[r]=e[r]);return n};const k$=((e,t)=>C$(e,_$(t)))(D$({},r$),{transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0});function I$(e){const n=GT("Modal",k$,e),{title:r,withOverlay:i,overlayProps:o,withCloseButton:a,closeButtonProps:s,children:l}=n,c=R$(n,["title","withOverlay","overlayProps","withCloseButton","closeButtonProps","children"]),u=!!r||a;return t.createElement(g$,D$({},c),i&&t.createElement(i$.Overlay,D$({},o)),t.createElement(E$,null,u&&t.createElement(i$.Header,null,r&&t.createElement(i$.Title,null,r),a&&t.createElement(i$.CloseButton,D$({},s))),t.createElement(i$.Body,null,l)))}I$.Root=g$,I$.CloseButton=i$.CloseButton,I$.Overlay=i$.Overlay,I$.Content=E$,I$.Header=i$.Header,I$.Title=i$.Title,I$.Body=i$.Body,I$.NativeScrollArea=i$.NativeScrollArea;var L$=NR("eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]),z$=NR("eye-off","IconEyeOff",[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]),F$=NR("caret-down","IconCaretDown",[["path",{d:"M6 10l6 6l6 -6h-12",key:"svg-0"}]]),N$=NR("caret-right","IconCaretRight",[["path",{d:"M10 18l6 -6l-6 -6v12",key:"svg-0"}]]),B$=NR("maximize","IconMaximize",[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]]);function U$(e,t){return"function"===typeof e?e(t):e}function j$(e,t){return n=>{t.setState((t=>({...t,[e]:U$(n,t[e])})))}}function H$(e){return e instanceof Function}function V$(e,t){const n=[],r=e=>{e.forEach((e=>{n.push(e);const i=t(e);null!=i&&i.length&&r(i)}))};return r(e),n}function G$(e,t,n){let r,i=[];return()=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(),s=a.length!==i.length||a.some(((e,t)=>i[t]!==e));if(!s)return r;let l;if(i=a,n.key&&n.debug&&(l=Date.now()),r=t(...a),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-o))/100,t=Math.round(100*(Date.now()-l))/100,r=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c\u23f1 ${i(t,5)} /${i(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function W$(e,t,n){var r;let i={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(i),e},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach((t=>{Object.assign(i,null==t.createHeader?void 0:t.createHeader(i,e))})),i}const Y$={createTable:e=>({getHeaderGroups:G$((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,i)=>{var o,a;const s=null!=(o=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[],l=null!=(a=null==i?void 0:i.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[],c=n.filter((e=>!(null!=r&&r.includes(e.id))&&!(null!=i&&i.includes(e.id))));return X$(t,[...s,...c,...l],e)}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getCenterHeaderGroups:G$((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,i)=>(n=n.filter((e=>!(null!=r&&r.includes(e.id))&&!(null!=i&&i.includes(e.id)))),X$(t,n,e,"center"))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getLeftHeaderGroups:G$((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var i;const o=null!=(i=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[];return X$(t,o,e,"left")}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getRightHeaderGroups:G$((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var i;const o=null!=(i=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[];return X$(t,o,e,"right")}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getFooterGroups:G$((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getLeftFooterGroups:G$((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getCenterFooterGroups:G$((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getRightFooterGroups:G$((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getFlatHeaders:G$((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getLeftFlatHeaders:G$((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getCenterFlatHeaders:G$((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getRightFlatHeaders:G$((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getCenterLeafHeaders:G$((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getLeftLeafHeaders:G$((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getRightLeafHeaders:G$((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getLeafHeaders:G$((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,i,o,a,s,l;return[...null!=(r=null==(i=e[0])?void 0:i.headers)?r:[],...null!=(o=null==(a=t[0])?void 0:a.headers)?o:[],...null!=(s=null==(l=n[0])?void 0:l.headers)?s:[]].map((e=>e.getLeafHeaders())).flat()}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}})})};function X$(e,t,n,r){var i,o;let a=0;const s=function(e,t){void 0===t&&(t=1),a=Math.max(a,t),e.filter((e=>e.getIsVisible())).forEach((e=>{var n;null!=(n=e.columns)&&n.length&&s(e.columns,t+1)}),0)};s(e);let l=[];const c=(e,t)=>{const i={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},o=[];e.forEach((e=>{const a=[...o].reverse()[0];let s,l=!1;if(e.column.depth===i.depth&&e.column.parent?s=e.column.parent:(s=e.column,l=!0),a&&(null==a?void 0:a.column)===s)a.subHeaders.push(e);else{const i=W$(n,s,{id:[r,t,s.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${o.filter((e=>e.column===s)).length}`:void 0,depth:t,index:o.length});i.subHeaders.push(e),o.push(i)}i.headers.push(e),e.headerGroup=i})),l.push(i),t>0&&c(o,t-1)},u=t.map(((e,t)=>W$(n,e,{depth:a,index:t})));c(u,a-1),l.reverse();const d=e=>e.filter((e=>e.column.getIsVisible())).map((e=>{let t=0,n=0,r=[0];e.subHeaders&&e.subHeaders.length?(r=[],d(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:i}=e;t+=n,r.push(i)}))):t=1;return n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}}));return d(null!=(i=null==(o=l[0])?void 0:o.headers)?i:[]),l}const Q$={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},q$={getDefaultColumnDef:()=>Q$,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:j$("columnSizing",e),onColumnSizingInfoChange:j$("columnSizingInfo",e)}),createColumn:(e,t)=>({getSize:()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:Q$.minSize,null!=(r=null!=o?o:e.columnDef.size)?r:Q$.size),null!=(i=e.columnDef.maxSize)?i:Q$.maxSize)},getStart:n=>{const r=n?"left"===n?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),i=r.findIndex((t=>t.id===e.id));if(i>0){const e=r[i-1];return e.getStart(n)+e.getSize()}return 0},resetSize:()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))},getCanResize:()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},getIsResizing:()=>t.getState().columnSizingInfo.isResizingColumn===e.id}),createHeader:(e,t)=>({getSize:()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},getStart:()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},getResizeHandler:()=>{const n=t.getColumn(e.column.id),r=null==n?void 0:n.getCanResize();return i=>{if(!n||!r)return;if(null==i.persist||i.persist(),Z$(i)&&i.touches&&i.touches.length>1)return;const o=e.getSize(),a=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[n.id,n.getSize()]],s=Z$(i)?Math.round(i.touches[0].clientX):i.clientX,l={},c=(e,n)=>{"number"===typeof n&&(t.setColumnSizingInfo((e=>{var t,r;const i=n-(null!=(t=null==e?void 0:e.startOffset)?t:0),o=Math.max(i/(null!=(r=null==e?void 0:e.startSize)?r:0),-.999999);return e.columnSizingStart.forEach((e=>{let[t,n]=e;l[t]=Math.round(100*Math.max(n+n*o,0))/100})),{...e,deltaOffset:i,deltaPercentage:o}})),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing((e=>({...e,...l}))))},u=e=>c("move",e),d=e=>{c("end",e),t.setColumnSizingInfo((e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},h={moveHandler:e=>u(e.clientX),upHandler:e=>{document.removeEventListener("mousemove",h.moveHandler),document.removeEventListener("mouseup",h.upHandler),d(e.clientX)}},f={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),u(e.touches[0].clientX),!1),upHandler:e=>{var t;document.removeEventListener("touchmove",f.moveHandler),document.removeEventListener("touchend",f.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(null==(t=e.touches[0])?void 0:t.clientX)}},p=!!function(){if("boolean"===typeof K$)return K$;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(eue){e=!1}return K$=e,K$}()&&{passive:!1};Z$(i)?(document.addEventListener("touchmove",f.moveHandler,p),document.addEventListener("touchend",f.upHandler,p)):(document.addEventListener("mousemove",h.moveHandler,p),document.addEventListener("mouseup",h.upHandler,p)),t.setColumnSizingInfo((e=>({...e,startOffset:s,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:n.id})))}}}),createTable:e=>({setColumnSizing:t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),setColumnSizingInfo:t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),resetColumnSizing:t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},resetHeaderSizeInfo:t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},getTotalSize:()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},getLeftTotalSize:()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},getCenterTotalSize:()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},getRightTotalSize:()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0}})};let K$=null;function Z$(e){return"touchstart"===e.type}const J$={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:j$("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;return{_autoResetExpanded:()=>{var r,i;if(t){if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue((()=>{e.resetExpanded(),n=!1}))}}else e._queue((()=>{t=!0}))},setExpanded:t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),toggleAllRowsExpanded:t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},resetExpanded:t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},getCanSomeRowsExpand:()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand())),getToggleAllRowsExpandedHandler:()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},getIsAllRowsExpanded:()=>{const t=e.getState().expanded;return"boolean"===typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some((e=>!e.getIsExpanded()))},getExpandedDepth:()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)})),t},getPreExpandedRowModel:()=>e.getSortedRowModel(),getExpandedRowModel:()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())}},createRow:(e,t)=>({toggleExpanded:n=>{t.setExpanded((r=>{var i;const o=!0===r||!(null==r||!r[e.id]);let a={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach((e=>{a[e]=!0})):a=r,n=null!=(i=n)?i:!o,!o&&n)return{...a,[e.id]:!0};if(o&&!n){const{[e.id]:t,...n}=a;return n}return r}))},getIsExpanded:()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},getCanExpand:()=>{var n,r,i;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(i=e.subRows)||!i.length)},getToggleExpandedHandler:()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}})},$$=(e,t,n)=>{var r,i,o;const a=n.toLowerCase();return Boolean(null==(r=e.getValue(t))||null==(i=r.toString())||null==(o=i.toLowerCase())?void 0:o.includes(a))};$$.autoRemove=e=>c0(e);const e0=(e,t,n)=>{var r,i;return Boolean(null==(r=e.getValue(t))||null==(i=r.toString())?void 0:i.includes(n))};e0.autoRemove=e=>c0(e);const t0=(e,t,n)=>{var r,i;return(null==(r=e.getValue(t))||null==(i=r.toString())?void 0:i.toLowerCase())===(null==n?void 0:n.toLowerCase())};t0.autoRemove=e=>c0(e);const n0=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};n0.autoRemove=e=>c0(e)||!(null!=e&&e.length);const r0=(e,t,n)=>!n.some((n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))}));r0.autoRemove=e=>c0(e)||!(null!=e&&e.length);const i0=(e,t,n)=>n.some((n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)}));i0.autoRemove=e=>c0(e)||!(null!=e&&e.length);const o0=(e,t,n)=>e.getValue(t)===n;o0.autoRemove=e=>c0(e);const a0=(e,t,n)=>e.getValue(t)==n;a0.autoRemove=e=>c0(e);const s0=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};s0.resolveFilterValue=e=>{let[t,n]=e,r="number"!==typeof t?parseFloat(t):t,i="number"!==typeof n?parseFloat(n):n,o=null===t||Number.isNaN(r)?-1/0:r,a=null===n||Number.isNaN(i)?1/0:i;if(o>a){const e=o;o=a,a=e}return[o,a]},s0.autoRemove=e=>c0(e)||c0(e[0])&&c0(e[1]);const l0={includesString:$$,includesStringSensitive:e0,equalsString:t0,arrIncludes:n0,arrIncludesAll:r0,arrIncludesSome:i0,equals:o0,weakEquals:a0,inNumberRange:s0};function c0(e){return void 0===e||null===e||""===e}const u0={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:j$("columnFilters",e),onGlobalFilterChange:j$("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n,r;const i=null==(n=e.getCoreRowModel().flatRows[0])||null==(r=n._getAllCellsByColumnId()[t.id])?void 0:r.getValue();return"string"===typeof i||"number"===typeof i}}),createColumn:(e,t)=>({getAutoFilterFn:()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"===typeof r?l0.includesString:"number"===typeof r?l0.inNumberRange:"boolean"===typeof r||null!==r&&"object"===typeof r?l0.equals:Array.isArray(r)?l0.arrIncludes:l0.weakEquals},getFilterFn:()=>{var n,r;return H$(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:l0[e.columnDef.filterFn]},getCanFilter:()=>{var n,r,i;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(i=t.options.enableFilters)||i)&&!!e.accessorFn},getCanGlobalFilter:()=>{var n,r,i,o;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(i=t.options.enableFilters)||i)&&(null==(o=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||o)&&!!e.accessorFn},getIsFiltered:()=>e.getFilterIndex()>-1,getFilterValue:()=>{var n,r;return null==(n=t.getState().columnFilters)||null==(r=n.find((t=>t.id===e.id)))?void 0:r.value},getFilterIndex:()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},setFilterValue:n=>{t.setColumnFilters((t=>{const r=e.getFilterFn(),i=null==t?void 0:t.find((t=>t.id===e.id)),o=U$(n,i?i.value:void 0);var a;if(d0(r,o,e))return null!=(a=null==t?void 0:t.filter((t=>t.id!==e.id)))?a:[];const s={id:e.id,value:o};var l;return i?null!=(l=null==t?void 0:t.map((t=>t.id===e.id?s:t)))?l:[]:null!=t&&t.length?[...t,s]:[s]}))},_getFacetedRowModel:t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),getFacetedRowModel:()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),_getFacetedUniqueValues:t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),getFacetedUniqueValues:()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),getFacetedMinMaxValues:()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}),createRow:(e,t)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:e=>({getGlobalAutoFilterFn:()=>l0.includesString,getGlobalFilterFn:()=>{var t,n;const{globalFilterFn:r}=e.options;return H$(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:l0[r]},setColumnFilters:t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange((e=>{var r;return null==(r=U$(t,e))?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));if(t){if(d0(t.getFilterFn(),e.value,t))return!1}return!0}))}))},setGlobalFilter:t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},resetGlobalFilter:t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},resetColumnFilters:t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},getPreFilteredRowModel:()=>e.getCoreRowModel(),getFilteredRowModel:()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),_getGlobalFacetedRowModel:e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),getGlobalFacetedRowModel:()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),getGlobalFacetedUniqueValues:()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}})};function d0(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||"undefined"===typeof t||"string"===typeof t&&!t}const h0={sum:(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+("number"===typeof r?r:0)}),0),min:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)})),r},max:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)})),r},extent:(e,t,n)=>{let r,i;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=i=n):(r>n&&(r=n),i<n&&(i=n)))})),[r,i]},mean:(e,t)=>{let n=0,r=0;if(t.forEach((t=>{let i=t.getValue(e);null!=i&&(i=+i)>=i&&(++n,r+=i)})),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map((t=>t.getValue(e)));if(!function(e){return Array.isArray(e)&&e.every((e=>"number"===typeof e))}(n))return;if(1===n.length)return n[0];const r=Math.floor(n.length/2),i=n.sort(((e,t)=>e-t));return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},unique:(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values()),uniqueCount:(e,t)=>new Set(t.map((t=>t.getValue(e)))).size,count:(e,t)=>t.length},f0={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:j$("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>({toggleGrouping:()=>{t.setGrouping((t=>null!=t&&t.includes(e.id)?t.filter((t=>t!==e.id)):[...null!=t?t:[],e.id]))},getCanGroup:()=>{var n,r,i,o;return null!=(n=null==(r=null!=(i=null==(o=e.columnDef.enableGrouping)||o)?i:t.options.enableGrouping)||r)?n:!!e.accessorFn},getIsGrouped:()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},getGroupedIndex:()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},getToggleGroupingHandler:()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},getAutoAggregationFn:()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"===typeof r?h0.sum:"[object Date]"===Object.prototype.toString.call(r)?h0.extent:void 0},getAggregationFn:()=>{var n,r;if(!e)throw new Error;return H$(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:h0[e.columnDef.aggregationFn]}}),createTable:e=>({setGrouping:t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),resetGrouping:t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},getPreGroupedRowModel:()=>e.getFilteredRowModel(),getGroupedRowModel:()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())}),createRow:(e,t)=>({getIsGrouped:()=>!!e.groupingColumnId,getGroupingValue:n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},_groupingValuesCache:{}}),createCell:(e,t,n,r)=>({getIsGrouped:()=>t.getIsGrouped()&&t.id===n.groupingColumnId,getIsPlaceholder:()=>!e.getIsGrouped()&&t.getIsGrouped(),getIsAggregated:()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}})};const p0={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:j$("columnOrder",e)}),createTable:e=>({setColumnOrder:t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),resetColumnOrder:t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},_getOrderColumnsFn:G$((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let i=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex((t=>t.id===e));r>-1&&i.push(n.splice(r,1)[0])}i=[...i,...n]}else i=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter((e=>!t.includes(e.id)));if("remove"===n)return r;const i=t.map((t=>e.find((e=>e.id===t)))).filter(Boolean);return[...i,...r]}(i,t,n)}),{key:!1})})},m0={getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:j$("pagination",e)}),createTable:e=>{let t=!1,n=!1;return{_autoResetPageIndex:()=>{var r,i;if(t){if(null!=(r=null!=(i=e.options.autoResetAll)?i:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue((()=>{e.resetPageIndex(),n=!1}))}}else e._queue((()=>{t=!0}))},setPagination:t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange((e=>U$(t,e))),resetPagination:t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},setPageIndex:t=>{e.setPagination((n=>{let r=U$(t,n.pageIndex);const i="undefined"===typeof e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,i)),{...n,pageIndex:r}}))},resetPageIndex:t=>{var n,r,i;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(i=r.pagination)?void 0:i.pageIndex)?n:0)},resetPageSize:t=>{var n,r,i;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(i=r.pagination)?void 0:i.pageSize)?n:10)},setPageSize:t=>{e.setPagination((e=>{const n=Math.max(1,U$(t,e.pageSize)),r=e.pageSize*e.pageIndex,i=Math.floor(r/n);return{...e,pageIndex:i,pageSize:n}}))},setPageCount:t=>e.setPagination((n=>{var r;let i=U$(t,null!=(r=e.options.pageCount)?r:-1);return"number"===typeof i&&(i=Math.max(-1,i)),{...n,pageCount:i}})),getPageOptions:G$((()=>[e.getPageCount()]),(e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map(((e,t)=>t))),t}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getCanPreviousPage:()=>e.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},previousPage:()=>e.setPageIndex((e=>e-1)),nextPage:()=>e.setPageIndex((e=>e+1)),getPrePaginationRowModel:()=>e.getExpandedRowModel(),getPaginationRowModel:()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),getPageCount:()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}}},g0={getInitialState:e=>({columnPinning:{left:[],right:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:j$("columnPinning",e)}),createColumn:(e,t)=>({pin:n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,i,o,a,s,l;return"right"===n?{left:(null!=(o=null==e?void 0:e.left)?o:[]).filter((e=>!(null!=r&&r.includes(e)))),right:[...(null!=(a=null==e?void 0:e.right)?a:[]).filter((e=>!(null!=r&&r.includes(e)))),...r]}:"left"===n?{left:[...(null!=(s=null==e?void 0:e.left)?s:[]).filter((e=>!(null!=r&&r.includes(e)))),...r],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter((e=>!(null!=r&&r.includes(e))))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter((e=>!(null!=r&&r.includes(e)))),right:(null!=(i=null==e?void 0:e.right)?i:[]).filter((e=>!(null!=r&&r.includes(e))))}}))},getCanPin:()=>e.getLeafColumns().some((e=>{var n,r;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=t.options.enablePinning)||r)})),getIsPinned:()=>{const n=e.getLeafColumns().map((e=>e.id)),{left:r,right:i}=t.getState().columnPinning,o=n.some((e=>null==r?void 0:r.includes(e))),a=n.some((e=>null==i?void 0:i.includes(e)));return o?"left":!!a&&"right"},getPinnedIndex:()=>{var n,r,i;const o=e.getIsPinned();return o?null!=(n=null==(r=t.getState().columnPinning)||null==(i=r[o])?void 0:i.indexOf(e.id))?n:-1:0}}),createRow:(e,t)=>({getCenterVisibleCells:G$((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.column.id)))}),{key:"row.getCenterVisibleCells",debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}}),getLeftVisibleCells:G$((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,]),((e,t)=>{const n=(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})));return n}),{key:"row.getLeftVisibleCells",debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}}),getRightVisibleCells:G$((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>{const n=(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})));return n}),{key:"row.getRightVisibleCells",debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}})}),createTable:e=>({setColumnPinning:t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),resetColumnPinning:t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},getIsSomeColumnsPinned:t=>{var n;const r=e.getState().columnPinning;var i,o;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(i=r.left)?void 0:i.length)||(null==(o=r.right)?void 0:o.length))},getLeftLeafColumns:G$((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}}),getRightLeafColumns:G$((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}}),getCenterLeafColumns:G$((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.id)))}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}})})},v0={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:j$("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>({setRowSelection:t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),resetRowSelection:t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},toggleAllRowsSelected:t=>{e.setRowSelection((n=>{t="undefined"!==typeof t?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach((e=>{e.getCanSelect()&&(r[e.id]=!0)})):i.forEach((e=>{delete r[e.id]})),r}))},toggleAllPageRowsSelected:t=>e.setRowSelection((n=>{const r="undefined"!==typeof t?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach((t=>{y0(i,t.id,r,e)})),i})),getPreSelectedRowModel:()=>e.getCoreRowModel(),getSelectedRowModel:G$((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>Object.keys(t).length?b0(e,n):{rows:[],flatRows:[],rowsById:{}}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getFilteredSelectedRowModel:G$((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>Object.keys(t).length?b0(e,n):{rows:[],flatRows:[],rowsById:{}}),{key:"getFilteredSelectedRowModel",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getGroupedSelectedRowModel:G$((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>Object.keys(t).length?b0(e,n):{rows:[],flatRows:[],rowsById:{}}),{key:"getGroupedSelectedRowModel",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getIsAllRowsSelected:()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some((e=>e.getCanSelect()&&!n[e.id]))&&(r=!1),r},getIsAllPageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect())),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some((e=>!n[e.id]))&&(r=!1),r},getIsSomeRowsSelected:()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))},getToggleAllRowsSelectedHandler:()=>t=>{e.toggleAllRowsSelected(t.target.checked)},getToggleAllPageRowsSelectedHandler:()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}}),createRow:(e,t)=>({toggleSelected:n=>{const r=e.getIsSelected();t.setRowSelection((i=>{if(r===(n="undefined"!==typeof n?n:!r))return i;const o={...i};return y0(o,e.id,n,t),o}))},getIsSelected:()=>{const{rowSelection:n}=t.getState();return x0(e,n)},getIsSomeSelected:()=>{const{rowSelection:n}=t.getState();return"some"===w0(e,n)},getIsAllSubRowsSelected:()=>{const{rowSelection:n}=t.getState();return"all"===w0(e,n)},getCanSelect:()=>{var n;return"function"===typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},getCanSelectSubRows:()=>{var n;return"function"===typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},getCanMultiSelect:()=>{var n;return"function"===typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},getToggleSelectedHandler:()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}})},y0=(e,t,n,r)=>{var i;const o=r.getRow(t);n?(o.getCanMultiSelect()||Object.keys(e).forEach((t=>delete e[t])),o.getCanSelect()&&(e[t]=!0)):delete e[t],null!=(i=o.subRows)&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach((t=>y0(e,t.id,n,r)))};function b0(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(e,t){return e.map((e=>{var t;const a=x0(e,n);if(a&&(r.push(e),i[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:o(e.subRows)}),a)return e})).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function x0(e,t){var n;return null!=(n=t[e.id])&&n}function w0(e,t,n){if(e.subRows&&e.subRows.length){let n=!0,r=!1;return e.subRows.forEach((e=>{r&&!n||(x0(e,t)?r=!0:n=!1)})),n?"all":!!r&&"some"}return!1}const S0=/([0-9]+)/gm;function E0(e,t){return e===t?0:e>t?1:-1}function M0(e){return"number"===typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"===typeof e?e:""}function C0(e,t){const n=e.split(S0).filter(Boolean),r=t.split(S0).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),i=parseInt(e,10),o=parseInt(t,10),a=[i,o].sort();if(isNaN(a[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(a[1]))return isNaN(i)?-1:1;if(i>o)return 1;if(o>i)return-1}}return n.length-r.length}const _0={alphanumeric:(e,t,n)=>C0(M0(e.getValue(n)).toLowerCase(),M0(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>C0(M0(e.getValue(n)),M0(t.getValue(n))),text:(e,t,n)=>E0(M0(e.getValue(n)).toLowerCase(),M0(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>E0(M0(e.getValue(n)),M0(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},basic:(e,t,n)=>E0(e.getValue(n),t.getValue(n))},T0={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto"}),getDefaultOptions:e=>({onSortingChange:j$("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>({getAutoSortingFn:()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return _0.datetime;if("string"===typeof n&&(r=!0,n.split(S0).length>1))return _0.alphanumeric}return r?_0.text:_0.basic},getAutoSortDir:()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"===typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},getSortingFn:()=>{var n,r;if(!e)throw new Error;return H$(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:_0[e.columnDef.sortingFn]},toggleSorting:(n,r)=>{const i=e.getNextSortingOrder(),o="undefined"!==typeof n&&null!==n;t.setSorting((a=>{const s=null==a?void 0:a.find((t=>t.id===e.id)),l=null==a?void 0:a.findIndex((t=>t.id===e.id));let c,u=[],d=o?n:"desc"===i;var h;(c=null!=a&&a.length&&e.getCanMultiSort()&&r?s?"toggle":"add":null!=a&&a.length&&l!==a.length-1?"replace":s?"toggle":"replace","toggle"===c&&(o||i||(c="remove")),"add"===c)?(u=[...a,{id:e.id,desc:d}],u.splice(0,u.length-(null!=(h=t.options.maxMultiSortColCount)?h:Number.MAX_SAFE_INTEGER))):u="toggle"===c?a.map((t=>t.id===e.id?{...t,desc:d}:t)):"remove"===c?a.filter((t=>t.id!==e.id)):[{id:e.id,desc:d}];return u}))},getFirstSortDir:()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},getNextSortingOrder:n=>{var r,i;const o=e.getFirstSortDir(),a=e.getIsSorted();return a?!!(a===o||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(i=t.options.enableMultiRemove)&&!i)&&("desc"===a?"asc":"desc"):o},getCanSort:()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},getCanMultiSort:()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},getIsSorted:()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find((t=>t.id===e.id));return!!r&&(r.desc?"desc":"asc")},getSortIndex:()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},clearSorting:()=>{t.setSorting((t=>null!=t&&t.length?t.filter((t=>t.id!==e.id)):[]))},getToggleSortingHandler:()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}}),createTable:e=>({setSorting:t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),resetSorting:t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},getPreSortedRowModel:()=>e.getGroupedRowModel(),getSortedRowModel:()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())})},A0={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:j$("columnVisibility",e)}),createColumn:(e,t)=>({toggleVisibility:n=>{e.getCanHide()&&t.setColumnVisibility((t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()})))},getIsVisible:()=>{var n,r;return null==(n=null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},getCanHide:()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},getToggleVisibilityHandler:()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}}),createRow:(e,t)=>({_getAllVisibleCells:G$((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),{key:"row._getAllVisibleCells",debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}}),getVisibleCells:G$((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),{key:!1,debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}})}),createTable:e=>{const t=(t,n)=>G$((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>null==e.getIsVisible?void 0:e.getIsVisible()))),{key:t,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}});return{getVisibleFlatColumns:t("getVisibleFlatColumns",(()=>e.getAllFlatColumns())),getVisibleLeafColumns:t("getVisibleLeafColumns",(()=>e.getAllLeafColumns())),getLeftVisibleLeafColumns:t("getLeftVisibleLeafColumns",(()=>e.getLeftLeafColumns())),getRightVisibleLeafColumns:t("getRightVisibleLeafColumns",(()=>e.getRightLeafColumns())),getCenterVisibleLeafColumns:t("getCenterVisibleLeafColumns",(()=>e.getCenterLeafColumns())),setColumnVisibility:t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),resetColumnVisibility:t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},toggleAllColumnsVisible:t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())})),{}))},getIsAllColumnsVisible:()=>!e.getAllLeafColumns().some((e=>!(null!=e.getIsVisible&&e.getIsVisible()))),getIsSomeColumnsVisible:()=>e.getAllLeafColumns().some((e=>null==e.getIsVisible?void 0:e.getIsVisible())),getToggleAllColumnsVisibilityHandler:()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}}},P0=[Y$,A0,p0,g0,u0,T0,f0,J$,m0,v0,q$];function O0(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:P0};const r=n._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(n))),{});let i={...null!=(t=e.initialState)?t:{}};n._features.forEach((e=>{var t;i=null!=(t=null==e.getInitialState?void 0:e.getInitialState(i))?t:i}));const o=[];let a=!1;const s={_features:P0,options:{...r,...e},initialState:i,_queue:e=>{o.push(e),a||(a=!0,Promise.resolve().then((()=>{for(;o.length;)o.shift()();a=!1})).catch((e=>setTimeout((()=>{throw e})))))},reset:()=>{n.setState(n.initialState)},setOptions:e=>{const t=U$(e,n.options);n.options=(e=>n.options.mergeOptions?n.options.mergeOptions(r,e):{...r,...e})(t)},getState:()=>n.options.state,setState:e=>{null==n.options.onStateChange||n.options.onStateChange(e)},_getRowId:(e,t,r)=>{var i;return null!=(i=null==n.options.getRowId?void 0:n.options.getRowId(e,t,r))?i:`${r?[r.id,t].join("."):t}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:e=>{const t=n.getRowModel().rowsById[e];if(!t)throw new Error;return t},_getDefaultColumnDef:G$((()=>[n.options.defaultColumn]),(e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...n._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef())),{}),...e}}),{debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:G$((()=>[n._getColumnDefs()]),(e=>{const t=function(e,r,i){return void 0===i&&(i=0),e.map((e=>{const o=function(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},s=a.accessorKey;let l,c=null!=(i=null!=(o=a.id)?o:s?s.replace(".","_"):void 0)?i:"string"===typeof a.header?a.header:void 0;if(a.accessorFn?l=a.accessorFn:s&&(l=s.includes(".")?e=>{let t=e;for(const r of s.split(".")){var n;t=null==(n=t)?void 0:n[r]}return t}:e=>e[a.accessorKey]),!c)throw new Error;let u={id:`${String(c)}`,accessorFn:l,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:G$((()=>[!0]),(()=>{var e;return[u,...null==(e=u.columns)?void 0:e.flatMap((e=>e.getFlatColumns()))]}),{key:"column.getFlatColumns",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}}),getLeafColumns:G$((()=>[e._getOrderColumnsFn()]),(e=>{var t;if(null!=(t=u.columns)&&t.length){let t=u.columns.flatMap((e=>e.getLeafColumns()));return e(t)}return[u]}),{key:"column.getLeafColumns",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}})};return u=e._features.reduce(((t,n)=>Object.assign(t,null==n.createColumn?void 0:n.createColumn(u,e))),u),u}(n,e,i,r),a=e;return o.columns=a.columns?t(a.columns,o,i+1):[],o}))};return t(e)}),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),getAllFlatColumns:G$((()=>[n.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),_getAllFlatColumnsById:G$((()=>[n.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{})),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),getAllLeafColumns:G$((()=>[n.getAllColumns(),n._getOrderColumnsFn()]),((e,t)=>{let n=e.flatMap((e=>e.getLeafColumns()));return t(n)}),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),getColumn:e=>n._getAllFlatColumnsById()[e]};return Object.assign(n,s),n._features.forEach((e=>Object.assign(n,null==e.createTable?void 0:e.createTable(n)))),n}const D0=(e,t,n,r,i,o,a)=>{let s={id:t,index:r,original:n,depth:i,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(s._valuesCache.hasOwnProperty(t))return s._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(s._valuesCache[t]=n.accessorFn(s.original,r),s._valuesCache[t]):void 0},getUniqueValues:t=>{if(s._uniqueValuesCache.hasOwnProperty(t))return s._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(s._uniqueValuesCache[t]=n.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[t]):(s._uniqueValuesCache[t]=[s.getValue(t)],s._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=s.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=o?o:[],getLeafRows:()=>V$(s.subRows,(e=>e.subRows)),getParentRow:()=>s.parentId?e.getRow(s.parentId):void 0,getParentRows:()=>{let e=[],t=s;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:G$((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>function(e,t,n,r){const i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=i.getValue())?t:e.options.renderFallbackValue},getContext:G$((()=>[e,n,t,i]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach((r=>{Object.assign(i,null==r.createCell?void 0:r.createCell(i,n,t,e))}),{}),i}(e,s,t,t.id)))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugRows}}),_getAllCellsByColumnId:G$((()=>[s.getAllCells()]),(e=>e.reduce(((e,t)=>(e[t.column.id]=t,e)),{})),{key:"row.getAllCellsByColumnId",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugRows}})};for(let l=0;l<e._features.length;l++){const t=e._features[l];Object.assign(s,null==t||null==t.createRow?void 0:t.createRow(s,e))}return s};function R0(e,t,n){return n.options.filterFromLeafRows?function(e,t,n){var r;const i=[],o={},a=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,s=function(e,r){void 0===r&&(r=0);const i=[];for(let c=0;c<e.length;c++){var l;let u=e[c];const d=D0(n,u.id,u.original,u.index,u.depth,void 0,u.parentId);if(d.columnFilters=u.columnFilters,null!=(l=u.subRows)&&l.length&&r<a){if(d.subRows=s(u.subRows,r+1),u=d,t(u)&&!d.subRows.length){i.push(u),o[u.id]=u,o[c]=u;continue}if(t(u)||d.subRows.length){i.push(u),o[u.id]=u,o[c]=u;continue}}else u=d,t(u)&&(i.push(u),o[u.id]=u,o[c]=u)}return i};return{rows:s(e),flatRows:i,rowsById:o}}(e,t,n):function(e,t,n){var r;const i=[],o={},a=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,s=function(e,r){void 0===r&&(r=0);const l=[];for(let u=0;u<e.length;u++){let d=e[u];if(t(d)){var c;if(null!=(c=d.subRows)&&c.length&&r<a){const e=D0(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);e.subRows=s(d.subRows,r+1),d=e}l.push(d),i.push(d),o[d.id]=d}}return l};return{rows:s(e),flatRows:i,rowsById:o}}(e,t,n)}function k0(){return e=>G$((()=>[e.getState().grouping,e.getPreGroupedRowModel()]),((t,n)=>{if(!n.rows.length||!t.length)return n;const r=t.filter((t=>e.getColumn(t))),i=[],o={},a=function(t,n,s){if(void 0===n&&(n=0),n>=r.length)return t.map((e=>(e.depth=n,i.push(e),o[e.id]=e,e.subRows&&(e.subRows=a(e.subRows,n+1,e.id)),e)));const l=r[n],c=function(e,t){const n=new Map;return e.reduce(((e,n)=>{const r=`${n.getGroupingValue(t)}`,i=e.get(r);return i?i.push(n):e.set(r,[n]),e}),n)}(t,l),u=Array.from(c.entries()).map(((t,c)=>{let[u,d]=t,h=`${l}:${u}`;h=s?`${s}>${h}`:h;const f=a(d,n+1,h),p=n?V$(d,(e=>e.subRows)):d,m=D0(e,h,p[0].original,c,n,void 0,s);return Object.assign(m,{groupingColumnId:l,groupingValue:u,subRows:f,leafRows:p,getValue:t=>{if(r.includes(t)){if(m._valuesCache.hasOwnProperty(t))return m._valuesCache[t];var n;if(d[0])m._valuesCache[t]=null!=(n=d[0].getValue(t))?n:void 0;return m._valuesCache[t]}if(m._groupingValuesCache.hasOwnProperty(t))return m._groupingValuesCache[t];const i=e.getColumn(t),o=null==i?void 0:i.getAggregationFn();return o?(m._groupingValuesCache[t]=o(t,p,d),m._groupingValuesCache[t]):void 0}}),f.forEach((e=>{i.push(e),o[e.id]=e})),m}));return u},s=a(n.rows,0);return s.forEach((e=>{i.push(e),o[e.id]=e})),{rows:s,flatRows:i,rowsById:o}}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable},onChange:()=>{e._queue((()=>{e._autoResetExpanded(),e._autoResetPageIndex()}))}})}function I0(e){const t=[],n=e=>{var r;t.push(e),null!=(r=e.subRows)&&r.length&&e.getIsExpanded()&&e.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}const L0={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},z0=Object.keys(L0).join("|"),F0=new RegExp(z0,"g");const N0={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function B0(e,t,n){var r;if((n=n||{}).threshold=null!=(r=n.threshold)?r:N0.MATCHES,!n.accessors){const r=U0(e,t,n);return{rankedValue:e,rank:r,accessorIndex:-1,accessorThreshold:n.threshold,passed:r>=n.threshold}}const i=function(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r],o=G0(i),a=H0(e,i);for(let e=0,t=a.length;e<t;e++)n.push({itemValue:a[e],attributes:o})}return n}(e,n.accessors),o={rankedValue:e,rank:N0.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let a=0;a<i.length;a++){const e=i[a];let r=U0(e.itemValue,t,n);const{minRanking:s,maxRanking:l,threshold:c=n.threshold}=e.attributes;r<s&&r>=N0.MATCHES?r=s:r>l&&(r=l),r=Math.min(r,l),r>=c&&r>o.rank&&(o.rank=r,o.passed=!0,o.accessorIndex=a,o.accessorThreshold=c,o.rankedValue=e.itemValue)}return o}function U0(e,t,n){return e=j0(e,n),(t=j0(t,n)).length>e.length?N0.NO_MATCH:e===t?N0.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase())===(t=t.toLowerCase())?N0.EQUAL:e.startsWith(t)?N0.STARTS_WITH:e.includes(` ${t}`)?N0.WORD_STARTS_WITH:e.includes(t)?N0.CONTAINS:1===t.length?N0.NO_MATCH:function(e){let t="";const n=e.split(" ");return n.forEach((e=>{e.split("-").forEach((e=>{t+=e.substr(0,1)}))})),t}(e).includes(t)?N0.ACRONYM:function(e,t){let n=0,r=0;function i(e,t,r){for(let i=r,o=t.length;i<o;i++){if(t[i]===e)return n+=1,i+1}return-1}function o(e){const r=1/e,i=n/t.length;return N0.MATCHES+i*r}const a=i(t[0],e,0);if(a<0)return N0.NO_MATCH;r=a;for(let s=1,l=t.length;s<l;s++){r=i(t[s],e,r);if(!(r>-1))return N0.NO_MATCH}return o(r-a)}(e,t)}function j0(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=e.replace(F0,(e=>L0[e]))),e}function H0(e,t){let n=t;"object"===typeof t&&(n=t.accessor);const r=n(e);return null==r?[]:Array.isArray(r)?r:[String(r)]}const V0={maxRanking:1/0,minRanking:-1/0};function G0(e){return"function"===typeof e?V0:{...V0,...e}}var W0=NR("arrow-autofit-content","IconArrowAutofitContent",[["path",{d:"M6 4l-3 3l3 3",key:"svg-0"}],["path",{d:"M18 4l3 3l-3 3",key:"svg-1"}],["path",{d:"M4 14m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-2"}],["path",{d:"M10 7h-7",key:"svg-3"}],["path",{d:"M21 7h-7",key:"svg-4"}]]),Y0=NR("arrows-sort","IconArrowsSort",[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]]),X0=NR("baseline-density-large","IconBaselineDensityLarge",[["path",{d:"M4 4h16",key:"svg-0"}],["path",{d:"M4 20h16",key:"svg-1"}]]),Q0=NR("baseline-density-medium","IconBaselineDensityMedium",[["path",{d:"M4 20h16",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M4 4h16",key:"svg-2"}]]),q0=NR("baseline-density-small","IconBaselineDensitySmall",[["path",{d:"M4 3h16",key:"svg-0"}],["path",{d:"M4 9h16",key:"svg-1"}],["path",{d:"M4 15h16",key:"svg-2"}],["path",{d:"M4 21h16",key:"svg-3"}]]),K0=NR("box-multiple","IconBoxMultiple",[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]]),Z0=NR("chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]),J0=NR("chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]),$0=NR("chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),e1=NR("chevrons-down","IconChevronsDown",[["path",{d:"M7 7l5 5l5 -5",key:"svg-0"}],["path",{d:"M7 13l5 5l5 -5",key:"svg-1"}]]),t1=NR("circle-x","IconCircleX",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]]),n1=NR("clear-all","IconClearAll",[["path",{d:"M8 6h12",key:"svg-0"}],["path",{d:"M6 12h12",key:"svg-1"}],["path",{d:"M4 18h12",key:"svg-2"}]]),r1=NR("columns","IconColumns",[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]]),i1=NR("device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]),o1=NR("dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),a1=NR("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),s1=NR("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),l1=NR("filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]),c1=NR("filter-off","IconFilterOff",[["path",{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]),u1=NR("grip-horizontal","IconGripHorizontal",[["path",{d:"M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]]),d1=NR("minimize","IconMinimize",[["path",{d:"M15 19v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M15 5v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M5 15h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M5 9h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]]),h1=NR("pinned","IconPinned",[["path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6",key:"svg-0"}],["path",{d:"M12 16l0 5",key:"svg-1"}],["path",{d:"M8 4l8 0",key:"svg-2"}]]),f1=NR("pinned-off","IconPinnedOff",[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251",key:"svg-1"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-2"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-3"}]]),p1=NR("search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]),m1=NR("search-off","IconSearchOff",[["path",{d:"M5.039 5.062a7 7 0 0 0 9.91 9.89m1.584 -2.434a7 7 0 0 0 -9.038 -9.057",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]),g1=NR("sort-ascending","IconSortAscending",[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]]),v1=NR("sort-descending","IconSortDescending",[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]]),y1=NR("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);function b1(e){return e.split("-")[1]}function x1(e){return"y"===e?"height":"width"}function w1(e){return e.split("-")[0]}function S1(e){return["top","bottom"].includes(w1(e))?"x":"y"}function E1(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,a=r.y+r.height/2-i.height/2,s=S1(t),l=x1(s),c=r[l]/2-i[l]/2,u="x"===s;let d;switch(w1(t)){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:a};break;case"left":d={x:r.x-i.width,y:a};break;default:d={x:r.x,y:r.y}}switch(b1(t)){case"start":d[s]-=c*(n&&u?-1:1);break;case"end":d[s]+=c*(n&&u?-1:1)}return d}function M1(e,t){return"function"==typeof e?e(t):e}function C1(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function _1(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function T1(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=M1(t,e),p=C1(f),m=s[h?"floating"===d?"reference":"floating":d],g=_1(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{...a.floating,x:r,y:i}:a.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},x=_1(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-x.top+p.top)/b.y,bottom:(x.bottom-g.bottom+p.bottom)/b.y,left:(g.left-x.left+p.left)/b.x,right:(x.right-g.right+p.right)/b.x}}const A1=Math.min,P1=Math.max;function O1(e,t,n){return P1(e,A1(t,n))}const D1=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s}=t,{element:l,padding:c=0}=M1(e,t)||{};if(null==l)return{};const u=C1(c),d={x:n,y:r},h=S1(i),f=x1(h),p=await a.getDimensions(l),m="y"===h,g=m?"top":"left",v=m?"bottom":"right",y=m?"clientHeight":"clientWidth",b=o.reference[f]+o.reference[h]-d[h]-o.floating[f],x=d[h]-o.reference[h],w=await(null==a.getOffsetParent?void 0:a.getOffsetParent(l));let S=w?w[y]:0;S&&await(null==a.isElement?void 0:a.isElement(w))||(S=s.floating[y]||o.floating[f]);const E=b/2-x/2,M=S/2-p[f]/2-1,C=A1(u[g],M),_=A1(u[v],M),T=C,A=S-p[f]-_,P=S/2-p[f]/2+E,O=O1(T,P,A),D=null!=b1(i)&&P!=O&&o.reference[f]/2-(P<T?C:_)-p[f]/2<0;return{[h]:d[h]-(D?P<T?T-P:A-P:0),data:{[h]:O,centerOffset:P-O}}}}),R1=["top","right","bottom","left"],k1=(R1.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]),{left:"right",right:"left",bottom:"top",top:"bottom"});function I1(e){return e.replace(/left|right|bottom|top/g,(e=>k1[e]))}function L1(e,t,n){void 0===n&&(n=!1);const r=b1(e),i=S1(e),o=x1(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=I1(a)),{main:a,cross:I1(a)}}const z1={start:"end",end:"start"};function F1(e){return e.replace(/start|end/g,(e=>z1[e]))}const N1=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:a,platform:s,elements:l}=t,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:p=!0,...m}=M1(e,t),g=w1(r),v=w1(a)===a,y=await(null==s.isRTL?void 0:s.isRTL(l.floating)),b=d||(v||!p?[I1(a)]:function(e){const t=I1(e);return[F1(e),t,F1(t)]}(a));d||"none"===f||b.push(...function(e,t,n,r){const i=b1(e);let o=function(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}(w1(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(F1)))),o}(a,p,f,y));const x=[a,...b],w=await T1(t,m),S=[];let E=(null==(n=i.flip)?void 0:n.overflows)||[];if(c&&S.push(w[g]),u){const{main:e,cross:t}=L1(r,o,y);S.push(w[e],w[t])}if(E=[...E,{placement:r,overflows:S}],!S.every((e=>e<=0))){var M,C;const e=((null==(M=i.flip)?void 0:M.index)||0)+1,t=x[e];if(t)return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(C=E.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:C.placement;if(!n)switch(h){case"bestFit":{var _;const e=null==(_=E.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:_[0];e&&(n=e);break}case"initialPlacement":n=a}if(r!==n)return{reset:{placement:n}}}return{}}}};function B1(e){const t=A1(...e.map((e=>e.left))),n=A1(...e.map((e=>e.top)));return{x:t,y:n,width:P1(...e.map((e=>e.right)))-t,height:P1(...e.map((e=>e.bottom)))-n}}const U1=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:o,strategy:a}=t,{padding:s=2,x:l,y:c}=M1(e,t),u=Array.from(await(null==o.getClientRects?void 0:o.getClientRects(r.reference))||[]),d=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),n=[];let r=null;for(let i=0;i<t.length;i++){const e=t[i];!r||e.y-r.y>r.height/2?n.push([e]):n[n.length-1].push(e),r=e}return n.map((e=>_1(B1(e))))}(u),h=_1(B1(u)),f=C1(s),p=await o.getElementRects({reference:{getBoundingClientRect:function(){if(2===d.length&&d[0].left>d[1].right&&null!=l&&null!=c)return d.find((e=>l>e.left-f.left&&l<e.right+f.right&&c>e.top-f.top&&c<e.bottom+f.bottom))||h;if(d.length>=2){if("x"===S1(n)){const e=d[0],t=d[d.length-1],r="top"===w1(n),i=e.top,o=t.bottom,a=r?e.left:t.left,s=r?e.right:t.right;return{top:i,bottom:o,left:a,right:s,width:s-a,height:o-i,x:a,y:i}}const e="left"===w1(n),t=P1(...d.map((e=>e.right))),r=A1(...d.map((e=>e.left))),i=d.filter((n=>e?n.left===r:n.right===t)),o=i[0].top,a=i[i.length-1].bottom;return{top:o,bottom:a,left:r,right:t,width:t-r,height:a-o,x:r,y:o}}return h}},floating:r.floating,strategy:a});return i.reference.x!==p.reference.x||i.reference.y!==p.reference.y||i.reference.width!==p.reference.width||i.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}},j1=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=w1(n),s=b1(n),l="x"===S1(n),c=["left","top"].includes(a)?-1:1,u=o&&l?-1:1,d=M1(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function H1(e){return"x"===e?"y":"x"}const V1=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=M1(e,t),c={x:n,y:r},u=await T1(t,l),d=S1(w1(i)),h=H1(d);let f=c[d],p=c[h];if(o){const e="y"===d?"bottom":"right";f=O1(f+u["y"===d?"top":"left"],f,f-u[e])}if(a){const e="y"===h?"bottom":"right";p=O1(p+u["y"===h?"top":"left"],p,p-u[e])}const m=s.fn({...t,[d]:f,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},G1=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=M1(e,t),u={x:n,y:r},d=S1(i),h=H1(d);let f=u[d],p=u[h];const m=M1(s,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===d?"height":"width",t=o.reference[d]-o.floating[e]+g.mainAxis,n=o.reference[d]+o.reference[e]-g.mainAxis;f<t?f=t:f>n&&(f=n)}if(c){var v,y;const e="y"===d?"width":"height",t=["top","left"].includes(w1(i)),n=o.reference[h]-o.floating[e]+(t&&(null==(v=a.offset)?void 0:v[h])||0)+(t?0:g.crossAxis),r=o.reference[h]+o.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[h])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[d]:f,[h]:p}}}},W1=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:a=(()=>{}),...s}=M1(e,t),l=await T1(t,s),c=w1(n),u=b1(n),d="x"===S1(n),{width:h,height:f}=r.floating;let p,m;"top"===c||"bottom"===c?(p=c,m=u===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(m=c,p="end"===u?"top":"bottom");const g=f-l[p],v=h-l[m],y=!t.middlewareData.shift;let b=g,x=v;if(d){const e=h-l.left-l.right;x=u||y?A1(v,e):e}else{const e=f-l.top-l.bottom;b=u||y?A1(g,e):e}if(y&&!u){const e=P1(l.left,0),t=P1(l.right,0),n=P1(l.top,0),r=P1(l.bottom,0);d?x=h-2*(0!==e||0!==t?e+t:P1(l.left,l.right)):b=f-2*(0!==n||0!==r?n+r:P1(l.top,l.bottom))}await a({...t,availableWidth:x,availableHeight:b});const w=await i.getDimensions(o.floating);return h!==w.width||f!==w.height?{reset:{rects:!0}}:{}}}};function Y1(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function X1(e){return Y1(e).getComputedStyle(e)}function Q1(e){return e instanceof Y1(e).Node}function q1(e){return Q1(e)?(e.nodeName||"").toLowerCase():""}function K1(e){return e instanceof Y1(e).HTMLElement}function Z1(e){return e instanceof Y1(e).Element}function J1(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Y1(e).ShadowRoot||e instanceof ShadowRoot)}function $1(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=X1(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function e2(e){return["table","td","th"].includes(q1(e))}function t2(e){const t=n2(),n=X1(e);return"none"!==n.transform||"none"!==n.perspective||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function n2(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function r2(e){return["html","body","#document"].includes(q1(e))}const i2=Math.min,o2=Math.max,a2=Math.round;function s2(e){const t=X1(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=K1(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=a2(n)!==o||a2(r)!==a;return s&&(n=o,r=a),{width:n,height:r,fallback:s}}function l2(e){return Z1(e)?e:e.contextElement}const c2={x:1,y:1};function u2(e){const t=l2(e);if(!K1(t))return c2;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:o}=s2(t);let a=(o?a2(n.width):n.width)/r,s=(o?a2(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const d2={x:0,y:0};function h2(e,t,n){var r,i;if(void 0===t&&(t=!0),!n2())return d2;const o=e?Y1(e):window;return!n||t&&n!==o?d2:{x:(null==(r=o.visualViewport)?void 0:r.offsetLeft)||0,y:(null==(i=o.visualViewport)?void 0:i.offsetTop)||0}}function f2(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=l2(e);let a=c2;t&&(r?Z1(r)&&(a=u2(r)):a=u2(e));const s=h2(o,n,r);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(o){const e=Y1(o),t=r&&Z1(r)?Y1(r):r;let n=e.frameElement;for(;n&&r&&t!==e;){const e=u2(n),t=n.getBoundingClientRect(),r=getComputedStyle(n);t.x+=(n.clientLeft+parseFloat(r.paddingLeft))*e.x,t.y+=(n.clientTop+parseFloat(r.paddingTop))*e.y,l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=t.x,c+=t.y,n=Y1(n).frameElement}}return _1({width:u,height:d,x:l,y:c})}function p2(e){return((Q1(e)?e.ownerDocument:e.document)||window.document).documentElement}function m2(e){return Z1(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function g2(e){return f2(p2(e)).left+m2(e).scrollLeft}function v2(e){if("html"===q1(e))return e;const t=e.assignedSlot||e.parentNode||J1(e)&&e.host||p2(e);return J1(t)?t.host:t}function y2(e){const t=v2(e);return r2(t)?t.ownerDocument.body:K1(t)&&$1(t)?t:y2(t)}function b2(e,t){var n;void 0===t&&(t=[]);const r=y2(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Y1(r);return i?t.concat(o,o.visualViewport||[],$1(r)?r:[]):t.concat(r,b2(r))}function x2(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Y1(e),r=p2(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const e=n2();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=p2(e),n=m2(e),r=e.ownerDocument.body,i=o2(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=o2(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+g2(e);const s=-n.scrollTop;return"rtl"===X1(r).direction&&(a+=o2(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}(p2(e));else if(Z1(t))r=function(e,t){const n=f2(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=K1(e)?u2(e):{x:1,y:1};return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=h2(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return _1(r)}function w2(e,t){const n=v2(e);return!(n===t||!Z1(n)||r2(n))&&("fixed"===X1(n).position||w2(n,t))}function S2(e,t){return K1(e)&&"fixed"!==X1(e).position?t?t(e):e.offsetParent:null}function E2(e,t){const n=Y1(e);if(!K1(e))return n;let r=S2(e,t);for(;r&&e2(r)&&"static"===X1(r).position;)r=S2(r,t);return r&&("html"===q1(r)||"body"===q1(r)&&"static"===X1(r).position&&!t2(r))?n:r||function(e){let t=v2(e);for(;K1(t)&&!r2(t);){if(t2(t))return t;t=v2(t)}return null}(e)||n}function M2(e,t,n){const r=K1(t),i=p2(t),o="fixed"===n,a=f2(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&!o)if(("body"!==q1(t)||$1(i))&&(s=m2(t)),K1(t)){const e=f2(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=g2(i));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}const C2={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o="clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=b2(e).filter((e=>Z1(e)&&"body"!==q1(e))),i=null;const o="fixed"===X1(e).position;let a=o?v2(e):e;for(;Z1(a)&&!r2(a);){const t=X1(a),n=t2(a);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||$1(a)&&!n&&w2(e,a))?r=r.filter((e=>e!==a)):i=t,a=v2(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...o,r],s=a[0],l=a.reduce(((e,n)=>{const r=x2(t,n,i);return e.top=o2(r.top,e.top),e.right=i2(r.right,e.right),e.bottom=i2(r.bottom,e.bottom),e.left=o2(r.left,e.left),e}),x2(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=K1(n),o=p2(n);if(n===o)return t;let a={scrollLeft:0,scrollTop:0},s={x:1,y:1};const l={x:0,y:0};if((i||!i&&"fixed"!==r)&&(("body"!==q1(n)||$1(o))&&(a=m2(n)),K1(n))){const e=f2(n);s=u2(n),l.x=e.x+n.clientLeft,l.y=e.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}},isElement:Z1,getDimensions:function(e){return s2(e)},getOffsetParent:E2,getDocumentElement:p2,getScale:u2,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||E2,o=this.getDimensions;return{reference:M2(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===X1(e).direction};const _2=(e,t,n)=>{const r=new Map,i={platform:C2,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=E1(c,r,l),h=r,f={},p=0;for(let m=0;m<s.length;m++){const{name:n,fn:o}=s[m],{x:g,y:v,data:y,reset:b}=await o({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,f={...f,[n]:{...f[n],...y}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=E1(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:o})},T2=e=>{const{element:t,padding:n}=e;return{name:"arrow",options:e,fn(e){return r=t,Object.prototype.hasOwnProperty.call(r,"current")?null!=t.current?D1({element:t.current,padding:n}).fn(e):{}:t?D1({element:t,padding:n}).fn(e):{};var r}}};var A2="undefined"!==typeof document?t.useLayoutEffect:t.useEffect;function P2(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;0!==r--;)if(!P2(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!P2(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function O2(e){const n=t.useRef(e);return A2((()=>{n.current=e})),n}var D2="undefined"!==typeof document?t.useLayoutEffect:t.useEffect;let R2=!1,k2=0;const I2=()=>"floating-ui-"+k2++;const L2=i["useId".toString()]||function(){const[e,n]=t.useState((()=>R2?I2():void 0));return D2((()=>{null==e&&n(I2())}),[]),t.useEffect((()=>{R2||(R2=!0)}),[]),e};function z2(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter((e=>e!==n)))}}}const F2=t.createContext(null),N2=t.createContext(null),B2=()=>{var e;return(null==(e=t.useContext(F2))?void 0:e.id)||null},U2=()=>t.useContext(N2);function j2(e){return(null==e?void 0:e.ownerDocument)||document}function H2(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function V2(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function G2(e){return j2(e).defaultView||window}function W2(e){return!!e&&e instanceof G2(e).Element}function Y2(e){return!!e&&e instanceof G2(e).HTMLElement}function X2(e){if(0===e.mozInputSource&&e.isTrusted)return!0;const t=/Android/i;return(t.test(H2())||t.test(V2()))&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType}function Q2(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"!==e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail}function q2(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function K2(e){const n=(0,t.useRef)(e);return D2((()=>{n.current=e})),n}const Z2="data-floating-ui-safe-polygon";function J2(e,t,n){return n&&!q2(n)?0:"number"===typeof e?e:null==e?void 0:e[t]}const $2=function(e,n){let{enabled:r=!0,delay:i=0,handleClose:o=null,mouseOnly:a=!1,restMs:s=0,move:l=!0}=void 0===n?{}:n;const{open:c,onOpenChange:u,dataRef:d,events:h,elements:{domReference:f,floating:p},refs:m}=e,g=U2(),v=B2(),y=K2(o),b=K2(i),x=t.useRef(),w=t.useRef(),S=t.useRef(),E=t.useRef(),M=t.useRef(!0),C=t.useRef(!1),_=t.useRef((()=>{})),T=t.useCallback((()=>{var e;const t=null==(e=d.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[d]);t.useEffect((()=>{if(r)return h.on("dismiss",e),()=>{h.off("dismiss",e)};function e(){clearTimeout(w.current),clearTimeout(E.current),M.current=!0}}),[r,h]),t.useEffect((()=>{if(!r||!y.current||!c)return;function e(){T()&&u(!1)}const t=j2(p).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[p,c,u,r,y,d,T]);const A=t.useCallback((function(e){void 0===e&&(e=!0);const t=J2(b.current,"close",x.current);t&&!S.current?(clearTimeout(w.current),w.current=setTimeout((()=>u(!1)),t)):e&&(clearTimeout(w.current),u(!1))}),[b,u]),P=t.useCallback((()=>{_.current(),S.current=void 0}),[]),O=t.useCallback((()=>{if(C.current){const e=j2(m.floating.current).body;e.style.pointerEvents="",e.removeAttribute(Z2),C.current=!1}}),[m]);return t.useEffect((()=>{if(r&&W2(f)){const e=f;return c&&e.addEventListener("mouseleave",o),null==p||p.addEventListener("mouseleave",o),l&&e.addEventListener("mousemove",n,{once:!0}),e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",i),()=>{c&&e.removeEventListener("mouseleave",o),null==p||p.removeEventListener("mouseleave",o),l&&e.removeEventListener("mousemove",n),e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",i)}}function t(){return!!d.current.openEvent&&["click","mousedown"].includes(d.current.openEvent.type)}function n(e){if(clearTimeout(w.current),M.current=!1,a&&!q2(x.current)||s>0&&0===J2(b.current,"open"))return;d.current.openEvent=e;const t=J2(b.current,"open",x.current);t?w.current=setTimeout((()=>{u(!0)}),t):u(!0)}function i(n){if(t())return;_.current();const r=j2(p);if(clearTimeout(E.current),y.current){c||clearTimeout(w.current),S.current=y.current({...e,tree:g,x:n.clientX,y:n.clientY,onClose(){O(),P(),A()}});const t=S.current;return r.addEventListener("mousemove",t),void(_.current=()=>{r.removeEventListener("mousemove",t)})}A()}function o(n){t()||null==y.current||y.current({...e,tree:g,x:n.clientX,y:n.clientY,onClose(){O(),P(),A()}})(n)}}),[f,p,r,e,a,s,l,A,P,O,u,c,g,b,y,d]),D2((()=>{var e;if(r&&c&&null!=(e=y.current)&&e.__options.blockPointerEvents&&T()){const e=j2(p).body;if(e.setAttribute(Z2,""),e.style.pointerEvents="none",C.current=!0,W2(f)&&p){var t,n;const e=f,r=null==g||null==(t=g.nodesRef.current.find((e=>e.id===v)))||null==(n=t.context)?void 0:n.elements.floating;return r&&(r.style.pointerEvents=""),e.style.pointerEvents="auto",p.style.pointerEvents="auto",()=>{e.style.pointerEvents="",p.style.pointerEvents=""}}}}),[r,c,v,p,f,g,y,d,T]),D2((()=>{c||(x.current=void 0,P(),O())}),[c,P,O]),t.useEffect((()=>()=>{P(),clearTimeout(w.current),clearTimeout(E.current),O()}),[r,P,O]),t.useMemo((()=>{if(!r)return{};function e(e){x.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(){c||0===s||(clearTimeout(E.current),E.current=setTimeout((()=>{M.current||u(!0)}),s))}},floating:{onMouseEnter(){clearTimeout(w.current)},onMouseLeave(){h.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),A(!1)}}}}),[h,r,s,c,u,A])},e3=t.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),t3=()=>t.useContext(e3),n3=e=>{let{children:n,delay:r,timeoutMs:i=0}=e;const[o,a]=t.useReducer(((e,t)=>({...e,...t})),{delay:r,timeoutMs:i,initialDelay:r,currentId:null,isInstantPhase:!1}),s=t.useRef(null),l=t.useCallback((e=>{a({currentId:e})}),[]);return D2((()=>{o.currentId?null===s.current?s.current=o.currentId:a({isInstantPhase:!0}):(a({isInstantPhase:!1}),s.current=null)}),[o.currentId]),t.createElement(e3.Provider,{value:t.useMemo((()=>({...o,setState:a,setCurrentId:l})),[o,a,l])},n)},r3=(e,n)=>{let{open:r,onOpenChange:i}=e,{id:o}=n;const{currentId:a,setCurrentId:s,initialDelay:l,setState:c,timeoutMs:u}=t3();t.useEffect((()=>{a&&(c({delay:{open:1,close:J2(l,"close")}}),a!==o&&i(!1))}),[o,i,c,a,l]),t.useEffect((()=>{function e(){i(!1),c({delay:l,currentId:null})}if(!r&&a===o){if(u){const t=window.setTimeout(e,u);return()=>{clearTimeout(t)}}e()}}),[r,c,a,o,i,l,u]),t.useEffect((()=>{r&&s(o)}),[r,s,o])};function i3(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(r=n.shadowRoot)?void 0:r.activeElement);){var n,r;t=t.shadowRoot.activeElement}return t}function o3(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&function(e){return"undefined"!==typeof ShadowRoot&&(e instanceof G2(e).ShadowRoot||e instanceof ShadowRoot)}(n)){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}return!1}function a3(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}))||[],r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))}))||[],n=n.concat(r);return n}function s3(e){return"composedPath"in e?e.composedPath()[0]:e.target}const l3=i["useInsertionEffect".toString()]||(e=>e());function c3(e){const n=t.useRef((()=>{0}));return l3((()=>{n.current=e})),t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}function u3(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}const d3={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},h3={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},f3=function(e,n){let{open:r,onOpenChange:i,events:o,nodeId:a,elements:{reference:s,domReference:l,floating:c},dataRef:u}=e,{enabled:d=!0,escapeKey:h=!0,outsidePress:f=!0,outsidePressEvent:p="pointerdown",referencePress:m=!1,referencePressEvent:g="pointerdown",ancestorScroll:v=!1,bubbles:y=!0}=void 0===n?{}:n;const b=U2(),x=null!=B2(),w=c3("function"===typeof f?f:()=>!1),S="function"===typeof f?w:f,E=t.useRef(!1),{escapeKeyBubbles:M,outsidePressBubbles:C}=function(e){var t,n;return void 0===e&&(e=!0),{escapeKeyBubbles:"boolean"===typeof e?e:null==(t=e.escapeKey)||t,outsidePressBubbles:"boolean"===typeof e?e:null==(n=e.outsidePress)||n}}(y);return t.useEffect((()=>{if(!r||!d)return;function e(e){if("Escape"===e.key){const e=b?a3(b.nodesRef.current,a):[];if(e.length>0){let t=!0;if(e.forEach((e=>{var n;null==(n=e.context)||!n.open||e.context.dataRef.current.__escapeKeyBubbles||(t=!1)})),!t)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),i(!1)}}function t(e){const t=E.current;if(E.current=!1,t)return;if("function"===typeof S&&!S(e))return;const n=s3(e);if(Y2(n)&&c){const t=c.ownerDocument.defaultView||window,r=n.scrollWidth>n.clientWidth,i=n.scrollHeight>n.clientHeight;let o=i&&e.offsetX>n.clientWidth;if(i){"rtl"===t.getComputedStyle(n).direction&&(o=e.offsetX<=n.offsetWidth-n.clientWidth)}if(o||r&&e.offsetY>n.clientHeight)return}const r=b&&a3(b.nodesRef.current,a).some((t=>{var n;return u3(e,null==(n=t.context)?void 0:n.elements.floating)}));if(u3(e,c)||u3(e,l)||r)return;const s=b?a3(b.nodesRef.current,a):[];if(s.length>0){let e=!0;if(s.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:x?{preventScroll:!0}:X2(e)||Q2(e)}}),i(!1)}function n(){i(!1)}u.current.__escapeKeyBubbles=M,u.current.__outsidePressBubbles=C;const f=j2(c);h&&f.addEventListener("keydown",e),S&&f.addEventListener(p,t);let m=[];return v&&(W2(l)&&(m=b2(l)),W2(c)&&(m=m.concat(b2(c))),!W2(s)&&s&&s.contextElement&&(m=m.concat(b2(s.contextElement)))),m=m.filter((e=>{var t;return e!==(null==(t=f.defaultView)?void 0:t.visualViewport)})),m.forEach((e=>{e.addEventListener("scroll",n,{passive:!0})})),()=>{h&&f.removeEventListener("keydown",e),S&&f.removeEventListener(p,t),m.forEach((e=>{e.removeEventListener("scroll",n)}))}}),[u,c,l,s,h,S,p,o,b,a,r,i,v,d,M,C,x]),t.useEffect((()=>{E.current=!1}),[S,p]),t.useMemo((()=>d?{reference:{[d3[g]]:()=>{m&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),i(!1))}},floating:{[h3[p]]:()=>{E.current=!0}}}:{}),[d,o,m,p,g,i])},p3=function(e,n){let{open:r,onOpenChange:i,dataRef:o,events:a,refs:s,elements:{floating:l,domReference:c}}=e,{enabled:u=!0,keyboardOnly:d=!0}=void 0===n?{}:n;const h=t.useRef(""),f=t.useRef(!1),p=t.useRef();return t.useEffect((()=>{if(!u)return;const e=j2(l).defaultView||window;function t(){!r&&Y2(c)&&c===i3(j2(c))&&(f.current=!0)}return e.addEventListener("blur",t),()=>{e.removeEventListener("blur",t)}}),[l,c,r,u]),t.useEffect((()=>{if(u)return a.on("dismiss",e),()=>{a.off("dismiss",e)};function e(e){"referencePress"!==e.type&&"escapeKey"!==e.type||(f.current=!0)}}),[a,u]),t.useEffect((()=>()=>{clearTimeout(p.current)}),[]),t.useMemo((()=>u?{reference:{onPointerDown(e){let{pointerType:t}=e;h.current=t,f.current=!(!t||!d)},onMouseLeave(){f.current=!1},onFocus(e){var t;f.current||"focus"===e.type&&"mousedown"===(null==(t=o.current.openEvent)?void 0:t.type)&&o.current.openEvent&&u3(o.current.openEvent,c)||(o.current.openEvent=e.nativeEvent,i(!0))},onBlur(e){f.current=!1;const t=e.relatedTarget,n=W2(t)&&t.hasAttribute("data-floating-ui-focus-guard")&&"outside"===t.getAttribute("data-type");p.current=setTimeout((()=>{o3(s.floating.current,t)||o3(c,t)||n||i(!1)}))}}}:{}),[u,d,c,s,o,i])};const m3=function(e,n){let{open:r}=e,{enabled:i=!0,role:o="dialog"}=void 0===n?{}:n;const a=L2(),s=L2();return t.useMemo((()=>{const e={id:a,role:o};return i?"tooltip"===o?{reference:{"aria-describedby":r?a:void 0},floating:e}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===o?"dialog":o,"aria-controls":r?a:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:s}},floating:{...e,..."menu"===o&&{"aria-labelledby":s}}}:{}}),[i,o,r,a,s])};function g3(e){void 0===e&&(e={});const{open:n=!1,onOpenChange:r,nodeId:i}=e,o=function(e){void 0===e&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:o,whileElementsMounted:a,open:s}=e,[l,c]=t.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[u,d]=t.useState(i);P2(u,i)||d(i);const h=t.useRef(null),f=t.useRef(null),p=t.useRef(l),m=O2(a),g=O2(o),[v,y]=t.useState(null),[b,x]=t.useState(null),w=t.useCallback((e=>{h.current!==e&&(h.current=e,y(e))}),[]),S=t.useCallback((e=>{f.current!==e&&(f.current=e,x(e))}),[]),E=t.useCallback((()=>{if(!h.current||!f.current)return;const e={placement:n,strategy:r,middleware:u};g.current&&(e.platform=g.current),_2(h.current,f.current,e).then((e=>{const t={...e,isPositioned:!0};M.current&&!P2(p.current,t)&&(p.current=t,cD.flushSync((()=>{c(t)})))}))}),[u,n,r,g]);A2((()=>{!1===s&&p.current.isPositioned&&(p.current.isPositioned=!1,c((e=>({...e,isPositioned:!1}))))}),[s]);const M=t.useRef(!1);A2((()=>(M.current=!0,()=>{M.current=!1})),[]),A2((()=>{if(v&&b){if(m.current)return m.current(v,b,E);E()}}),[v,b,E,m]);const C=t.useMemo((()=>({reference:h,floating:f,setReference:w,setFloating:S})),[w,S]),_=t.useMemo((()=>({reference:v,floating:b})),[v,b]);return t.useMemo((()=>({...l,update:E,refs:C,elements:_,reference:w,floating:S})),[l,E,C,_,w,S])}(e),a=U2(),s=t.useRef(null),l=t.useRef({}),c=t.useState((()=>z2()))[0],[u,d]=t.useState(null),h=t.useCallback((e=>{const t=W2(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;o.refs.setReference(t)}),[o.refs]),f=t.useCallback((e=>{(W2(e)||null===e)&&(s.current=e,d(e)),(W2(o.refs.reference.current)||null===o.refs.reference.current||null!==e&&!W2(e))&&o.refs.setReference(e)}),[o.refs]),p=t.useMemo((()=>({...o.refs,setReference:f,setPositionReference:h,domReference:s})),[o.refs,f,h]),m=t.useMemo((()=>({...o.elements,domReference:u})),[o.elements,u]),g=c3(r),v=t.useMemo((()=>({...o,refs:p,elements:m,dataRef:l,nodeId:i,events:c,open:n,onOpenChange:g})),[o,i,c,n,g,p,m]);return D2((()=>{const e=null==a?void 0:a.nodesRef.current.find((e=>e.id===i));e&&(e.context=v)})),t.useMemo((()=>({...o,context:v,refs:p,reference:f,positionReference:h})),[o,p,v,f,h])}function v3(e,t,n){const r=new Map;return{..."floating"===n&&{tabIndex:-1},...e,...t.map((e=>e?e[n]:null)).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,i]=t;var o;0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"===typeof i&&(null==(o=r.get(n))||o.push(i),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];null==(e=r.get(n))||e.forEach((e=>e(...i)))})):e[n]=i})),e):e),{})}}const y3=(0,t.createContext)(!1),b3=y3.Provider;function x3(e){let{children:n,openDelay:r=0,closeDelay:i=0}=e;return t.createElement(b3,{value:!0},t.createElement(n3,{delay:{open:r,close:i}},n))}x3.displayName="@mantine/core/TooltipGroup";var w3=Object.defineProperty,S3=Object.defineProperties,E3=Object.getOwnPropertyDescriptors,M3=Object.getOwnPropertySymbols,C3=Object.prototype.hasOwnProperty,_3=Object.prototype.propertyIsEnumerable,T3=(e,t,n)=>t in e?w3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A3=(e,t)=>{for(var n in t||(t={}))C3.call(t,n)&&T3(e,n,t[n]);if(M3)for(var n of M3(t))_3.call(t,n)&&T3(e,n,t[n]);return e},P3=(e,t)=>S3(e,E3(t));function O3(e,t){if(!t)return{backgroundColor:"dark"===e.colorScheme?e.colors.gray[2]:e.colors.gray[9],color:"dark"===e.colorScheme?e.black:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var D3=_A(((e,t)=>{let{color:n,radius:r,width:i,multiline:o}=t;return{tooltip:P3(A3(A3({},e.fn.fontStyles()),O3(e,n)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(r),padding:`calc(${e.spacing.xs} / 2) ${e.spacing.xs}`,position:"absolute",whiteSpace:o?"unset":"nowrap",pointerEvents:"none",width:i}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}}));const R3=D3,k3={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};var I3=Object.defineProperty,L3=Object.defineProperties,z3=Object.getOwnPropertyDescriptors,F3=Object.getOwnPropertySymbols,N3=Object.prototype.hasOwnProperty,B3=Object.prototype.propertyIsEnumerable,U3=(e,t,n)=>t in e?I3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j3=(e,t)=>{for(var n in t||(t={}))N3.call(t,n)&&U3(e,n,t[n]);if(F3)for(var n of F3(t))B3.call(t,n)&&U3(e,n,t[n]);return e},H3=(e,t)=>L3(e,z3(t));const V3={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:eK("popover")};function G3(e){var n;const r=GT("TooltipFloating",V3,e),{children:i,refProp:o,withinPortal:a,portalProps:s,style:l,className:c,classNames:u,styles:d,unstyled:h,radius:f,color:p,label:m,offset:g,position:v,multiline:y,width:b,zIndex:x,disabled:w,variant:S}=r,E=((e,t)=>{var n={};for(var r in e)N3.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&F3)for(var r of F3(e))t.indexOf(r)<0&&B3.call(e,r)&&(n[r]=e[r]);return n})(r,["children","refProp","withinPortal","portalProps","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled","variant"]),{handleMouseMove:M,x:C,y:_,opened:T,boundaryRef:A,floating:P,setOpened:O}=function(e){let{offset:n,position:r}=e;const[i,o]=(0,t.useState)(!1),a=(0,t.useRef)(),{x:s,y:l,reference:c,floating:u,refs:d,update:h,placement:f}=g3({placement:r,middleware:[V1({crossAxis:!0,padding:5,rootBoundary:"document"})]}),p=f.includes("right")?n:r.includes("left")?-1*n:0,m=f.includes("bottom")?n:r.includes("top")?-1*n:0,g=(0,t.useCallback)((e=>{let{clientX:t,clientY:n}=e;c({getBoundingClientRect:()=>({width:0,height:0,x:t,y:n,left:t+p,top:n+m,right:t,bottom:n})})}),[c]);return(0,t.useEffect)((()=>{if(d.floating.current){const e=a.current;e.addEventListener("mousemove",g);const t=b2(d.floating.current);return t.forEach((e=>{e.addEventListener("scroll",h)})),()=>{e.removeEventListener("mousemove",g),t.forEach((e=>{e.removeEventListener("scroll",h)}))}}}),[c,d.floating.current,h,g,i]),{handleMouseMove:g,x:s,y:l,opened:i,setOpened:o,boundaryRef:a,floating:u}}({offset:g,position:v}),{classes:D,cx:R}=R3({radius:f,color:p,multiline:y,width:b},{name:"TooltipFloating",classNames:u,styles:d,unstyled:h,variant:S});if(!CZ(i))throw new Error(k3.children);const k=LZ(A,i.ref);return t.createElement(t.Fragment,null,t.createElement(YJ,H3(j3({},s),{withinPortal:a}),t.createElement(hP,H3(j3({},E),{ref:P,className:R(D.tooltip,c),style:H3(j3({},l),{zIndex:x,display:!w&&T?"block":"none",top:null!=_?_:"",left:null!=(n=Math.round(C))?n:""})}),m)),(0,t.cloneElement)(i,H3(j3({},i.props),{[o]:k,onMouseEnter:e=>{var t,n;null==(n=(t=i.props).onMouseEnter)||n.call(t,e),M(e),O(!0)},onMouseLeave:e=>{var t,n;null==(n=(t=i.props).onMouseLeave)||n.call(t,e),O(!1)}})))}function W3(e){let{opened:n,floating:r,position:i,positionDependencies:o}=e;const[a,s]=(0,t.useState)(0);(0,t.useEffect)((()=>{if(r.refs.reference.current&&r.refs.floating.current)return function(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=!0,animationFrame:s=!1}=r,l=i||o?[...Z1(e)?b2(e):e.contextElement?b2(e.contextElement):[],...b2(t)]:[];l.forEach((e=>{const t=!Z1(e)&&e.toString().includes("V");!i||s&&!t||e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));let c,u=null;a&&(u=new ResizeObserver((()=>{n()})),Z1(e)&&!s&&u.observe(e),Z1(e)||!e.contextElement||s||u.observe(e.contextElement),u.observe(t));let d=s?f2(e):null;return s&&function t(){const r=f2(e);!d||r.x===d.x&&r.y===d.y&&r.width===d.width&&r.height===d.height||n(),d=r,c=requestAnimationFrame(t)}(),n(),()=>{var e;l.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==(e=u)||e.disconnect(),u=null,s&&cancelAnimationFrame(c)}}(r.refs.reference.current,r.refs.floating.current,r.update)}),[r.refs.reference.current,r.refs.floating.current,n,a,i]),Zq((()=>{r.update()}),o),Zq((()=>{s((e=>e+1))}),[n])}function Y3(e){const[n,r]=(0,t.useState)(!1),i="boolean"===typeof e.opened?e.opened:n,o=(0,t.useContext)(y3),a=pI(),{delay:s,currentId:l,setCurrentId:c}=t3(),u=(0,t.useCallback)((e=>{r(e),e&&c(a)}),[c,a]),{x:d,y:h,reference:f,floating:p,context:m,refs:g,update:v,placement:y,middlewareData:{arrow:{x:b,y:x}={}}}=g3({placement:e.position,open:i,onOpenChange:u,middleware:[j1(e.offset),V1({padding:8}),N1(),T2({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[U1()]:[]]}),{getReferenceProps:w,getFloatingProps:S}=function(e){void 0===e&&(e=[]);const n=e,r=t.useCallback((t=>v3(t,e,"reference")),n),i=t.useCallback((t=>v3(t,e,"floating")),n),o=t.useCallback((t=>v3(t,e,"item")),e.map((e=>null==e?void 0:e.item)));return t.useMemo((()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:o})),[r,i,o])}([$2(m,{enabled:e.events.hover,delay:o?s:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),p3(m,{enabled:e.events.focus,keyboardOnly:!0}),m3(m,{role:"tooltip"}),f3(m,{enabled:void 0===typeof e.opened}),r3(m,{id:a})]);W3({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:g,update:v}}),Zq((()=>{var t;null==(t=e.onPositionChange)||t.call(e,y)}),[y]);return{x:d,y:h,arrowX:b,arrowY:x,reference:f,floating:p,getFloatingProps:S,getReferenceProps:w,isGroupPhase:i&&l&&l!==a,opened:i,placement:y}}function X3(e,t){if("rtl"===e&&(t.includes("right")||t.includes("left"))){const[e,n]=t.split("-"),r="right"===e?"left":"right";return void 0===n?r:`${r}-${n}`}return t}G3.displayName="@mantine/core/TooltipFloating";var Q3=Object.defineProperty,q3=Object.defineProperties,K3=Object.getOwnPropertyDescriptors,Z3=Object.getOwnPropertySymbols,J3=Object.prototype.hasOwnProperty,$3=Object.prototype.propertyIsEnumerable,e4=(e,t,n)=>t in e?Q3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t4=(e,t)=>{for(var n in t||(t={}))J3.call(t,n)&&e4(e,n,t[n]);if(Z3)for(var n of Z3(t))$3.call(t,n)&&e4(e,n,t[n]);return e},n4=(e,t)=>q3(e,K3(t));function r4(e,t,n,r){return"center"===e||"center"===r?{top:t}:"end"===e?{bottom:n}:"start"===e?{top:n}:{}}function i4(e,t,n,r,i){return"center"===e||"center"===r?{left:t}:"end"===e?{["ltr"===i?"right":"left"]:n}:"start"===e?{["ltr"===i?"left":"right"]:n}:{}}const o4={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function a4(e){let{position:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowPosition:o,arrowX:a,arrowY:s,dir:l}=e;const[c,u="center"]=t.split("-"),d={width:Y_(n),height:Y_(n),transform:"rotate(45deg)",position:"absolute",[o4[c]]:Y_(i)},h=Y_(-n/2);return"left"===c?n4(t4(t4({},d),r4(u,s,r,o)),{right:h,borderLeftColor:"transparent",borderBottomColor:"transparent"}):"right"===c?n4(t4(t4({},d),r4(u,s,r,o)),{left:h,borderRightColor:"transparent",borderTopColor:"transparent"}):"top"===c?n4(t4(t4({},d),i4(u,a,r,o,l)),{bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent"}):"bottom"===c?n4(t4(t4({},d),i4(u,a,r,o,l)),{top:h,borderBottomColor:"transparent",borderRightColor:"transparent"}):{}}var s4=Object.defineProperty,l4=Object.defineProperties,c4=Object.getOwnPropertyDescriptors,u4=Object.getOwnPropertySymbols,d4=Object.prototype.hasOwnProperty,h4=Object.prototype.propertyIsEnumerable,f4=(e,t,n)=>t in e?s4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const p4=(0,t.forwardRef)(((e,n)=>{var r=e,{position:i,arrowSize:o,arrowOffset:a,arrowRadius:s,arrowPosition:l,visible:c,arrowX:u,arrowY:d}=r,h=((e,t)=>{var n={};for(var r in e)d4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u4)for(var r of u4(e))t.indexOf(r)<0&&h4.call(e,r)&&(n[r]=e[r]);return n})(r,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const f=HT();return c?t.createElement("div",((e,t)=>l4(e,c4(t)))(((e,t)=>{for(var n in t||(t={}))d4.call(t,n)&&f4(e,n,t[n]);if(u4)for(var n of u4(t))h4.call(t,n)&&f4(e,n,t[n]);return e})({},h),{ref:n,style:a4({position:i,arrowSize:o,arrowOffset:a,arrowRadius:s,arrowPosition:l,dir:f.dir,arrowX:u,arrowY:d})})):null}));p4.displayName="@mantine/core/FloatingArrow";var m4=Object.defineProperty,g4=Object.defineProperties,v4=Object.getOwnPropertyDescriptors,y4=Object.getOwnPropertySymbols,b4=Object.prototype.hasOwnProperty,x4=Object.prototype.propertyIsEnumerable,w4=(e,t,n)=>t in e?m4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S4=(e,t)=>{for(var n in t||(t={}))b4.call(t,n)&&w4(e,n,t[n]);if(y4)for(var n of y4(t))x4.call(t,n)&&w4(e,n,t[n]);return e},E4=(e,t)=>g4(e,v4(t));const M4={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:eK("popover"),positionDependencies:[]},C4=(0,t.forwardRef)(((e,n)=>{var r;const i=(0,t.useRef)(null),o=GT("Tooltip",M4,e),{children:a,position:s,refProp:l,label:c,openDelay:u,closeDelay:d,onPositionChange:h,opened:f,withinPortal:p,portalProps:m,radius:g,color:v,classNames:y,styles:b,unstyled:x,style:w,className:S,withArrow:E,arrowSize:M,arrowOffset:C,arrowRadius:_,arrowPosition:T,offset:A,transitionProps:P,multiline:O,width:D,events:R,zIndex:k,disabled:I,positionDependencies:L,onClick:z,onMouseEnter:F,onMouseLeave:N,inline:B,variant:U,keepMounted:j}=o,H=((e,t)=>{var n={};for(var r in e)b4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&y4)for(var r of y4(e))t.indexOf(r)<0&&x4.call(e,r)&&(n[r]=e[r]);return n})(o,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","portalProps","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transitionProps","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline","variant","keepMounted"]),{classes:V,cx:G,theme:W}=R3({radius:g,color:v,width:D,multiline:O},{name:"Tooltip",classNames:y,styles:b,unstyled:x,variant:U}),Y=Y3({position:X3(W.dir,s),closeDelay:d,openDelay:u,onPositionChange:h,opened:f,events:R,arrowRef:i,arrowOffset:C,offset:A+(E?M/2:0),positionDependencies:[...L,a],inline:B});if(!CZ(a))throw new Error(k3.children);const X=LZ(Y.reference,a.ref,n);return t.createElement(t.Fragment,null,t.createElement(YJ,E4(S4({},m),{withinPortal:p}),t.createElement(QK,E4(S4({keepMounted:j,mounted:!I&&Y.opened},P),{transition:P.transition||"fade",duration:Y.isGroupPhase?10:null!=(r=P.duration)?r:100}),(e=>{var n,r;return t.createElement(hP,S4(S4({},H),Y.getFloatingProps({ref:Y.floating,className:V.tooltip,style:E4(S4(S4({},w),e),{zIndex:k,top:null!=(n=Y.y)?n:0,left:null!=(r=Y.x)?r:0})})),c,t.createElement(p4,{ref:i,arrowX:Y.arrowX,arrowY:Y.arrowY,visible:E,position:Y.placement,arrowSize:M,arrowOffset:C,arrowRadius:_,arrowPosition:T,className:V.arrow}))}))),(0,t.cloneElement)(a,Y.getReferenceProps(S4({onClick:z,onMouseEnter:F,onMouseLeave:N,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[l]:X,className:G(S,a.props.className)},a.props))))}));C4.Group=x3,C4.Floating=G3,C4.displayName="@mantine/core/Tooltip";const _4=C4;const T4="Menu component was not found in the tree",A4="Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported",[P4,O4]=GR(T4);const D4=_A((e=>({divider:{marginTop:Y_(4),marginBottom:Y_(4),borderTop:`${Y_(1)} solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2]}`}})));var R4=Object.defineProperty,k4=Object.getOwnPropertySymbols,I4=Object.prototype.hasOwnProperty,L4=Object.prototype.propertyIsEnumerable,z4=(e,t,n)=>t in e?R4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const F4={},N4=(0,t.forwardRef)(((e,n)=>{const r=GT("MenuDivider",F4,e),{children:i,className:o}=r,a=((e,t)=>{var n={};for(var r in e)I4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&k4)for(var r of k4(e))t.indexOf(r)<0&&L4.call(e,r)&&(n[r]=e[r]);return n})(r,["children","className"]),{classNames:s,styles:l,unstyled:c,variant:u}=O4(),{classes:d,cx:h}=D4(null,{name:"Menu",classNames:s,styles:l,unstyled:c,variant:u});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))I4.call(t,n)&&z4(e,n,t[n]);if(k4)for(var n of k4(t))L4.call(t,n)&&z4(e,n,t[n]);return e})({className:h(d.divider,o),ref:n},a))}));function B4(e,t){return n=>{null==e||e(n),null==t||t(n)}}N4.displayName="@mantine/core/MenuDivider";const U4=["mousedown","touchstart"];function j4(e){const t=[j1(e.offset)];return e.middlewares.shift&&t.push(V1({limiter:G1()})),e.middlewares.flip&&t.push(N1()),e.middlewares.inline&&t.push(U1()),t.push(T2({element:e.arrowRef,padding:e.arrowOffset})),t}const H4="Popover component was not found in the tree",V4="Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported",[G4,W4]=GR(H4);var Y4=Object.defineProperty,X4=Object.defineProperties,Q4=Object.getOwnPropertyDescriptors,q4=Object.getOwnPropertySymbols,K4=Object.prototype.hasOwnProperty,Z4=Object.prototype.propertyIsEnumerable,J4=(e,t,n)=>t in e?Y4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$4=(e,t)=>{for(var n in t||(t={}))K4.call(t,n)&&J4(e,n,t[n]);if(q4)for(var n of q4(t))Z4.call(t,n)&&J4(e,n,t[n]);return e};const e5={refProp:"ref",popupType:"dialog"},t5=(0,t.forwardRef)(((e,n)=>{const r=GT("PopoverTarget",e5,e),{children:i,refProp:o,popupType:a}=r,s=((e,t)=>{var n={};for(var r in e)K4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&q4)for(var r of q4(e))t.indexOf(r)<0&&Z4.call(e,r)&&(n[r]=e[r]);return n})(r,["children","refProp","popupType"]);if(!CZ(i))throw new Error(V4);const l=s,c=W4(),u=LZ(c.reference,i.ref,n),d=c.withRoles?{"aria-haspopup":a,"aria-expanded":c.opened,"aria-controls":c.getDropdownId(),id:c.getTargetId()}:{};return(0,t.cloneElement)(i,$4(((e,t)=>X4(e,Q4(t)))($4($4($4({},l),d),c.targetProps),{className:XT(c.targetProps.className,l.className,i.props.className),[o]:u}),c.controlled?null:{onClick:c.onToggle}))}));t5.displayName="@mantine/core/PopoverTarget";const n5=()=>{};function r5(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{active:!0};return"function"===typeof e&&t.active?n=>{var r;"Escape"===n.key&&(e(n),null==(r=t.onTrigger)||r.call(t))}:t.onKeyDown||n5}var i5=_A(((e,t)=>{let{radius:n,shadow:r}=t;return{dropdown:{position:"absolute",backgroundColor:e.white,background:"dark"===e.colorScheme?e.colors.dark[6]:e.white,border:`${Y_(1)} solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm} ${e.spacing.md}`,boxShadow:e.shadows[r]||r||"none",borderRadius:e.fn.radius(n),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`${Y_(1)} solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}}));const o5=i5;var a5=Object.defineProperty,s5=Object.defineProperties,l5=Object.getOwnPropertyDescriptors,c5=Object.getOwnPropertySymbols,u5=Object.prototype.hasOwnProperty,d5=Object.prototype.propertyIsEnumerable,h5=(e,t,n)=>t in e?a5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f5=(e,t)=>{for(var n in t||(t={}))u5.call(t,n)&&h5(e,n,t[n]);if(c5)for(var n of c5(t))d5.call(t,n)&&h5(e,n,t[n]);return e},p5=(e,t)=>s5(e,l5(t));const m5={};function g5(e){var n;const r=GT("PopoverDropdown",m5,e),{style:i,className:o,children:a,onKeyDownCapture:s}=r,l=((e,t)=>{var n={};for(var r in e)u5.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c5)for(var r of c5(e))t.indexOf(r)<0&&d5.call(e,r)&&(n[r]=e[r]);return n})(r,["style","className","children","onKeyDownCapture"]),c=W4(),{classes:u,cx:d}=o5({radius:c.radius,shadow:c.shadow},{name:c.__staticSelector,classNames:c.classNames,styles:c.styles,unstyled:c.unstyled,variant:c.variant}),h=Jq({opened:c.opened,shouldReturnFocus:c.returnFocus}),f=c.withRoles?{"aria-labelledby":c.getTargetId(),id:c.getDropdownId(),role:"dialog"}:{};return c.disabled?null:t.createElement(YJ,p5(f5({},c.portalProps),{withinPortal:c.withinPortal}),t.createElement(QK,p5(f5({mounted:c.opened},c.transitionProps),{transition:c.transitionProps.transition||"fade",duration:null!=(n=c.transitionProps.duration)?n:150,keepMounted:c.keepMounted,exitDuration:"number"===typeof c.transitionProps.exitDuration?c.transitionProps.exitDuration:c.transitionProps.duration}),(e=>{var n,r;return t.createElement(zZ,{active:c.trapFocus},t.createElement(hP,f5(p5(f5({},f),{tabIndex:-1,ref:c.floating,style:p5(f5(f5({},i),e),{zIndex:c.zIndex,top:null!=(n=c.y)?n:0,left:null!=(r=c.x)?r:0,width:"target"===c.width?void 0:Y_(c.width)}),className:d(u.dropdown,o),onKeyDownCapture:r5(c.onClose,{active:c.closeOnEscape,onTrigger:h,onKeyDown:s}),"data-position":c.placement}),l),a,t.createElement(p4,{ref:c.arrowRef,arrowX:c.arrowX,arrowY:c.arrowY,visible:c.withArrow,position:c.placement,arrowSize:c.arrowSize,arrowRadius:c.arrowRadius,arrowOffset:c.arrowOffset,arrowPosition:c.arrowPosition,className:u.arrow})))})))}g5.displayName="@mantine/core/PopoverDropdown";var v5=Object.getOwnPropertySymbols,y5=Object.prototype.hasOwnProperty,b5=Object.prototype.propertyIsEnumerable,x5=(e,t)=>{var n={};for(var r in e)y5.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&v5)for(var r of v5(e))t.indexOf(r)<0&&b5.call(e,r)&&(n[r]=e[r]);return n};const w5={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:eK("popover"),__staticSelector:"Popover",width:"max-content"};function S5(e){var n,r,i,o,a,s;const l=(0,t.useRef)(null),c=GT("Popover",w5,e),{children:u,position:d,offset:h,onPositionChange:f,positionDependencies:p,opened:m,transitionProps:g,width:v,middlewares:y,withArrow:b,arrowSize:x,arrowOffset:w,arrowRadius:S,arrowPosition:E,unstyled:M,classNames:C,styles:_,closeOnClickOutside:T,withinPortal:A,portalProps:P,closeOnEscape:O,clickOutsideEvents:D,trapFocus:R,onClose:k,onOpen:I,onChange:L,zIndex:z,radius:F,shadow:N,id:B,defaultOpened:U,__staticSelector:j,withRoles:H,disabled:V,returnFocus:G,variant:W,keepMounted:Y}=c,X=x5(c,["children","position","offset","onPositionChange","positionDependencies","opened","transitionProps","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","portalProps","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","__staticSelector","withRoles","disabled","returnFocus","variant","keepMounted"]),[Q,q]=(0,t.useState)(null),[K,Z]=(0,t.useState)(null),J=pI(B),$=function(e){const[t,n]=mI({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=g3({placement:e.position,middleware:[...j4(e),..."target"===e.width?[W1({apply(e){let{rects:t}=e;var n,i;Object.assign(null!=(i=null==(n=r.refs.floating.current)?void 0:n.style)?i:{},{width:`${t.reference.width}px`})}})]:[]]});return W3({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies,floating:r}),Zq((()=>{var t;null==(t=e.onPositionChange)||t.call(e,r.placement)}),[r.placement]),Zq((()=>{var t,n;e.opened?null==(n=e.onOpen)||n.call(e):null==(t=e.onClose)||t.call(e)}),[e.opened]),{floating:r,controlled:"boolean"===typeof e.opened,opened:t,onClose:()=>{var t;null==(t=e.onClose)||t.call(e),n(!1)},onToggle:()=>{var r,i;t?(null==(r=e.onClose)||r.call(e),n(!1)):(null==(i=e.onOpen)||i.call(e),n(!0))}}}({middlewares:y,width:v,position:X3(HT().dir,d),offset:"number"===typeof h?h+(b?x/2:0):h,arrowRef:l,arrowOffset:w,onPositionChange:f,positionDependencies:p,opened:m,defaultOpened:U,onChange:L,onOpen:I,onClose:k});!function(e,n,r){const i=(0,t.useRef)();(0,t.useEffect)((()=>{const t=t=>{const{target:n}=null!=t?t:{};if(Array.isArray(r)){const i=(null==n?void 0:n.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(n)&&"HTML"!==n.tagName,o=r.every((e=>!!e&&!t.composedPath().includes(e)));o&&!i&&e()}else i.current&&!i.current.contains(n)&&e()};return(n||U4).forEach((e=>document.addEventListener(e,t))),()=>{(n||U4).forEach((e=>document.removeEventListener(e,t)))}}),[i,e,r])}((()=>$.opened&&T&&$.onClose()),D,[Q,K]);const ee=(0,t.useCallback)((e=>{q(e),$.floating.reference(e)}),[$.floating.reference]),te=(0,t.useCallback)((e=>{Z(e),$.floating.floating(e)}),[$.floating.floating]);return t.createElement(G4,{value:{returnFocus:G,disabled:V,controlled:$.controlled,reference:ee,floating:te,x:$.floating.x,y:$.floating.y,arrowX:null==(i=null==(r=null==(n=$.floating)?void 0:n.middlewareData)?void 0:r.arrow)?void 0:i.x,arrowY:null==(s=null==(a=null==(o=$.floating)?void 0:o.middlewareData)?void 0:a.arrow)?void 0:s.y,opened:$.opened,arrowRef:l,transitionProps:g,width:v,withArrow:b,arrowSize:x,arrowOffset:w,arrowRadius:S,arrowPosition:E,placement:$.floating.placement,trapFocus:R,withinPortal:A,portalProps:P,zIndex:z,radius:F,shadow:N,closeOnEscape:O,onClose:$.onClose,onToggle:$.onToggle,getTargetId:()=>`${J}-target`,getDropdownId:()=>`${J}-dropdown`,withRoles:H,targetProps:X,__staticSelector:j,classNames:C,styles:_,unstyled:M,variant:W,keepMounted:Y}},u)}S5.Target=t5,S5.Dropdown=g5,S5.displayName="@mantine/core/Popover";var E5=Object.defineProperty,M5=Object.getOwnPropertySymbols,C5=Object.prototype.hasOwnProperty,_5=Object.prototype.propertyIsEnumerable,T5=(e,t,n)=>t in e?E5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const A5={};function P5(e){const n=GT("MenuDropdown",A5,e),{children:r,onMouseEnter:i,onMouseLeave:o}=n,a=((e,t)=>{var n={};for(var r in e)C5.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&M5)for(var r of M5(e))t.indexOf(r)<0&&_5.call(e,r)&&(n[r]=e[r]);return n})(n,["children","onMouseEnter","onMouseLeave"]),s=(0,t.useRef)(),l=O4(),c=B4(i,(()=>"hover"===l.trigger&&l.openDropdown())),u=B4(o,(()=>"hover"===l.trigger&&l.closeDropdown()));return t.createElement(S5.Dropdown,((e,t)=>{for(var n in t||(t={}))C5.call(t,n)&&T5(e,n,t[n]);if(M5)for(var n of M5(t))_5.call(t,n)&&T5(e,n,t[n]);return e})({onMouseEnter:c,onMouseLeave:u,role:"menu","aria-orientation":"vertical"},a),t.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:e=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),s.current.querySelectorAll("[data-menu-item]")[0].focus())},ref:s,style:{outline:0}},r))}P5.displayName="@mantine/core/MenuDropdown";var O5=Object.defineProperty,D5=Object.defineProperties,R5=Object.getOwnPropertyDescriptors,k5=Object.getOwnPropertySymbols,I5=Object.prototype.hasOwnProperty,L5=Object.prototype.propertyIsEnumerable,z5=(e,t,n)=>t in e?O5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F5=(e,t)=>{for(var n in t||(t={}))I5.call(t,n)&&z5(e,n,t[n]);if(k5)for(var n of k5(t))L5.call(t,n)&&z5(e,n,t[n]);return e},N5=(e,t)=>D5(e,R5(t)),B5=_A(((e,t)=>{let{color:n,radius:r}=t;return{item:N5(F5({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs} ${e.spacing.sm}`,cursor:"pointer",borderRadius:e.fn.radius(r),color:n?e.fn.variant({variant:"filled",primaryFallback:!1,color:n}).background:"dark"===e.colorScheme?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:n?e.fn.variant({variant:"light",color:n}).background:"dark"===e.colorScheme?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}}));const U5=B5;var j5=Object.defineProperty,H5=Object.defineProperties,V5=Object.getOwnPropertyDescriptors,G5=Object.getOwnPropertySymbols,W5=Object.prototype.hasOwnProperty,Y5=Object.prototype.propertyIsEnumerable,X5=(e,t,n)=>t in e?j5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Q5={},q5=(0,t.forwardRef)(((e,n)=>{const r=GT("MenuItem",Q5,e),{children:i,className:o,color:a,closeMenuOnClick:s,icon:l,rightSection:c}=r,u=((e,t)=>{var n={};for(var r in e)W5.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&G5)for(var r of G5(e))t.indexOf(r)<0&&Y5.call(e,r)&&(n[r]=e[r]);return n})(r,["children","className","color","closeMenuOnClick","icon","rightSection"]),d=O4(),{classes:h,cx:f,theme:p}=U5({radius:d.radius,color:a},{name:"Menu",classNames:d.classNames,styles:d.styles,unstyled:d.unstyled,variant:d.variant}),m=(0,t.useRef)(),g=d.getItemIndex(m.current),v=u,y=B4(v.onMouseLeave,(()=>d.setHovered(-1))),b=B4(v.onMouseEnter,(()=>d.setHovered(d.getItemIndex(m.current)))),x=B4(v.onClick,(()=>{"boolean"===typeof s?s&&d.closeDropdownImmediately():d.closeOnItemClick&&d.closeDropdownImmediately()})),w=B4(v.onFocus,(()=>d.setHovered(d.getItemIndex(m.current))));return t.createElement(hP,((e,t)=>H5(e,V5(t)))(((e,t)=>{for(var n in t||(t={}))W5.call(t,n)&&X5(e,n,t[n]);if(G5)for(var n of G5(t))Y5.call(t,n)&&X5(e,n,t[n]);return e})({component:"button",type:"button"},u),{tabIndex:-1,onFocus:w,className:f(h.item,o),ref:LZ(m,n),role:"menuitem","data-menu-item":!0,"data-hovered":d.hovered===g||void 0,onMouseEnter:b,onMouseLeave:y,onClick:x,onKeyDown:Ck({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:d.loop,dir:p.dir,orientation:"vertical",onKeyDown:v.onKeydown})}),l&&t.createElement("div",{className:h.itemIcon},l),i&&t.createElement("div",{className:h.itemLabel},i),c&&t.createElement("div",{className:h.itemRightSection},c))}));q5.displayName="@mantine/core/MenuItem";const K5=q5;const Z5=_A((e=>({label:{color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs} / 2) ${e.spacing.sm}`,cursor:"default"}})));var J5=Object.defineProperty,$5=Object.getOwnPropertySymbols,e6=Object.prototype.hasOwnProperty,t6=Object.prototype.propertyIsEnumerable,n6=(e,t,n)=>t in e?J5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const r6={},i6=(0,t.forwardRef)(((e,n)=>{const r=GT("MenuLabel",r6,e),{children:i,className:o}=r,a=((e,t)=>{var n={};for(var r in e)e6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$5)for(var r of $5(e))t.indexOf(r)<0&&t6.call(e,r)&&(n[r]=e[r]);return n})(r,["children","className"]),{classNames:s,styles:l,unstyled:c,variant:u}=O4(),{classes:d,cx:h}=Z5(null,{name:"Menu",classNames:s,styles:l,unstyled:c,variant:u});return t.createElement(xP,((e,t)=>{for(var n in t||(t={}))e6.call(t,n)&&n6(e,n,t[n]);if($5)for(var n of $5(t))t6.call(t,n)&&n6(e,n,t[n]);return e})({className:h(d.label,o),ref:n},a),i)}));i6.displayName="@mantine/core/MenuLabel";var o6=Object.defineProperty,a6=Object.getOwnPropertySymbols,s6=Object.prototype.hasOwnProperty,l6=Object.prototype.propertyIsEnumerable,c6=(e,t,n)=>t in e?o6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const u6={refProp:"ref"},d6=(0,t.forwardRef)(((e,n)=>{const r=GT("MenuTarget",u6,e),{children:i,refProp:o}=r,a=((e,t)=>{var n={};for(var r in e)s6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a6)for(var r of a6(e))t.indexOf(r)<0&&l6.call(e,r)&&(n[r]=e[r]);return n})(r,["children","refProp"]);if(!CZ(i))throw new Error(A4);const s=O4(),l=B4(i.props.onClick,(()=>"click"===s.trigger&&s.toggleDropdown())),c=B4(i.props.onMouseEnter,(()=>"hover"===s.trigger&&s.openDropdown())),u=B4(i.props.onMouseLeave,(()=>"hover"===s.trigger&&s.closeDropdown()));return t.createElement(S5.Target,((e,t)=>{for(var n in t||(t={}))s6.call(t,n)&&c6(e,n,t[n]);if(a6)for(var n of a6(t))l6.call(t,n)&&c6(e,n,t[n]);return e})({refProp:o,popupType:"menu",ref:n},a),(0,t.cloneElement)(i,{onClick:l,onMouseEnter:c,onMouseLeave:u,"data-expanded":!!s.opened||void 0}))}));d6.displayName="@mantine/core/MenuTarget";const h6=_A({dropdown:{padding:Y_(4)}});var f6=Object.defineProperty,p6=Object.defineProperties,m6=Object.getOwnPropertyDescriptors,g6=Object.getOwnPropertySymbols,v6=Object.prototype.hasOwnProperty,y6=Object.prototype.propertyIsEnumerable,b6=(e,t,n)=>t in e?f6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x6=(e,t)=>{for(var n in t||(t={}))v6.call(t,n)&&b6(e,n,t[n]);if(g6)for(var n of g6(t))y6.call(t,n)&&b6(e,n,t[n]);return e},w6=(e,t)=>p6(e,m6(t));const S6={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function E6(e){const n=GT("Menu",S6,e),{children:r,onOpen:i,onClose:o,opened:a,defaultOpened:s,onChange:l,closeOnItemClick:c,loop:u,closeOnEscape:d,trigger:h,openDelay:f,closeDelay:p,classNames:m,styles:g,unstyled:v,radius:y,variant:b}=n,x=((e,t)=>{var n={};for(var r in e)v6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&g6)for(var r of g6(e))t.indexOf(r)<0&&y6.call(e,r)&&(n[r]=e[r]);return n})(n,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius","variant"]),{classes:w,cx:S}=h6(),[E,{setHovered:M,resetHovered:C}]=function(){const[e,n]=(0,t.useState)(-1);return[e,{setHovered:n,resetHovered:()=>n(-1)}]}(),[_,T]=mI({value:a,defaultValue:s,finalValue:!1,onChange:l}),A=()=>{T(!1),_&&(null==o||o())},P=()=>{T(!0),!_&&(null==i||i())},O=()=>_?A():P(),{openDropdown:D,closeDropdown:R}=function(e){let{open:n,close:r,openDelay:i,closeDelay:o}=e;const a=(0,t.useRef)(-1),s=(0,t.useRef)(-1),l=()=>{window.clearTimeout(a.current),window.clearTimeout(s.current)};return(0,t.useEffect)((()=>l),[]),{openDropdown:()=>{l(),0===i?n():a.current=window.setTimeout(n,i)},closeDropdown:()=>{l(),0===o?r():s.current=window.setTimeout(r,o)}}}({open:P,close:A,closeDelay:p,openDelay:f});return Zq((()=>{C()}),[_]),t.createElement(P4,{value:{opened:_,toggleDropdown:O,getItemIndex:e=>function(e,t,n){var r;return n?Array.from((null==(r=Mk(n,t))?void 0:r.querySelectorAll(e))||[]).findIndex((e=>e===n)):null}("[data-menu-item]","[data-menu-dropdown]",e),hovered:E,setHovered:M,closeOnItemClick:c,closeDropdown:"click"===h?A:R,openDropdown:"click"===h?P:D,closeDropdownImmediately:A,loop:u,trigger:h,radius:y,classNames:m,styles:g,unstyled:v,variant:b}},t.createElement(S5,w6(x6({},x),{radius:y,opened:_,onChange:O,defaultOpened:s,trapFocus:"click"===h,closeOnEscape:d&&"click"===h,__staticSelector:"Menu",classNames:w6(x6({},m),{dropdown:S(w.dropdown,null==m?void 0:m.dropdown)}),styles:g,unstyled:v,variant:b}),r))}E6.displayName="@mantine/core/Menu",E6.Item=K5,E6.Label=i6,E6.Dropdown=P5,E6.Target=d6,E6.Divider=N4;var M6=Object.defineProperty,C6=Object.getOwnPropertySymbols,_6=Object.prototype.hasOwnProperty,T6=Object.prototype.propertyIsEnumerable,A6=(e,t,n)=>t in e?M6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const P6=(0,t.createContext)(null),O6=P6.Provider;var D6=Object.defineProperty,R6=Object.getOwnPropertySymbols,k6=Object.prototype.hasOwnProperty,I6=Object.prototype.propertyIsEnumerable,L6=(e,t,n)=>t in e?D6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z6=(e,t)=>{for(var n in t||(t={}))k6.call(t,n)&&L6(e,n,t[n]);if(R6)for(var n of R6(t))I6.call(t,n)&&L6(e,n,t[n]);return e};const F6={size:"sm"},N6=(0,t.forwardRef)(((e,n)=>{const r=GT("RadioGroup",F6,e),{children:i,value:o,defaultValue:a,onChange:s,size:l,wrapperProps:c,unstyled:u,name:d}=r,h=((e,t)=>{var n={};for(var r in e)k6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&R6)for(var r of R6(e))t.indexOf(r)<0&&I6.call(e,r)&&(n[r]=e[r]);return n})(r,["children","value","defaultValue","onChange","size","wrapperProps","unstyled","name"]),f=pI(d),[p,m]=mI({value:o,defaultValue:a,finalValue:"",onChange:s});return t.createElement(O6,{value:{value:p,onChange:e=>m(e.currentTarget.value),size:l,name:f}},t.createElement(wY.Wrapper,z6(z6({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:n,unstyled:u},c),h),i))}));N6.displayName="@mantine/core/RadioGroup";var B6=Object.defineProperty,U6=Object.defineProperties,j6=Object.getOwnPropertyDescriptors,H6=Object.getOwnPropertySymbols,V6=Object.prototype.hasOwnProperty,G6=Object.prototype.propertyIsEnumerable,W6=(e,t,n)=>t in e?B6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y6=(e,t)=>{for(var n in t||(t={}))V6.call(t,n)&&W6(e,n,t[n]);if(H6)for(var n of H6(t))G6.call(t,n)&&W6(e,n,t[n]);return e},X6=(e,t)=>U6(e,j6(t));const Q6={xs:Y_(16),sm:Y_(20),md:Y_(24),lg:Y_(30),xl:Y_(36)},q6={xs:Y_(6),sm:Y_(8),md:Y_(10),lg:Y_(14),xl:Y_(16)};var K6=_A(((e,t,n)=>{let{color:r,transitionDuration:i,labelPosition:o,error:a}=t,{size:s}=n;const l=e.fn.variant({variant:"filled",color:r}),c=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:"left"===o?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:dR("icon"),color:e.white,opacity:0,transform:`scale(0.75) translateY(${Y_(2)})`,transition:`opacity ${i}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:Q_({sizes:q6,size:s}),height:Q_({sizes:q6,size:s}),position:"absolute",top:`calc(50% - ${Q_({sizes:q6,size:s})} / 2)`,left:`calc(50% - ${Q_({sizes:q6,size:s})} / 2)`},radio:X6(Y6({},e.fn.focusStyles()),{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.white,border:`${Y_(1)} solid ${a?c:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:Q_({sizes:Q6,size:s}),height:Q_({sizes:Q6,size:s}),borderRadius:Q_({sizes:Q6,size:s}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${i}ms`,cursor:e.cursorType,"&:checked":{background:l.background,borderColor:l.background,[`& + .${dR("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[4],backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1],[`& + .${dR("icon")}`]:{color:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[4]}}})}}));const Z6=K6;var J6=Object.defineProperty,$6=Object.getOwnPropertySymbols,e8=Object.prototype.hasOwnProperty,t8=Object.prototype.propertyIsEnumerable,n8=(e,t,n)=>t in e?J6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r8=(e,t)=>{for(var n in t||(t={}))e8.call(t,n)&&n8(e,n,t[n]);if($6)for(var n of $6(t))t8.call(t,n)&&n8(e,n,t[n]);return e};const i8={icon:function(e){return t.createElement("svg",((e,t)=>{for(var n in t||(t={}))_6.call(t,n)&&A6(e,n,t[n]);if(C6)for(var n of C6(t))T6.call(t,n)&&A6(e,n,t[n]);return e})({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),t.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))},transitionDuration:100,size:"sm",labelPosition:"right"},o8=(0,t.forwardRef)(((e,n)=>{var r,i;const o=GT("Radio",i8,e),{className:a,style:s,id:l,label:c,size:u,title:d,disabled:h,color:f,classNames:p,styles:m,sx:g,icon:v,transitionDuration:y,wrapperProps:b,unstyled:x,labelPosition:w,description:S,error:E,variant:M}=o,C=((e,t)=>{var n={};for(var r in e)e8.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$6)for(var r of $6(e))t.indexOf(r)<0&&t8.call(e,r)&&(n[r]=e[r]);return n})(o,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error","variant"]),_=(0,t.useContext)(P6),T=null!=(r=null==_?void 0:_.size)?r:u,A=e.size?u:T,{classes:P}=Z6({color:f,transitionDuration:y,labelPosition:w,error:!!E},{name:"Radio",classNames:p,styles:m,unstyled:x,variant:M,size:A}),{systemStyles:O,rest:D}=YA(C),R=pI(l),k=_?{checked:_.value===D.value,name:null!=(i=D.name)?i:_.name,onChange:_.onChange}:{};return t.createElement(EQ,r8(r8({className:a,sx:g,style:s,id:R,size:A,labelPosition:w,label:c,description:S,error:E,disabled:h,__staticSelector:"Radio",classNames:p,styles:m,unstyled:x,"data-checked":k.checked||void 0,variant:M},O),b),t.createElement("div",{className:P.inner},t.createElement("input",r8(r8({ref:n,className:P.radio,type:"radio",id:R,disabled:h},D),k)),t.createElement(v,{className:P.icon,"aria-hidden":!0})))}));o8.displayName="@mantine/core/Radio",o8.Group=N6;const a8=(0,t.createContext)(null),s8=a8.Provider;var l8=Object.defineProperty,c8=Object.getOwnPropertySymbols,u8=Object.prototype.hasOwnProperty,d8=Object.prototype.propertyIsEnumerable,h8=(e,t,n)=>t in e?l8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f8=(e,t)=>{for(var n in t||(t={}))u8.call(t,n)&&h8(e,n,t[n]);if(c8)for(var n of c8(t))d8.call(t,n)&&h8(e,n,t[n]);return e};const p8={size:"sm"},m8=(0,t.forwardRef)(((e,n)=>{const r=GT("CheckboxGroup",p8,e),{children:i,value:o,defaultValue:a,onChange:s,size:l,wrapperProps:c}=r,u=((e,t)=>{var n={};for(var r in e)u8.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c8)for(var r of c8(e))t.indexOf(r)<0&&d8.call(e,r)&&(n[r]=e[r]);return n})(r,["children","value","defaultValue","onChange","size","wrapperProps"]),[d,h]=mI({value:o,defaultValue:a,finalValue:[],onChange:s});return t.createElement(s8,{value:{value:d,onChange:e=>{const t=e.currentTarget.value;h(d.includes(t)?d.filter((e=>e!==t)):[...d,t])},size:l}},t.createElement(wY.Wrapper,f8(f8({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:n},c),u),i))}));m8.displayName="@mantine/core/CheckboxGroup";var g8=Object.defineProperty,v8=Object.getOwnPropertySymbols,y8=Object.prototype.hasOwnProperty,b8=Object.prototype.propertyIsEnumerable,x8=(e,t,n)=>t in e?g8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w8=(e,t)=>{for(var n in t||(t={}))y8.call(t,n)&&x8(e,n,t[n]);if(v8)for(var n of v8(t))b8.call(t,n)&&x8(e,n,t[n]);return e};function S8(e){return t.createElement("svg",w8({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var E8=Object.defineProperty,M8=Object.defineProperties,C8=Object.getOwnPropertyDescriptors,_8=Object.getOwnPropertySymbols,T8=Object.prototype.hasOwnProperty,A8=Object.prototype.propertyIsEnumerable,P8=(e,t,n)=>t in e?E8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O8=(e,t)=>{for(var n in t||(t={}))T8.call(t,n)&&P8(e,n,t[n]);if(_8)for(var n of _8(t))A8.call(t,n)&&P8(e,n,t[n]);return e},D8=(e,t)=>M8(e,C8(t));const R8={xs:Y_(16),sm:Y_(20),md:Y_(24),lg:Y_(30),xl:Y_(36)};var k8=_A(((e,t,n)=>{let{radius:r,color:i,transitionDuration:o,labelPosition:a,error:s,indeterminate:l}=t,{size:c}=n;const u=Q_({size:c,sizes:R8}),d=e.fn.variant({variant:"filled",color:i});return{icon:D8(O8({},e.fn.cover()),{ref:dR("icon"),color:l?"inherit":e.white,transform:l?"none":`translateY(${Y_(5)}) scale(0.5)`,opacity:l?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${o}ms`,pointerEvents:"none",width:"60%",position:"absolute",zIndex:1,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}}),inner:{position:"relative",width:u,height:u,order:"left"===a?2:1},input:D8(O8({},e.fn.focusStyles()),{appearance:"none",backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.white,border:`${Y_(1)} solid ${s?e.fn.variant({variant:"filled",color:"red"}).background:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4]}`,width:u,height:u,borderRadius:e.fn.radius(r),padding:0,display:"block",margin:0,transition:`border-color ${o}ms ease, background-color ${o}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:d.background,borderColor:d.background,[`& + .${dR("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],borderColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",pointerEvents:"none",[`& + .${dR("icon")}`]:{color:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[5]}}})}}));const I8=k8;var L8=Object.defineProperty,z8=Object.getOwnPropertySymbols,F8=Object.prototype.hasOwnProperty,N8=Object.prototype.propertyIsEnumerable,B8=(e,t,n)=>t in e?L8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U8=(e,t)=>{for(var n in t||(t={}))F8.call(t,n)&&B8(e,n,t[n]);if(z8)for(var n of z8(t))N8.call(t,n)&&B8(e,n,t[n]);return e};const j8={size:"sm",transitionDuration:100,icon:function(e){var n=e,{indeterminate:r}=n,i=((e,t)=>{var n={};for(var r in e)y8.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&v8)for(var r of v8(e))t.indexOf(r)<0&&b8.call(e,r)&&(n[r]=e[r]);return n})(n,["indeterminate"]);return r?t.createElement("svg",w8({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},i),t.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):t.createElement(S8,w8({},i))},labelPosition:"right"},H8=(0,t.forwardRef)(((e,n)=>{const r=GT("Checkbox",j8,e),{className:i,style:o,sx:a,checked:s,disabled:l,color:c,label:u,indeterminate:d,id:h,size:f,radius:p,wrapperProps:m,children:g,classNames:v,styles:y,transitionDuration:b,icon:x,unstyled:w,labelPosition:S,description:E,error:M,variant:C}=r,_=((e,t)=>{var n={};for(var r in e)F8.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&z8)for(var r of z8(e))t.indexOf(r)<0&&N8.call(e,r)&&(n[r]=e[r]);return n})(r,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error","variant"]),T=(0,t.useContext)(a8),A=pI(h),{systemStyles:P,rest:O}=YA(_),{classes:D}=I8({radius:p,color:c,transitionDuration:b,labelPosition:S,error:!!M,indeterminate:d},{name:"Checkbox",classNames:v,styles:y,unstyled:w,variant:C,size:(null==T?void 0:T.size)||f}),R=T?{checked:T.value.includes(O.value),onChange:T.onChange}:{};return t.createElement(EQ,U8(U8({className:i,sx:a,style:o,id:A,size:(null==T?void 0:T.size)||f,labelPosition:S,label:u,description:E,error:M,disabled:l,__staticSelector:"Checkbox",classNames:v,styles:y,unstyled:w,"data-checked":R.checked||void 0,variant:C},P),m),t.createElement("div",{className:D.inner},t.createElement("input",U8(U8({id:A,ref:n,type:"checkbox",className:D.input,checked:s,disabled:l},O),R)),t.createElement(x,{indeterminate:d,className:D.icon})))}));H8.displayName="@mantine/core/Checkbox",H8.Group=m8;const V8={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var G8=Object.defineProperty,W8=Object.defineProperties,Y8=Object.getOwnPropertyDescriptors,X8=Object.getOwnPropertySymbols,Q8=Object.prototype.hasOwnProperty,q8=Object.prototype.propertyIsEnumerable,K8=(e,t,n)=>t in e?G8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Z8={},J8=(0,t.forwardRef)(((e,n)=>{const r=GT("Flex",Z8,e),{gap:i,rowGap:o,columnGap:a,align:s,justify:l,wrap:c,direction:u,sx:d}=r,h=((e,t)=>{var n={};for(var r in e)Q8.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&X8)for(var r of X8(e))t.indexOf(r)<0&&q8.call(e,r)&&(n[r]=e[r]);return n})(r,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return t.createElement(hP,((e,t)=>W8(e,Y8(t)))(((e,t)=>{for(var n in t||(t={}))Q8.call(t,n)&&K8(e,n,t[n]);if(X8)for(var n of X8(t))q8.call(t,n)&&K8(e,n,t[n]);return e})({},h),{sx:[{display:"flex"},e=>rP({gap:i,rowGap:o,columnGap:a,align:s,justify:l,wrap:c,direction:u},e,V8),...uR(d)],ref:n}))}));J8.displayName="@mantine/core/Flex";var $8=Object.defineProperty,e9=Object.defineProperties,t9=Object.getOwnPropertyDescriptors,n9=Object.getOwnPropertySymbols,r9=Object.prototype.hasOwnProperty,i9=Object.prototype.propertyIsEnumerable,o9=(e,t,n)=>t in e?$8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a9=(e,t)=>{for(var n in t||(t={}))r9.call(t,n)&&o9(e,n,t[n]);if(n9)for(var n of n9(t))i9.call(t,n)&&o9(e,n,t[n]);return e},s9=(e,t)=>e9(e,t9(t));function l9(e){return(null==e?void 0:e.current)?e.current.scrollHeight:"auto"}const c9="undefined"!==typeof window&&window.requestAnimationFrame;function u9(e){let{transitionDuration:n,transitionTimingFunction:r="ease",onTransitionEnd:i=(()=>{}),opened:o}=e;const a=(0,t.useRef)(null),s={display:"none",height:0,overflow:"hidden"},[l,c]=(0,t.useState)(o?{}:s),u=e=>{(0,cD.flushSync)((()=>c(e)))},d=e=>{u((t=>a9(a9({},t),e)))};function h(e){const t=n||function(e){if(!e||"string"===typeof e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}(e);return{transition:`height ${t}ms ${r}`}}Zq((()=>{c9(o?()=>{d({willChange:"height",display:"block",overflow:"hidden"}),c9((()=>{const e=l9(a);d(s9(a9({},h(e)),{height:e}))}))}:()=>{const e=l9(a);d(s9(a9({},h(e)),{willChange:"height",height:e})),c9((()=>d({height:0,overflow:"hidden"})))})}),[o]);const f=e=>{if(e.target===a.current&&"height"===e.propertyName)if(o){const e=l9(a);e===l.height?u({}):d({height:e}),i()}else 0===l.height&&(u(s),i())};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{style:t={},refKey:n="ref"}=e,r=((e,t)=>{var n={};for(var r in e)r9.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&n9)for(var r of n9(e))t.indexOf(r)<0&&i9.call(e,r)&&(n[r]=e[r]);return n})(e,["style","refKey"]);const i=r[n];return s9(a9({"aria-hidden":!o},r),{[n]:IZ(a,i),onTransitionEnd:f,style:a9(a9({boxSizing:"border-box"},t),l)})}}var d9=Object.defineProperty,h9=Object.getOwnPropertySymbols,f9=Object.prototype.hasOwnProperty,p9=Object.prototype.propertyIsEnumerable,m9=(e,t,n)=>t in e?d9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g9=(e,t)=>{for(var n in t||(t={}))f9.call(t,n)&&m9(e,n,t[n]);if(h9)for(var n of h9(t))p9.call(t,n)&&m9(e,n,t[n]);return e};const v9={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},y9=(0,t.forwardRef)(((e,n)=>{const r=GT("Collapse",v9,e),{children:i,in:o,transitionDuration:a,transitionTimingFunction:s,style:l,onTransitionEnd:c,animateOpacity:u}=r,d=((e,t)=>{var n={};for(var r in e)f9.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h9)for(var r of h9(e))t.indexOf(r)<0&&p9.call(e,r)&&(n[r]=e[r]);return n})(r,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),h=HT(),f=YK(),p=!!h.respectReducedMotion&&f?0:a,{systemStyles:m,rest:g}=YA(d),v=u9({opened:o,transitionDuration:p,transitionTimingFunction:s,onTransitionEnd:c});return 0===p?o?t.createElement(hP,g9({},g),i):null:t.createElement(hP,g9({},v(g9(g9({style:l,ref:n},g),m))),t.createElement("div",{style:{opacity:o||!u?1:0,transition:u?`opacity ${p}ms ${s}`:"none"}},i))}));y9.displayName="@mantine/core/Collapse";const b9={xs:Y_(3),sm:Y_(5),md:Y_(8),lg:Y_(12),xl:Y_(16)},x9=k_({from:{backgroundPosition:"0 0"},to:{backgroundPosition:`${Y_(40)} 0`}});var w9=_A(((e,t,n)=>{let{color:r,radius:i}=t,{size:o}=n;return{root:{position:"relative",height:Q_({size:o,sizes:b9}),backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.radius(i),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:r||e.primaryColor}).background,transition:"width 100ms linear","&[data-animate]":{animation:`${x9} 1000ms linear infinite`},"&[data-striped]":{backgroundSize:`${Y_(20)} ${Y_(20)}`,backgroundImage:"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)"},"&:last-of-type":{borderTopRightRadius:e.fn.radius(i),borderBottomRightRadius:e.fn.radius(i)},"&:first-of-type":{borderTopLeftRadius:e.fn.radius(i),borderBottomLeftRadius:e.fn.radius(i)},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:`calc(${Q_({size:o,sizes:b9})} * 0.65)`,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}}));const S9=w9;var E9=Object.defineProperty,M9=Object.defineProperties,C9=Object.getOwnPropertyDescriptors,_9=Object.getOwnPropertySymbols,T9=Object.prototype.hasOwnProperty,A9=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?E9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O9=(e,t)=>{for(var n in t||(t={}))T9.call(t,n)&&P9(e,n,t[n]);if(_9)for(var n of _9(t))A9.call(t,n)&&P9(e,n,t[n]);return e},D9=(e,t)=>M9(e,C9(t)),R9=(e,t)=>{var n={};for(var r in e)T9.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&_9)for(var r of _9(e))t.indexOf(r)<0&&A9.call(e,r)&&(n[r]=e[r]);return n};const k9={size:"md",radius:"sm",striped:!1,animate:!1,label:""},I9=(0,t.forwardRef)(((e,n)=>{const r=GT("Progress",k9,e),{className:i,value:o,color:a,size:s,radius:l,striped:c,animate:u,label:d,"aria-label":h,classNames:f,styles:p,sections:m,unstyled:g,variant:v}=r,y=R9(r,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled","variant"]),{classes:b,cx:x,theme:w}=S9({color:a,radius:l},{name:"Progress",classNames:f,styles:p,unstyled:g,variant:v,size:s}),S=Array.isArray(m)?function(e){return e.reduce(((e,t)=>(e.sections.push(D9(O9({},t),{accumulated:e.accumulated})),e.accumulated+=t.value,e)),{accumulated:0,sections:[]}).sections}(m).map(((e,n)=>{var r=e,{tooltip:i,accumulated:o,value:a,label:s,color:l}=r,d=R9(r,["tooltip","accumulated","value","label","color"]);return t.createElement(_4.Floating,{label:i,disabled:!i,key:n},t.createElement(hP,D9(O9({},d),{className:x(b.bar,d.className),"data-striped":c||u||void 0,"data-animate":u||void 0,sx:{width:`${a}%`,left:`${o}%`,backgroundColor:w.fn.variant({variant:"filled",primaryFallback:!1,color:l||w.primaryColor}).background}}),s&&t.createElement(xP,{className:b.label},s)))})):null;return t.createElement(hP,O9({className:x(b.root,i),ref:n},y),S||t.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":o,"aria-label":h,className:b.bar,style:{width:`${o}%`},"data-striped":c||u||void 0,"data-animate":u||void 0},d?t.createElement(xP,{className:b.label},d):""))}));I9.displayName="@mantine/core/Progress";const L9=e=>e<.5?2*e*e:(4-2*e)*e-1;function z9(){let{duration:e=1250,axis:n="y",onScrollFinish:r,easing:i=L9,offset:o=0,cancelable:a=!0,isList:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l=(0,t.useRef)(0),c=(0,t.useRef)(0),u=(0,t.useRef)(!1),d=(0,t.useRef)(null),h=(0,t.useRef)(null),f=YK(),p=()=>{l.current&&cancelAnimationFrame(l.current)},m=(0,t.useCallback)((function(){let{alignment:t="start"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a;u.current=!1,l.current&&p();const m=null!=(a=(e=>{let{axis:t,parent:n}=e;if(!n&&"undefined"===typeof document)return 0;const r="y"===t?"scrollTop":"scrollLeft";if(n)return n[r];const{body:i,documentElement:o}=document;return i[r]+o[r]})({parent:d.current,axis:n}))?a:0,g=(e=>{let{axis:t,target:n,parent:r,alignment:i,offset:o,isList:a}=e;if(!n||!r&&"undefined"===typeof document)return 0;const s=!!r,l=(r||document.body).getBoundingClientRect(),c=n.getBoundingClientRect(),u=e=>c[e]-l[e];if("y"===t){const e=u("top");if(0===e)return 0;if("start"===i){const t=e-o;return t<=c.height*(a?0:1)||!a?t:0}const t=s?l.height:window.innerHeight;if("end"===i){const n=e+o-t+c.height;return n>=-c.height*(a?0:1)||!a?n:0}return"center"===i?e-t/2+c.height/2:0}if("x"===t){const e=u("left");if(0===e)return 0;if("start"===i){const t=e-o;return t<=c.width||!a?t:0}const t=s?l.width:window.innerWidth;if("end"===i){const n=e+o-t+c.width;return n>=-c.width||!a?n:0}return"center"===i?e-t/2+c.width/2:0}return 0})({parent:d.current,target:h.current,axis:n,alignment:t,offset:o,isList:s})-(d.current?0:m);!function t(){0===c.current&&(c.current=performance.now());const o=performance.now()-c.current,a=f||0===e?1:o/e,s=m+g*i(a);(e=>{let{axis:t,parent:n,distance:r}=e;if(!n&&"undefined"===typeof document)return;const i="y"===t?"scrollTop":"scrollLeft";if(n)n[i]=r;else{const{body:e,documentElement:t}=document;e[i]=r,t[i]=r}})({parent:d.current,axis:n,distance:s}),!u.current&&a<1?l.current=requestAnimationFrame(t):("function"===typeof r&&r(),c.current=0,l.current=0,p())}()}),[n,e,i,s,o,r,f]),g=()=>{a&&(u.current=!0)};return Kq("wheel",g,{passive:!0}),Kq("touchmove",g,{passive:!0}),(0,t.useEffect)((()=>p),[]),{scrollableRef:d,targetRef:h,scrollIntoView:m,cancel:p}}function F9(e){let{data:t}=e;const n=[],r=[],i=t.reduce(((e,t,n)=>(t.group?e[t.group]?e[t.group].push(n):e[t.group]=[n]:r.push(n),e)),{});return Object.keys(i).forEach((e=>{n.push(...i[e].map((e=>t[e])))})),n.push(...r.map((e=>t[e]))),n}var N9=Object.defineProperty,B9=Object.defineProperties,U9=Object.getOwnPropertyDescriptors,j9=Object.getOwnPropertySymbols,H9=Object.prototype.hasOwnProperty,V9=Object.prototype.propertyIsEnumerable,G9=(e,t,n)=>t in e?N9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W9=(e,t)=>{for(var n in t||(t={}))H9.call(t,n)&&G9(e,n,t[n]);if(j9)for(var n of j9(t))V9.call(t,n)&&G9(e,n,t[n]);return e};const Y9=(0,t.forwardRef)(((e,n)=>{var r=e,{style:i}=r,o=((e,t)=>{var n={};for(var r in e)H9.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&j9)for(var r of j9(e))t.indexOf(r)<0&&V9.call(e,r)&&(n[r]=e[r]);return n})(r,["style"]);return t.createElement(_R,((e,t)=>B9(e,U9(t)))(W9({},o),{style:W9({width:"100%"},i),viewportProps:{tabIndex:-1},viewportRef:n}),o.children)}));Y9.displayName="@mantine/core/SelectScrollArea";var X9=Object.defineProperty,Q9=Object.getOwnPropertySymbols,q9=Object.prototype.hasOwnProperty,K9=Object.prototype.propertyIsEnumerable,Z9=(e,t,n)=>t in e?X9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const J9=(0,t.forwardRef)(((e,n)=>{var r=e,{label:i,value:o}=r,a=((e,t)=>{var n={};for(var r in e)q9.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Q9)for(var r of Q9(e))t.indexOf(r)<0&&K9.call(e,r)&&(n[r]=e[r]);return n})(r,["label","value"]);return t.createElement("div",((e,t)=>{for(var n in t||(t={}))q9.call(t,n)&&Z9(e,n,t[n]);if(Q9)for(var n of Q9(t))K9.call(t,n)&&Z9(e,n,t[n]);return e})({ref:n},a),i||o)}));J9.displayName="@mantine/core/DefaultItem";var $9=Object.defineProperty,e7=Object.getOwnPropertySymbols,t7=Object.prototype.hasOwnProperty,n7=Object.prototype.propertyIsEnumerable,r7=(e,t,n)=>t in e?$9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,i7=(e,t)=>{for(var n in t||(t={}))t7.call(t,n)&&r7(e,n,t[n]);if(e7)for(var n of e7(t))n7.call(t,n)&&r7(e,n,t[n]);return e},o7=(e,t)=>{var n={};for(var r in e)t7.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&e7)for(var r of e7(e))t.indexOf(r)<0&&n7.call(e,r)&&(n[r]=e[r]);return n};const a7={xs:Y_(14),sm:Y_(18),md:Y_(20),lg:Y_(24),xl:Y_(28)};function s7(e){var n=e,{size:r,error:i,style:o}=n,a=o7(n,["size","error","style"]);const s=HT(),l=Q_({size:r,sizes:a7});return t.createElement("svg",i7({width:l,height:l,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i7({color:i?s.colors.red[6]:s.colors.gray[6]},o),"data-chevron":!0},a),t.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var l7=Object.defineProperty,c7=Object.defineProperties,u7=Object.getOwnPropertyDescriptors,d7=Object.getOwnPropertySymbols,h7=Object.prototype.hasOwnProperty,f7=Object.prototype.propertyIsEnumerable,p7=(e,t,n)=>t in e?l7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m7=(e,t)=>{for(var n in t||(t={}))h7.call(t,n)&&p7(e,n,t[n]);if(d7)for(var n of d7(t))f7.call(t,n)&&p7(e,n,t[n]);return e},g7=(e,t)=>c7(e,u7(t));function v7(e){let{shouldClear:n,clearButtonProps:r,onClear:i,size:o,error:a}=e;return n?t.createElement(yK,g7(m7({},r),{variant:"transparent",onClick:i,size:o,onMouseDown:e=>e.preventDefault()})):t.createElement(s7,{error:a,size:o})}v7.displayName="@mantine/core/SelectRightSection";var y7=Object.defineProperty,b7=Object.defineProperties,x7=Object.getOwnPropertyDescriptors,w7=Object.getOwnPropertySymbols,S7=Object.prototype.hasOwnProperty,E7=Object.prototype.propertyIsEnumerable,M7=(e,t,n)=>t in e?y7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C7=(e,t)=>{for(var n in t||(t={}))S7.call(t,n)&&M7(e,n,t[n]);if(w7)for(var n of w7(t))E7.call(t,n)&&M7(e,n,t[n]);return e},_7=(e,t)=>b7(e,x7(t));function T7(e){var n=e,{styles:r,rightSection:i,rightSectionWidth:o,theme:a}=n,s=((e,t)=>{var n={};for(var r in e)S7.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&w7)for(var r of w7(e))t.indexOf(r)<0&&E7.call(e,r)&&(n[r]=e[r]);return n})(n,["styles","rightSection","rightSectionWidth","theme"]);if(i)return{rightSection:i,rightSectionWidth:o,styles:r};const l="function"===typeof r?r(a):r;return{rightSection:!s.readOnly&&!(s.disabled&&s.shouldClear)&&t.createElement(v7,C7({},s)),styles:_7(C7({},l),{rightSection:_7(C7({},null==l?void 0:l.rightSection),{pointerEvents:s.shouldClear?void 0:"none"})})}}const A7={xs:Y_(1),sm:Y_(2),md:Y_(3),lg:Y_(4),xl:Y_(5)};function P7(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return"string"===typeof t&&(t in e.colors||t.split(".")[0]in e.colors)?n:void 0===t?"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4]:t}var O7=_A(((e,t,n)=>{let{color:r}=t,{size:i,variant:o}=n;return{root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:Y_(1),borderTop:`${Q_({size:i,sizes:A7})} ${o} ${P7(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${Q_({size:i,sizes:A7})} ${o} ${P7(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:"dark"===r?e.colors.dark[1]:e.fn.themeColor(r,"dark"===e.colorScheme?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:Y_(Q_({size:i,sizes:A7})),borderTopColor:P7(e,r),borderTopStyle:o,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:Y_(Q_({size:i,sizes:A7})),borderLeftColor:P7(e,r),borderLeftStyle:o}}}));const D7=O7;var R7=Object.defineProperty,k7=Object.defineProperties,I7=Object.getOwnPropertyDescriptors,L7=Object.getOwnPropertySymbols,z7=Object.prototype.hasOwnProperty,F7=Object.prototype.propertyIsEnumerable,N7=(e,t,n)=>t in e?R7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B7=(e,t)=>{for(var n in t||(t={}))z7.call(t,n)&&N7(e,n,t[n]);if(L7)for(var n of L7(t))F7.call(t,n)&&N7(e,n,t[n]);return e};const U7={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},j7=(0,t.forwardRef)(((e,n)=>{const r=GT("Divider",U7,e),{className:i,color:o,orientation:a,size:s,label:l,labelPosition:c,labelProps:u,variant:d,styles:h,classNames:f,unstyled:p}=r,m=((e,t)=>{var n={};for(var r in e)z7.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&L7)for(var r of L7(e))t.indexOf(r)<0&&F7.call(e,r)&&(n[r]=e[r]);return n})(r,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:v}=D7({color:o},{classNames:f,styles:h,unstyled:p,name:"Divider",variant:d,size:s}),y="vertical"===a,b="horizontal"===a,x=!!l&&b,w=!(null==u?void 0:u.color);return t.createElement(hP,B7({ref:n,className:v(g.root,{[g.vertical]:y,[g.horizontal]:b,[g.withLabel]:x},i),role:"separator"},m),x&&t.createElement(xP,((e,t)=>k7(e,I7(t)))(B7({},u),{size:(null==u?void 0:u.size)||"xs",mt:Y_(2),className:v(g.label,g[c],{[g.labelDefaultStyles]:w})}),l))}));j7.displayName="@mantine/core/Divider";var H7=Object.defineProperty,V7=Object.defineProperties,G7=Object.getOwnPropertyDescriptors,W7=Object.getOwnPropertySymbols,Y7=Object.prototype.hasOwnProperty,X7=Object.prototype.propertyIsEnumerable,Q7=(e,t,n)=>t in e?H7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q7=(e,t)=>{for(var n in t||(t={}))Y7.call(t,n)&&Q7(e,n,t[n]);if(W7)for(var n of W7(t))X7.call(t,n)&&Q7(e,n,t[n]);return e},K7=(e,t)=>V7(e,G7(t));const Z7=_A(((e,t,n)=>{let{size:r}=n;return{item:K7(q7({},e.fn.fontStyles()),{boxSizing:"border-box",wordBreak:"break-all",textAlign:"left",width:"100%",padding:`calc(${Q_({size:r,sizes:e.spacing})} / 1.5) ${Q_({size:r,sizes:e.spacing})}`,cursor:"pointer",fontSize:Q_({size:r,sizes:e.fontSizes}),color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":q7({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:`calc(${Q_({size:r,sizes:e.spacing})} / 2)`,paddingBottom:`calc(${Q_({size:r,sizes:e.spacing})} / 2)`,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`calc(${Q_({size:r,sizes:e.spacing})} / 1.5) ${Q_({size:r,sizes:e.spacing})}`},separatorLabel:{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]}}}));var J7=Object.defineProperty,$7=Object.getOwnPropertySymbols,eee=Object.prototype.hasOwnProperty,tee=Object.prototype.propertyIsEnumerable,nee=(e,t,n)=>t in e?J7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function ree(e){let{data:n,hovered:r,classNames:i,styles:o,isItemSelected:a,uuid:s,__staticSelector:l,onItemHover:c,onItemSelect:u,itemsRefs:d,itemComponent:h,size:f,nothingFound:p,creatable:m,createLabel:g,unstyled:v,variant:y}=e;const{classes:b}=Z7(null,{classNames:i,styles:o,unstyled:v,name:l,variant:y,size:f}),x=[],w=[];let S=null;const E=(e,n)=>{const i="function"===typeof a&&a(e.value);return t.createElement(h,((e,t)=>{for(var n in t||(t={}))eee.call(t,n)&&nee(e,n,t[n]);if($7)for(var n of $7(t))tee.call(t,n)&&nee(e,n,t[n]);return e})({key:e.value,className:b.item,"data-disabled":e.disabled||void 0,"data-hovered":!e.disabled&&r===n||void 0,"data-selected":!e.disabled&&i||void 0,selected:i,onMouseEnter:()=>c(n),id:`${s}-${n}`,role:"option",tabIndex:-1,"aria-selected":r===n,ref:t=>{d&&d.current&&(d.current[e.value]=t)},onMouseDown:e.disabled?null:t=>{t.preventDefault(),u(e)},disabled:e.disabled,variant:y},e))};let M=null;if(n.forEach(((e,n)=>{e.creatable?S=n:e.group?(M!==e.group&&(M=e.group,w.push(t.createElement("div",{className:b.separator,key:`__mantine-divider-${n}`},t.createElement(j7,{classNames:{label:b.separatorLabel},label:e.group})))),w.push(E(e,n))):x.push(E(e,n))})),m){const e=n[S];x.push(t.createElement("div",{key:fI(),className:b.item,"data-hovered":r===S||void 0,onMouseEnter:()=>c(S),onMouseDown:t=>{t.preventDefault(),u(e)},tabIndex:-1,ref:t=>{d&&d.current&&(d.current[e.value]=t)}},g))}return w.length>0&&x.length>0&&x.unshift(t.createElement("div",{className:b.separator,key:"empty-group-separator"},t.createElement(j7,null))),w.length>0||x.length>0?t.createElement(t.Fragment,null,w,x):t.createElement(xP,{size:f,unstyled:v,className:b.nothingFound},p)}ree.displayName="@mantine/core/SelectItems";const iee=_A((()=>({dropdown:{},itemsWrapper:{padding:Y_(4),display:"flex",width:"100%",boxSizing:"border-box"}})));var oee=Object.defineProperty,aee=Object.getOwnPropertySymbols,see=Object.prototype.hasOwnProperty,lee=Object.prototype.propertyIsEnumerable,cee=(e,t,n)=>t in e?oee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function uee(e){let{opened:n,transitionProps:r={transition:"fade",duration:0},shadow:i,withinPortal:o,portalProps:a,children:s,__staticSelector:l,onDirectionChange:c,switchDirectionOnFlip:u,zIndex:d,dropdownPosition:h,positionDependencies:f=[],classNames:p,styles:m,unstyled:g,readOnly:v,variant:y}=e;return t.createElement(S5,{unstyled:g,classNames:p,styles:m,width:"target",withRoles:!1,opened:n,middlewares:{flip:"flip"===h,shift:!1},position:"flip"===h?"bottom":h,positionDependencies:f,zIndex:d,__staticSelector:l,withinPortal:o,portalProps:a,transitionProps:r,shadow:i,disabled:v,onPositionChange:e=>u&&(null==c?void 0:c("top"===e?"column-reverse":"column")),variant:y},s)}uee.Target=S5.Target,uee.Dropdown=function(e){var n=e,{children:r,component:i="div",maxHeight:o=220,direction:a="column",id:s,innerRef:l,__staticSelector:c,styles:u,classNames:d,unstyled:h}=n,f=((e,t)=>{var n={};for(var r in e)see.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&aee)for(var r of aee(e))t.indexOf(r)<0&&lee.call(e,r)&&(n[r]=e[r]);return n})(n,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:p}=iee(null,{name:c,styles:u,classNames:d,unstyled:h});return t.createElement(S5.Dropdown,((e,t)=>{for(var n in t||(t={}))see.call(t,n)&&cee(e,n,t[n]);if(aee)for(var n of aee(t))lee.call(t,n)&&cee(e,n,t[n]);return e})({p:0,onMouseDown:e=>e.preventDefault()},f),t.createElement("div",{style:{maxHeight:Y_(o),display:"flex"}},t.createElement(hP,{component:i||"div",id:`${s}-items`,"aria-labelledby":`${s}-label`,role:"listbox",onMouseDown:e=>e.preventDefault(),style:{flex:1,overflowY:i!==Y9?"auto":void 0},"data-combobox-popover":!0,tabIndex:-1,ref:l},t.createElement("div",{className:p.itemsWrapper,style:{flexDirection:a}},r))))};const dee=_A((()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})));var hee=Object.defineProperty,fee=Object.defineProperties,pee=Object.getOwnPropertyDescriptors,mee=Object.getOwnPropertySymbols,gee=Object.prototype.hasOwnProperty,vee=Object.prototype.propertyIsEnumerable,yee=(e,t,n)=>t in e?hee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bee=(e,t)=>{for(var n in t||(t={}))gee.call(t,n)&&yee(e,n,t[n]);if(mee)for(var n of mee(t))vee.call(t,n)&&yee(e,n,t[n]);return e},xee=(e,t)=>fee(e,pee(t));const wee={required:!1,size:"sm",shadow:"sm",itemComponent:J9,transitionProps:{transition:"fade",duration:0},initiallyOpened:!1,filter:function(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())},maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:function(e,t){return!!e&&!t.some((t=>t.label.toLowerCase()===e.toLowerCase()))},selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:eK("popover"),positionDependencies:[],dropdownPosition:"flip"},See=(0,t.forwardRef)(((e,n)=>{const r=QG("Select",wee,e),{inputProps:i,wrapperProps:o,shadow:a,data:s,value:l,defaultValue:c,onChange:u,itemComponent:d,onKeyDown:h,onBlur:f,onFocus:p,transitionProps:m,initiallyOpened:g,unstyled:v,classNames:y,styles:b,filter:x,maxDropdownHeight:w,searchable:S,clearable:E,nothingFound:M,limit:C,disabled:_,onSearchChange:T,searchValue:A,rightSection:P,rightSectionWidth:O,creatable:D,getCreateLabel:R,shouldCreate:k,selectOnBlur:I,onCreate:L,dropdownComponent:z,onDropdownClose:F,onDropdownOpen:N,withinPortal:B,portalProps:U,switchDirectionOnFlip:j,zIndex:H,name:V,dropdownPosition:G,allowDeselect:W,placeholder:Y,filterDataOnExactSearchMatch:X,form:Q,positionDependencies:q,readOnly:K,clearButtonProps:Z,hoverOnSearchChange:J}=r,$=((e,t)=>{var n={};for(var r in e)gee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&mee)for(var r of mee(e))t.indexOf(r)<0&&vee.call(e,r)&&(n[r]=e[r]);return n})(r,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transitionProps","initiallyOpened","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","portalProps","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","form","positionDependencies","readOnly","clearButtonProps","hoverOnSearchChange"]),{classes:ee,cx:te,theme:ne}=dee(),[re,ie]=(0,t.useState)(g),[oe,ae]=(0,t.useState)(-1),se=(0,t.useRef)(),le=(0,t.useRef)({}),[ce,ue]=(0,t.useState)("column"),de="column"===ce,{scrollIntoView:he,targetRef:fe,scrollableRef:pe}=z9({duration:0,offset:5,cancelable:!1,isList:!0}),me=void 0===W?E:W,ge=e=>{if(re!==e){ie(e);const t=e?N:F;"function"===typeof t&&t()}},ve=D&&"function"===typeof R;let ye=null;const be=F9({data:s.map((e=>"string"===typeof e?{label:e,value:e}:e))}),[xe,we,Se]=mI({value:l,defaultValue:c,finalValue:null,onChange:u}),Ee=be.find((e=>e.value===xe)),[Me,Ce]=mI({value:A,defaultValue:(null==Ee?void 0:Ee.label)||"",finalValue:void 0,onChange:T}),_e=e=>{Ce(e),S&&"function"===typeof T&&T(e)};(0,t.useEffect)((()=>{const e=be.find((e=>e.value===xe));e?_e(e.label):ve&&xe||_e("")}),[xe]),(0,t.useEffect)((()=>{!Ee||S&&re||_e(Ee.label)}),[null==Ee?void 0:Ee.label]);const Te=e=>{if(!K)if(me&&(null==Ee?void 0:Ee.value)===e.value)we(null),ge(!1);else{if(e.creatable&&"function"===typeof L){const t=L(e.value);"undefined"!==typeof t&&null!==t&&we("string"===typeof t?t:t.value)}else we(e.value);Se||_e(e.label),ae(-1),ge(!1),se.current.focus()}},Ae=function(e){let{data:t,searchable:n,limit:r,searchValue:i,filter:o,value:a,filterDataOnExactSearchMatch:s}=e;if(!n)return t;const l=null!=a&&t.find((e=>e.value===a))||null;if(l&&!s&&(null==l?void 0:l.label)===i){if(r){if(r>=t.length)return t;const e=t.indexOf(l),n=e+r,i=n-t.length;return i>0?t.slice(e-i):t.slice(e,n)}return t}const c=[];for(let u=0;u<t.length&&(o(i,t[u])&&c.push(t[u]),!(c.length>=r));u+=1);return c}({data:be,searchable:S,limit:C,searchValue:Me,filter:x,filterDataOnExactSearchMatch:X,value:xe});ve&&k(Me,Ae)&&(ye=R(Me),Ae.push({label:Me,value:Me,creatable:!0}));const Pe=(e,t,n)=>{let r=e;for(;n(r);)if(r=t(r),!Ae[r].disabled)return r;return e};Zq((()=>{ae(J&&Me?0:-1)}),[Me,J]);const Oe=xe?Ae.findIndex((e=>e.value===xe)):0,De=!K&&(Ae.length>0?re:re&&!!M),Re=()=>{ae((e=>{var t;const n=Pe(e,(e=>e-1),(e=>e>0));return fe.current=le.current[null==(t=Ae[n])?void 0:t.value],De&&he({alignment:de?"start":"end"}),n}))},ke=()=>{ae((e=>{var t;const n=Pe(e,(e=>e+1),(e=>e<Ae.length-1));return fe.current=le.current[null==(t=Ae[n])?void 0:t.value],De&&he({alignment:de?"end":"start"}),n}))},Ie=()=>window.setTimeout((()=>{var e;fe.current=le.current[null==(e=Ae[Oe])?void 0:e.value],he({alignment:de?"end":"start"})}),50);Zq((()=>{De&&Ie()}),[De]);return t.createElement(wY.Wrapper,xee(bee({},o),{__staticSelector:"Select"}),t.createElement(uee,{opened:De,transitionProps:m,shadow:a,withinPortal:B,portalProps:U,__staticSelector:"Select",onDirectionChange:ue,switchDirectionOnFlip:j,zIndex:H,dropdownPosition:G,positionDependencies:[...q,Me],classNames:y,styles:b,unstyled:v,variant:i.variant},t.createElement(uee.Target,null,t.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":De?`${i.id}-items`:null,"aria-controls":i.id,"aria-expanded":De,onMouseLeave:()=>ae(-1),tabIndex:-1},t.createElement("input",{type:"hidden",name:V,value:xe||"",form:Q,disabled:_}),t.createElement(wY,bee(xee(bee(bee({autoComplete:"off",type:"search"},i),$),{ref:LZ(n,se),onKeyDown:e=>{switch("function"===typeof h&&h(e),e.key){case"ArrowUp":e.preventDefault(),re?de?Re():ke():(ae(Oe),ge(!0),Ie());break;case"ArrowDown":e.preventDefault(),re?de?ke():Re():(ae(Oe),ge(!0),Ie());break;case"Home":if(!S){e.preventDefault(),re||ge(!0);const t=Ae.findIndex((e=>!e.disabled));ae(t),De&&he({alignment:de?"end":"start"})}break;case"End":if(!S){e.preventDefault(),re||ge(!0);const t=Ae.map((e=>!!e.disabled)).lastIndexOf(!1);ae(t),De&&he({alignment:de?"end":"start"})}break;case"Escape":e.preventDefault(),ge(!1),ae(-1);break;case" ":S||(e.preventDefault(),Ae[oe]&&re?Te(Ae[oe]):(ge(!0),ae(Oe),Ie()));break;case"Enter":S||e.preventDefault(),Ae[oe]&&re&&(e.preventDefault(),Te(Ae[oe]))}},__staticSelector:"Select",value:Me,placeholder:Y,onChange:e=>{K||(_e(e.currentTarget.value),E&&""===e.currentTarget.value&&we(null),ae(-1),ge(!0))},"aria-autocomplete":"list","aria-controls":De?`${i.id}-items`:null,"aria-activedescendant":oe>=0?`${i.id}-${oe}`:null,onMouseDown:()=>{K||(ge(!re),xe&&!re&&ae(Oe))},onBlur:e=>{"function"===typeof f&&f(e);const t=be.find((e=>e.value===xe));I&&Ae[oe]&&re&&Te(Ae[oe]),_e((null==t?void 0:t.label)||""),ge(!1)},onFocus:e=>{"function"===typeof p&&p(e),S&&ge(!0)},readOnly:!S||K,disabled:_,"data-mantine-stop-propagation":De,name:null,classNames:xee(bee({},y),{input:te({[ee.input]:!S},null==y?void 0:y.input)})}),T7({theme:ne,rightSection:P,rightSectionWidth:O,styles:b,size:i.size,shouldClear:E&&!!Ee,onClear:()=>{var e;K||(we(null),Se||_e(""),null==(e=se.current)||e.focus())},error:o.error,clearButtonProps:Z,disabled:_,readOnly:K}))))),t.createElement(uee.Dropdown,{component:z||Y9,maxHeight:w,direction:ce,id:i.id,innerRef:pe,__staticSelector:"Select",classNames:y,styles:b},t.createElement(ree,{data:Ae,hovered:oe,classNames:y,styles:b,isItemSelected:e=>e===xe,uuid:i.id,__staticSelector:"Select",onItemHover:ae,onItemSelect:Te,itemsRefs:le,itemComponent:d,size:i.size,nothingFound:M,creatable:ve&&!!ye,createLabel:ye,"aria-label":o.label,unstyled:v,variant:i.variant}))))}));See.displayName="@mantine/core/Select";const Eee=(0,t.createContext)(null),Mee=Eee.Provider,Cee={};function _ee(e){const{value:n,defaultValue:r,onChange:i,multiple:o,children:a}=GT("ChipGroup",Cee,e),[s,l]=mI({value:n,defaultValue:r,finalValue:o?[]:null,onChange:i});return t.createElement(Mee,{value:{isChipSelected:e=>Array.isArray(s)?s.includes(e):e===s,onChange:e=>{const t=e.currentTarget.value;Array.isArray(s)?l(s.includes(t)?s.filter((e=>e!==t)):[...s,t]):l(t)},multiple:o}},a)}_ee.displayName="@mantine/core/ChipGroup";var Tee=Object.defineProperty,Aee=Object.defineProperties,Pee=Object.getOwnPropertyDescriptors,Oee=Object.getOwnPropertySymbols,Dee=Object.prototype.hasOwnProperty,Ree=Object.prototype.propertyIsEnumerable,kee=(e,t,n)=>t in e?Tee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iee=(e,t)=>{for(var n in t||(t={}))Dee.call(t,n)&&kee(e,n,t[n]);if(Oee)for(var n of Oee(t))Ree.call(t,n)&&kee(e,n,t[n]);return e},Lee=(e,t)=>Aee(e,Pee(t));const zee={xs:Y_(24),sm:Y_(28),md:Y_(32),lg:Y_(36),xl:Y_(40)},Fee={xs:Y_(10),sm:Y_(12),md:Y_(14),lg:Y_(16),xl:Y_(18)},Nee={xs:Y_(16),sm:Y_(20),md:Y_(24),lg:Y_(28),xl:Y_(32)},Bee={xs:Y_(7.5),sm:Y_(10),md:Y_(11.5),lg:Y_(13),xl:Y_(15)};var Uee=_A(((e,t,n)=>{let{radius:r,color:i}=t,{size:o,variant:a}=n;const s=function(e,t,n){let{color:r}=t;const i=e.fn.variant({variant:"filled",color:r}),o=e.fn.variant({variant:"light",color:r});return"light"===n?{label:Iee({backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[1]},e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[0]})),checked:Lee(Iee({color:o.color,backgroundColor:o.background},e.fn.hover({backgroundColor:o.hover})),{"&, &:hover":{backgroundColor:e.fn.variant({variant:"light",color:r}).background}})}:"filled"===n?{label:Iee({backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[1]},e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[0]})),checked:Iee({color:i.color,backgroundColor:i.background},e.fn.hover({backgroundColor:i.hover}))}:"outline"===n?{label:Iee({backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.white,borderColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4]},e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[0]})),checked:{border:`${Y_(1)} solid ${i.background}`}}:{label:null,checked:null}}(e,{color:i},a);return{root:{},label:Lee(Iee(Lee(Iee({ref:dR("label")},e.fn.fontStyles()),{boxSizing:"border-box",color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,display:"inline-flex",alignItems:"center",userSelect:"none",border:`${Y_(1)} solid transparent`,borderRadius:e.fn.radius(r),height:Q_({size:o,sizes:zee}),fontSize:Q_({size:o,sizes:e.fontSizes}),lineHeight:`calc(${Q_({size:o,sizes:zee})} - ${Y_(2)})`,paddingLeft:Q_({size:o,sizes:Nee}),paddingRight:Q_({size:o,sizes:Nee}),cursor:"pointer",whiteSpace:"nowrap",transition:"background-color 100ms ease",WebkitTapHighlightColor:"transparent"}),s.label),{"&[data-disabled]":Lee(Iee({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1],borderColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1],color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"},e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1]})),{[`& .${dR("iconWrapper")}`]:{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]}}),"&[data-checked]":{paddingLeft:Q_({size:o,sizes:Bee}),paddingRight:Q_({size:o,sizes:Bee}),"&:not([data-disabled])":s.checked}}),iconWrapper:{ref:dR("iconWrapper"),color:"filled"===a?e.white:e.fn.variant({variant:"filled",color:i}).background,width:`calc(${Q_({size:o,sizes:Fee})} + (${Q_({size:o,sizes:e.spacing})} / 1.5))`,maxWidth:`calc(${Q_({size:o,sizes:Fee})} + (${Q_({size:o,sizes:e.spacing})} / 1.5))`,height:Q_({size:o,sizes:Fee}),display:"inline-block",verticalAlign:"middle",overflow:"hidden"},checkIcon:{width:Q_({size:o,sizes:Fee}),height:`calc(${Q_({size:o,sizes:Fee})} / 1.1)`,display:"block"},input:{width:0,height:0,padding:0,opacity:0,margin:0,"&:disabled + label":Lee(Iee({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1],borderColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1],color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed",pointerEvents:"none"},e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1]})),{[`& .${dR("iconWrapper")}`]:{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]},"&[data-checked]":{paddingLeft:Q_({size:o,sizes:Bee}),paddingRight:Q_({size:o,sizes:Bee}),"&:not([data-disabled])":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1],borderColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1],color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]}}}),"&:focus":{outline:"none",[`& + .${dR("label")}`]:Iee({},"always"===e.focusRing||"auto"===e.focusRing?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${dR("label")}`]:Iee({},"auto"===e.focusRing||"never"===e.focusRing?e.focusRingStyles.resetStyles(e):null)}}}}}));const jee=Uee;var Hee=Object.defineProperty,Vee=Object.getOwnPropertySymbols,Gee=Object.prototype.hasOwnProperty,Wee=Object.prototype.propertyIsEnumerable,Yee=(e,t,n)=>t in e?Hee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xee=(e,t)=>{for(var n in t||(t={}))Gee.call(t,n)&&Yee(e,n,t[n]);if(Vee)for(var n of Vee(t))Wee.call(t,n)&&Yee(e,n,t[n]);return e};const Qee={type:"checkbox",size:"sm",radius:"xl",variant:"outline"},qee=(0,t.forwardRef)(((e,n)=>{const r=GT("Chip",Qee,e),{radius:i,type:o,size:a,variant:s,disabled:l,id:c,color:u,children:d,className:h,classNames:f,style:p,styles:m,checked:g,defaultChecked:v,onChange:y,sx:b,wrapperProps:x,value:w,unstyled:S}=r,E=((e,t)=>{var n={};for(var r in e)Gee.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Vee)for(var r of Vee(e))t.indexOf(r)<0&&Wee.call(e,r)&&(n[r]=e[r]);return n})(r,["radius","type","size","variant","disabled","id","color","children","className","classNames","style","styles","checked","defaultChecked","onChange","sx","wrapperProps","value","unstyled"]),M=(0,t.useContext)(Eee),C=pI(c),{systemStyles:_,rest:T}=YA(E),{classes:A,cx:P}=jee({radius:i,color:u},{classNames:f,styles:m,unstyled:S,name:"Chip",variant:s,size:a}),[O,D]=mI({value:g,defaultValue:v,finalValue:!1,onChange:y}),R=M?{checked:M.isChipSelected(w),onChange:M.onChange,type:M.multiple?"checkbox":"radio"}:{},k=R.checked||O;return t.createElement(hP,Xee(Xee({className:P(A.root,h),style:p,sx:b},_),x),t.createElement("input",Xee(Xee({type:o,className:A.input,checked:k,onChange:e=>D(e.currentTarget.checked),id:C,disabled:l,ref:n,value:w},R),T)),t.createElement("label",{htmlFor:C,"data-checked":k||void 0,"data-disabled":l||void 0,className:A.label},k&&t.createElement("span",{className:A.iconWrapper},t.createElement(S8,{className:A.checkIcon})),d))}));qee.displayName="@mantine/core/Chip",qee.Group=_ee;var Kee=Object.defineProperty,Zee=Object.defineProperties,Jee=Object.getOwnPropertyDescriptors,$ee=Object.getOwnPropertySymbols,ete=Object.prototype.hasOwnProperty,tte=Object.prototype.propertyIsEnumerable,nte=(e,t,n)=>t in e?Kee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rte=(e,t)=>{for(var n in t||(t={}))ete.call(t,n)&&nte(e,n,t[n]);if($ee)for(var n of $ee(t))tte.call(t,n)&&nte(e,n,t[n]);return e},ite=(e,t)=>Zee(e,Jee(t));function ote(e){let{variant:t,color:n,theme:r}=e;if("filled"===t){return{backgroundColor:r.fn.variant({variant:"filled",color:n}).background,color:r.white}}if("outline"===t){const e=r.fn.variant({variant:"outline",color:n});return{color:e.color,borderColor:e.border,backgroundColor:"dark"===r.colorScheme?r.colors.dark[6]:r.white}}if("light"===t){const e=r.fn.variant({variant:"light",color:n});return{backgroundColor:e.background,color:e.color}}return null}var ate=_A(((e,t,n)=>{let{radius:r,color:i}=t,{variant:o}=n;return{root:rte(ite(rte({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",paddingTop:e.spacing.sm,paddingBottom:e.spacing.sm,paddingLeft:e.spacing.md,paddingRight:e.spacing.sm,borderRadius:e.fn.radius(r),border:`${Y_(1)} solid transparent`}),ote({variant:o,color:i,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:e.spacing.xs,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:Y_(20),height:Y_(20),display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:ite(rte({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:"filled"===o?e.white:"dark"===e.colorScheme?"light"===o?e.white:e.colors.dark[0]:e.black}),closeButton:{width:Y_(10),height:Y_(10)}}}));const ste=ate;var lte=Object.defineProperty,cte=Object.getOwnPropertySymbols,ute=Object.prototype.hasOwnProperty,dte=Object.prototype.propertyIsEnumerable,hte=(e,t,n)=>t in e?lte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fte={variant:"light"},pte=(0,t.forwardRef)(((e,n)=>{const r=GT("Alert",fte,e),{id:i,className:o,title:a,variant:s,children:l,color:c,classNames:u,icon:d,styles:h,onClose:f,radius:p,withCloseButton:m,closeButtonLabel:g,unstyled:v}=r,y=((e,t)=>{var n={};for(var r in e)ute.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&cte)for(var r of cte(e))t.indexOf(r)<0&&dte.call(e,r)&&(n[r]=e[r]);return n})(r,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:b,cx:x}=ste({color:c,radius:p},{classNames:u,styles:h,unstyled:v,variant:s,name:"Alert"}),w=pI(i),S=a&&`${w}-title`,E=`${w}-body`;return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))ute.call(t,n)&&hte(e,n,t[n]);if(cte)for(var n of cte(t))dte.call(t,n)&&hte(e,n,t[n]);return e})({id:w,role:"alert","aria-labelledby":S,"aria-describedby":E,className:x(b.root,b[s],o),ref:n},y),t.createElement("div",{className:b.wrapper},d&&t.createElement("div",{className:b.icon},d),t.createElement("div",{className:b.body},a&&t.createElement("div",{className:b.title,"data-with-close-button":m||void 0},t.createElement("span",{id:S,className:b.label},a)),t.createElement("div",{id:E,className:b.message},l)),m&&t.createElement(yK,{className:b.closeButton,onClick:f,variant:"transparent",size:16,iconSize:16,"aria-label":g})))}));pte.displayName="@mantine/core/Alert";const mte={xs:Y_(16),sm:Y_(22),md:Y_(26),lg:Y_(30),xl:Y_(36)},gte={xs:Y_(10),sm:Y_(12),md:Y_(14),lg:Y_(16),xl:Y_(18)};var vte=_A(((e,t,n)=>{let{disabled:r,radius:i,readOnly:o}=t,{size:a,variant:s}=n;return{defaultValue:{display:"flex",alignItems:"center",backgroundColor:r?"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[3]:"dark"===e.colorScheme?e.colors.dark[7]:"filled"===s?e.white:e.colors.gray[1],color:r?"dark"===e.colorScheme?e.colors.dark[1]:e.colors.gray[7]:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[7],height:Q_({size:a,sizes:mte}),paddingLeft:`calc(${Q_({size:a,sizes:e.spacing})} / 1.5)`,paddingRight:r||o?Q_({size:a,sizes:e.spacing}):0,fontWeight:500,fontSize:Q_({size:a,sizes:gte}),borderRadius:Q_({size:i,sizes:e.radius}),cursor:r?"not-allowed":"default",userSelect:"none",maxWidth:`calc(100% - ${Y_(10)})`},defaultValueRemove:{color:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[7],marginLeft:`calc(${Q_({size:a,sizes:e.spacing})} / 6)`},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}));const yte=vte;var bte=Object.defineProperty,xte=Object.getOwnPropertySymbols,wte=Object.prototype.hasOwnProperty,Ste=Object.prototype.propertyIsEnumerable,Ete=(e,t,n)=>t in e?bte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Mte={xs:16,sm:22,md:24,lg:26,xl:30};function Cte(e){var n=e,{label:r,classNames:i,styles:o,className:a,onRemove:s,disabled:l,readOnly:c,size:u,radius:d="sm",variant:h,unstyled:f}=n,p=((e,t)=>{var n={};for(var r in e)wte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&xte)for(var r of xte(e))t.indexOf(r)<0&&Ste.call(e,r)&&(n[r]=e[r]);return n})(n,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant","unstyled"]);const{classes:m,cx:g}=yte({disabled:l,readOnly:c,radius:d},{name:"MultiSelect",classNames:i,styles:o,unstyled:f,size:u,variant:h});return t.createElement("div",((e,t)=>{for(var n in t||(t={}))wte.call(t,n)&&Ete(e,n,t[n]);if(xte)for(var n of xte(t))Ste.call(t,n)&&Ete(e,n,t[n]);return e})({className:g(m.defaultValue,a)},p),t.createElement("span",{className:m.defaultValueLabel},r),!l&&!c&&t.createElement(yK,{"aria-hidden":!0,onMouseDown:s,size:Mte[u],radius:2,color:"blue",variant:"transparent",iconSize:"70%",className:m.defaultValueRemove,tabIndex:-1,unstyled:f}))}Cte.displayName="@mantine/core/MultiSelect/DefaultValue";var _te=Object.defineProperty,Tte=Object.defineProperties,Ate=Object.getOwnPropertyDescriptors,Pte=Object.getOwnPropertySymbols,Ote=Object.prototype.hasOwnProperty,Dte=Object.prototype.propertyIsEnumerable,Rte=(e,t,n)=>t in e?_te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kte=(e,t)=>{for(var n in t||(t={}))Ote.call(t,n)&&Rte(e,n,t[n]);if(Pte)for(var n of Pte(t))Dte.call(t,n)&&Rte(e,n,t[n]);return e},Ite=(e,t)=>Tte(e,Ate(t));const Lte=_A(((e,t,n)=>{let{invalid:r}=t,{size:i}=n;return{wrapper:{position:"relative","&:has(input:disabled)":{cursor:"not-allowed",pointerEvents:"none","& .mantine-MultiSelect-input":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,"&::placeholder":{color:e.colors.dark[2]}},"& .mantine-MultiSelect-defaultValue":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[3],color:"dark"===e.colorScheme?e.colors.dark[1]:e.colors.gray[7]}}},values:{minHeight:`calc(${Q_({size:i,sizes:oY})} - ${Y_(2)})`,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(-${e.spacing.xs} / 2)`,boxSizing:"border-box","&[data-clearable]":{marginRight:Q_({size:i,sizes:oY})}},value:{margin:`calc(${e.spacing.xs} / 2 - ${Y_(2)}) calc(${e.spacing.xs} / 2)`},searchInput:Ite(kte({},e.fn.fontStyles()),{flex:1,minWidth:Y_(60),backgroundColor:"transparent",border:0,outline:0,fontSize:Q_({size:i,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs} / 2)`,appearance:"none",color:"inherit",maxHeight:Q_({size:i,sizes:mte}),"&::placeholder":{opacity:1,color:r?e.colors.red[e.fn.primaryShade()]:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{flex:0,width:0,minWidth:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}}}));var zte=Object.defineProperty,Fte=Object.defineProperties,Nte=Object.getOwnPropertyDescriptors,Bte=Object.getOwnPropertySymbols,Ute=Object.prototype.hasOwnProperty,jte=Object.prototype.propertyIsEnumerable,Hte=(e,t,n)=>t in e?zte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vte=(e,t)=>{for(var n in t||(t={}))Ute.call(t,n)&&Hte(e,n,t[n]);if(Bte)for(var n of Bte(t))jte.call(t,n)&&Hte(e,n,t[n]);return e},Gte=(e,t)=>Fte(e,Nte(t));function Wte(e,t){if(!Array.isArray(e))return;if(0===t.length)return[];const n=t.map((e=>"object"===typeof e?e.value:e));return e.filter((e=>n.includes(e)))}const Yte={size:"sm",valueComponent:Cte,itemComponent:J9,transitionProps:{transition:"fade",duration:0},maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:function(e,t,n){return!t&&n.label.toLowerCase().trim().includes(e.toLowerCase().trim())},limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:function(e,t){return!!e&&!t.some((t=>t.value.toLowerCase()===e.toLowerCase()))},switchDirectionOnFlip:!1,zIndex:eK("popover"),selectOnBlur:!1,positionDependencies:[],dropdownPosition:"flip"},Xte=(0,t.forwardRef)(((e,n)=>{const r=GT("MultiSelect",Yte,e),{className:i,style:o,required:a,label:s,description:l,size:c,error:u,classNames:d,styles:h,wrapperProps:f,value:p,defaultValue:m,data:g,onChange:v,valueComponent:y,itemComponent:b,id:x,transitionProps:w,maxDropdownHeight:S,shadow:E,nothingFound:M,onFocus:C,onBlur:_,searchable:T,placeholder:A,filter:P,limit:O,clearSearchOnChange:D,clearable:R,clearSearchOnBlur:k,variant:I,onSearchChange:L,searchValue:z,disabled:F,initiallyOpened:N,radius:B,icon:U,rightSection:j,rightSectionWidth:H,creatable:V,getCreateLabel:G,shouldCreate:W,onCreate:Y,sx:X,dropdownComponent:Q,onDropdownClose:q,onDropdownOpen:K,maxSelectedValues:Z,withinPortal:J,switchDirectionOnFlip:$,zIndex:ee,selectOnBlur:te,name:ne,dropdownPosition:re,errorProps:ie,labelProps:oe,descriptionProps:ae,form:se,positionDependencies:le,onKeyDown:ce,unstyled:ue,inputContainer:de,inputWrapperOrder:he,readOnly:fe,withAsterisk:pe,clearButtonProps:me,hoverOnSearchChange:ge,disableSelectedItemFiltering:ve}=r,ye=((e,t)=>{var n={};for(var r in e)Ute.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bte)for(var r of Bte(e))t.indexOf(r)<0&&jte.call(e,r)&&(n[r]=e[r]);return n})(r,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transitionProps","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","clearButtonProps","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:be,cx:xe,theme:we}=Lte({invalid:!!u},{name:"MultiSelect",classNames:d,styles:h,unstyled:ue,size:c,variant:I}),{systemStyles:Se,rest:Ee}=YA(ye),Me=(0,t.useRef)(),Ce=(0,t.useRef)({}),_e=pI(x),[Te,Ae]=(0,t.useState)(N),[Pe,Oe]=(0,t.useState)(-1),[De,Re]=(0,t.useState)("column"),[ke,Ie]=mI({value:z,defaultValue:"",finalValue:void 0,onChange:L}),[Le,ze]=(0,t.useState)(!1),{scrollIntoView:Fe,targetRef:Ne,scrollableRef:Be}=z9({duration:0,offset:5,cancelable:!1,isList:!0}),Ue=V&&"function"===typeof G;let je=null;const He=F9({data:g.map((e=>"string"===typeof e?{label:e,value:e}:e))}),[Ve,Ge]=mI({value:Wte(p,g),defaultValue:Wte(m,g),finalValue:[],onChange:v}),We=(0,t.useRef)(!!Z&&Z<Ve.length),Ye=e=>{if(!fe){const t=Ve.filter((t=>t!==e));Ge(t),Z&&t.length<Z&&(We.current=!1)}},Xe=function(e){let{data:t,searchable:n,limit:r,searchValue:i,filter:o,value:a,disableSelectedItemFiltering:s}=e;if(!n&&0===a.length)return t;if(!n){const e=[];for(let n=0;n<t.length;n+=1)!s&&a.some((e=>e===t[n].value&&!t[n].disabled))||e.push(t[n]);return e}const l=[];for(let c=0;c<t.length&&(o(i,!s&&a.some((e=>e===t[c].value&&!t[c].disabled)),t[c])&&l.push(t[c]),!(l.length>=r));c+=1);return l}({data:He,searchable:T,searchValue:ke,limit:O,filter:P,value:Ve,disableSelectedItemFiltering:ve}),Qe=Math.min(Pe,Xe.length-1),qe=(e,t,n)=>{let r=e;for(;n(r);)if(r=t(r),!Xe[r].disabled)return r;return e};Zq((()=>{Oe(ge&&ke?0:-1)}),[ke,ge]),Zq((()=>{!F&&Ve.length>g.length&&Ae(!1),Z&&Ve.length<Z&&(We.current=!1),Z&&Ve.length>=Z&&(We.current=!0,Ae(!1))}),[Ve]);const Ke=e=>{if(!fe)if(D&&Ie(""),Ve.includes(e.value))Ye(e.value);else{if(e.creatable&&"function"===typeof Y){const t=Y(e.value);"undefined"!==typeof t&&null!==t&&Ge("string"===typeof t?[...Ve,t]:[...Ve,t.value])}else Ge([...Ve,e.value]);Ve.length===Z-1&&(We.current=!0,Ae(!1)),1===Xe.length&&Ae(!1)}},Ze=Ve.map((e=>{let t=He.find((t=>t.value===e&&!t.disabled));return!t&&Ue&&(t={value:e,label:e}),t})).filter((e=>!!e)).map(((e,n)=>t.createElement(y,Gte(Vte({},e),{variant:I,disabled:F,className:be.value,readOnly:fe,onRemove:t=>{t.preventDefault(),t.stopPropagation(),Ye(e.value)},key:e.value,size:c,styles:h,classNames:d,radius:B,index:n}))));Ue&&W(ke,He)&&(je=G(ke),Xe.push({label:ke,value:ke,creatable:!0}));const Je=!fe&&(Xe.length>0?Te:Te&&!!M);return Zq((()=>{const e=Je?K:q;"function"===typeof e&&e()}),[Je]),t.createElement(wY.Wrapper,Vte(Vte({required:a,id:_e,label:s,error:u,description:l,size:c,className:i,style:o,classNames:d,styles:h,__staticSelector:"MultiSelect",sx:X,errorProps:ie,descriptionProps:ae,labelProps:oe,inputContainer:de,inputWrapperOrder:he,unstyled:ue,withAsterisk:pe,variant:I},Se),f),t.createElement(uee,{opened:Je,transitionProps:w,shadow:"sm",withinPortal:J,__staticSelector:"MultiSelect",onDirectionChange:Re,switchDirectionOnFlip:$,zIndex:ee,dropdownPosition:re,positionDependencies:[...le,ke],classNames:d,styles:h,unstyled:ue,variant:I},t.createElement(uee.Target,null,t.createElement("div",{className:be.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":Te&&Je?`${_e}-items`:null,"aria-controls":_e,"aria-expanded":Te,onMouseLeave:()=>Oe(-1),tabIndex:-1},t.createElement("input",{type:"hidden",name:ne,value:Ve.join(","),form:se,disabled:F}),t.createElement(wY,Vte({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:c,variant:I,disabled:F,error:u,required:a,radius:B,icon:U,unstyled:ue,onMouseDown:e=>{var t;e.preventDefault(),!F&&!We.current&&Ae(!Te),null==(t=Me.current)||t.focus()},classNames:Gte(Vte({},d),{input:xe({[be.input]:!T},null==d?void 0:d.input)})},T7({theme:we,rightSection:j,rightSectionWidth:H,styles:h,size:c,shouldClear:R&&Ve.length>0,onClear:()=>{var e;Ie(""),Ge([]),null==(e=Me.current)||e.focus(),Z&&(We.current=!1)},error:u,disabled:F,clearButtonProps:me,readOnly:fe})),t.createElement("div",{className:be.values,"data-clearable":R||void 0},Ze,t.createElement("input",Vte({ref:LZ(n,Me),type:"search",id:_e,className:xe(be.searchInput,{[be.searchInputPointer]:!T,[be.searchInputInputHidden]:!Te&&Ve.length>0||!T&&Ve.length>0,[be.searchInputEmpty]:0===Ve.length}),onKeyDown:e=>{if(Le)return;if(null==ce||ce(e),fe)return;if("Backspace"!==e.key&&Z&&We.current)return;const t="column"===De,n=()=>{Oe((e=>{var n;const r=qe(e,(e=>e+1),(e=>e<Xe.length-1));return Te&&(Ne.current=Ce.current[null==(n=Xe[r])?void 0:n.value],Fe({alignment:t?"end":"start"})),r}))},r=()=>{Oe((e=>{var n;const r=qe(e,(e=>e-1),(e=>e>0));return Te&&(Ne.current=Ce.current[null==(n=Xe[r])?void 0:n.value],Fe({alignment:t?"start":"end"})),r}))};switch(e.key){case"ArrowUp":e.preventDefault(),Ae(!0),t?r():n();break;case"ArrowDown":e.preventDefault(),Ae(!0),t?n():r();break;case"Enter":e.preventDefault(),Xe[Qe]&&Te?Ke(Xe[Qe]):Ae(!0);break;case" ":T||(e.preventDefault(),Xe[Qe]&&Te?Ke(Xe[Qe]):Ae(!0));break;case"Backspace":Ve.length>0&&0===ke.length&&(Ge(Ve.slice(0,-1)),Ae(!0),Z&&(We.current=!1));break;case"Home":if(!T){e.preventDefault(),Te||Ae(!0);const n=Xe.findIndex((e=>!e.disabled));Oe(n),Fe({alignment:t?"end":"start"})}break;case"End":if(!T){e.preventDefault(),Te||Ae(!0);const n=Xe.map((e=>!!e.disabled)).lastIndexOf(!1);Oe(n),Fe({alignment:t?"end":"start"})}break;case"Escape":Ae(!1)}},value:ke,onChange:e=>{Ie(e.currentTarget.value),!F&&!We.current&&T&&Ae(!0)},onFocus:e=>{"function"===typeof C&&C(e),!F&&!We.current&&T&&Ae(!0)},onBlur:e=>{"function"===typeof _&&_(e),te&&Xe[Qe]&&Te&&Ke(Xe[Qe]),k&&Ie(""),Ae(!1)},readOnly:!T||We.current||fe,placeholder:0===Ve.length?A:void 0,disabled:F,"data-mantine-stop-propagation":Te,autoComplete:"off",onCompositionStart:()=>ze(!0),onCompositionEnd:()=>ze(!1)},Ee)))))),t.createElement(uee.Dropdown,{component:Q||Y9,maxHeight:S,direction:De,id:_e,innerRef:Be,__staticSelector:"MultiSelect",classNames:d,styles:h},t.createElement(ree,{data:Xe,hovered:Qe,classNames:d,styles:h,uuid:_e,__staticSelector:"MultiSelect",onItemHover:Oe,onItemSelect:Ke,itemsRefs:Ce,itemComponent:b,size:c,nothingFound:M,isItemSelected:e=>Ve.includes(e),creatable:V&&!!je,createLabel:je,unstyled:ue,variant:I}))))}));Xte.displayName="@mantine/core/MultiSelect";var Qte=Object.defineProperty,qte=Object.defineProperties,Kte=Object.getOwnPropertyDescriptors,Zte=Object.getOwnPropertySymbols,Jte=Object.prototype.hasOwnProperty,$te=Object.prototype.propertyIsEnumerable,ene=(e,t,n)=>t in e?Qte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tne=(e,t)=>{for(var n in t||(t={}))Jte.call(t,n)&&ene(e,n,t[n]);if(Zte)for(var n of Zte(t))$te.call(t,n)&&ene(e,n,t[n]);return e},nne=(e,t)=>qte(e,Kte(t));const rne=e=>k_({from:{boxShadow:`0 0 ${Y_(.5)} 0 ${e}`,opacity:.6},to:{boxShadow:`0 0 ${Y_(.5)} ${Y_(4.4)} ${e}`,opacity:0}});function ine(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={},[r,i]=e.split("-");let o="",a="";return"top"===r&&(n.top=t,a="-50%"),"middle"===r&&(n.top="50%",a="-50%"),"bottom"===r&&(n.bottom=t,a="50%"),"start"===i&&(n.left=t,o="-50%"),"center"===i&&(n.left="50%",o="-50%"),"end"===i&&(n.right=t,o="50%"),n.transform=`translate(${o}, ${a})`,n}var one=_A(((e,t,n)=>{let{radius:r,color:i,position:o,offset:a,inline:s,withBorder:l,withLabel:c,zIndex:u}=t,{size:d}=n;const{background:h}=e.fn.variant({variant:"filled",primaryFallback:!1,color:i||e.primaryColor}),f=Y_(d);return{root:{position:"relative",display:s?"inline-block":"block"},indicator:nne(tne({},ine(o,a)),{zIndex:u,position:"absolute",[c?"minWidth":"width"]:f,height:f,display:"flex",justifyContent:"center",alignItems:"center",fontSize:e.fontSizes.xs,paddingLeft:c?`calc(${e.spacing.xs} / 2)`:0,paddingRight:c?`calc(${e.spacing.xs} / 2)`:0,borderRadius:e.fn.radius(r),backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:i||e.primaryColor}).background,border:l?`${Y_(2)} solid ${"dark"===e.colorScheme?e.colors.dark[7]:e.white}`:void 0,color:e.white,whiteSpace:"nowrap"}),processing:{animation:`${rne(h)} 1000ms linear infinite`},common:nne(tne({},ine(o,a)),{position:"absolute",[c?"minWidth":"width"]:f,height:f,borderRadius:e.fn.radius(r)})}}));const ane=one;var sne=Object.defineProperty,lne=Object.getOwnPropertySymbols,cne=Object.prototype.hasOwnProperty,une=Object.prototype.propertyIsEnumerable,dne=(e,t,n)=>t in e?sne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const hne={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1,size:10,radius:1e3,zIndex:eK("app")},fne=(0,t.forwardRef)(((e,n)=>{const r=GT("Indicator",hne,e),{children:i,position:o,offset:a,size:s,radius:l,inline:c,withBorder:u,className:d,color:h,styles:f,label:p,classNames:m,disabled:g,zIndex:v,unstyled:y,processing:b,variant:x}=r,w=((e,t)=>{var n={};for(var r in e)cne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&lne)for(var r of lne(e))t.indexOf(r)<0&&une.call(e,r)&&(n[r]=e[r]);return n})(r,["children","position","offset","size","radius","inline","withBorder","className","color","styles","label","classNames","disabled","zIndex","unstyled","processing","variant"]),{classes:S,cx:E}=ane({position:o,offset:a,radius:l,inline:c,color:h,withBorder:u,zIndex:v,withLabel:!!p},{name:"Indicator",classNames:m,styles:f,unstyled:y,variant:x,size:s});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))cne.call(t,n)&&dne(e,n,t[n]);if(lne)for(var n of lne(t))une.call(t,n)&&dne(e,n,t[n]);return e})({ref:n,className:E(S.root,d)},w),!g&&t.createElement(t.Fragment,null,t.createElement("div",{className:E(S.indicator,S.common)},p),b&&t.createElement("div",{className:E(S.processing,S.common)})),i)}));function pne(){let{timeout:e=2e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,r]=(0,t.useState)(null),[i,o]=(0,t.useState)(!1),[a,s]=(0,t.useState)(null);return{copy:t=>{"clipboard"in navigator?navigator.clipboard.writeText(t).then((()=>{return t=!0,clearTimeout(a),s(setTimeout((()=>o(!1)),e)),void o(t);var t})).catch((e=>r(e))):r(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{o(!1),r(null),clearTimeout(a)},error:n,copied:i}}fne.displayName="@mantine/core/Indicator";var mne=Object.defineProperty,gne=Object.getOwnPropertySymbols,vne=Object.prototype.hasOwnProperty,yne=Object.prototype.propertyIsEnumerable,bne=(e,t,n)=>t in e?mne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xne={timeout:1e3};function wne(e){const n=GT("CopyButton",xne,e),{children:r,timeout:i,value:o}=n,a=((e,t)=>{var n={};for(var r in e)vne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gne)for(var r of gne(e))t.indexOf(r)<0&&yne.call(e,r)&&(n[r]=e[r]);return n})(n,["children","timeout","value"]),s=pne({timeout:i});return t.createElement(t.Fragment,null,r(((e,t)=>{for(var n in t||(t={}))vne.call(t,n)&&bne(e,n,t[n]);if(gne)for(var n of gne(t))yne.call(t,n)&&bne(e,n,t[n]);return e})({copy:()=>s.copy(o),copied:s.copied},a)))}wne.displayName="@mantine/core/CopyButton";var Sne=Object.defineProperty,Ene=Object.defineProperties,Mne=Object.getOwnPropertyDescriptors,Cne=Object.getOwnPropertySymbols,_ne=Object.prototype.hasOwnProperty,Tne=Object.prototype.propertyIsEnumerable,Ane=(e,t,n)=>t in e?Sne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pne=(e,t)=>{for(var n in t||(t={}))_ne.call(t,n)&&Ane(e,n,t[n]);if(Cne)for(var n of Cne(t))Tne.call(t,n)&&Ane(e,n,t[n]);return e},One=(e,t)=>Ene(e,Mne(t));const Dne=k_({"from, to":{opacity:.4},"50%":{opacity:1}});var Rne=_A(((e,t)=>{let{height:n,width:r,radius:i,circle:o,animate:a}=t;return{root:{height:Y_(n),width:Y_(o?n:r),borderRadius:o?Y_(n):e.fn.radius(i),position:"relative",WebkitTransform:"translateZ(0)"},visible:{overflow:"hidden","&::before":One(Pne({},e.fn.cover(0)),{content:'""',background:"dark"===e.colorScheme?e.colors.dark[7]:e.white,zIndex:10}),"&::after":One(Pne({},e.fn.cover(0)),{content:'""',background:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3],animation:a?`${Dne} 1500ms linear infinite`:"none",zIndex:11})}}}));const kne=Rne;var Ine=Object.defineProperty,Lne=Object.getOwnPropertySymbols,zne=Object.prototype.hasOwnProperty,Fne=Object.prototype.propertyIsEnumerable,Nne=(e,t,n)=>t in e?Ine(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Bne={height:"auto",width:"100%",visible:!0,animate:!0},Une=(0,t.forwardRef)(((e,n)=>{const r=GT("Skeleton",Bne,e),{height:i,width:o,visible:a,animate:s,className:l,circle:c,radius:u,unstyled:d,variant:h}=r,f=((e,t)=>{var n={};for(var r in e)zne.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Lne)for(var r of Lne(e))t.indexOf(r)<0&&Fne.call(e,r)&&(n[r]=e[r]);return n})(r,["height","width","visible","animate","className","circle","radius","unstyled","variant"]),{classes:p,cx:m}=kne({height:i,width:o,circle:c,radius:u,animate:s},{name:"Skeleton",unstyled:d,variant:h});return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))zne.call(t,n)&&Nne(e,n,t[n]);if(Lne)for(var n of Lne(t))Fne.call(t,n)&&Nne(e,n,t[n]);return e})({className:m(p.root,{[p.visible]:a},l),ref:n},f))}));Une.displayName="@mantine/core/Skeleton";var jne=Object.defineProperty,Hne=Object.defineProperties,Vne=Object.getOwnPropertyDescriptors,Gne=Object.getOwnPropertySymbols,Wne=Object.prototype.hasOwnProperty,Yne=Object.prototype.propertyIsEnumerable,Xne=(e,t,n)=>t in e?jne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qne=(e,t)=>{for(var n in t||(t={}))Wne.call(t,n)&&Xne(e,n,t[n]);if(Gne)for(var n of Gne(t))Yne.call(t,n)&&Xne(e,n,t[n]);return e},qne=(e,t)=>Hne(e,Vne(t));const Kne=_A(((e,t)=>{let{captionSide:n,horizontalSpacing:r,verticalSpacing:i,fontSize:o,withBorder:a,withColumnBorders:s}=t;const l=`${Y_(1)} solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}`;return{root:qne(Qne({},e.fn.fontStyles()),{width:"100%",borderCollapse:"collapse",captionSide:n,color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,lineHeight:e.lineHeight,border:a?l:void 0,"& caption":{marginTop:"top"===n?0:e.spacing.xs,marginBottom:"bottom"===n?0:e.spacing.xs,fontSize:e.fontSizes.sm,color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6]},"& thead tr th, & tfoot tr th, & tbody tr th":{textAlign:"left",fontWeight:"bold",color:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[7],fontSize:Q_({size:o,sizes:e.fontSizes}),padding:`${Q_({size:i,sizes:e.spacing})} ${Q_({size:r,sizes:e.spacing})}`},"& thead tr th":{borderBottom:l},"& tfoot tr th, & tbody tr th":{borderTop:l},"& tbody tr td":{padding:`${Q_({size:i,sizes:e.spacing})} ${Q_({size:r,sizes:e.spacing})}`,borderTop:l,fontSize:Q_({size:o,sizes:e.fontSizes})},"& tbody tr:first-of-type td, & tbody tr:first-of-type th":{borderTop:"none"},"& thead th, & tbody td":{borderRight:s?l:"none","&:last-of-type":{borderRight:"none",borderLeft:s?l:"none"}},"& tbody tr th":{borderRight:s?l:"none"},"&[data-striped] tbody tr:nth-of-type(odd)":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]},"&[data-hover] tbody tr":e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1]})})}}));var Zne=Object.defineProperty,Jne=Object.defineProperties,$ne=Object.getOwnPropertyDescriptors,ere=Object.getOwnPropertySymbols,tre=Object.prototype.hasOwnProperty,nre=Object.prototype.propertyIsEnumerable,rre=(e,t,n)=>t in e?Zne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ire={striped:!1,highlightOnHover:!1,captionSide:"top",horizontalSpacing:"xs",fontSize:"sm",verticalSpacing:7,withBorder:!1,withColumnBorders:!1},ore=(0,t.forwardRef)(((e,n)=>{const r=GT("Table",ire,e),{className:i,children:o,striped:a,highlightOnHover:s,captionSide:l,horizontalSpacing:c,verticalSpacing:u,fontSize:d,unstyled:h,withBorder:f,withColumnBorders:p,variant:m}=r,g=((e,t)=>{var n={};for(var r in e)tre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ere)for(var r of ere(e))t.indexOf(r)<0&&nre.call(e,r)&&(n[r]=e[r]);return n})(r,["className","children","striped","highlightOnHover","captionSide","horizontalSpacing","verticalSpacing","fontSize","unstyled","withBorder","withColumnBorders","variant"]),{classes:v,cx:y}=Kne({captionSide:l,verticalSpacing:u,horizontalSpacing:c,fontSize:d,withBorder:f,withColumnBorders:p},{unstyled:h,name:"Table",variant:m});return t.createElement(hP,((e,t)=>Jne(e,$ne(t)))(((e,t)=>{for(var n in t||(t={}))tre.call(t,n)&&rre(e,n,t[n]);if(ere)for(var n of ere(t))nre.call(t,n)&&rre(e,n,t[n]);return e})({},g),{component:"table",ref:n,className:y(v.root,i),"data-striped":a||void 0,"data-hover":s||void 0}),o)}));function are(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{leading:!1};const[i,o]=(0,t.useState)(e),a=(0,t.useRef)(!1),s=(0,t.useRef)(null),l=(0,t.useRef)(!1),c=()=>window.clearTimeout(s.current);return(0,t.useEffect)((()=>{a.current&&(!l.current&&r.leading?(l.current=!0,o(e)):(c(),s.current=window.setTimeout((()=>{l.current=!1,o(e)}),n)))}),[e,r.leading,n]),(0,t.useEffect)((()=>(a.current=!0,c)),[]),[i,c]}function sre(){return sre=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sre.apply(this,arguments)}function lre(){return lre=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lre.apply(this,arguments)}function cre(e,t,n){var r,i,o=null!=(r=n.initialDeps)?r:[];return function(){var r;n.key&&null!=n.debug&&n.debug()&&(r=Date.now());var a,s=e(),l=s.length!==o.length||s.some((function(e,t){return o[t]!==e}));if(!l)return i;if(o=s,n.key&&null!=n.debug&&n.debug()&&(a=Date.now()),i=t.apply(void 0,s),n.key&&null!=n.debug&&n.debug()){var c=Math.round(100*(Date.now()-r))/100,u=Math.round(100*(Date.now()-a))/100,d=u/16,h=function(e,t){for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c\u23f1 "+h(u,5)+" /"+h(c,5)+" ms","\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl("+Math.max(0,Math.min(120-120*d,120))+"deg 100% 31%);",null==n?void 0:n.key)}return null==n||null==n.onChange||n.onChange(i),i}}function ure(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}ore.displayName="@mantine/core/Table";var dre=function(e){return e},hre=function(e){for(var t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[],i=t;i<=n;i++)r.push(i);return r},fre=function(e,t){var n=e.scrollElement;if(n){var r=function(e){var n=e.width,r=e.height;t({width:Math.round(n),height:Math.round(r)})};r(n.getBoundingClientRect());var i=new ResizeObserver((function(e){var t=e[0];if(null!=t&&t.borderBoxSize){var i=t.borderBoxSize[0];if(i)return void r({width:i.inlineSize,height:i.blockSize})}r(n.getBoundingClientRect())}));return i.observe(n,{box:"border-box"}),function(){i.unobserve(n)}}},pre=function(e,t){var n=e.scrollElement;if(n){var r=function(){t(n[e.options.horizontal?"scrollLeft":"scrollTop"])};return r(),n.addEventListener("scroll",r,{passive:!0}),function(){n.removeEventListener("scroll",r)}}},mre=function(e,t,n){if(null!=t&&t.borderBoxSize){var r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},gre=function(e,t,n){var r,i,o=t.adjustments,a=void 0===o?0:o,s=t.behavior,l=e+a;null==(r=n.scrollElement)||null==r.scrollTo||r.scrollTo(((i={})[n.options.horizontal?"left":"top"]=l,i.behavior=s,i))},vre=function(e){var t=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var e=null,n=function(){return e||("undefined"!==typeof ResizeObserver?e=new ResizeObserver((function(e){e.forEach((function(e){t._measureElement(e.target,e)}))})):null)};return{disconnect:function(){var e;return null==(e=n())?void 0:e.disconnect()},observe:function(e){var t;return null==(t=n())?void 0:t.observe(e,{box:"border-box"})},unobserve:function(e){var t;return null==(t=n())?void 0:t.unobserve(e)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(e){Object.entries(e).forEach((function(t){var n=t[0];"undefined"===typeof t[1]&&delete e[n]})),t.options=lre({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:dre,rangeExtractor:hre,onChange:function(){},measureElement:mre,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},e)},this.notify=function(){null==t.options.onChange||t.options.onChange(t)},this.cleanup=function(){t.unsubs.filter(Boolean).forEach((function(e){return e()})),t.unsubs=[],t.scrollElement=null},this._didMount=function(){return t.measureElementCache.forEach(t.observer.observe),function(){t.observer.disconnect(),t.cleanup()}},this._willUpdate=function(){var e=t.options.getScrollElement();t.scrollElement!==e&&(t.cleanup(),t.scrollElement=e,t._scrollToOffset(t.scrollOffset,{adjustments:void 0,behavior:void 0}),t.unsubs.push(t.options.observeElementRect(t,(function(e){var n=t.scrollRect;t.scrollRect=e,(t.options.horizontal?e.width!==n.width:e.height!==n.height)&&t.maybeNotify()}))),t.unsubs.push(t.options.observeElementOffset(t,(function(e){t.scrollAdjustments=0,t.scrollOffset!==e&&(null!==t.isScrollingTimeoutId&&(clearTimeout(t.isScrollingTimeoutId),t.isScrollingTimeoutId=null),t.isScrolling=!0,t.scrollDirection=t.scrollOffset<e?"forward":"backward",t.scrollOffset=e,t.maybeNotify(),t.isScrollingTimeoutId=setTimeout((function(){t.isScrollingTimeoutId=null,t.isScrolling=!1,t.scrollDirection=null,t.maybeNotify()}),t.options.scrollingDelay))}))))},this.getSize=function(){return t.scrollRect[t.options.horizontal?"width":"height"]},this.memoOptions=cre((function(){return[t.options.count,t.options.paddingStart,t.options.scrollMargin,t.options.getItemKey]}),(function(e,n,r,i){return t.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:n,scrollMargin:r,getItemKey:i}}),{key:!1}),this.getFurthestMeasurement=function(e,n){for(var r=new Map,i=new Map,o=n-1;o>=0;o--){var a=e[o];if(!r.has(a.lane)){var s=i.get(a.lane);if(null==s||a.end>s.end?i.set(a.lane,a):a.end<s.end&&r.set(a.lane,!0),r.size===t.options.lanes)break}}return i.size===t.options.lanes?Array.from(i.values()).sort((function(e,t){return e.end-t.end}))[0]:void 0},this.getMeasurements=cre((function(){return[t.memoOptions(),t.itemSizeCache]}),(function(e,n){var r=e.count,i=e.paddingStart,o=e.scrollMargin,a=e.getItemKey,s=t.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,t.pendingMeasuredCacheIndexes):0;t.pendingMeasuredCacheIndexes=[];for(var l=t.measurementsCache.slice(0,s),c=s;c<r;c++){var u=a(c),d=1===t.options.lanes?l[c-1]:t.getFurthestMeasurement(l,c),h=d?d.end:i+o,f=n.get(u),p="number"===typeof f?f:t.options.estimateSize(c),m=h+p,g=d?d.lane:c%t.options.lanes;l[c]={index:c,start:h,size:p,end:m,key:u,lane:g}}return t.measurementsCache=l,l}),{key:!1,debug:function(){return t.options.debug}}),this.calculateRange=cre((function(){return[t.getMeasurements(),t.getSize(),t.scrollOffset]}),(function(e,n,r){return t.range=function(e){var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,o=function(e){return t[e].start},a=yre(0,i,o,r),s=a;for(;s<i&&t[s].end<r+n;)s++;return{startIndex:a,endIndex:s}}({measurements:e,outerSize:n,scrollOffset:r})}),{key:!1,debug:function(){return t.options.debug}}),this.maybeNotify=cre((function(){var e=t.calculateRange();return[e.startIndex,e.endIndex,t.isScrolling]}),(function(){t.notify()}),{key:!1,debug:function(){return t.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=cre((function(){return[t.options.rangeExtractor,t.calculateRange(),t.options.overscan,t.options.count]}),(function(e,t,n,r){return e(lre({},t,{overscan:n,count:r}))}),{key:!1,debug:function(){return t.options.debug}}),this.indexFromElement=function(e){var n=t.options.indexAttribute,r=e.getAttribute(n);return r?parseInt(r,10):(console.warn("Missing attribute name '"+n+"={index}' on measured element."),-1)},this._measureElement=function(e,n){var r,i=t.indexFromElement(e),o=t.measurementsCache[i];if(o){var a=t.measureElementCache.get(o.key);if(!e.isConnected)return t.observer.unobserve(e),void(e===a&&t.measureElementCache.delete(o.key));a!==e&&(a&&t.observer.unobserve(a),t.observer.observe(e),t.measureElementCache.set(o.key,e));var s=t.options.measureElement(e,n,t),l=s-(null!=(r=t.itemSizeCache.get(o.key))?r:o.size);0!==l&&(o.start<t.scrollOffset&&t._scrollToOffset(t.scrollOffset,{adjustments:t.scrollAdjustments+=l,behavior:void 0}),t.pendingMeasuredCacheIndexes.push(i),t.itemSizeCache=new Map(t.itemSizeCache.set(o.key,s)),t.notify())}},this.measureElement=function(e){e&&t._measureElement(e,void 0)},this.getVirtualItems=cre((function(){return[t.getIndexes(),t.getMeasurements()]}),(function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=t[e[r]];n.push(o)}return n}),{key:!1,debug:function(){return t.options.debug}}),this.getVirtualItemForOffset=function(e){var n=t.getMeasurements();return ure(n[yre(0,n.length-1,(function(e){return ure(n[e]).start}),e)])},this.getOffsetForAlignment=function(e,n){var r=t.getSize();"auto"===n&&(n=e<=t.scrollOffset?"start":e>=t.scrollOffset+r?"end":"start"),"start"===n||("end"===n?e-=r:"center"===n&&(e-=r/2));var i=t.options.horizontal?"scrollWidth":"scrollHeight",o=(t.scrollElement?"document"in t.scrollElement?t.scrollElement.document.documentElement[i]:t.scrollElement[i]:0)-t.getSize();return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=function(e,n){void 0===n&&(n="auto"),e=Math.max(0,Math.min(e,t.options.count-1));var r=ure(t.getMeasurements()[e]);if("auto"===n)if(r.end>=t.scrollOffset+t.getSize()-t.options.scrollPaddingEnd)n="end";else{if(!(r.start<=t.scrollOffset+t.options.scrollPaddingStart))return[t.scrollOffset,n];n="start"}var i="end"===n?r.end+t.options.scrollPaddingEnd:r.start-t.options.scrollPaddingStart;return[t.getOffsetForAlignment(i,n),n]},this.isDynamicMode=function(){return t.measureElementCache.size>0},this.cancelScrollToIndex=function(){null!==t.scrollToIndexTimeoutId&&(clearTimeout(t.scrollToIndexTimeoutId),t.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(e,n){var r=void 0===n?{}:n,i=r.align,o=void 0===i?"start":i,a=r.behavior;t.cancelScrollToIndex(),"smooth"===a&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.getOffsetForAlignment(e,o),{adjustments:void 0,behavior:a})},this.scrollToIndex=function(e,n){var r=void 0===n?{}:n,i=r.align,o=void 0===i?"auto":i,a=r.behavior;e=Math.max(0,Math.min(e,t.options.count-1)),t.cancelScrollToIndex(),"smooth"===a&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var s=t.getOffsetForIndex(e,o),l=s[0],c=s[1];t._scrollToOffset(l,{adjustments:void 0,behavior:a}),"smooth"!==a&&t.isDynamicMode()&&(t.scrollToIndexTimeoutId=setTimeout((function(){(t.scrollToIndexTimeoutId=null,t.measureElementCache.has(t.options.getItemKey(e)))?function(e,t){return Math.abs(e-t)<1}(t.getOffsetForIndex(e,c)[0],t.scrollOffset)||t.scrollToIndex(e,{align:c,behavior:a}):t.scrollToIndex(e,{align:c,behavior:a})})))},this.scrollBy=function(e,n){var r=(void 0===n?{}:n).behavior;t.cancelScrollToIndex(),"smooth"===r&&t.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t._scrollToOffset(t.scrollOffset+e,{adjustments:void 0,behavior:r})},this.getTotalSize=function(){var e;return((null==(e=t.getMeasurements()[t.options.count-1])?void 0:e.end)||t.options.paddingStart)-t.options.scrollMargin+t.options.paddingEnd},this._scrollToOffset=function(e,n){var r=n.adjustments,i=n.behavior;t.options.scrollToFn(e,{behavior:i,adjustments:r},t)},this.measure=function(){t.itemSizeCache=new Map,t.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((function(e){t.itemSizeCache.set(e.key,e.size)})),this.maybeNotify()},yre=function(e,t,n,r){for(;e<=t;){var i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else{if(!(o>r))return i;t=i-1}}return e>0?e-1:0};var bre="undefined"!==typeof document?t.useLayoutEffect:t.useEffect;function xre(e){var n=t.useReducer((function(){return{}}),{})[1],r=sre({},e,{onChange:function(t){n(),null==e.onChange||e.onChange(t)}}),i=t.useState((function(){return new vre(r)}))[0];return i.setOptions(r),t.useEffect((function(){return i._didMount()}),[]),bre((function(){return i._willUpdate()})),i}function wre(e){return xre(sre({observeElementRect:fre,observeElementOffset:pre,scrollToFn:gre},e))}var Sre=n(892),Ere=n.n(Sre);var Mre=Object.getOwnPropertySymbols,Cre=Object.prototype.hasOwnProperty,_re=Object.prototype.propertyIsEnumerable;function Tre(e){const t=e,{maxLevel:n,minLevel:r,defaultLevel:i,level:o,onLevelChange:a,nextIcon:s,previousIcon:l,date:c,defaultDate:u,onDateChange:d,numberOfColumns:h,columnsToScroll:f,ariaLabels:p,onYearSelect:m,onMonthSelect:g,onYearMouseEnter:v,onMonthMouseEnter:y,onNextMonth:b,onPreviousMonth:x,onNextYear:w,onPreviousYear:S,onNextDecade:E,onPreviousDecade:M,withCellSpacing:C,__updateDateOnYearSelect:_,__updateDateOnMonthSelect:T,firstDayOfWeek:A,weekdayFormat:P,weekendDays:O,getDayProps:D,excludeDate:R,renderDay:k,hideOutsideDates:I,hideWeekdays:L,getDayAriaLabel:z,monthLabelFormat:F,monthsListFormat:N,getMonthControlProps:B,yearLabelFormat:U,yearsListFormat:j,getYearControlProps:H,decadeLabelFormat:V,allowSingleDateInRange:G,allowDeselect:W,minDate:Y,maxDate:X,locale:Q}=t,q=((e,t)=>{var n={};for(var r in e)Cre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Mre)for(var r of Mre(e))t.indexOf(r)<0&&_re.call(e,r)&&(n[r]=e[r]);return n})(t,["maxLevel","minLevel","defaultLevel","level","onLevelChange","nextIcon","previousIcon","date","defaultDate","onDateChange","numberOfColumns","columnsToScroll","ariaLabels","onYearSelect","onMonthSelect","onYearMouseEnter","onMonthMouseEnter","onNextMonth","onPreviousMonth","onNextYear","onPreviousYear","onNextDecade","onPreviousDecade","withCellSpacing","__updateDateOnYearSelect","__updateDateOnMonthSelect","firstDayOfWeek","weekdayFormat","weekendDays","getDayProps","excludeDate","renderDay","hideOutsideDates","hideWeekdays","getDayAriaLabel","monthLabelFormat","monthsListFormat","getMonthControlProps","yearLabelFormat","yearsListFormat","getYearControlProps","decadeLabelFormat","allowSingleDateInRange","allowDeselect","minDate","maxDate","locale"]);return{calendarProps:{maxLevel:n,minLevel:r,defaultLevel:i,level:o,onLevelChange:a,nextIcon:s,previousIcon:l,date:c,defaultDate:u,onDateChange:d,numberOfColumns:h,columnsToScroll:f,ariaLabels:p,onYearSelect:m,onMonthSelect:g,onYearMouseEnter:v,onMonthMouseEnter:y,onNextMonth:b,onPreviousMonth:x,onNextYear:w,onPreviousYear:S,onNextDecade:E,onPreviousDecade:M,withCellSpacing:C,__updateDateOnYearSelect:_,__updateDateOnMonthSelect:T,firstDayOfWeek:A,weekdayFormat:P,weekendDays:O,getDayProps:D,excludeDate:R,renderDay:k,hideOutsideDates:I,hideWeekdays:L,getDayAriaLabel:z,monthLabelFormat:F,monthsListFormat:N,getMonthControlProps:B,yearLabelFormat:U,yearsListFormat:j,getYearControlProps:H,decadeLabelFormat:V,allowSingleDateInRange:G,allowDeselect:W,minDate:Y,maxDate:X,locale:Q},others:q}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const Are={locale:"en",firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"\u2013"},Pre=(0,t.createContext)(Are);var Ore=Object.defineProperty,Dre=Object.defineProperties,Rre=Object.getOwnPropertyDescriptors,kre=Object.getOwnPropertySymbols,Ire=Object.prototype.hasOwnProperty,Lre=Object.prototype.propertyIsEnumerable,zre=(e,t,n)=>t in e?Ore(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Fre(){const e=(0,t.useContext)(Pre),n=(0,t.useCallback)((t=>t||e.locale),[e.locale]),r=(0,t.useCallback)((t=>"number"===typeof t?t:e.firstDayOfWeek),[e.firstDayOfWeek]),i=(0,t.useCallback)((t=>Array.isArray(t)?t:e.weekendDays),[e.weekendDays]),o=(0,t.useCallback)((t=>"string"===typeof t?t:e.labelSeparator),[e.labelSeparator]);return((e,t)=>Dre(e,Rre(t)))(((e,t)=>{for(var n in t||(t={}))Ire.call(t,n)&&zre(e,n,t[n]);if(kre)for(var n of kre(t))Lre.call(t,n)&&zre(e,n,t[n]);return e})({},e),{getLocale:n,getFirstDayOfWeek:r,getWeekendDays:i,getLabelSeparator:o})}function Nre(e,t){return e?"month"===e?0:"year"===e?1:2:t}function Bre(e,t,n){return r=function(e,t,n){return Math.min(Math.max(e,t),n)}(Nre(e,0),Nre(t,0),Nre(n,2)),0===r?"month":1===r?"year":"decade";var r}const Ure=_A((()=>({calendar:{}})));const jre=_A(((e,t,n)=>{let{size:r}=n;return{monthLevelGroup:{display:"flex","& [data-month-level]:not(:last-of-type)":{marginRight:Q_({size:r,sizes:e.spacing})}}}}));const Hre=_A((e=>({monthLevel:{},calendarHeader:{marginBottom:e.spacing.xs}})));var Vre=Object.defineProperty,Gre=Object.getOwnPropertySymbols,Wre=Object.prototype.hasOwnProperty,Yre=Object.prototype.propertyIsEnumerable,Xre=(e,t,n)=>t in e?Vre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qre=(e,t)=>{for(var n in t||(t={}))Wre.call(t,n)&&Xre(e,n,t[n]);if(Gre)for(var n of Gre(t))Yre.call(t,n)&&Xre(e,n,t[n]);return e};function qre(e){return t.createElement("svg",Qre({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem"},e),t.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var Kre=Object.defineProperty,Zre=Object.defineProperties,Jre=Object.getOwnPropertyDescriptors,$re=Object.getOwnPropertySymbols,eie=Object.prototype.hasOwnProperty,tie=Object.prototype.propertyIsEnumerable,nie=(e,t,n)=>t in e?Kre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rie=(e,t)=>{for(var n in t||(t={}))eie.call(t,n)&&nie(e,n,t[n]);if($re)for(var n of $re(t))tie.call(t,n)&&nie(e,n,t[n]);return e},iie=(e,t)=>Zre(e,Jre(t));function oie(e){var n=e,{direction:r,style:i}=n,o=((e,t)=>{var n={};for(var r in e)eie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$re)for(var r of $re(e))t.indexOf(r)<0&&tie.call(e,r)&&(n[r]=e[r]);return n})(n,["direction","style"]);const a=HT();return t.createElement(qre,iie(rie({},o),{style:iie(rie({},i),{transform:"next"===r&&"ltr"===a.dir||"previous"===r&&"rtl"===a.dir?"rotate(270deg)":"rotate(90deg)"})}))}oie.displayName="@mantine/dates/Chevron";var aie=Object.defineProperty,sie=Object.defineProperties,lie=Object.getOwnPropertyDescriptors,cie=Object.getOwnPropertySymbols,uie=Object.prototype.hasOwnProperty,die=Object.prototype.propertyIsEnumerable,hie=(e,t,n)=>t in e?aie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fie=(e,t)=>{for(var n in t||(t={}))uie.call(t,n)&&hie(e,n,t[n]);if(cie)for(var n of cie(t))die.call(t,n)&&hie(e,n,t[n]);return e},pie=(e,t)=>sie(e,lie(t));const mie={xs:Y_(30),sm:Y_(36),md:Y_(42),lg:Y_(48),xl:Y_(54)};var gie=_A(((e,t,n)=>{let{radius:r,isStatic:i}=t,{size:o}=n;const a=e.fn.variant({variant:"filled"}),s=e.fn.variant({variant:"light"});return{day:pie(fie({width:Q_({size:o,sizes:mie}),height:Q_({size:o,sizes:mie}),fontSize:Q_({size:o,sizes:e.fontSizes}),display:"inline-flex",justifyContent:"center",alignItems:"center",userSelect:i?void 0:"none",cursor:i?"default":"pointer",borderRadius:e.fn.radius(r)},i?null:e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[0]})),{"&:active":i?void 0:e.activeStyles,"&[data-disabled]":pie(fie({color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[4],cursor:"not-allowed"},e.fn.hover({backgroundColor:"transparent"})),{"&:active":{transform:"none"}}),"&[data-weekend]":{color:e.colors.red[e.fn.primaryShade()]},"&[data-outside]":{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[4]},"&[data-in-range]":fie({backgroundColor:s.background,borderRadius:0},i?null:e.fn.hover({backgroundColor:s.hover})),"&[data-first-in-range]":{borderTopLeftRadius:e.radius.sm,borderBottomLeftRadius:e.radius.sm},"&[data-last-in-range]":{borderTopRightRadius:e.radius.sm,borderBottomRightRadius:e.radius.sm},"&[data-selected]":fie({color:a.color,backgroundColor:a.background},i?null:e.fn.hover({backgroundColor:a.hover})),"&[data-hidden]":{display:"none"}})}}));const vie=gie;var yie=Object.defineProperty,bie=Object.defineProperties,xie=Object.getOwnPropertyDescriptors,wie=Object.getOwnPropertySymbols,Sie=Object.prototype.hasOwnProperty,Eie=Object.prototype.propertyIsEnumerable,Mie=(e,t,n)=>t in e?yie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cie=(e,t)=>{for(var n in t||(t={}))Sie.call(t,n)&&Mie(e,n,t[n]);if(wie)for(var n of wie(t))Eie.call(t,n)&&Mie(e,n,t[n]);return e},_ie=(e,t)=>bie(e,xie(t));const Tie=_A(((e,t,n)=>{let{size:r}=n;const i=Q_({size:r,sizes:mie});return{calendarHeaderControlIcon:{},calendarHeader:{display:"flex",maxWidth:`calc(${i} * 7 + ${Y_(7)})`},calendarHeaderControl:_ie(Cie({width:i,height:i,borderRadius:e.fn.radius(),display:"flex",justifyContent:"center",alignItems:"center",userSelect:"none"},e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[0]})),{"&:active":e.activeStyles,"&[data-disabled]":_ie(Cie({opacity:.2,cursor:"not-allowed"},e.fn.hover({backgroundColor:"transparent"})),{"&:active":{transform:"none"}})}),calendarHeaderLevel:_ie(Cie({height:i,borderRadius:e.fn.radius(),display:"flex",justifyContent:"center",alignItems:"center",userSelect:"none",flex:1,fontSize:Q_({size:r,sizes:e.fontSizes}),fontWeight:500,textTransform:"capitalize"},e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[0]})),{"&:active":e.activeStyles,"&[data-static]":_ie(Cie({cursor:"default",userSelect:"unset"},e.fn.hover({backgroundColor:"transparent"})),{"&:active":{transform:"none"}})})}}));var Aie=Object.defineProperty,Pie=Object.getOwnPropertySymbols,Oie=Object.prototype.hasOwnProperty,Die=Object.prototype.propertyIsEnumerable,Rie=(e,t,n)=>t in e?Aie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const kie={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0,size:"sm"},Iie=(0,t.forwardRef)(((e,n)=>{const r=GT("CalendarHeader",kie,e),{className:i,nextIcon:o,previousIcon:a,nextLabel:s,previousLabel:l,onNext:c,onPrevious:u,onLevelClick:d,label:h,classNames:f,styles:p,unstyled:m,nextDisabled:g,previousDisabled:v,hasNextLevel:y,levelControlAriaLabel:b,withNext:x,withPrevious:w,__staticSelector:S,__preventFocus:E,__stopPropagation:M,size:C,variant:_}=r,T=((e,t)=>{var n={};for(var r in e)Oie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Pie)for(var r of Pie(e))t.indexOf(r)<0&&Die.call(e,r)&&(n[r]=e[r]);return n})(r,["className","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","onLevelClick","label","classNames","styles","unstyled","nextDisabled","previousDisabled","hasNextLevel","levelControlAriaLabel","withNext","withPrevious","__staticSelector","__preventFocus","__stopPropagation","size","variant"]),{classes:A,cx:P}=Tie(null,{name:["CalendarHeader",S],classNames:f,styles:p,unstyled:m,size:C,variant:_}),O=E?e=>e.preventDefault():void 0;return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))Oie.call(t,n)&&Rie(e,n,t[n]);if(Pie)for(var n of Pie(t))Die.call(t,n)&&Rie(e,n,t[n]);return e})({className:P(A.calendarHeader,i),ref:n},T),w&&t.createElement(eI,{className:A.calendarHeaderControl,"data-previous":!0,"aria-label":l,onClick:u,unstyled:m,onMouseDown:O,disabled:v,"data-disabled":v||void 0,tabIndex:E?-1:0,"data-mantine-stop-propagation":M||void 0},a||t.createElement(oie,{className:A.calendarHeaderControlIcon,direction:"previous","data-previous":!0})),t.createElement(eI,{component:y?"button":"div",className:A.calendarHeaderLevel,onClick:y?d:void 0,unstyled:m,onMouseDown:y?O:void 0,disabled:!y,"data-static":!y||void 0,"aria-label":b,tabIndex:E||!y?-1:0,"data-mantine-stop-propagation":M||void 0},h),x&&t.createElement(eI,{className:A.calendarHeaderControl,"data-next":!0,"aria-label":s,onClick:c,unstyled:m,onMouseDown:O,disabled:g,"data-disabled":g||void 0,tabIndex:E?-1:0,"data-mantine-stop-propagation":M||void 0},o||t.createElement(oie,{className:A.calendarHeaderControlIcon,direction:"next","data-next":!0})))}));function Lie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=e.getMonth(),r=new Date(e.getFullYear(),n,1),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=new Date(e),r=0===t?6:t-1;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}(new Date(e.getFullYear(),e.getMonth()+1,0),t),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=new Date(e);for(;n.getDay()!==t;)n.setDate(n.getDate()-1);return n}(r,t),a=[];for(;o<=i;){const e=[];for(let t=0;t<7;t+=1)e.push(new Date(o)),o.setDate(o.getDate()+1);a.push(e)}return a}function zie(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function Fie(e,t){return!(t instanceof Date)||Ere()(e).isBefore(Ere()(t).add(1,"day"),"day")}function Nie(e,t){return!(t instanceof Date)||Ere()(e).isAfter(Ere()(t).subtract(1,"day"),"day")}Iie.displayName="@mantine/dates/CalendarHeader";var Bie=Object.defineProperty,Uie=Object.defineProperties,jie=Object.getOwnPropertyDescriptors,Hie=Object.getOwnPropertySymbols,Vie=Object.prototype.hasOwnProperty,Gie=Object.prototype.propertyIsEnumerable,Wie=(e,t,n)=>t in e?Bie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yie=(e,t)=>{for(var n in t||(t={}))Vie.call(t,n)&&Wie(e,n,t[n]);if(Hie)for(var n of Hie(t))Gie.call(t,n)&&Wie(e,n,t[n]);return e},Xie=(e,t)=>Uie(e,jie(t));const Qie=_A((e=>({monthThead:{},monthRow:{},monthTbody:{},monthCell:{padding:0,"&[data-with-spacing]":{padding:Y_(.5)}},month:Xie(Yie({},e.fn.fontStyles()),{borderCollapse:"collapse",tableLayout:"fixed","& *":{boxSizing:"border-box"}})})));var qie=Object.defineProperty,Kie=Object.getOwnPropertySymbols,Zie=Object.prototype.hasOwnProperty,Jie=Object.prototype.propertyIsEnumerable,$ie=(e,t,n)=>t in e?qie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const eoe={tabIndex:0,size:"sm"},toe=(0,t.forwardRef)(((e,n)=>{const r=GT("Day",eoe,e),{className:i,date:o,radius:a,disabled:s,styles:l,classNames:c,unstyled:u,__staticSelector:d,weekend:h,outside:f,selected:p,renderDay:m,inRange:g,firstInRange:v,lastInRange:y,hidden:b,static:x,variant:w,size:S}=r,E=((e,t)=>{var n={};for(var r in e)Zie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Kie)for(var r of Kie(e))t.indexOf(r)<0&&Jie.call(e,r)&&(n[r]=e[r]);return n})(r,["className","date","radius","disabled","styles","classNames","unstyled","__staticSelector","weekend","outside","selected","renderDay","inRange","firstInRange","lastInRange","hidden","static","variant","size"]),{classes:M,cx:C}=vie({radius:a,isStatic:x},{name:["Day",d],classNames:c,styles:l,unstyled:u,variant:w,size:S});return t.createElement(eI,((e,t)=>{for(var n in t||(t={}))Zie.call(t,n)&&$ie(e,n,t[n]);if(Kie)for(var n of Kie(t))Jie.call(t,n)&&$ie(e,n,t[n]);return e})({component:x?"div":"button",ref:n,className:C(M.day,i),disabled:s,"data-today":Ere()(o).isSame(new Date,"day")||void 0,"data-hidden":b||void 0,"data-disabled":s||void 0,"data-weekend":!s&&!f&&h||void 0,"data-outside":!s&&f||void 0,"data-selected":!s&&p||void 0,"data-in-range":g&&!s||void 0,"data-first-in-range":v&&!s||void 0,"data-last-in-range":y&&!s||void 0,unstyled:u},E),(null==m?void 0:m(o))||o.getDate())}));toe.displayName="@mantine/dates/Day";const noe=_A(((e,t,n)=>{let{size:r}=n;return{weekdaysRow:{},weekday:{color:"dark"===e.colorScheme?e.colors.dark[1]:e.colors.gray[5],fontWeight:400,fontSize:Q_({size:r,sizes:e.fontSizes}),textTransform:"capitalize",paddingBottom:`calc(${Q_({size:r,sizes:e.spacing})} / 2)`}}}));var roe=Object.defineProperty,ioe=Object.getOwnPropertySymbols,ooe=Object.prototype.hasOwnProperty,aoe=Object.prototype.propertyIsEnumerable,soe=(e,t,n)=>t in e?roe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const loe={weekdayFormat:"dd",cellComponent:"th",size:"sm"},coe=(0,t.forwardRef)(((e,n)=>{const r=GT("WeekdaysRow",loe,e),{className:i,locale:o,firstDayOfWeek:a,weekdayFormat:s,cellComponent:l,__staticSelector:c,classNames:u,styles:d,unstyled:h,variant:f,size:p}=r,m=((e,t)=>{var n={};for(var r in e)ooe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ioe)for(var r of ioe(e))t.indexOf(r)<0&&aoe.call(e,r)&&(n[r]=e[r]);return n})(r,["className","locale","firstDayOfWeek","weekdayFormat","cellComponent","__staticSelector","classNames","styles","unstyled","variant","size"]),g=Fre(),{classes:v,cx:y}=noe(null,{name:["WeekdaysRow",c],classNames:u,styles:d,unstyled:h,variant:f,size:p}),b=function(e){let{locale:t,format:n="dd",firstDayOfWeek:r=1}=e;const i=Ere()().day(r),o=[];for(let a=0;a<7;a+=1)"string"===typeof n?o.push(Ere()(i).add(a,"days").locale(t).format(n)):o.push(n(Ere()(i).add(a,"days").toDate()));return o}({locale:g.getLocale(o),format:s,firstDayOfWeek:g.getFirstDayOfWeek(a)}).map(((e,n)=>t.createElement(l,{key:n,className:v.weekday},e)));return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))ooe.call(t,n)&&soe(e,n,t[n]);if(ioe)for(var n of ioe(t))aoe.call(t,n)&&soe(e,n,t[n]);return e})({component:"tr",ref:n,className:y(v.weekdaysRow,i)},m),b)}));coe.displayName="@mantine/dates/WeekdaysRow";var uoe=Object.defineProperty,doe=Object.defineProperties,hoe=Object.getOwnPropertyDescriptors,foe=Object.getOwnPropertySymbols,poe=Object.prototype.hasOwnProperty,moe=Object.prototype.propertyIsEnumerable,goe=(e,t,n)=>t in e?uoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,voe=(e,t)=>{for(var n in t||(t={}))poe.call(t,n)&&goe(e,n,t[n]);if(foe)for(var n of foe(t))moe.call(t,n)&&goe(e,n,t[n]);return e},yoe=(e,t)=>doe(e,hoe(t));const boe={size:"sm",withCellSpacing:!0},xoe=(0,t.forwardRef)(((e,n)=>{const r=GT("Month",boe,e),{className:i,classNames:o,styles:a,unstyled:s,__staticSelector:l,locale:c,firstDayOfWeek:u,weekdayFormat:d,month:h,weekendDays:f,getDayProps:p,excludeDate:m,minDate:g,maxDate:v,renderDay:y,hideOutsideDates:b,hideWeekdays:x,getDayAriaLabel:w,static:S,__getDayRef:E,__onDayKeyDown:M,__onDayClick:C,__onDayMouseEnter:_,__preventFocus:T,__stopPropagation:A,withCellSpacing:P,size:O,variant:D}=r,R=((e,t)=>{var n={};for(var r in e)poe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&foe)for(var r of foe(e))t.indexOf(r)<0&&moe.call(e,r)&&(n[r]=e[r]);return n})(r,["className","classNames","styles","unstyled","__staticSelector","locale","firstDayOfWeek","weekdayFormat","month","weekendDays","getDayProps","excludeDate","minDate","maxDate","renderDay","hideOutsideDates","hideWeekdays","getDayAriaLabel","static","__getDayRef","__onDayKeyDown","__onDayClick","__onDayMouseEnter","__preventFocus","__stopPropagation","withCellSpacing","size","variant"]),k=Fre(),{classes:I,cx:L}=Qie(null,{name:["Month",l],classNames:o,styles:a,unstyled:s,variant:D,size:O}),z={__staticSelector:l||"Month",classNames:o,styles:a,unstyled:s,variant:D,size:O},F=Lie(h,k.getFirstDayOfWeek(u)),N=function(e,t,n,r,i,o,a){const s=e.flat().filter((e=>{var s;return Fie(e,n)&&Nie(e,t)&&!(null==i?void 0:i(e))&&!(null==(s=null==r?void 0:r(e))?void 0:s.disabled)&&(!o||zie(e,a))})),l=s.find((e=>{var t;return null==(t=null==r?void 0:r(e))?void 0:t.selected}));if(l)return l;return s.find((e=>Ere()().isSame(e,"date")))||s[0]}(F,g,v,p,m,b,h),B=F.map(((e,n)=>{const r=e.map(((e,r)=>{const i=!zie(e,h),o=(null==w?void 0:w(e))||Ere()(e).locale(c||k.locale).format("D MMMM YYYY"),a=null==p?void 0:p(e),s=Ere()(e).isSame(N,"date");return t.createElement("td",{key:e.toString(),className:I.monthCell,"data-with-spacing":P||void 0},t.createElement(toe,yoe(voe(yoe(voe({},z),{"data-mantine-stop-propagation":A||void 0,renderDay:y,date:e,weekend:k.getWeekendDays(f).includes(e.getDay()),outside:i,hidden:!!b&&i,"aria-label":o,static:S,disabled:(null==m?void 0:m(e))||!Fie(e,v)||!Nie(e,g),ref:e=>null==E?void 0:E(n,r,e)}),a),{onKeyDown:t=>{var i;null==(i=null==a?void 0:a.onKeyDown)||i.call(a,t),null==M||M(t,{rowIndex:n,cellIndex:r,date:e})},onMouseEnter:t=>{var n;null==(n=null==a?void 0:a.onMouseEnter)||n.call(a,t),null==_||_(t,e)},onClick:t=>{var n;null==(n=null==a?void 0:a.onClick)||n.call(a,t),null==C||C(t,e)},onMouseDown:e=>{var t;null==(t=null==a?void 0:a.onMouseDown)||t.call(a,e),T&&e.preventDefault()},tabIndex:T||!s?-1:0})))}));return t.createElement("tr",{key:n,className:I.monthRow},r)}));return t.createElement(hP,voe({component:"table",className:L(I.month,i),ref:n},R),!x&&t.createElement("thead",{className:I.monthThead},t.createElement(coe,yoe(voe({},z),{locale:c,firstDayOfWeek:u,weekdayFormat:d}))),t.createElement("tbody",{className:I.monthTbody},B))}));xoe.displayName="@mantine/dates/Month";var woe=Object.defineProperty,Soe=Object.getOwnPropertySymbols,Eoe=Object.prototype.hasOwnProperty,Moe=Object.prototype.propertyIsEnumerable,Coe=(e,t,n)=>t in e?woe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_oe=(e,t)=>{for(var n in t||(t={}))Eoe.call(t,n)&&Coe(e,n,t[n]);if(Soe)for(var n of Soe(t))Moe.call(t,n)&&Coe(e,n,t[n]);return e};const Toe={monthLabelFormat:"MMMM YYYY"},Aoe=(0,t.forwardRef)(((e,n)=>{const r=GT("MonthLevel",Toe,e),{month:i,locale:o,firstDayOfWeek:a,weekdayFormat:s,weekendDays:l,getDayProps:c,excludeDate:u,minDate:d,maxDate:h,renderDay:f,hideOutsideDates:p,hideWeekdays:m,getDayAriaLabel:g,__getDayRef:v,__onDayKeyDown:y,__onDayClick:b,__onDayMouseEnter:x,withCellSpacing:w,__preventFocus:S,__stopPropagation:E,nextIcon:M,previousIcon:C,nextLabel:_,previousLabel:T,onNext:A,onPrevious:P,onLevelClick:O,nextDisabled:D,previousDisabled:R,hasNextLevel:k,levelControlAriaLabel:I,withNext:L,withPrevious:z,className:F,monthLabelFormat:N,classNames:B,styles:U,unstyled:j,__staticSelector:H,size:V,variant:G,static:W}=r,Y=((e,t)=>{var n={};for(var r in e)Eoe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Soe)for(var r of Soe(e))t.indexOf(r)<0&&Moe.call(e,r)&&(n[r]=e[r]);return n})(r,["month","locale","firstDayOfWeek","weekdayFormat","weekendDays","getDayProps","excludeDate","minDate","maxDate","renderDay","hideOutsideDates","hideWeekdays","getDayAriaLabel","__getDayRef","__onDayKeyDown","__onDayClick","__onDayMouseEnter","withCellSpacing","__preventFocus","__stopPropagation","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","onLevelClick","nextDisabled","previousDisabled","hasNextLevel","levelControlAriaLabel","withNext","withPrevious","className","monthLabelFormat","classNames","styles","unstyled","__staticSelector","size","variant","static"]),{classes:X,cx:Q}=Hre(null,{name:["MonthLevel",H],classNames:B,styles:U,unstyled:j,variant:G,size:V}),q=Fre(),K={__staticSelector:H||"MonthLevel",classNames:B,styles:U,unstyled:j,variant:G,size:V},Z="boolean"===typeof D?D:!!h&&!Ere()(i).endOf("month").isBefore(h),J="boolean"===typeof R?R:!!d&&!Ere()(i).startOf("month").isAfter(d);return t.createElement(hP,_oe({className:Q(X.monthLevel,F),"data-month-level":!0,ref:n},Y),t.createElement(Iie,_oe({label:"function"===typeof N?N(i):Ere()(i).locale(o||q.locale).format(N),className:X.calendarHeader,__preventFocus:S,__stopPropagation:E,nextIcon:M,previousIcon:C,nextLabel:_,previousLabel:T,onNext:A,onPrevious:P,onLevelClick:O,nextDisabled:Z,previousDisabled:J,hasNextLevel:k,levelControlAriaLabel:I,withNext:L,withPrevious:z},K)),t.createElement(xoe,_oe({month:i,locale:o,firstDayOfWeek:a,weekdayFormat:s,weekendDays:l,getDayProps:c,excludeDate:u,minDate:d,maxDate:h,renderDay:f,hideOutsideDates:p,hideWeekdays:m,getDayAriaLabel:g,__getDayRef:v,__onDayKeyDown:y,__onDayClick:b,__onDayMouseEnter:x,__preventFocus:S,__stopPropagation:E,static:W,withCellSpacing:w},K)))}));function Poe(e){let{controlsRef:t,direction:n,levelIndex:r,rowIndex:i,cellIndex:o,size:a}=e;var s,l;const c=function(e){let{direction:t,levelIndex:n,rowIndex:r,cellIndex:i,size:o}=e;switch(t){case"up":return 0===n&&0===r?null:0===r?{levelIndex:n-1,rowIndex:i<=o[n-1][o[n-1].length-1]-1?o[n-1].length-1:o[n-1].length-2,cellIndex:i}:{levelIndex:n,rowIndex:r-1,cellIndex:i};case"down":return r===o[n].length-1||r===o[n].length-2&&i>=o[n][o[n].length-1]?{levelIndex:n+1,rowIndex:0,cellIndex:i}:{levelIndex:n,rowIndex:r+1,cellIndex:i};case"left":return 0===n&&0===r&&0===i?null:0===r&&0===i?{levelIndex:n-1,rowIndex:o[n-1].length-1,cellIndex:o[n-1][o[n-1].length-1]-1}:0===i?{levelIndex:n,rowIndex:r-1,cellIndex:o[n][r-1]-1}:{levelIndex:n,rowIndex:r,cellIndex:i-1};case"right":return r===o[n].length-1&&i===o[n][r]-1?{levelIndex:n+1,rowIndex:0,cellIndex:0}:i===o[n][r]-1?{levelIndex:n,rowIndex:r+1,cellIndex:0}:{levelIndex:n,rowIndex:r,cellIndex:i+1};default:return{levelIndex:n,rowIndex:r,cellIndex:i}}}({direction:n,size:a,rowIndex:i,cellIndex:o,levelIndex:r});if(!c)return;const u=null==(l=null==(s=t.current[c.levelIndex])?void 0:s[c.rowIndex])?void 0:l[c.cellIndex];u&&(u.disabled||u.getAttribute("data-hidden")||u.getAttribute("data-outside")?Poe({controlsRef:t,direction:n,levelIndex:c.levelIndex,cellIndex:c.cellIndex,rowIndex:c.rowIndex,size:a}):u.focus())}function Ooe(e){let{controlsRef:t,levelIndex:n,rowIndex:r,cellIndex:i,event:o}=e;const a=function(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}(o.key);if(a){o.preventDefault();const e=function(e){return e.current.map((e=>e.map((e=>e.length))))}(t);Poe({controlsRef:t,direction:a,levelIndex:n,rowIndex:r,cellIndex:i,size:e})}}Aoe.displayName="@mantine/dates/MonthLevel";var Doe=Object.defineProperty,Roe=Object.getOwnPropertySymbols,koe=Object.prototype.hasOwnProperty,Ioe=Object.prototype.propertyIsEnumerable,Loe=(e,t,n)=>t in e?Doe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const zoe={numberOfColumns:1},Foe=(0,t.forwardRef)(((e,n)=>{const r=GT("MonthLevelGroup",zoe,e),{month:i,locale:o,firstDayOfWeek:a,weekdayFormat:s,weekendDays:l,getDayProps:c,excludeDate:u,minDate:d,maxDate:h,renderDay:f,hideOutsideDates:p,hideWeekdays:m,getDayAriaLabel:g,__onDayClick:v,__onDayMouseEnter:y,withCellSpacing:b,__preventFocus:x,nextIcon:w,previousIcon:S,nextLabel:E,previousLabel:M,onNext:C,onPrevious:_,onLevelClick:T,nextDisabled:A,previousDisabled:P,hasNextLevel:O,className:D,classNames:R,styles:k,unstyled:I,numberOfColumns:L,levelControlAriaLabel:z,monthLabelFormat:F,__staticSelector:N,__stopPropagation:B,size:U,variant:j,static:H}=r,V=((e,t)=>{var n={};for(var r in e)koe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Roe)for(var r of Roe(e))t.indexOf(r)<0&&Ioe.call(e,r)&&(n[r]=e[r]);return n})(r,["month","locale","firstDayOfWeek","weekdayFormat","weekendDays","getDayProps","excludeDate","minDate","maxDate","renderDay","hideOutsideDates","hideWeekdays","getDayAriaLabel","__onDayClick","__onDayMouseEnter","withCellSpacing","__preventFocus","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","onLevelClick","nextDisabled","previousDisabled","hasNextLevel","className","classNames","styles","unstyled","numberOfColumns","levelControlAriaLabel","monthLabelFormat","__staticSelector","__stopPropagation","size","variant","static"]),{classes:G,cx:W}=jre(null,{name:["MonthLevelGroup",N],classNames:R,styles:k,unstyled:I,variant:j,size:U}),Y=(0,t.useRef)([]),X=Array(L).fill(0).map(((e,n)=>{const r=Ere()(i).add(n,"months").toDate();return t.createElement(Aoe,{key:n,month:r,withNext:n===L-1,withPrevious:0===n,monthLabelFormat:F,__stopPropagation:B,__onDayClick:v,__onDayMouseEnter:y,__onDayKeyDown:(e,t)=>Ooe({levelIndex:n,rowIndex:t.rowIndex,cellIndex:t.cellIndex,event:e,controlsRef:Y}),__getDayRef:(e,t,r)=>{Array.isArray(Y.current[n])||(Y.current[n]=[]),Array.isArray(Y.current[n][e])||(Y.current[n][e]=[]),Y.current[n][e][t]=r},levelControlAriaLabel:"function"===typeof z?z(r):z,locale:o,firstDayOfWeek:a,weekdayFormat:s,weekendDays:l,getDayProps:c,excludeDate:u,minDate:d,maxDate:h,renderDay:f,hideOutsideDates:p,hideWeekdays:m,getDayAriaLabel:g,__preventFocus:x,nextIcon:w,previousIcon:S,nextLabel:E,previousLabel:M,onNext:C,onPrevious:_,onLevelClick:T,nextDisabled:A,previousDisabled:P,hasNextLevel:O,classNames:R,styles:k,unstyled:I,__staticSelector:N||"MonthLevelGroup",size:U,variant:j,static:H,withCellSpacing:b})}));return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))koe.call(t,n)&&Loe(e,n,t[n]);if(Roe)for(var n of Roe(t))Ioe.call(t,n)&&Loe(e,n,t[n]);return e})({className:W(G.monthLevelGroup,D),ref:n},V),X)}));Foe.displayName="@mantine/dates/MonthLevelGroup";const Noe=_A(((e,t,n)=>{let{size:r}=n;return{yearLevelGroup:{display:"flex","& [data-year-level]:not(:last-of-type)":{marginRight:Q_({size:r,sizes:e.spacing})}}}}));const Boe=_A((e=>({yearLevel:{},calendarHeader:{marginBottom:e.spacing.xs}})));function Uoe(e,t,n){return!(!t&&!n)&&(!(!t||!Ere()(e).isBefore(t,"month"))||!(!n||!Ere()(e).isAfter(n,"month")))}const joe=_A((()=>({monthsList:{borderCollapse:"collapse",borderWidth:0,cursor:"pointer"},monthsListCell:{padding:0,"&[data-with-spacing]":{padding:Y_(.5)}},monthsListRow:{}})));var Hoe=Object.defineProperty,Voe=Object.defineProperties,Goe=Object.getOwnPropertyDescriptors,Woe=Object.getOwnPropertySymbols,Yoe=Object.prototype.hasOwnProperty,Xoe=Object.prototype.propertyIsEnumerable,Qoe=(e,t,n)=>t in e?Hoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qoe=(e,t)=>{for(var n in t||(t={}))Yoe.call(t,n)&&Qoe(e,n,t[n]);if(Woe)for(var n of Woe(t))Xoe.call(t,n)&&Qoe(e,n,t[n]);return e},Koe=(e,t)=>Voe(e,Goe(t));const Zoe=_A(((e,t,n)=>{let{size:r}=n;const i=e.fn.variant({variant:"filled"}),o=e.fn.variant({variant:"light"});return{pickerControl:Koe(qoe({fontSize:Q_({size:r,sizes:e.fontSizes}),height:Q_({size:r,sizes:mie}),width:`calc((${Q_({size:r,sizes:mie})} * 7) / 3 + ${Y_(1.5)})`,display:"flex",justifyContent:"center",alignItems:"center",userSelect:"none",borderRadius:e.fn.radius()},e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[0]})),{"&:active":e.activeStyles,"&[data-in-range]":qoe({backgroundColor:o.background,borderRadius:0},e.fn.hover({backgroundColor:o.hover})),"&[data-first-in-range]":{borderRadius:0,borderTopLeftRadius:e.radius.sm,borderBottomLeftRadius:e.radius.sm},"&[data-last-in-range]":{borderRadius:0,borderTopRightRadius:e.radius.sm,borderBottomRightRadius:e.radius.sm},"&[data-last-in-range][data-first-in-range]":{borderRadius:e.radius.sm},"&[data-selected]":qoe({color:i.color,backgroundColor:i.background},e.fn.hover({backgroundColor:i.hover})),"&[data-disabled]":Koe(qoe({color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[4],cursor:"not-allowed"},e.fn.hover({backgroundColor:"transparent"})),{"&:active":{transform:"none"}})})}}));var Joe=Object.defineProperty,$oe=Object.getOwnPropertySymbols,eae=Object.prototype.hasOwnProperty,tae=Object.prototype.propertyIsEnumerable,nae=(e,t,n)=>t in e?Joe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const rae={size:"sm"},iae=(0,t.forwardRef)(((e,n)=>{const r=GT("PickerControl",rae,e),{className:i,children:o,disabled:a,selected:s,classNames:l,styles:c,unstyled:u,firstInRange:d,lastInRange:h,inRange:f,__staticSelector:p,size:m,variant:g}=r,v=((e,t)=>{var n={};for(var r in e)eae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$oe)for(var r of $oe(e))t.indexOf(r)<0&&tae.call(e,r)&&(n[r]=e[r]);return n})(r,["className","children","disabled","selected","classNames","styles","unstyled","firstInRange","lastInRange","inRange","__staticSelector","size","variant"]),{classes:y,cx:b}=Zoe(null,{name:["PickerControl",p],classNames:l,styles:c,unstyled:u,variant:g,size:m});return t.createElement(eI,((e,t)=>{for(var n in t||(t={}))eae.call(t,n)&&nae(e,n,t[n]);if($oe)for(var n of $oe(t))tae.call(t,n)&&nae(e,n,t[n]);return e})({className:b(y.pickerControl,i),ref:n,unstyled:u,"data-picker-control":!0,"data-selected":s&&!a||void 0,"data-disabled":a||void 0,"data-in-range":f&&!a&&!s||void 0,"data-first-in-range":d&&!a||void 0,"data-last-in-range":h&&!a||void 0,disabled:a},v),o)}));iae.displayName="@mantine/dates/PickerControl";var oae=Object.defineProperty,aae=Object.defineProperties,sae=Object.getOwnPropertyDescriptors,lae=Object.getOwnPropertySymbols,cae=Object.prototype.hasOwnProperty,uae=Object.prototype.propertyIsEnumerable,dae=(e,t,n)=>t in e?oae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hae=(e,t)=>{for(var n in t||(t={}))cae.call(t,n)&&dae(e,n,t[n]);if(lae)for(var n of lae(t))uae.call(t,n)&&dae(e,n,t[n]);return e};const fae={monthsListFormat:"MMM",size:"sm",withCellSpacing:!0},pae=(0,t.forwardRef)(((e,n)=>{const r=GT("MonthsList",fae,e),{year:i,className:o,monthsListFormat:a,locale:s,minDate:l,maxDate:c,getMonthControlProps:u,classNames:d,styles:h,unstyled:f,__staticSelector:p,__getControlRef:m,__onControlKeyDown:g,__onControlClick:v,__onControlMouseEnter:y,__preventFocus:b,size:x,variant:w,__stopPropagation:S,withCellSpacing:E}=r,M=((e,t)=>{var n={};for(var r in e)cae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&lae)for(var r of lae(e))t.indexOf(r)<0&&uae.call(e,r)&&(n[r]=e[r]);return n})(r,["year","className","monthsListFormat","locale","minDate","maxDate","getMonthControlProps","classNames","styles","unstyled","__staticSelector","__getControlRef","__onControlKeyDown","__onControlClick","__onControlMouseEnter","__preventFocus","size","variant","__stopPropagation","withCellSpacing"]),{classes:C,cx:_}=joe(null,{name:["MonthsList",p],classNames:d,styles:h,unstyled:f,variant:w,size:x}),T=Fre(),A=function(e){const t=Ere()(e).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let e=0;e<3;e+=1)n[i].push(Ere()(t).add(r,"months").toDate()),r+=1;return n}(i),P=function(e,t,n,r){const i=e.flat().filter((e=>{var i;return!Uoe(e,t,n)&&!(null==(i=null==r?void 0:r(e))?void 0:i.disabled)})),o=i.find((e=>{var t;return null==(t=null==r?void 0:r(e))?void 0:t.selected}));if(o)return o;return i.find((e=>Ere()().isSame(e,"month")))||i[0]}(A,l,c,u),O=A.map(((e,n)=>{const r=e.map(((e,r)=>{const i=null==u?void 0:u(e),o=Ere()(e).isSame(P,"month");return t.createElement("td",{key:r,className:C.monthsListCell,"data-with-spacing":E||void 0},t.createElement(iae,((e,t)=>aae(e,sae(t)))(hae({variant:w,size:x,classNames:d,styles:h,unstyled:f,__staticSelector:p||"MonthsList","data-mantine-stop-propagation":S||void 0,disabled:Uoe(e,l,c),ref:e=>null==m?void 0:m(n,r,e)},i),{onKeyDown:t=>{var o;null==(o=null==i?void 0:i.onKeyDown)||o.call(i,t),null==g||g(t,{rowIndex:n,cellIndex:r,date:e})},onClick:t=>{var n;null==(n=null==i?void 0:i.onClick)||n.call(i,t),null==v||v(t,e)},onMouseEnter:t=>{var n;null==(n=null==i?void 0:i.onMouseEnter)||n.call(i,t),null==y||y(t,e)},onMouseDown:e=>{var t;null==(t=null==i?void 0:i.onMouseDown)||t.call(i,e),b&&e.preventDefault()},tabIndex:b||!o?-1:0}),Ere()(e).locale(T.getLocale(s)).format(a)))}));return t.createElement("tr",{key:n,className:C.monthsListRow},r)}));return t.createElement(hP,hae({component:"table",ref:n,className:_(C.monthsList,o)},M),t.createElement("tbody",null,O))}));pae.displayName="@mantine/dates/MonthsList";var mae=Object.defineProperty,gae=Object.getOwnPropertySymbols,vae=Object.prototype.hasOwnProperty,yae=Object.prototype.propertyIsEnumerable,bae=(e,t,n)=>t in e?mae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xae=(e,t)=>{for(var n in t||(t={}))vae.call(t,n)&&bae(e,n,t[n]);if(gae)for(var n of gae(t))yae.call(t,n)&&bae(e,n,t[n]);return e};const wae={yearLabelFormat:"YYYY",size:"sm"},Sae=(0,t.forwardRef)(((e,n)=>{const r=GT("YearLevel",wae,e),{year:i,locale:o,minDate:a,maxDate:s,monthsListFormat:l,getMonthControlProps:c,__getControlRef:u,__onControlKeyDown:d,__onControlClick:h,__onControlMouseEnter:f,withCellSpacing:p,__preventFocus:m,nextIcon:g,previousIcon:v,nextLabel:y,previousLabel:b,onNext:x,onPrevious:w,onLevelClick:S,nextDisabled:E,previousDisabled:M,hasNextLevel:C,levelControlAriaLabel:_,withNext:T,withPrevious:A,className:P,yearLabelFormat:O,classNames:D,styles:R,unstyled:k,__staticSelector:I,__stopPropagation:L,size:z,variant:F}=r,N=((e,t)=>{var n={};for(var r in e)vae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gae)for(var r of gae(e))t.indexOf(r)<0&&yae.call(e,r)&&(n[r]=e[r]);return n})(r,["year","locale","minDate","maxDate","monthsListFormat","getMonthControlProps","__getControlRef","__onControlKeyDown","__onControlClick","__onControlMouseEnter","withCellSpacing","__preventFocus","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","onLevelClick","nextDisabled","previousDisabled","hasNextLevel","levelControlAriaLabel","withNext","withPrevious","className","yearLabelFormat","classNames","styles","unstyled","__staticSelector","__stopPropagation","size","variant"]),{classes:B,cx:U}=Boe(null,{name:["YearLevel",I],classNames:D,styles:R,unstyled:k,size:z,variant:F}),j=Fre(),H={__staticSelector:I||"YearLevel",classNames:D,styles:R,unstyled:k,size:z,variant:F},V="boolean"===typeof E?E:!!s&&!Ere()(i).endOf("year").isBefore(s),G="boolean"===typeof M?M:!!a&&!Ere()(i).startOf("year").isAfter(a);return t.createElement(hP,xae({className:U(B.yearLevel,P),"data-year-level":!0,ref:n},N),t.createElement(Iie,xae({label:"function"===typeof O?O(i):Ere()(i).locale(o||j.locale).format(O),className:B.calendarHeader,__preventFocus:m,__stopPropagation:L,nextIcon:g,previousIcon:v,nextLabel:y,previousLabel:b,onNext:x,onPrevious:w,onLevelClick:S,nextDisabled:V,previousDisabled:G,hasNextLevel:C,levelControlAriaLabel:_,withNext:T,withPrevious:A},H)),t.createElement(pae,xae({year:i,locale:o,minDate:a,maxDate:s,monthsListFormat:l,getMonthControlProps:c,__getControlRef:u,__onControlKeyDown:d,__onControlClick:h,__onControlMouseEnter:f,__preventFocus:m,__stopPropagation:L,withCellSpacing:p},H)))}));Sae.displayName="@mantine/dates/YearLevel";var Eae=Object.defineProperty,Mae=Object.getOwnPropertySymbols,Cae=Object.prototype.hasOwnProperty,_ae=Object.prototype.propertyIsEnumerable,Tae=(e,t,n)=>t in e?Eae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Aae={numberOfColumns:1,size:"sm"},Pae=(0,t.forwardRef)(((e,n)=>{const r=GT("YearLevelGroup",Aae,e),{year:i,locale:o,minDate:a,maxDate:s,monthsListFormat:l,getMonthControlProps:c,__onControlClick:u,__onControlMouseEnter:d,withCellSpacing:h,__preventFocus:f,nextIcon:p,previousIcon:m,nextLabel:g,previousLabel:v,onNext:y,onPrevious:b,onLevelClick:x,nextDisabled:w,previousDisabled:S,hasNextLevel:E,className:M,classNames:C,styles:_,unstyled:T,__staticSelector:A,__stopPropagation:P,numberOfColumns:O,levelControlAriaLabel:D,yearLabelFormat:R,variant:k,size:I}=r,L=((e,t)=>{var n={};for(var r in e)Cae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Mae)for(var r of Mae(e))t.indexOf(r)<0&&_ae.call(e,r)&&(n[r]=e[r]);return n})(r,["year","locale","minDate","maxDate","monthsListFormat","getMonthControlProps","__onControlClick","__onControlMouseEnter","withCellSpacing","__preventFocus","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","onLevelClick","nextDisabled","previousDisabled","hasNextLevel","className","classNames","styles","unstyled","__staticSelector","__stopPropagation","numberOfColumns","levelControlAriaLabel","yearLabelFormat","variant","size"]),{classes:z,cx:F}=Noe(null,{name:["YearLevelGroup",A],styles:_,classNames:C,unstyled:T,variant:k,size:I}),N=(0,t.useRef)([]),B=Array(O).fill(0).map(((e,n)=>{const r=Ere()(i).add(n,"years").toDate();return t.createElement(Sae,{key:n,variant:k,size:I,monthsListFormat:l,year:r,withNext:n===O-1,withPrevious:0===n,yearLabelFormat:R,__stopPropagation:P,__onControlClick:u,__onControlMouseEnter:d,__onControlKeyDown:(e,t)=>Ooe({levelIndex:n,rowIndex:t.rowIndex,cellIndex:t.cellIndex,event:e,controlsRef:N}),__getControlRef:(e,t,r)=>{Array.isArray(N.current[n])||(N.current[n]=[]),Array.isArray(N.current[n][e])||(N.current[n][e]=[]),N.current[n][e][t]=r},levelControlAriaLabel:"function"===typeof D?D(r):D,locale:o,minDate:a,maxDate:s,__preventFocus:f,nextIcon:p,previousIcon:m,nextLabel:g,previousLabel:v,onNext:y,onPrevious:b,onLevelClick:x,nextDisabled:w,previousDisabled:S,hasNextLevel:E,getMonthControlProps:c,classNames:C,styles:_,unstyled:T,__staticSelector:A||"YearLevelGroup",withCellSpacing:h})}));return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))Cae.call(t,n)&&Tae(e,n,t[n]);if(Mae)for(var n of Mae(t))_ae.call(t,n)&&Tae(e,n,t[n]);return e})({className:F(z.yearLevelGroup,M),ref:n},L),B)}));Pae.displayName="@mantine/dates/YearLevelGroup";const Oae=_A((e=>({decadeLevelGroup:{display:"flex",gap:e.spacing.md}})));function Dae(e){const t=e.getFullYear(),n=t-t%10;let r=0;const i=[[],[],[],[]];for(let o=0;o<4;o+=1){const e=3===o?1:3;for(let t=0;t<e;t+=1)i[o].push(new Date(n+r,0)),r+=1}return i}const Rae=_A((e=>({decadeLevel:{},calendarHeader:{marginBottom:e.spacing.xs}})));function kae(e,t,n){return!(!t&&!n)&&(!(!t||!Ere()(e).isBefore(t,"year"))||!(!n||!Ere()(e).isAfter(n,"year")))}const Iae=_A((()=>({yearsList:{borderCollapse:"collapse",borderWidth:0},yearsListCell:{padding:0,"&[data-with-spacing]":{padding:Y_(.5)}},yearsListRow:{}})));var Lae=Object.defineProperty,zae=Object.defineProperties,Fae=Object.getOwnPropertyDescriptors,Nae=Object.getOwnPropertySymbols,Bae=Object.prototype.hasOwnProperty,Uae=Object.prototype.propertyIsEnumerable,jae=(e,t,n)=>t in e?Lae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hae=(e,t)=>{for(var n in t||(t={}))Bae.call(t,n)&&jae(e,n,t[n]);if(Nae)for(var n of Nae(t))Uae.call(t,n)&&jae(e,n,t[n]);return e};const Vae={yearsListFormat:"YYYY",size:"sm",withCellSpacing:!0},Gae=(0,t.forwardRef)(((e,n)=>{const r=GT("YearsList",Vae,e),{decade:i,className:o,yearsListFormat:a,locale:s,minDate:l,maxDate:c,getYearControlProps:u,classNames:d,styles:h,unstyled:f,__staticSelector:p,__getControlRef:m,__onControlKeyDown:g,__onControlClick:v,__onControlMouseEnter:y,__preventFocus:b,__stopPropagation:x,size:w,variant:S,withCellSpacing:E}=r,M=((e,t)=>{var n={};for(var r in e)Bae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Nae)for(var r of Nae(e))t.indexOf(r)<0&&Uae.call(e,r)&&(n[r]=e[r]);return n})(r,["decade","className","yearsListFormat","locale","minDate","maxDate","getYearControlProps","classNames","styles","unstyled","__staticSelector","__getControlRef","__onControlKeyDown","__onControlClick","__onControlMouseEnter","__preventFocus","__stopPropagation","size","variant","withCellSpacing"]),{classes:C,cx:_}=Iae(null,{name:["YearsList",p],classNames:d,styles:h,unstyled:f,variant:S,size:w}),T=Fre(),A=Dae(i),P=function(e,t,n,r){const i=e.flat().filter((e=>{var i;return!kae(e,t,n)&&!(null==(i=null==r?void 0:r(e))?void 0:i.disabled)})),o=i.find((e=>{var t;return null==(t=null==r?void 0:r(e))?void 0:t.selected}));if(o)return o;return i.find((e=>Ere()().isSame(e,"year")))||i[0]}(A,l,c,u),O=A.map(((e,n)=>{const r=e.map(((e,r)=>{const i=null==u?void 0:u(e),o=Ere()(e).isSame(P,"year");return t.createElement("td",{key:r,className:C.yearsListCell,"data-with-spacing":E||void 0},t.createElement(iae,((e,t)=>zae(e,Fae(t)))(Hae({size:w,variant:S,classNames:d,styles:h,unstyled:f,__staticSelector:p||"YearsList","data-mantine-stop-propagation":x||void 0,disabled:kae(e,l,c),ref:e=>null==m?void 0:m(n,r,e)},i),{onKeyDown:t=>{var o;null==(o=null==i?void 0:i.onKeyDown)||o.call(i,t),null==g||g(t,{rowIndex:n,cellIndex:r,date:e})},onClick:t=>{var n;null==(n=null==i?void 0:i.onClick)||n.call(i,t),null==v||v(t,e)},onMouseEnter:t=>{var n;null==(n=null==i?void 0:i.onMouseEnter)||n.call(i,t),null==y||y(t,e)},onMouseDown:e=>{var t;null==(t=null==i?void 0:i.onMouseDown)||t.call(i,e),b&&e.preventDefault()},tabIndex:b||!o?-1:0}),Ere()(e).locale(T.getLocale(s)).format(a)))}));return t.createElement("tr",{key:n,className:C.yearsListRow},r)}));return t.createElement(hP,Hae({component:"table",ref:n,className:_(C.yearsList,o)},M),t.createElement("tbody",null,O))}));Gae.displayName="@mantine/dates/YearsList";var Wae=Object.defineProperty,Yae=Object.getOwnPropertySymbols,Xae=Object.prototype.hasOwnProperty,Qae=Object.prototype.propertyIsEnumerable,qae=(e,t,n)=>t in e?Wae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kae=(e,t)=>{for(var n in t||(t={}))Xae.call(t,n)&&qae(e,n,t[n]);if(Yae)for(var n of Yae(t))Qae.call(t,n)&&qae(e,n,t[n]);return e};const Zae={decadeLabelFormat:"YYYY"},Jae=(0,t.forwardRef)(((e,n)=>{const r=GT("DecadeLevel",Zae,e),{decade:i,locale:o,minDate:a,maxDate:s,yearsListFormat:l,getYearControlProps:c,__getControlRef:u,__onControlKeyDown:d,__onControlClick:h,__onControlMouseEnter:f,withCellSpacing:p,__preventFocus:m,nextIcon:g,previousIcon:v,nextLabel:y,previousLabel:b,onNext:x,onPrevious:w,nextDisabled:S,previousDisabled:E,levelControlAriaLabel:M,withNext:C,withPrevious:_,className:T,decadeLabelFormat:A,classNames:P,styles:O,unstyled:D,__staticSelector:R,__stopPropagation:k,variant:I,size:L}=r,z=((e,t)=>{var n={};for(var r in e)Xae.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Yae)for(var r of Yae(e))t.indexOf(r)<0&&Qae.call(e,r)&&(n[r]=e[r]);return n})(r,["decade","locale","minDate","maxDate","yearsListFormat","getYearControlProps","__getControlRef","__onControlKeyDown","__onControlClick","__onControlMouseEnter","withCellSpacing","__preventFocus","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","nextDisabled","previousDisabled","levelControlAriaLabel","withNext","withPrevious","className","decadeLabelFormat","classNames","styles","unstyled","__staticSelector","__stopPropagation","variant","size"]),{classes:F,cx:N}=Rae(null,{name:["DecadeLevel",R],classNames:P,styles:O,unstyled:D,variant:I,size:L}),B=Fre(),[U,j]=function(e){const t=Dae(e);return[t[0][0],t[3][0]]}(i),H={__staticSelector:R||"DecadeLevel",classNames:P,styles:O,unstyled:D,variant:I,size:L},V="boolean"===typeof S?S:!!s&&!Ere()(j).endOf("year").isBefore(s),G="boolean"===typeof E?E:!!a&&!Ere()(U).startOf("year").isAfter(a),W=(e,t)=>Ere()(e).locale(o||B.locale).format(t);return t.createElement(hP,Kae({className:N(F.decadeLevel,T),"data-decade-level":!0,ref:n},z),t.createElement(Iie,Kae({label:"function"===typeof A?A(U,j):`${W(U,A)} \u2013 ${W(j,A)}`,className:F.calendarHeader,__preventFocus:m,__stopPropagation:k,nextIcon:g,previousIcon:v,nextLabel:y,previousLabel:b,onNext:x,onPrevious:w,nextDisabled:V,previousDisabled:G,hasNextLevel:!1,levelControlAriaLabel:M,withNext:C,withPrevious:_},H)),t.createElement(Gae,Kae({decade:i,locale:o,minDate:a,maxDate:s,yearsListFormat:l,getYearControlProps:c,__getControlRef:u,__onControlKeyDown:d,__onControlClick:h,__onControlMouseEnter:f,__preventFocus:m,__stopPropagation:k,withCellSpacing:p},H)))}));Jae.displayName="@mantine/dates/DecadeLevel";var $ae=Object.defineProperty,ese=Object.getOwnPropertySymbols,tse=Object.prototype.hasOwnProperty,nse=Object.prototype.propertyIsEnumerable,rse=(e,t,n)=>t in e?$ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ise={numberOfColumns:1},ose=(0,t.forwardRef)(((e,n)=>{const r=GT("DecadeLevelGroup",ise,e),{decade:i,locale:o,minDate:a,maxDate:s,yearsListFormat:l,getYearControlProps:c,__onControlClick:u,__onControlMouseEnter:d,withCellSpacing:h,__preventFocus:f,nextIcon:p,previousIcon:m,nextLabel:g,previousLabel:v,onNext:y,onPrevious:b,nextDisabled:x,previousDisabled:w,className:S,classNames:E,styles:M,unstyled:C,__staticSelector:_,__stopPropagation:T,numberOfColumns:A,levelControlAriaLabel:P,decadeLabelFormat:O,variant:D,size:R}=r,k=((e,t)=>{var n={};for(var r in e)tse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ese)for(var r of ese(e))t.indexOf(r)<0&&nse.call(e,r)&&(n[r]=e[r]);return n})(r,["decade","locale","minDate","maxDate","yearsListFormat","getYearControlProps","__onControlClick","__onControlMouseEnter","withCellSpacing","__preventFocus","nextIcon","previousIcon","nextLabel","previousLabel","onNext","onPrevious","nextDisabled","previousDisabled","className","classNames","styles","unstyled","__staticSelector","__stopPropagation","numberOfColumns","levelControlAriaLabel","decadeLabelFormat","variant","size"]),{classes:I,cx:L}=Oae(null,{name:["DecadeLevelGroup",_],styles:M,classNames:E,unstyled:C,variant:D,size:R}),z=(0,t.useRef)([]),F=Array(A).fill(0).map(((e,n)=>{const r=Ere()(i).add(10*n,"years").toDate();return t.createElement(Jae,{key:n,variant:D,size:R,yearsListFormat:l,decade:r,withNext:n===A-1,withPrevious:0===n,decadeLabelFormat:O,__onControlClick:u,__onControlMouseEnter:d,__onControlKeyDown:(e,t)=>Ooe({levelIndex:n,rowIndex:t.rowIndex,cellIndex:t.cellIndex,event:e,controlsRef:z}),__getControlRef:(e,t,r)=>{Array.isArray(z.current[n])||(z.current[n]=[]),Array.isArray(z.current[n][e])||(z.current[n][e]=[]),z.current[n][e][t]=r},levelControlAriaLabel:"function"===typeof P?P(r):P,locale:o,minDate:a,maxDate:s,__preventFocus:f,__stopPropagation:T,nextIcon:p,previousIcon:m,nextLabel:g,previousLabel:v,onNext:y,onPrevious:b,nextDisabled:x,previousDisabled:w,getYearControlProps:c,__staticSelector:_||"DecadeLevelGroup",classNames:E,styles:M,unstyled:C,withCellSpacing:h})}));return t.createElement(hP,((e,t)=>{for(var n in t||(t={}))tse.call(t,n)&&rse(e,n,t[n]);if(ese)for(var n of ese(t))nse.call(t,n)&&rse(e,n,t[n]);return e})({className:L(I.decadeLevelGroup,S),ref:n},k),F)}));ose.displayName="@mantine/dates/DecadeLevelGroup";var ase=Object.defineProperty,sse=Object.getOwnPropertySymbols,lse=Object.prototype.hasOwnProperty,cse=Object.prototype.propertyIsEnumerable,use=(e,t,n)=>t in e?ase(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dse=(e,t)=>{for(var n in t||(t={}))lse.call(t,n)&&use(e,n,t[n]);if(sse)for(var n of sse(t))cse.call(t,n)&&use(e,n,t[n]);return e};const hse={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},fse=(0,t.forwardRef)(((e,n)=>{const r=GT("Calendar",hse,e),{maxLevel:i,minLevel:o,defaultLevel:a,level:s,onLevelChange:l,date:c,defaultDate:u,onDateChange:d,numberOfColumns:h,columnsToScroll:f,ariaLabels:p,onYearSelect:m,onMonthSelect:g,onYearMouseEnter:v,onMonthMouseEnter:y,__updateDateOnYearSelect:b,__updateDateOnMonthSelect:x,firstDayOfWeek:w,weekdayFormat:S,weekendDays:E,getDayProps:M,excludeDate:C,renderDay:_,hideOutsideDates:T,hideWeekdays:A,getDayAriaLabel:P,monthLabelFormat:O,nextIcon:D,previousIcon:R,__onDayClick:k,__onDayMouseEnter:I,withCellSpacing:L,monthsListFormat:z,getMonthControlProps:F,yearLabelFormat:N,yearsListFormat:B,getYearControlProps:U,decadeLabelFormat:j,minDate:H,maxDate:V,locale:G,className:W,classNames:Y,styles:X,__staticSelector:Q,unstyled:q,variant:K,size:Z,__preventFocus:J,__stopPropagation:$,onNextDecade:ee,onPreviousDecade:te,onNextYear:ne,onPreviousYear:re,onNextMonth:ie,onPreviousMonth:oe,static:ae}=r,se=((e,t)=>{var n={};for(var r in e)lse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&sse)for(var r of sse(e))t.indexOf(r)<0&&cse.call(e,r)&&(n[r]=e[r]);return n})(r,["maxLevel","minLevel","defaultLevel","level","onLevelChange","date","defaultDate","onDateChange","numberOfColumns","columnsToScroll","ariaLabels","onYearSelect","onMonthSelect","onYearMouseEnter","onMonthMouseEnter","__updateDateOnYearSelect","__updateDateOnMonthSelect","firstDayOfWeek","weekdayFormat","weekendDays","getDayProps","excludeDate","renderDay","hideOutsideDates","hideWeekdays","getDayAriaLabel","monthLabelFormat","nextIcon","previousIcon","__onDayClick","__onDayMouseEnter","withCellSpacing","monthsListFormat","getMonthControlProps","yearLabelFormat","yearsListFormat","getYearControlProps","decadeLabelFormat","minDate","maxDate","locale","className","classNames","styles","__staticSelector","unstyled","variant","size","__preventFocus","__stopPropagation","onNextDecade","onPreviousDecade","onNextYear","onPreviousYear","onNextMonth","onPreviousMonth","static"]),{classes:le,cx:ce}=Ure(null,{name:["Calendar",Q],classNames:Y,styles:X,unstyled:q,variant:K,size:Z}),[ue,de]=mI({value:s?Bre(s,o,i):void 0,defaultValue:a?Bre(a,o,i):void 0,finalValue:Bre(void 0,o,i),onChange:l}),[he,fe]=mI({value:c,defaultValue:u,finalValue:null,onChange:d}),pe={__staticSelector:Q||"Calendar",styles:X,classNames:Y,unstyled:q,variant:K,size:Z},me=f||h||1,ge=he||new Date;return t.createElement(hP,dse({className:ce(le.calendar,W),ref:n},se),"month"===ue&&t.createElement(Foe,dse({month:ge,minDate:H,maxDate:V,firstDayOfWeek:w,weekdayFormat:S,weekendDays:E,getDayProps:M,excludeDate:C,renderDay:_,hideOutsideDates:T,hideWeekdays:A,getDayAriaLabel:P,onNext:()=>{const e=Ere()(ge).add(me,"month").toDate();null==ie||ie(e),fe(e)},onPrevious:()=>{const e=Ere()(ge).subtract(me,"month").toDate();null==oe||oe(e),fe(e)},hasNextLevel:"month"!==i,onLevelClick:()=>de("year"),numberOfColumns:h,locale:G,levelControlAriaLabel:null==p?void 0:p.monthLevelControl,nextLabel:null==p?void 0:p.nextMonth,nextIcon:D,previousLabel:null==p?void 0:p.previousMonth,previousIcon:R,monthLabelFormat:O,__onDayClick:k,__onDayMouseEnter:I,__preventFocus:J,__stopPropagation:$,static:ae,withCellSpacing:L},pe)),"year"===ue&&t.createElement(Pae,dse({year:ge,numberOfColumns:h,minDate:H,maxDate:V,monthsListFormat:z,getMonthControlProps:F,locale:G,onNext:()=>{const e=Ere()(ge).add(me,"year").toDate();null==ne||ne(e),fe(e)},onPrevious:()=>{const e=Ere()(ge).subtract(me,"year").toDate();null==re||re(e),fe(e)},hasNextLevel:"month"!==i&&"year"!==i,onLevelClick:()=>de("decade"),levelControlAriaLabel:null==p?void 0:p.yearLevelControl,nextLabel:null==p?void 0:p.nextYear,nextIcon:D,previousLabel:null==p?void 0:p.previousYear,previousIcon:R,yearLabelFormat:N,__onControlMouseEnter:y,__onControlClick:(e,t)=>{x&&fe(t),de(Bre("month",o,i)),null==g||g(t)},__preventFocus:J,__stopPropagation:$,withCellSpacing:L},pe)),"decade"===ue&&t.createElement(ose,dse({decade:ge,minDate:H,maxDate:V,yearsListFormat:B,getYearControlProps:U,locale:G,onNext:()=>{const e=Ere()(ge).add(10*me,"year").toDate();null==ee||ee(e),fe(e)},onPrevious:()=>{const e=Ere()(ge).subtract(10*me,"year").toDate();null==te||te(e),fe(e)},numberOfColumns:h,nextLabel:null==p?void 0:p.nextDecade,nextIcon:D,previousLabel:null==p?void 0:p.previousDecade,previousIcon:R,decadeLabelFormat:j,__onControlMouseEnter:v,__onControlClick:(e,t)=>{b&&fe(t),de(Bre("year",o,i)),null==m||m(t)},__preventFocus:J,__stopPropagation:$,withCellSpacing:L},pe)))}));function pse(e,t){if("range"===t&&Array.isArray(e)){const[t,n]=e;return t?n?`${t.toISOString()} \u2013 ${n.toISOString()}`:`${t.toISOString()} \u2013`:""}return"multiple"===t&&Array.isArray(e)?e.map((e=>e.toISOString())).join(", "):!Array.isArray(e)&&e?e.toISOString():""}function mse(e){let{value:n,type:r,name:i,form:o}=e;return t.createElement("input",{type:"hidden",value:pse(n,r),name:i,form:o})}fse.displayName="@mantine/dates/Calendar",mse.displayName="@mantine/dates/HiddenDatesInput";var gse=Object.defineProperty,vse=Object.defineProperties,yse=Object.getOwnPropertyDescriptors,bse=Object.getOwnPropertySymbols,xse=Object.prototype.hasOwnProperty,wse=Object.prototype.propertyIsEnumerable,Sse=(e,t,n)=>t in e?gse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ese=(e,t)=>{for(var n in t||(t={}))xse.call(t,n)&&Sse(e,n,t[n]);if(bse)for(var n of bse(t))wse.call(t,n)&&Sse(e,n,t[n]);return e},Mse=(e,t)=>vse(e,yse(t));const Cse={valueFormat:"MMMM D, YYYY",fixOnBlur:!0,preserveTime:!0,size:"sm"},_se=(0,t.forwardRef)(((e,n)=>{const r=QG("DateInput",Cse,e),{inputProps:i,wrapperProps:o,value:a,defaultValue:s,onChange:l,clearable:c,clearButtonProps:u,popoverProps:d,getDayProps:h,locale:f,valueFormat:p,dateParser:m,minDate:g,maxDate:v,fixOnBlur:y,onFocus:b,onBlur:x,onClick:w,readOnly:S,name:E,form:M,rightSection:C,unstyled:_,classNames:T,styles:A,allowDeselect:P,preserveTime:O,date:D,defaultDate:R,onDateChange:k}=r,I=((e,t)=>{var n={};for(var r in e)xse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&bse)for(var r of bse(e))t.indexOf(r)<0&&wse.call(e,r)&&(n[r]=e[r]);return n})(r,["inputProps","wrapperProps","value","defaultValue","onChange","clearable","clearButtonProps","popoverProps","getDayProps","locale","valueFormat","dateParser","minDate","maxDate","fixOnBlur","onFocus","onBlur","onClick","readOnly","name","form","rightSection","unstyled","classNames","styles","allowDeselect","preserveTime","date","defaultDate","onDateChange"]),{calendarProps:L,others:z}=Tre(I),F=Fre(),N=m||(e=>{const t=Ere()(e,p,F.getLocale(f)).toDate();return Number.isNaN(t.getTime())?function(e){const t=new Date(e);return Number.isNaN(t.getTime())||!e?null:t}(e):t}),B=c||P,U=e=>e?Ere()(e).locale(F.getLocale(f)).format(p):"",[j,H,V]=mI({value:a,defaultValue:s,finalValue:null,onChange:l}),[G,W]=mI({value:D,defaultValue:s||R,finalValue:null,onChange:k});(0,t.useEffect)((()=>{V&&W(a)}),[V,a]);const[Y,X]=(0,t.useState)(U(j));(0,t.useEffect)((()=>{X(U(j))}),[F.getLocale(f)]);const[Q,q]=(0,t.useState)(!1),K=C||(c&&j&&!S?t.createElement(yK,Ese({variant:"transparent",onMouseDown:e=>e.preventDefault(),tabIndex:-1,onClick:()=>{H(null),!V&&X("")},unstyled:_},u)):null);return Zq((()=>{void 0!==a&&!Q&&X(U(a))}),[a]),t.createElement(t.Fragment,null,t.createElement(wY.Wrapper,Mse(Ese({},o),{__staticSelector:"DateInput"}),t.createElement(S5,Ese({opened:Q,trapFocus:!1,position:"bottom-start",disabled:S,withRoles:!1},d),t.createElement(S5.Target,null,t.createElement(wY,Mse(Ese(Ese({"data-dates-input":!0,"data-read-only":S||void 0,autoComplete:"off",ref:n,value:Y,onChange:e=>{const t=e.currentTarget.value;if(X(t),""===t.trim()&&B)H(null);else{const e=N(t);(function(e){let{date:t,maxDate:n,minDate:r}=e;return null!=t&&!Number.isNaN(t.getTime())&&(!n||!Ere()(t).isAfter(n,"date"))&&(!r||!Ere()(t).isBefore(r,"date"))})({date:e,minDate:g,maxDate:v})&&(H(e),W(e))}},onBlur:e=>{null==x||x(e),q(!1),y&&X(U(j))},onFocus:e=>{null==b||b(e),q(!0)},onClick:e=>{null==w||w(e),q(!0)},readOnly:S,rightSection:K},i),z),{__staticSelector:"DateInput"}))),t.createElement(S5.Dropdown,{onMouseDown:e=>e.preventDefault(),"data-dates-dropdown":!0},t.createElement(fse,Mse(Ese({__staticSelector:"DateInput"},L),{classNames:T,styles:A,unstyled:_,__preventFocus:!0,minDate:g,maxDate:v,locale:f,getDayProps:e=>Mse(Ese({},null==h?void 0:h(e)),{selected:Ere()(j).isSame(e,"day"),onClick:()=>{const t=O?function(e,t){if(!e||!t)return t;const n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),o=e.getMilliseconds(),a=new Date(t);return a.setHours(n),a.setMinutes(r),a.setSeconds(i),a.setMilliseconds(o),a}(j,e):e,n=B&&Ere()(j).isSame(e,"day")?null:t;H(n),!V&&X(U(n)),q(!1)}}),size:i.size,date:G,onDateChange:W}))))),t.createElement(mse,{name:E,form:M,value:j,type:"default"}))}));_se.displayName="@mantine/dates/DateInput";let Tse=36,Ase="";for(;Tse--;)Ase+=Tse.toString(36);function Pse(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11;for(;t--;)e+=Ase[36*Math.random()|0];return e}const Ose=e=>{let{terms:t,matchExactly:n=!1}=e;try{const e=/^([/~@;%#'])(.*?)\1([gimsuy]*)$/.exec(t);return e?new RegExp(e[2],e[3]):new RegExp((e=>{let{terms:t,matchExactly:n=!1}=e;if("string"!==typeof t)throw new TypeError("Expected a string");const r=t.trim().replace(/[|\\{}()[\]^$+*?.-]/g,(e=>`\\${e}`));return`(${n?r:(e=>e.replace(/\s{2,}/g," ").split(" ").join("|"))(r)})`})({terms:t,matchExactly:n}),"ig")}catch(r){throw new TypeError("Expected terms to be either a string or a RegExp!")}},Dse=(Rse="match",e=>null!==e&&"object"===typeof e&&Rse in e);var Rse;const kse=e=>"undefined"!==typeof e;function Ise(e){let{curr:t,next:n,prev:r,clipBy:i=3}=e;const o=t.text.split(" "),a=o.length;if(t.match||i>=a)return t.text;const s="...";return kse(n)&&kse(r)&&Dse(r)&&Dse(n)?a>2*i?[...o.slice(0,i),s,...o.slice(-i)].join(" "):t.text:kse(n)&&Dse(n)?[s,...o.slice(-i)].join(" "):kse(r)&&Dse(r)?[...o.slice(0,i),s].join(" "):t.text}var Lse=Object.defineProperty,zse=Object.defineProperties,Fse=Object.getOwnPropertyDescriptors,Nse=Object.getOwnPropertySymbols,Bse=Object.prototype.hasOwnProperty,Use=Object.prototype.propertyIsEnumerable,jse=(e,t,n)=>t in e?Lse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hse=(e,t)=>{for(var n in t||(t={}))Bse.call(t,n)&&jse(e,n,t[n]);if(Nse)for(var n of Nse(t))Use.call(t,n)&&jse(e,n,t[n]);return e},Vse=(e,t)=>zse(e,Fse(t));const Gse=e=>e.length>0,Wse=e=>{let{text:t,query:n,clipBy:r,matchExactly:i=!1}=e;const o="string"===typeof n?n.trim():n;if(""===o)return[{key:Pse(),text:t,match:!1}];const a=Ose({terms:n,matchExactly:i});return t.split(a).filter(Gse).map((e=>({key:Pse(),text:e,match:i?e.toLowerCase()===o.toLowerCase():a.test(e)}))).map(((e,t,n)=>Hse(Hse({},e),"number"===typeof r&&{text:Ise(Vse(Hse(Hse({curr:e},t<n.length-1&&{next:n[t+1]}),t>0&&{prev:n[t-1]}),{clipBy:r}))})))};function Yse(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}const Xse=Object.assign({},h0),Qse=e=>{var t,n,r,i;return null!==(i=null!==(t=e.id)&&void 0!==t?t:null===(r=null===(n=e.accessorKey)||void 0===n?void 0:n.toString)||void 0===r?void 0:r.call(n))&&void 0!==i?i:e.header},qse=e=>{const t=[],n=e=>{e.forEach((e=>{e.columns?n(e.columns):t.push(e)}))};return n(e),t},Kse=e=>{let{aggregationFns:t,columnDefs:n,columnFilterFns:r,defaultDisplayColumn:i,filterFns:o,sortingFns:a}=e;return n.map((e=>{var n,s;if(e.id||(e.id=Qse(e)),e.columnDefType||(e.columnDefType="data"),null===(n=e.columns)||void 0===n?void 0:n.length)e.columnDefType="group",e.columns=Kse({aggregationFns:t,columnDefs:e.columns,columnFilterFns:r,defaultDisplayColumn:i,filterFns:o,sortingFns:a});else if("data"===e.columnDefType){if(Array.isArray(e.aggregationFn)){const n=e.aggregationFn;e.aggregationFn=(e,r,i)=>n.map((n=>{var o;return null===(o=t[n])||void 0===o?void 0:o.call(t,e,r,i)}))}Object.keys(o).includes(r[e.id])&&(e.filterFn=null!==(s=o[r[e.id]])&&void 0!==s?s:o.fuzzy,e._filterFn=r[e.id]),Object.keys(a).includes(e.sortingFn)&&(e.sortingFn=a[e.sortingFn])}else"display"===e.columnDefType&&(e=Object.assign(Object.assign({},i),e));return e}))},Zse=(e,t,n)=>(e.getCanPin()&&e.pin(t.getIsPinned()),n.splice(n.indexOf(t.id),0,n.splice(n.indexOf(e.id),1)[0]),[...n]),Jse=(e,t)=>!!(e.enableExpanding||e.enableGrouping&&(void 0===t||(null===t||void 0===t?void 0:t.length))||e.renderDetailPanel),$se=e=>{const t=(e=>{var t;return[(e.enableRowDragging||e.enableRowOrdering)&&"mrt-row-drag","first"===e.positionActionsColumn&&(e.enableRowActions||e.enableEditing&&["row","modal"].includes(null!==(t=e.editingMode)&&void 0!==t?t:""))&&"mrt-row-actions","first"===e.positionExpandColumn&&Jse(e)&&"mrt-row-expand",e.enableRowSelection&&"mrt-row-select",e.enableRowNumbers&&"mrt-row-numbers"].filter(Boolean)})(e),n=(e=>{var t;return["last"===e.positionActionsColumn&&(e.enableRowActions||e.enableEditing&&["row","modal"].includes(null!==(t=e.editingMode)&&void 0!==t?t:""))&&"mrt-row-actions","last"===e.positionExpandColumn&&Jse(e)&&"mrt-row-expand"].filter(Boolean)})(e),r=qse(e.columns).map((e=>Qse(e))).filter((e=>!t.includes(e)&&!n.includes(e)));return[...t,...r,...n]},ele=(e,t)=>"left"===t.getIsPinned()&&e.getLeftLeafHeaders().length-1===t.getPinnedIndex(),tle=e=>"right"===e.getIsPinned()&&0===e.getPinnedIndex(),nle=(e,t)=>e.getRightLeafHeaders().slice(t.getPinnedIndex()+1).reduce(((e,t)=>e+t.getSize()),0),rle=e=>{let{column:t,header:n,isStriped:r,row:i,table:o,tableCellProps:a,theme:s}=e;var l,c,u,d,h,f,p,m,g,v;const y={minWidth:`max(calc(var(--${n?"header":"col"}-${sle(null!==(l=null===n||void 0===n?void 0:n.id)&&void 0!==l?l:t.id)}-size) * 1px), ${null!==(c=t.columnDef.minSize)&&void 0!==c?c:30}px)`,width:`calc(var(--${n?"header":"col"}-${sle(null!==(u=null===n||void 0===n?void 0:n.id)&&void 0!==u?u:t.id)}-size) * 1px)`};return Object.assign(Object.assign(Object.assign({backgroundColor:i?(null===i||void 0===i?void 0:i.getIsSelected())?s.fn.rgba(ale(s),.1):t.getIsPinned()&&"group"!==t.columnDef.columnDefType?s.fn.rgba("dark"===s.colorScheme?s.fn.darken(s.colors.dark[7],.02):s.white,.97):r?"inherit":"dark"===s.colorScheme?s.fn.lighten(s.colors.dark[7],.02):s.white:"inherit",backgroundClip:"padding-box",boxShadow:ele(o,t)?`-4px 0 8px -6px ${s.fn.rgba(s.black,.2)} inset`:tle(t)?`4px 0 8px -6px ${s.fn.rgba(s.black,.2)} inset`:void 0,display:"grid"===o.options.layoutMode?"flex":"table-cell",flex:"grid"===o.options.layoutMode?`var(--${n?"header":"col"}-${sle(null!==(d=null===n||void 0===n?void 0:n.id)&&void 0!==d?d:t.id)}-size) 0 auto`:void 0,left:"left"===t.getIsPinned()?`${t.getStart("left")}px`:void 0,ml:o.options.enableColumnVirtualization&&"left"===t.getIsPinned()&&0===t.getPinnedIndex()?`-${t.getSize()*(null!==(f=null===(h=o.getState().columnPinning.left)||void 0===h?void 0:h.length)&&void 0!==f?f:1)}px`:void 0,mr:o.options.enableColumnVirtualization&&"right"===t.getIsPinned()&&t.getPinnedIndex()===o.getVisibleLeafColumns().length-1?`-${t.getSize()*(null!==(m=null===(p=o.getState().columnPinning.right)||void 0===p?void 0:p.length)&&void 0!==m?m:1)*1.2}px`:void 0,opacity:(null===(g=o.getState().draggingColumn)||void 0===g?void 0:g.id)===t.id||(null===(v=o.getState().hoveredColumn)||void 0===v?void 0:v.id)===t.id?.5:1,position:t.getIsPinned()&&"group"!==t.columnDef.columnDefType?"sticky":void 0,right:"right"===t.getIsPinned()?`${nle(o,t)}px`:void 0,transition:o.options.enableColumnVirtualization?"none":"padding 100ms ease-in-out"},!o.options.enableColumnResizing&&y),(null===a||void 0===a?void 0:a.sx)instanceof Function?a.sx(s):null===a||void 0===a?void 0:a.sx),o.options.enableColumnResizing&&y)},ile={filterVariant:"text",minSize:40,maxSize:1e3,size:180},ole={columnDefType:"display",enableClickToCopy:!1,enableColumnActions:!1,enableColumnDragging:!1,enableColumnFilter:!1,enableColumnOrdering:!1,enableEditing:!1,enableGlobalFilter:!1,enableGrouping:!1,enableHiding:!1,enableResizing:!1,enableSorting:!1},ale=(e,t)=>e.colors[e.primaryColor][null!==t&&void 0!==t?t:(e=>{var t,n,r,i,o;return null!==(o="dark"===e.colorScheme?null!==(n=null===(t=e.primaryShade)||void 0===t?void 0:t.dark)&&void 0!==n?n:e.primaryShade:null!==(i=null===(r=e.primaryShade)||void 0===r?void 0:r.light)&&void 0!==i?i:e.primaryShade)&&void 0!==o?o:7})(e)],sle=e=>e.replace(/[^a-zA-Z0-9]/g,"_"),lle=(e,t,n,r)=>{const i=B0(e.getValue(t),n,{threshold:N0.MATCHES});return r(i),i.passed};lle.autoRemove=e=>!e;const cle=(e,t,n)=>e.getValue(t).toString().toLowerCase().trim().includes(n.toString().toLowerCase().trim());cle.autoRemove=e=>!e;const ule=(e,t,n)=>e.getValue(t).toString().toLowerCase().trim().startsWith(n.toString().toLowerCase().trim());ule.autoRemove=e=>!e;const dle=(e,t,n)=>e.getValue(t).toString().toLowerCase().trim().endsWith(n.toString().toLowerCase().trim());dle.autoRemove=e=>!e;const hle=(e,t,n)=>null===n||e.getValue(t).toString().toLowerCase().trim()===n.toString().toLowerCase().trim();hle.autoRemove=e=>!e;const fle=(e,t,n)=>e.getValue(t).toString().toLowerCase().trim()!==n.toString().toLowerCase().trim();fle.autoRemove=e=>!e;const ple=(e,t,n)=>null===n||(isNaN(+n)||isNaN(+e.getValue(t))?e.getValue(t).toString().toLowerCase().trim()>n.toString().toLowerCase().trim():+e.getValue(t)>+n);ple.autoRemove=e=>!e;const mle=(e,t,n)=>hle(e,t,n)||ple(e,t,n);mle.autoRemove=e=>!e;const gle=(e,t,n)=>null===n||(isNaN(+n)||isNaN(+e.getValue(t))?e.getValue(t).toString().toLowerCase().trim()<n.toString().toLowerCase().trim():+e.getValue(t)<+n);gle.autoRemove=e=>!e;const vle=(e,t,n)=>hle(e,t,n)||gle(e,t,n);vle.autoRemove=e=>!e;const yle=(e,t,n)=>(["",void 0].includes(n[0])||ple(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||gle(e,t,n[1]));yle.autoRemove=e=>!e;const ble=(e,t,n)=>(["",void 0].includes(n[0])||mle(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||vle(e,t,n[1]));ble.autoRemove=e=>!e;const xle=(e,t,n)=>!e.getValue(t).toString().trim();xle.autoRemove=e=>!e;const wle=(e,t,n)=>!!e.getValue(t).toString().trim();wle.autoRemove=e=>!e;const Sle=Object.assign(Object.assign({},l0),{between:yle,betweenInclusive:ble,contains:cle,empty:xle,endsWith:dle,equals:hle,fuzzy:lle,greaterThan:ple,greaterThanOrEqualTo:mle,lessThan:gle,lessThanOrEqualTo:vle,notEmpty:wle,notEquals:fle,startsWith:ule}),Ele={IconArrowAutofitContent:W0,IconArrowsSort:Y0,IconBaselineDensityLarge:X0,IconBaselineDensityMedium:Q0,IconBaselineDensitySmall:q0,IconBoxMultiple:K0,IconChevronDown:Z0,IconChevronLeft:J0,IconChevronRight:$0,IconChevronsDown:e1,IconCircleX:t1,IconClearAll:n1,IconColumns:r1,IconDeviceFloppy:i1,IconDots:o1,IconDotsVertical:a1,IconEdit:s1,IconEyeOff:z$,IconFilter:l1,IconFilterOff:c1,IconGripHorizontal:u1,IconMaximize:B$,IconMinimize:d1,IconPinned:h1,IconPinnedOff:f1,IconSearch:p1,IconSearchOff:m1,IconSortAscending:g1,IconSortDescending:v1,IconX:y1},Mle=Object.assign(Object.assign({},_0),{fuzzy:(e,t,n)=>{let r=0;return e.columnFiltersMeta[n]&&(r=function(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}(e.columnFiltersMeta[n],t.columnFiltersMeta[n])),0===r?_0.alphanumeric(e,t,n):r}}),Cle=e=>{let{table:t}=e;var n,r;const{getIsAllRowsExpanded:i,getIsSomeRowsExpanded:o,getCanSomeRowsExpand:a,getState:s,options:{icons:{IconChevronsDown:l},localization:c,mantineExpandAllButtonProps:u,renderDetailPanel:d},toggleAllRowsExpanded:h}=t,{density:f,isLoading:p}=s(),m=u instanceof Function?u({table:t}):u,g=i();return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,openDelay:1e3,label:(null!==(n=null===m||void 0===m?void 0:m.title)&&void 0!==n?n:g)?c.collapseAll:c.expandAll,children:(0,Pg.jsx)(iq,Object.assign({"aria-label":c.expandAll,disabled:p||!d&&!a(),onClick:()=>h(!g)},m,{sx:e=>Object.assign({marginLeft:"xl"===f?"-6px":"md"===f?"0":"6px","&:disabled":{backgroundColor:"transparent",border:"none"}},(null===m||void 0===m?void 0:m.sx)instanceof Function?null===m||void 0===m?void 0:m.sx(e):null===m||void 0===m?void 0:m.sx),title:void 0,children:null!==(r=null===m||void 0===m?void 0:m.children)&&void 0!==r?r:(0,Pg.jsx)(l,{style:{transform:`rotate(${g?-180:o()?-90:0}deg)`,transition:"transform 100ms"}})}))})},_le=e=>{let{row:t,table:n}=e;var r,i;const{options:{icons:{IconChevronDown:o},localization:a,mantineExpandButtonProps:s,renderDetailPanel:l}}=n,c=s instanceof Function?s({table:n,row:t}):s,u=t.getCanExpand(),d=t.getIsExpanded();return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,disabled:!u&&!l,openDelay:1e3,label:(null!==(r=null===c||void 0===c?void 0:c.title)&&void 0!==r?r:d)?a.collapse:a.expand,children:(0,Pg.jsx)(iq,Object.assign({"aria-label":a.expand,disabled:!u&&!l},c,{onClick:e=>{var n;e.stopPropagation(),t.toggleExpanded(),null===(n=null===c||void 0===c?void 0:c.onClick)||void 0===n||n.call(c,e)},sx:e=>Object.assign({"&:disabled":{backgroundColor:"transparent",border:"none"}},(null===c||void 0===c?void 0:c.sx)instanceof Function?c.sx(e):null===c||void 0===c?void 0:c.sx),title:void 0,children:null!==(i=null===c||void 0===c?void 0:c.children)&&void 0!==i?i:(0,Pg.jsx)(o,{style:{transform:`rotate(${u||l?d?-180:0:-90}deg)`,transition:"transform 100ms"}})}))})},Tle=e=>{let{handleEdit:t,row:n,table:r}=e;const{options:{editingMode:i,enableEditing:o,icons:{IconEdit:a,IconDots:s},localization:l,renderRowActionMenuItems:c}}=r;return(0,Pg.jsxs)(E6,{closeOnItemClick:!0,withinPortal:!0,children:[(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,openDelay:1e3,label:l.rowActions,children:(0,Pg.jsx)(E6.Target,{children:(0,Pg.jsx)(iq,{"aria-label":l.rowActions,onClick:e=>e.stopPropagation(),size:"sm",children:(0,Pg.jsx)(s,{})})})}),(0,Pg.jsxs)(E6.Dropdown,{onClick:e=>e.stopPropagation(),children:[o&&"table"!==i&&(0,Pg.jsx)(E6.Item,{icon:(0,Pg.jsx)(a,{}),onClick:t,children:l.edit}),null===c||void 0===c?void 0:c({row:n,table:r})]})]})},Ale=e=>{let{row:t,table:n,variant:r="icon"}=e;const{getState:i,options:{icons:{IconCircleX:o,IconDeviceFloppy:a},localization:s,onEditingRowSave:l,onEditingRowCancel:c},refs:{editInputRefs:u},setEditingRow:d}=n,{editingRow:h}=i(),f=()=>{null===c||void 0===c||c({row:t,table:n}),d(null)},p=()=>{var e,r;null===(e=Object.values(null===u||void 0===u?void 0:u.current))||void 0===e||e.forEach((e=>{void 0!==e.value&&Object.hasOwn(null===h||void 0===h?void 0:h._valuesCache,e.name)&&(h._valuesCache[e.name]=e.value)})),null===l||void 0===l||l({exitEditingMode:()=>d(null),row:null!==h&&void 0!==h?h:t,table:n,values:null!==(r=null===h||void 0===h?void 0:h._valuesCache)&&void 0!==r?r:Object.assign({},t.original)})};return(0,Pg.jsx)(hP,{onClick:e=>e.stopPropagation(),sx:{display:"flex",gap:"12px"},children:"icon"===r?(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:s.cancel,children:(0,Pg.jsx)(iq,{"aria-label":s.cancel,onClick:f,children:(0,Pg.jsx)(o,{})})}),(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:s.save,children:(0,Pg.jsx)(iq,{"aria-label":s.save,color:"blue",onClick:p,children:(0,Pg.jsx)(a,{})})})]}):(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(IX,{onClick:f,variant:"subtle",children:s.cancel}),(0,Pg.jsx)(IX,{onClick:p,variant:"filled",children:s.save})]})})},Ple=e=>{let{cell:t,row:n,table:r}=e;const{getState:i,options:{editingMode:o,enableEditing:a,icons:{IconEdit:s},localization:l,renderRowActionMenuItems:c,renderRowActions:u},setEditingRow:d}=r,{editingRow:h}=i(),f=e=>{e.stopPropagation(),d(Object.assign({},n))};return(0,Pg.jsx)(Pg.Fragment,{children:u?(0,Pg.jsx)(Pg.Fragment,{children:u({cell:t,row:n,table:r})}):n.id===(null===h||void 0===h?void 0:h.id)&&"row"===o?(0,Pg.jsx)(Ale,{row:n,table:r}):!c&&(a instanceof Function?a(n):a)?(0,Pg.jsx)(_4,{withinPortal:!0,position:"right",withArrow:!0,label:l.edit,children:(0,Pg.jsx)(iq,{"aria-label":l.edit,onClick:f,children:(0,Pg.jsx)(s,{})})}):c?(0,Pg.jsx)(Tle,{handleEdit:f,row:n,table:r}):null})},Ole=e=>{let{row:t,selectAll:n,table:r}=e;var i;const{getState:o,options:{localization:a,enableMultiRowSelection:s,mantineSelectCheckboxProps:l,mantineSelectAllCheckboxProps:c,selectAllMode:u}}=r,{density:d,isLoading:h}=o(),f=t?l instanceof Function?l({row:t,table:r}):l:c instanceof Function?c({table:r}):c,p=n?"page"===u?r.getIsAllPageRowsSelected():r.getIsAllRowsSelected():void 0,m=Object.assign(Object.assign({"aria-label":n?a.toggleSelectAll:a.toggleSelectRow,checked:n?p:null===t||void 0===t?void 0:t.getIsSelected(),disabled:h||t&&!t.getCanSelect(),onChange:t?t.getToggleSelectedHandler():"all"===u?r.getToggleAllRowsSelectedHandler():r.getToggleAllPageRowsSelectedHandler(),size:"xs"===d?"sm":"md"},f),{onClick:e=>{var t;e.stopPropagation(),null===(t=null===f||void 0===f?void 0:f.onClick)||void 0===t||t.call(f,e)},title:void 0});return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,openDelay:1e3,label:null!==(i=null===f||void 0===f?void 0:f.title)&&void 0!==i?i:n?a.toggleSelectAll:a.toggleSelectRow,children:!1===s?(0,Pg.jsx)(o8,Object.assign({},m)):(0,Pg.jsx)(H8,Object.assign({indeterminate:n?r.getIsSomeRowsSelected()&&!p:null===t||void 0===t?void 0:t.getIsSomeSelected()},m))})},Dle=["between","betweenInclusive","inNumberRange"],Rle=["empty","notEmpty"],kle=["arrIncludesSome","arrIncludesAll","arrIncludes"],Ile=e=>{let{header:n,onSelect:r,table:i}=e;var o,a,s,l;const{getState:c,options:{columnFilterModeOptions:u,globalFilterModeOptions:d,localization:h,renderColumnFilterModeMenuItems:f,renderGlobalFilterModeMenuItems:p},setColumnFilterFns:m,setGlobalFilterFn:g}=i,{globalFilterFn:v}=c(),{column:y}=null!==n&&void 0!==n?n:{},{columnDef:b}=null!==y&&void 0!==y?y:{},x=null===y||void 0===y?void 0:y.getFilterValue(),w=null!==(o=null===b||void 0===b?void 0:b.columnFilterModeOptions)&&void 0!==o?o:u,S=(0,t.useMemo)((()=>(e=>[{option:"fuzzy",symbol:"\u2248",label:e.filterFuzzy,divider:!1},{option:"contains",symbol:"*",label:e.filterContains,divider:!1},{option:"startsWith",symbol:"a",label:e.filterStartsWith,divider:!1},{option:"endsWith",symbol:"z",label:e.filterEndsWith,divider:!0},{option:"equals",symbol:"=",label:e.filterEquals,divider:!1},{option:"notEquals",symbol:"\u2260",label:e.filterNotEquals,divider:!0},{option:"between",symbol:"\u21ff",label:e.filterBetween,divider:!1},{option:"betweenInclusive",symbol:"\u2b0c",label:e.filterBetweenInclusive,divider:!0},{option:"greaterThan",symbol:">",label:e.filterGreaterThan,divider:!1},{option:"greaterThanOrEqualTo",symbol:"\u2265",label:e.filterGreaterThanOrEqualTo,divider:!1},{option:"lessThan",symbol:"<",label:e.filterLessThan,divider:!1},{option:"lessThanOrEqualTo",symbol:"\u2264",label:e.filterLessThanOrEqualTo,divider:!0},{option:"empty",symbol:"\u2205",label:e.filterEmpty,divider:!1},{option:"notEmpty",symbol:"!\u2205",label:e.filterNotEmpty,divider:!1}])(h).filter((e=>b?void 0===w||(null===w||void 0===w?void 0:w.includes(e.option)):(!d||d.includes(e.option))&&["fuzzy","contains","startsWith"].includes(e.option)))),[]),E=e=>{var t;const i=null!==(t=null===b||void 0===b?void 0:b._filterFn)&&void 0!==t?t:"";n&&y?e!==i&&(m((t=>Object.assign(Object.assign({},t),{[n.id]:e}))),Rle.includes(e)?" "===x||Rle.includes(i)?x&&y.setFilterValue(x):y.setFilterValue(" "):"multi-select"===(null===b||void 0===b?void 0:b.filterVariant)||kle.includes(e)?x instanceof String||(null===x||void 0===x?void 0:x.length)?y.setFilterValue([]):x&&y.setFilterValue(x):["range","date-range"].includes(null===b||void 0===b?void 0:b.filterVariant)||Dle.includes(e)?Array.isArray(x)&&((null===x||void 0===x?void 0:x.every((e=>""===e)))||Dle.includes(i))?y.setFilterValue(x):y.setFilterValue(["",""]):Array.isArray(x)?y.setFilterValue(""):y.setFilterValue(x)):g(e),null===r||void 0===r||r()},M=n&&b?b._filterFn:v;return(0,Pg.jsx)(E6.Dropdown,{children:null!==(l=n&&y&&b?null!==(s=null===(a=b.renderColumnFilterModeMenuItems)||void 0===a?void 0:a.call(b,{column:y,internalFilterOptions:S,onSelectFilterMode:E,table:i}))&&void 0!==s?s:null===f||void 0===f?void 0:f({column:y,internalFilterOptions:S,onSelectFilterMode:E,table:i}):null===p||void 0===p?void 0:p({internalFilterOptions:S,onSelectFilterMode:E,table:i}))&&void 0!==l?l:S.map(((e,n)=>{let{option:r,label:i,divider:o,symbol:a}=e;return(0,Pg.jsxs)(t.Fragment,{children:[(0,Pg.jsxs)(E6.Item,{onClick:()=>E(r),color:r===M?"blue":void 0,sx:{"& > .mantine-Menu-itemLabel":{display:"flex",flexWrap:"nowrap",gap:"1ch"}},value:r,children:[(0,Pg.jsx)(J8,{sx:{fontSize:"20px",transform:"translateY(-2px)",width:"2ch"},children:a}),(0,Pg.jsx)(J8,{align:"center",children:i})]}),o&&(0,Pg.jsx)(E6.Divider,{})]},n)}))})},Lle=e=>{let{table:n}=e;var r;const{getState:i,setGlobalFilter:o,options:{enableGlobalFilterModes:a,icons:{IconSearch:s,IconX:l},localization:c,manualFiltering:u,mantineSearchTextInputProps:d},refs:{searchInputRef:h}}=n,{globalFilter:f,showGlobalFilter:p}=i(),m=d instanceof Function?d({table:n}):d,g=(0,t.useRef)(!1),[v,y]=(0,t.useState)(null!==f&&void 0!==f?f:""),[b]=are(v,u?500:250);(0,t.useEffect)((()=>{o(b||void 0)}),[b]);const x=()=>{y(""),o(void 0)};return(0,t.useEffect)((()=>{g.current&&(void 0===f?x():y(f)),g.current=!0}),[f]),(0,Pg.jsxs)(y9,{in:p,sx:{"& > div":{display:"flex",alignItems:"center",gap:"16px",flexWrap:"nowrap"}},children:[a&&(0,Pg.jsxs)(E6,{withinPortal:!0,children:[(0,Pg.jsx)(E6.Target,{children:(0,Pg.jsx)(iq,{"aria-label":c.changeSearchMode,size:"sm",children:(0,Pg.jsx)(s,{})})}),(0,Pg.jsx)(Ile,{table:n,onSelect:x})]}),(0,Pg.jsx)(DY,Object.assign({placeholder:c.search,onChange:e=>y(e.target.value),value:null!==v&&void 0!==v?v:"",variant:"filled",icon:!a&&(0,Pg.jsx)(s,{}),rightSection:(0,Pg.jsx)(iq,{"aria-label":c.clearSearch,disabled:!(null===v||void 0===v?void 0:v.length),onClick:x,size:"sm",sx:{"&:disabled":{backgroundColor:"transparent",border:"none"}},children:(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:null!==(r=c.clearSearch)&&void 0!==r?r:"",children:(0,Pg.jsx)(l,{})})})},m,{ref:e=>{e&&(h.current=e,(null===m||void 0===m?void 0:m.ref)&&(m.ref=e))}}))]})},zle=e=>{let{isTopToolbar:t,table:n}=e;const{options:{mantineProgressProps:r},getState:i}=n,{isLoading:o,showProgressBars:a}=i(),s=r instanceof Function?r({isTopToolbar:t,table:n}):r;return(0,Pg.jsx)(y9,{in:o||a,sx:{bottom:t?0:void 0,position:"absolute",top:t?void 0:0,width:"100%"},children:(0,Pg.jsx)(I9,Object.assign({animate:!0,"aria-label":"Loading","aria-busy":"true",sx:{position:"relative"},value:100},s))})},Fle={userSelect:"none","&:disabled":{backgroundColor:"transparent",border:"none"}},Nle=e=>{let{table:t,position:n="bottom"}=e;var r;const{getPrePaginationRowModel:i,getState:o,setPageIndex:a,setPageSize:s,options:{enableToolbarInternalActions:l,icons:{IconChevronLeft:c,IconChevronRight:u},localization:d,mantinePaginationProps:h,rowCount:f}}=t,{pagination:{pageSize:p=10,pageIndex:m=0},showGlobalFilter:g}=o(),v=h instanceof Function?h({table:t}):h,y=null!==f&&void 0!==f?f:i().rows.length,b=y/p>2&&!1!==(null===v||void 0===v?void 0:v.showFirstLastPageButtons),x=m*p,w=Math.min(m*p+p,y);return(0,Pg.jsxs)(J8,Object.assign({align:"center",justify:"space-between",gap:"lg",py:"xs",px:"sm",mt:"top"===n&&l&&!g?"3rem":void 0,p:"relative",sx:{zIndex:2}},v,{children:[!1!==(null===v||void 0===v?void 0:v.showRowsPerPage)&&(0,Pg.jsx)(See,{data:null!==(r=null===v||void 0===v?void 0:v.rowsPerPageOptions)&&void 0!==r?r:["5","10","15","20","25","30","50","100"],label:d.rowsPerPage,onChange:e=>s(+e),value:p.toString(),sx:{"@media (min-width: 720px)":{display:"flex",alignItems:"center",gap:"8px"},"& .mantine-Select-input":{width:"90px"}},withinPortal:!0}),(0,Pg.jsx)(xP,{children:`${0===w?0:x+1}-${w} ${d.of} ${y}`}),(0,Pg.jsxs)(J8,{gap:"xs",children:[b&&(0,Pg.jsxs)(iq,{"aria-label":d.goToFirstPage,disabled:m<=0,onClick:()=>a(0),sx:Fle,children:[(0,Pg.jsx)("b",{style:{transform:"translate(2px, -1.5px)"},children:"|"}),(0,Pg.jsx)(c,{})]}),(0,Pg.jsx)(iq,{"aria-label":d.goToPreviousPage,disabled:m<=0,onClick:()=>a(m-1),sx:Fle,children:(0,Pg.jsx)(c,{})}),(0,Pg.jsx)(iq,{"aria-label":d.goToNextPage,disabled:w>=y,onClick:()=>a(m+1),sx:Fle,children:(0,Pg.jsx)(u,{})}),b&&(0,Pg.jsxs)(iq,{"aria-label":d.goToLastPage,disabled:w>=y,onClick:()=>a(Math.ceil(y/p)-1),sx:Fle,children:[(0,Pg.jsx)(u,{}),(0,Pg.jsx)("b",{style:{transform:"translate(-2px, -1.5px)"},children:"|"})]})]})]}))},Ble=e=>{let{stackAlertBanner:n,table:r}=e;var i,o;const{getPrePaginationRowModel:a,getSelectedRowModel:s,getState:l,options:{icons:{IconX:c},localization:u,mantineToolbarAlertBannerProps:d,mantineToolbarAlertBannerChipProps:h,positionToolbarAlertBanner:f,rowCount:p}}=r,{grouping:m,showAlertBanner:g}=l(),v=d instanceof Function?d({table:r}):d,y=h instanceof Function?h({table:r}):h,b=s().rows.length>0?null===(o=null===(i=u.selectedCountOfRowCountRowsSelected)||void 0===i?void 0:i.replace("{selectedCount}",s().rows.length.toString()))||void 0===o?void 0:o.replace("{rowCount}",(null!==p&&void 0!==p?p:a().rows.length).toString()):null,x=m.length>0?(0,Pg.jsxs)(J8,{children:[u.groupedBy," ",m.map(((e,n)=>(0,Pg.jsxs)(t.Fragment,{children:[n>0?u.thenBy:"",(0,Pg.jsxs)(qee,Object.assign({onChange:()=>r.getColumn(e).toggleGrouping(),sx:{paddingLeft:"1ch"}},y,{children:[r.getColumn(e).columnDef.header," ",(0,Pg.jsx)(c,{size:"12pt",style:{transform:"translate(6px, 3px)"}})]}))]},`${n}-${e}`)))]}):null;return(0,Pg.jsx)(y9,{in:g||!!b||!!x,transitionDuration:n?200:0,children:(0,Pg.jsxs)(pte,Object.assign({color:"blue",icon:!1},v,{sx:e=>Object.assign({borderRadius:0,fontSize:"16px",left:0,position:"relative",marginBottom:n?0:"bottom"===f?"-16px":void 0,padding:"8px",right:0,top:0,width:"100%",zIndex:2},(null===v||void 0===v?void 0:v.sx)instanceof Function?v.sx(e):null===v||void 0===v?void 0:v.sx),children:[(null===v||void 0===v?void 0:v.title)&&(0,Pg.jsx)(hP,{children:v.title}),(0,Pg.jsxs)(J8,{sx:{padding:"8px 16px"},children:[null===v||void 0===v?void 0:v.children,(null===v||void 0===v?void 0:v.children)&&(b||x)&&(0,Pg.jsx)("br",{}),b,b&&x&&(0,Pg.jsx)("br",{}),x]})]}))})},Ule=e=>{var t,{table:n}=e,r=Yse(e,["table"]);const{getState:i,options:{icons:{IconMinimize:o,IconMaximize:a},localization:s},setIsFullScreen:l}=n,{isFullScreen:c}=i();return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:null!==(t=null===r||void 0===r?void 0:r.title)&&void 0!==t?t:s.toggleFullScreen,children:(0,Pg.jsx)(iq,Object.assign({"aria-label":s.showHideFilters,onClick:()=>{l(!c)},size:"lg"},r,{title:void 0,children:c?(0,Pg.jsx)(o,{}):(0,Pg.jsx)(a,{})}))})},jle=e=>{let{column:t,table:n}=e;const{options:{icons:{IconPinned:r,IconPinnedOff:i},localization:o}}=n,a=e=>{t.pin(e)};return(0,Pg.jsx)(J8,{sx:{minWidth:"70px",alignContent:"center",justifyContent:"center"},children:t.getIsPinned()?(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:o.unpin,children:(0,Pg.jsx)(iq,{onClick:()=>a(!1),size:"md",children:(0,Pg.jsx)(i,{})})}):(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:o.pinToLeft,children:(0,Pg.jsx)(iq,{onClick:()=>a("left"),size:"md",children:(0,Pg.jsx)(r,{style:{transform:"rotate(90deg)"}})})}),(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:o.pinToRight,children:(0,Pg.jsx)(iq,{onClick:()=>a("right"),size:"md",children:(0,Pg.jsx)(r,{style:{transform:"rotate(-90deg)"}})})})]})})},Hle=e=>{let{actionIconProps:t,onDragEnd:n,onDragStart:r,table:i}=e;var o;const{options:{icons:{IconGripHorizontal:a},localization:s}}=i;return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,openDelay:1e3,position:"top",label:null!==(o=null===t||void 0===t?void 0:t.title)&&void 0!==o?o:s.move,children:(0,Pg.jsx)(iq,Object.assign({draggable:"true",size:"sm"},t,{onClick:e=>{var n;e.stopPropagation(),null===(n=null===t||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e)},onDragStart:r,onDragEnd:n,sx:e=>Object.assign({cursor:"grab",margin:"0 -0.16px",opacity:.5,padding:"2px",transition:"opacity 100ms ease-in-out","&:hover":{backgroundColor:"transparent",opacity:1},"&:active":{cursor:"grabbing"}},(null===t||void 0===t?void 0:t.sx)instanceof Function?null===t||void 0===t?void 0:t.sx(e):null===t||void 0===t?void 0:t.sx),title:void 0,children:(0,Pg.jsx)(a,{})}))})},Vle=e=>{let{allColumns:n,hoveredColumn:r,setHoveredColumn:i,column:o,isSubMenu:a,table:s}=e;var l;const{getState:c,options:{enableColumnOrdering:u,enableHiding:d,enablePinning:h,localization:f},setColumnOrder:p}=s,{columnOrder:m}=c(),{columnDef:g}=o,{columnDefType:v}=g,y="group"!==v&&o.getIsVisible()||"group"===v&&o.getLeafColumns().some((e=>e.getIsVisible())),b=(0,t.useRef)(null),[x,w]=(0,t.useState)(!1);return(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(E6.Item,{component:"span",ref:b,onDragEnter:e=>{x||!1===g.enableColumnOrdering||i(o)},sx:e=>({alignItems:"center",cursor:"default",justifyContent:"flex-start",opacity:x?.5:1,outline:x?`1px dashed ${e.colors.gray[7]}`:(null===r||void 0===r?void 0:r.id)===o.id?`2px dashed ${ale(e)}`:"none",paddingLeft:2*(o.depth+.5)+"rem",paddingTop:"6px",paddingBottom:"6px"}),children:(0,Pg.jsxs)(hP,{sx:{display:"flex",flexWrap:"nowrap",gap:"8px"},children:[!a&&"group"!==v&&u&&!n.some((e=>"group"===e.columnDef.columnDefType))&&(!1!==g.enableColumnOrdering?(0,Pg.jsx)(Hle,{onDragEnd:e=>{w(!1),i(null),r&&p(Zse(o,r,m))},onDragStart:e=>{w(!0),e.dataTransfer.setDragImage(b.current,0,0)},table:s}):(0,Pg.jsx)(hP,{sx:{width:"22px"}})),!a&&h&&(o.getCanPin()?(0,Pg.jsx)(jle,{column:o,table:s}):(0,Pg.jsx)(hP,{sx:{width:"70px"}})),d?(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,openDelay:1e3,label:f.toggleVisibility,children:(0,Pg.jsx)(kQ,{checked:y,disabled:a&&y||!o.getCanHide(),label:g.header,onChange:()=>(e=>{var t,n;"group"===v?null===(n=null===(t=null===e||void 0===e?void 0:e.columns)||void 0===t?void 0:t.forEach)||void 0===n||n.call(t,(e=>{e.toggleVisibility(!y)})):e.toggleVisibility()})(o),sx:{cursor:"pointer !important"}})}):(0,Pg.jsx)(xP,{sx:{alignSelf:"center"},children:g.header})]})}),null===(l=o.columns)||void 0===l?void 0:l.map(((e,t)=>(0,Pg.jsx)(Vle,{allColumns:n,column:e,hoveredColumn:r,isSubMenu:a,setHoveredColumn:i,table:s},`${t}-${e.id}`)))]})},Gle=e=>{let{isSubMenu:n,table:r}=e;const{getAllColumns:i,getAllLeafColumns:o,getCenterLeafColumns:a,getIsAllColumnsVisible:s,getIsSomeColumnsPinned:l,getIsSomeColumnsVisible:c,getLeftLeafColumns:u,getRightLeafColumns:d,getState:h,toggleAllColumnsVisible:f,options:{enableColumnOrdering:p,enableHiding:m,enablePinning:g,localization:v}}=r,{columnOrder:y,columnPinning:b}=h(),x=(0,t.useMemo)((()=>{const e=i();return y.length>0&&!e.some((e=>"group"===e.columnDef.columnDefType))?[...u(),...Array.from(new Set(y)).map((e=>a().find((t=>(null===t||void 0===t?void 0:t.id)===e)))),...d()].filter(Boolean):e}),[y,b,i(),a(),u(),d()]),[w,S]=(0,t.useState)(null);return(0,Pg.jsxs)(E6.Dropdown,{sx:{maxHeight:"calc(80vh - 100px)",overflowY:"auto"},children:[(0,Pg.jsxs)(J8,{sx:{justifyContent:n?"center":"space-between",padding:"8px",gap:"8px"},children:[!n&&m&&(0,Pg.jsx)(IX,{disabled:!c(),onClick:()=>{o().filter((e=>!1!==e.columnDef.enableHiding)).forEach((e=>e.toggleVisibility(!1)))},variant:"subtle",children:v.hideAll}),!n&&p&&(0,Pg.jsx)(IX,{onClick:()=>r.setColumnOrder($se(r.options)),variant:"subtle",children:v.resetOrder}),!n&&g&&(0,Pg.jsx)(IX,{disabled:!l(),onClick:()=>r.resetColumnPinning(!0),variant:"subtle",children:v.unpinAll}),m&&(0,Pg.jsx)(IX,{disabled:s(),onClick:()=>f(!0),variant:"subtle",children:v.showAll})]}),(0,Pg.jsx)(j7,{}),x.map(((e,t)=>(0,Pg.jsx)(Vle,{allColumns:x,column:e,hoveredColumn:w,isSubMenu:n,setHoveredColumn:S,table:r},`${t}-${e.id}`)))]})},Wle=e=>{var t,{table:n}=e,r=Yse(e,["table"]);const{options:{icons:{IconColumns:i},localization:o}}=n;return(0,Pg.jsxs)(E6,{closeOnItemClick:!1,withinPortal:!0,children:[(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:null!==(t=null===r||void 0===r?void 0:r.title)&&void 0!==t?t:o.showHideColumns,children:(0,Pg.jsx)(E6.Target,{children:(0,Pg.jsx)(iq,Object.assign({"aria-label":o.showHideColumns,size:"lg"},r,{title:void 0,children:(0,Pg.jsx)(i,{})}))})}),(0,Pg.jsx)(Gle,{table:n})]})},Yle=["xs","md","xl"],Xle=e=>{var t,{table:n}=e,r=Yse(e,["table"]);const{getState:i,options:{icons:{IconBaselineDensityLarge:o,IconBaselineDensityMedium:a,IconBaselineDensitySmall:s},localization:l},setDensity:c}=n,{density:u}=i();return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:null!==(t=null===r||void 0===r?void 0:r.title)&&void 0!==t?t:l.toggleDensity,children:(0,Pg.jsx)(iq,Object.assign({"aria-label":l.toggleDensity,onClick:()=>{var e;c(null!==(e=Yle[(Yle.indexOf(u)-1)%Yle.length])&&void 0!==e?e:"xl")},size:"lg"},r,{title:void 0,children:"xs"===u?(0,Pg.jsx)(s,{}):"md"===u?(0,Pg.jsx)(a,{}):(0,Pg.jsx)(o,{})}))})},Qle=e=>{var t,{table:n}=e,r=Yse(e,["table"]);const{getState:i,options:{icons:{IconFilter:o,IconFilterOff:a},localization:s},setShowColumnFilters:l}=n,{showColumnFilters:c}=i();return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:null!==(t=null===r||void 0===r?void 0:r.title)&&void 0!==t?t:s.showHideFilters,children:(0,Pg.jsx)(iq,Object.assign({"aria-label":s.showHideFilters,onClick:()=>{l(!c)},size:"lg"},r,{title:void 0,children:c?(0,Pg.jsx)(a,{}):(0,Pg.jsx)(o,{})}))})},qle=e=>{var t,n,{table:r}=e,i=Yse(e,["table"]);const{getState:o,options:{icons:{IconSearch:a,IconSearchOff:s},localization:l},refs:{searchInputRef:c},setShowGlobalFilter:u}=r,{globalFilter:d,showGlobalFilter:h}=o();return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,label:null!==(t=null===i||void 0===i?void 0:i.title)&&void 0!==t?t:l.showHideSearch,children:(0,Pg.jsx)(iq,Object.assign({"aria-label":null!==(n=null===i||void 0===i?void 0:i.title)&&void 0!==n?n:l.showHideSearch,disabled:!!d,onClick:()=>{u(!h),setTimeout((()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus()}),100)},size:"lg"},i,{title:void 0,children:h?(0,Pg.jsx)(s,{}):(0,Pg.jsx)(a,{})}))})},Kle=e=>{let{table:t}=e;var n;const{options:{enableColumnFilters:r,enableColumnOrdering:i,enableDensityToggle:o,enableFilters:a,enableFullScreenToggle:s,enableGlobalFilter:l,enableHiding:c,enablePinning:u,initialState:d,renderToolbarInternalActions:h}}=t;return(0,Pg.jsx)(J8,{sx:{alignItems:"center",gap:"2px",zIndex:3},children:null!==(n=null===h||void 0===h?void 0:h({table:t}))&&void 0!==n?n:(0,Pg.jsxs)(Pg.Fragment,{children:[a&&l&&!(null===d||void 0===d?void 0:d.showGlobalFilter)&&(0,Pg.jsx)(qle,{table:t}),a&&r&&(0,Pg.jsx)(Qle,{table:t}),(c||i||u)&&(0,Pg.jsx)(Wle,{table:t}),o&&(0,Pg.jsx)(Xle,{table:t}),s&&(0,Pg.jsx)(Ule,{table:t})]})})},Zle=e=>{let{table:n}=e;const{getState:r,options:{enableGrouping:i,localization:o},setHoveredColumn:a,setShowToolbarDropZone:s}=n,{draggingColumn:l,hoveredColumn:c,grouping:u,showToolbarDropZone:d}=r(),h=e=>{a({id:"drop-zone"})};return(0,t.useEffect)((()=>{var e;void 0!==(null===(e=n.options.state)||void 0===e?void 0:e.showToolbarDropZone)&&s(!!i&&!!l&&!1!==l.columnDef.enableGrouping&&!u.includes(l.id))}),[i,l,u]),(0,Pg.jsx)(QK,{mounted:d,transition:"fade",children:e=>{var t,n;return(0,Pg.jsx)(J8,{className:"mantine-ToolbarDropZone",sx:e=>({alignItems:"center",backgroundColor:e.fn.rgba(ale(e),"drop-zone"===(null===c||void 0===c?void 0:c.id)?.2:.1),border:`dashed ${ale(e)} 2px`,justifyContent:"center",height:"calc(100%)",position:"absolute",width:"calc(100%)",zIndex:2}),onDragEnter:h,style:e,children:(0,Pg.jsx)(xP,{children:o.dropToGroupBy.replace("{column}",null!==(n=null===(t=null===l||void 0===l?void 0:l.columnDef)||void 0===t?void 0:t.header)&&void 0!==n?n:"")})})}})},Jle=e=>{let{theme:t}=e;return{alignItems:"flex-start",backgroundColor:"dark"===t.colorScheme?t.colors.dark[7]:t.white,backgroundImage:"none",display:"grid",flexWrap:"wrap-reverse",minHeight:"3.5rem",overflow:"visible",padding:"0 !important",transition:"all 100ms ease-in-out",zIndex:3}},$le=e=>{let{table:t}=e;var n;const{getState:r,options:{enableGlobalFilter:i,enablePagination:o,enableToolbarInternalActions:a,mantineTopToolbarProps:s,positionGlobalFilter:l,positionPagination:c,positionToolbarAlertBanner:u,positionToolbarDropZone:d,renderTopToolbarCustomActions:h},refs:{topToolbarRef:f}}=t,{isFullScreen:p,showGlobalFilter:m}=r(),g=WK("(max-width: 720px)"),v=s instanceof Function?s({table:t}):s,y=g||!!h||m;return(0,Pg.jsxs)(hP,Object.assign({},v,{ref:e=>{e&&(f.current=e,(null===v||void 0===v?void 0:v.ref)&&(v.ref.current=e))},sx:e=>Object.assign(Object.assign({position:p?"sticky":"relative",top:p?"0":void 0},Jle({theme:e})),(null===v||void 0===v?void 0:v.sx)instanceof Function?v.sx(e):null===v||void 0===v?void 0:v.sx),children:["top"===u&&(0,Pg.jsx)(Ble,{stackAlertBanner:y,table:t}),["both","top"].includes(null!==d&&void 0!==d?d:"")&&(0,Pg.jsx)(Zle,{table:t}),(0,Pg.jsxs)(J8,{sx:{alignItems:"flex-start",boxSizing:"border-box",justifyContent:"space-between",padding:"8px",position:y?"relative":"absolute",right:0,top:0,width:"100%"},children:[i&&"left"===l&&(0,Pg.jsx)(Lle,{table:t}),null!==(n=null===h||void 0===h?void 0:h({table:t}))&&void 0!==n?n:(0,Pg.jsx)("span",{}),a?(0,Pg.jsxs)(J8,{sx:{flexWrap:"wrap-reverse",justifyContent:"flex-end"},children:[i&&"right"===l&&(0,Pg.jsx)(Lle,{table:t}),(0,Pg.jsx)(Kle,{table:t})]}):i&&"right"===l&&(0,Pg.jsx)(Lle,{table:t})]}),o&&["top","both"].includes(null!==c&&void 0!==c?c:"")&&(0,Pg.jsx)(J8,{justify:"end",children:(0,Pg.jsx)(Nle,{table:t,position:"top"})}),(0,Pg.jsx)(zle,{isTopToolbar:!0,table:t})]}))},ece=e=>{let{table:t}=e;const{getState:n,options:{enablePagination:r,mantineBottomToolbarProps:i,positionPagination:o,positionToolbarAlertBanner:a,positionToolbarDropZone:s,renderBottomToolbarCustomActions:l},refs:{bottomToolbarRef:c}}=t,{isFullScreen:u}=n(),d=WK("(max-width: 720px)"),h=i instanceof Function?i({table:t}):i,f=d||!!l;return(0,Pg.jsxs)(hP,Object.assign({},h,{ref:e=>{e&&(c.current=e,(null===h||void 0===h?void 0:h.ref)&&(h.ref.current=e))},sx:e=>Object.assign(Object.assign(Object.assign({},Jle({theme:e})),{bottom:u?"0":void 0,boxShadow:`0 1px 2px -1px ${e.fn.rgba(e.black,.1)} inset`,left:0,position:u?"fixed":"relative",right:0}),(null===h||void 0===h?void 0:h.sx)instanceof Function?h.sx(e):null===h||void 0===h?void 0:h.sx),children:[(0,Pg.jsx)(zle,{isTopToolbar:!1,table:t}),"bottom"===a&&(0,Pg.jsx)(Ble,{stackAlertBanner:f,table:t}),["both","bottom"].includes(null!==s&&void 0!==s?s:"")&&(0,Pg.jsx)(Zle,{table:t}),(0,Pg.jsxs)(hP,{sx:{alignItems:"center",boxSizing:"border-box",display:"flex",justifyContent:"space-between",padding:"8px",width:"100%"},children:[l?l({table:t}):(0,Pg.jsx)("span",{}),(0,Pg.jsx)(hP,{sx:{display:"flex",justifyContent:"flex-end",position:f?"relative":"absolute",right:0,top:0},children:r&&["bottom","both"].includes(null!==o&&void 0!==o?o:"")&&(0,Pg.jsx)(Nle,{table:t,position:"bottom"})})]})]}))},tce=e=>{let{header:t,table:n}=e;var r,i,o,a,s,l,c,u,d,h;const{getState:f,toggleAllColumnsVisible:p,setColumnOrder:m,options:{enableColumnFilters:g,enableColumnResizing:v,enableGrouping:y,enableHiding:b,enablePinning:x,enableSorting:w,enableSortingRemoval:S,icons:{IconArrowAutofitContent:E,IconBoxMultiple:M,IconClearAll:C,IconColumns:_,IconDotsVertical:T,IconEyeOff:A,IconFilter:P,IconFilterOff:O,IconPinned:D,IconPinnedOff:R,IconSortAscending:k,IconSortDescending:I},localization:L,mantineColumnActionsButtonProps:z,renderColumnActionsMenuItems:F},refs:{filterInputRefs:N},setColumnSizingInfo:B,setShowColumnFilters:U}=n,{column:j}=t,{columnDef:H}=j,{columnSizing:V,columnVisibility:G}=f(),W=z instanceof Function?z({column:j,table:n}):z,Y=H.mantineColumnActionsButtonProps instanceof Function?H.mantineColumnActionsButtonProps({column:j,table:n}):H.mantineColumnActionsButtonProps,X=Object.assign(Object.assign({},W),Y),Q=e=>{j.pin(e)};return(0,Pg.jsxs)(E6,{closeOnItemClick:!0,withinPortal:!0,children:[(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,openDelay:1e3,position:"top",label:null!==(r=null===X||void 0===X?void 0:X.title)&&void 0!==r?r:L.columnActions,children:(0,Pg.jsx)(E6.Target,{children:(0,Pg.jsx)(iq,Object.assign({"aria-label":L.columnActions,size:"sm"},X,{sx:e=>Object.assign({opacity:.5,transition:"opacity 100ms","&:hover":{opacity:1}},(null===X||void 0===X?void 0:X.sx)instanceof Function?X.sx(e):null===X||void 0===X?void 0:X.sx),children:(0,Pg.jsx)(T,{})}))})}),(0,Pg.jsx)(E6.Dropdown,{children:null!==(a=null!==(o=null===(i=H.renderColumnActionsMenuItems)||void 0===i?void 0:i.call(H,{column:j,table:n}))&&void 0!==o?o:null===F||void 0===F?void 0:F({column:j,table:n}))&&void 0!==a?a:(0,Pg.jsxs)(Pg.Fragment,{children:[w&&j.getCanSort()&&(0,Pg.jsxs)(Pg.Fragment,{children:[!1!==S&&(0,Pg.jsx)(E6.Item,{disabled:!j.getIsSorted(),icon:(0,Pg.jsx)(C,{}),onClick:()=>{j.clearSorting()},children:L.clearSort}),(0,Pg.jsx)(E6.Item,{disabled:"asc"===j.getIsSorted(),icon:(0,Pg.jsx)(k,{}),onClick:()=>{j.toggleSorting(!1)},children:null===(s=L.sortByColumnAsc)||void 0===s?void 0:s.replace("{column}",String(H.header))}),(0,Pg.jsx)(E6.Item,{icon:(0,Pg.jsx)(I,{}),disabled:"desc"===j.getIsSorted(),onClick:()=>{j.toggleSorting(!0)},children:null===(l=L.sortByColumnDesc)||void 0===l?void 0:l.replace("{column}",String(H.header))}),(g||y||b)&&(0,Pg.jsx)(E6.Divider,{},3)]}),g&&j.getCanFilter()&&(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(E6.Item,{disabled:!j.getFilterValue(),icon:(0,Pg.jsx)(O,{}),onClick:()=>{j.setFilterValue("")},children:L.clearFilter}),(0,Pg.jsx)(E6.Item,{icon:(0,Pg.jsx)(P,{}),onClick:()=>{U(!0),setTimeout((()=>{var e;return null===(e=N.current[`${j.id}-0`])||void 0===e?void 0:e.focus()}),100)},children:null===(c=L.filterByColumn)||void 0===c?void 0:c.replace("{column}",String(H.header))}),(y||b)&&(0,Pg.jsx)(E6.Divider,{},2)]}),y&&j.getCanGroup()&&(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(E6.Item,{icon:(0,Pg.jsx)(M,{}),onClick:()=>{j.toggleGrouping(),m((e=>["mrt-row-expand",...e]))},children:null===(u=L[j.getIsGrouped()?"ungroupByColumn":"groupByColumn"])||void 0===u?void 0:u.replace("{column}",String(H.header))}),x&&(0,Pg.jsx)(E6.Divider,{})]}),x&&j.getCanPin()&&(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(E6.Item,{disabled:"left"===j.getIsPinned()||!j.getCanPin(),icon:(0,Pg.jsx)(D,{style:{transform:"rotate(90deg)"}}),onClick:()=>Q("left"),children:L.pinToLeft}),(0,Pg.jsx)(E6.Item,{disabled:"right"===j.getIsPinned()||!j.getCanPin(),icon:(0,Pg.jsx)(D,{style:{transform:"rotate(-90deg)"}}),onClick:()=>Q("right"),children:L.pinToRight}),(0,Pg.jsx)(E6.Item,{disabled:!j.getIsPinned(),icon:(0,Pg.jsx)(R,{}),onClick:()=>Q(!1),children:L.unpin}),b&&(0,Pg.jsx)(E6.Divider,{})]}),v&&j.getCanResize()&&(0,Pg.jsx)(E6.Item,{disabled:!V[j.id],icon:(0,Pg.jsx)(E,{}),onClick:()=>{B((e=>Object.assign(Object.assign({},e),{isResizingColumn:!1}))),j.resetSize()},children:L.resetColumnSize},0),b&&(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(E6.Item,{disabled:!j.getCanHide(),icon:(0,Pg.jsx)(A,{}),onClick:()=>{j.toggleVisibility(!1)},children:null===(d=L.hideColumn)||void 0===d?void 0:d.replace("{column}",String(H.header))},0),(0,Pg.jsx)(E6.Item,{disabled:!Object.values(G).filter((e=>!e)).length,icon:(0,Pg.jsx)(_,{}),onClick:()=>{p(!0)},children:null===(h=L.showAllColumns)||void 0===h?void 0:h.replace("{column}",String(H.header))},1)]})]})})]})},nce=e=>{let{header:n,rangeFilterIndex:r,table:i}=e;var o,a,s,l,c,u,d,h;const{options:{columnFilterModeOptions:f,icons:{IconX:p},localization:m,mantineFilterDateInputProps:g,mantineFilterMultiSelectProps:v,mantineFilterSelectProps:y,mantineFilterTextInputProps:b,manualFiltering:x},refs:{filterInputRefs:w},setColumnFilterFns:S}=i,{column:E}=n,{columnDef:M}=E,C=b instanceof Function?b({column:E,table:i,rangeFilterIndex:r}):b,_=M.mantineFilterTextInputProps instanceof Function?M.mantineFilterTextInputProps({column:E,table:i,rangeFilterIndex:r}):M.mantineFilterTextInputProps,T=Object.assign(Object.assign({},C),_),A=y instanceof Function?y({column:E,table:i,rangeFilterIndex:r}):y,P=M.mantineFilterSelectProps instanceof Function?M.mantineFilterSelectProps({column:E,table:i,rangeFilterIndex:r}):M.mantineFilterSelectProps,O=Object.assign(Object.assign({},A),P),D=v instanceof Function?v({column:E,table:i,rangeFilterIndex:r}):v,R=M.mantineFilterMultiSelectProps instanceof Function?M.mantineFilterMultiSelectProps({column:E,table:i,rangeFilterIndex:r}):M.mantineFilterMultiSelectProps,k=Object.assign(Object.assign({},D),R),I=g instanceof Function?g({column:E,table:i,rangeFilterIndex:r}):g,L=M.mantineFilterDateInputProps instanceof Function?M.mantineFilterDateInputProps({column:E,table:i,rangeFilterIndex:r}):M.mantineFilterDateInputProps,z=Object.assign(Object.assign({},I),L),F="range"===M.filterVariant||"date-range"===M.filterVariant||void 0!==r,N="select"===M.filterVariant,B="multi-select"===M.filterVariant,U="date"===M.filterVariant||"date-range"===M.filterVariant,j=null!==(o=null===M||void 0===M?void 0:M.columnFilterModeOptions)&&void 0!==o?o:f,H=M._filterFn,V=["empty","notEmpty"].includes(H)?m[`filter${(null===(s=null===(a=null===H||void 0===H?void 0:H.charAt)||void 0===a?void 0:a.call(H,0))||void 0===s?void 0:s.toUpperCase())+(null===H||void 0===H?void 0:H.slice(1))}`]:"",G=F?0===r?m.min:1===r?m.max:"":null!==(l=null===T||void 0===T?void 0:T.placeholder)&&void 0!==l?l:null===(c=m.filterByColumn)||void 0===c?void 0:c.replace("{column}",String(M.header)),W=(0,t.useRef)(!1),[Y,X]=(0,t.useState)((()=>{var e,t;return B?E.getFilterValue()||[]:F?(null===(e=E.getFilterValue())||void 0===e?void 0:e[r])||"":null!==(t=E.getFilterValue())&&void 0!==t?t:""})),[Q]=are(Y,x?400:200);(0,t.useEffect)((()=>{W.current&&(F?E.setFilterValue((e=>{const t=Array.isArray(e)?e:["",""];return t[r]=Q,t})):E.setFilterValue(null!==Q&&void 0!==Q?Q:void 0))}),[Q]),(0,t.useEffect)((()=>{if(!W.current)return void(W.current=!0);const e=E.getFilterValue();void 0===e?q():X(F&&void 0!==r?(null!==e&&void 0!==e?e:["",""])[r]:null!==e&&void 0!==e?e:"")}),[E.getFilterValue()]);const q=()=>{B?(X([]),E.setFilterValue([])):F?(X(""),E.setFilterValue((e=>{const t=null!==e&&void 0!==e?e:["",""];return t[r]=void 0,t}))):(X(""),E.setFilterValue(void 0))};if(M.Filter)return(0,Pg.jsx)(Pg.Fragment,{children:null===(u=M.Filter)||void 0===u?void 0:u.call(M,{column:E,header:n,rangeFilterIndex:r,table:i})});const K={disabled:!!V,placeholder:G,title:G,onClick:e=>e.stopPropagation(),onChange:X,value:Y,variant:"unstyled",sx:e=>Object.assign({borderBottom:`2px solid ${e.colors.gray["dark"===e.colorScheme?7:3]}`,minWidth:U?"125px":F?"80px":V?"auto":"100px",width:"100%","& .mantine-TextInput-input":{overflow:"hidden",textOverflow:"ellipsis"},"& .mantine-DateInput-input":{height:"2.1rem"}},uR(B?k.sx:N?O.sx:U?z.sx:null===T||void 0===T?void 0:T.sx))};return V?(0,Pg.jsx)(hP,{sx:K.sx,children:(0,Pg.jsxs)(qee,{onClick:()=>{X(""),E.setFilterValue(void 0),S((e=>{var t;return Object.assign(Object.assign({},e),{[n.id]:null!==(t=null===j||void 0===j?void 0:j[0])&&void 0!==t?t:"fuzzy"})}))},sx:{margin:"4px"},children:[V," ",(0,Pg.jsx)(p,{size:"12pt",style:{transform:"translate(6px, 3px)"}})]})}):B?(0,Pg.jsx)(Xte,Object.assign({},K,{data:k.data,searchable:!0,withinPortal:!0},k,{ref:e=>{e&&(w.current[`${E.id}-${null!==r&&void 0!==r?r:0}`]=e,k.ref&&(k.ref.current=e))},sx:K.sx})):N?(0,Pg.jsx)(See,Object.assign({},K,{clearable:!0,data:O.data,searchable:!0,withinPortal:!0},O,{ref:e=>{e&&(w.current[`${E.id}-${null!==r&&void 0!==r?r:0}`]=e,O.ref&&(O.ref.current=e))},sx:K.sx})):U?(0,Pg.jsx)(_se,Object.assign({},K,{allowDeselect:!0,clearable:!0,popoverProps:{withinPortal:!0}},z,{ref:e=>{e&&(w.current[`${E.id}-${null!==r&&void 0!==r?r:0}`]=e,z.ref&&(z.ref.current=e))},sx:K.sx})):(0,Pg.jsx)(DY,Object.assign({},K,{rightSection:!V&&(null===(d=null===Y||void 0===Y?void 0:Y.toString())||void 0===d?void 0:d.length)?(0,Pg.jsx)(iq,{"aria-label":m.clearFilter,onClick:q,size:"sm",sx:{"&:disabled":{backgroundColor:"transparent",border:"none"}},title:null!==(h=m.clearFilter)&&void 0!==h?h:"",children:(0,Pg.jsx)(p,{})}):null,onChange:e=>X(e.target.value)},T,{ref:e=>{e&&(w.current[`${E.id}-${null!==r&&void 0!==r?r:0}`]=e,T.ref&&(T.ref.current=e))},sx:K.sx}))},rce=e=>{let{header:t,table:n}=e;return(0,Pg.jsxs)(hP,{sx:{display:"grid",gridTemplateColumns:"6fr 6fr",gap:"16px"},children:[(0,Pg.jsx)(nce,{header:t,rangeFilterIndex:0,table:n}),(0,Pg.jsx)(nce,{header:t,rangeFilterIndex:1,table:n})]})},ice=e=>{let{column:t,table:n}=e;var r,i,o;const{getState:a,options:{localization:s,mantineFilterCheckboxProps:l}}=n,{density:c}=a(),{columnDef:u}=t,d=l instanceof Function?l({column:t,table:n}):l,h=u.mantineFilterCheckboxProps instanceof Function?u.mantineFilterCheckboxProps({column:t,table:n}):u.mantineFilterCheckboxProps,f=Object.assign(Object.assign({},d),h),p=null===(r=s.filterByColumn)||void 0===r?void 0:r.replace("{column}",u.header);return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,openDelay:1e3,label:null!==(i=null===f||void 0===f?void 0:f.title)&&void 0!==i?i:p,children:(0,Pg.jsx)(H8,Object.assign({checked:"true"===t.getFilterValue(),indeterminate:void 0===t.getFilterValue(),color:void 0===t.getFilterValue()?"default":"primary",size:"xs"===c?"sm":"md",label:null!==(o=f.title)&&void 0!==o?o:p},f,{onClick:e=>{var t;e.stopPropagation(),null===(t=null===f||void 0===f?void 0:f.onClick)||void 0===t||t.call(f,e)},onChange:e=>{var n;t.setFilterValue(void 0===t.getFilterValue()?"true":"true"===t.getFilterValue()?"false":void 0),null===(n=null===f||void 0===f?void 0:f.onChange)||void 0===n||n.call(f,e)},sx:e=>Object.assign({fontWeight:"normal",marginTop:"8px"},(null===f||void 0===f?void 0:f.sx)instanceof Function?f.sx(e):null===f||void 0===f?void 0:f.sx),title:void 0}))})},oce=e=>{let{header:t,table:n}=e;var r,i;const{getState:o,options:{enableColumnFilterModes:a,columnFilterModeOptions:s,icons:{IconFilter:l},localization:c}}=n,{showColumnFilters:u}=o(),{column:d}=t,{columnDef:h}=d,f=h._filterFn,p=null!==(r=null===h||void 0===h?void 0:h.columnFilterModeOptions)&&void 0!==r?r:s,m=a&&!1!==h.enableColumnFilterModes&&(void 0===p||!!(null===p||void 0===p?void 0:p.length));return(0,Pg.jsx)(y9,{in:u,children:(0,Pg.jsxs)(J8,{direction:"column",children:[(0,Pg.jsxs)(J8,{align:"flex-end",children:["checkbox"===h.filterVariant?(0,Pg.jsx)(ice,{column:d,table:n}):"range"===h.filterVariant||"date-range"===h.filterVariant||["between","betweenInclusive","inNumberRange"].includes(h._filterFn)?(0,Pg.jsx)(rce,{header:t,table:n}):(0,Pg.jsx)(nce,{header:t,table:n}),m&&(0,Pg.jsxs)(E6,{withinPortal:!0,children:[(0,Pg.jsx)(_4,{label:c.changeFilterMode,position:"bottom-start",withArrow:!0,withinPortal:!0,children:(0,Pg.jsx)(E6.Target,{children:(0,Pg.jsx)(iq,{"aria-label":c.changeFilterMode,size:"md",sx:{transform:"translateY(-2px)"},children:(0,Pg.jsx)(l,{})})})}),(0,Pg.jsx)(Ile,{header:t,table:n})]})]}),m?(0,Pg.jsx)(xP,{component:"label",color:"dimmed",sx:{whiteSpace:"nowrap",marginTop:"4px",fontSize:"10px"},children:c.filterMode.replace("{filterType}",c[`filter${(null===(i=null===f||void 0===f?void 0:f.charAt(0))||void 0===i?void 0:i.toUpperCase())+(null===f||void 0===f?void 0:f.slice(1))}`])}):null]})})},ace=e=>{let{header:t,table:n}=e;var r,i,o;const{options:{icons:{IconFilter:a},localization:s},refs:{filterInputRefs:l},setShowColumnFilters:c}=n,{column:u}=t,{columnDef:d}=u,h="range"===d.filterVariant||["between","betweenInclusive","inNumberRange"].includes(d._filterFn),f=d._filterFn,p=s.filteringByColumn.replace("{column}",String(d.header)).replace("{filterType}",s[`filter${(null===(r=null===f||void 0===f?void 0:f.charAt(0))||void 0===r?void 0:r.toUpperCase())+(null===f||void 0===f?void 0:f.slice(1))}`]).replace("{filterValue}",`"${Array.isArray(u.getFilterValue())?u.getFilterValue().join(`" ${h?s.and:s.or} "`):u.getFilterValue()}"`).replace('" "',"");return(0,Pg.jsx)(QK,{transition:"scale",mounted:!!u.getFilterValue()&&!h||h&&(!!(null===(i=u.getFilterValue())||void 0===i?void 0:i[0])||!!(null===(o=u.getFilterValue())||void 0===o?void 0:o[1])),children:e=>(0,Pg.jsx)(hP,{component:"span",sx:{flex:"0 0"},style:e,children:(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,position:"top",label:p,children:(0,Pg.jsx)(iq,{onClick:e=>{c(!0),setTimeout((()=>{var e,t;null===(e=l.current[`${u.id}-0`])||void 0===e||e.focus(),null===(t=l.current[`${u.id}-0`])||void 0===t||t.select()}),100),e.stopPropagation()},size:"sm",sx:{opacity:.5,padding:"2px","&:hover":{opacity:1}},children:(0,Pg.jsx)(a,{})})})})})},sce=e=>{let{column:t,table:n,tableHeadCellRef:r}=e;const{getState:i,options:{enableColumnOrdering:o,mantineColumnDragHandleProps:a},setColumnOrder:s,setDraggingColumn:l,setHoveredColumn:c}=n,{columnDef:u}=t,{hoveredColumn:d,draggingColumn:h,columnOrder:f}=i(),p=a instanceof Function?a({column:t,table:n}):a,m=u.mantineColumnDragHandleProps instanceof Function?u.mantineColumnDragHandleProps({column:t,table:n}):u.mantineColumnDragHandleProps,g=Object.assign(Object.assign({},p),m);return(0,Pg.jsx)(Hle,{actionIconProps:g,onDragStart:e=>{var n;null===(n=null===g||void 0===g?void 0:g.onDragStart)||void 0===n||n.call(g,e),l(t),e.dataTransfer.setDragImage(r.current,0,0)},onDragEnd:e=>{var n;null===(n=null===g||void 0===g?void 0:g.onDragEnd)||void 0===n||n.call(g,e),"drop-zone"===(null===d||void 0===d?void 0:d.id)?t.toggleGrouping():o&&d&&(null===d||void 0===d?void 0:d.id)!==(null===h||void 0===h?void 0:h.id)&&s(Zse(t,d,f)),l(null),c(null)},table:n})},lce=e=>{let{header:t,table:n}=e;var r;const{getState:i,options:{columnResizeMode:o},setColumnSizingInfo:a}=n,{density:s}=i(),{column:l}=t;return(0,Pg.jsx)(hP,{onDoubleClick:()=>{a((e=>Object.assign(Object.assign({},e),{isResizingColumn:!1}))),l.resetSize()},onMouseDown:t.getResizeHandler(),onTouchStart:t.getResizeHandler(),sx:e=>({cursor:"col-resize",marginRight:"xl"===s?"-24px":"md"===s?"-20px":"-14px",position:"absolute",right:"4px",paddingLeft:"1px",paddingRight:"1px","&:active > .mantine-Divider-vertical":{borderLeftColor:ale(e)}}),style:{transform:l.getIsResizing()&&"onEnd"===o?`translateX(${null!==(r=i().columnSizingInfo.deltaOffset)&&void 0!==r?r:0}px)`:void 0},children:(0,Pg.jsx)(j7,{orientation:"vertical",size:"lg",sx:{borderRadius:"2px",borderWidth:"4px",height:"24px",touchAction:"none",transition:l.getIsResizing()?void 0:"all 100ms ease-in-out",userSelect:"none",zIndex:4}})})},cce=e=>{let{header:t,table:n}=e;const{getState:r,options:{icons:{IconSortDescending:i,IconSortAscending:o,IconArrowsSort:a},localization:s}}=n,{column:l}=t,{columnDef:c}=l,{sorting:u}=r(),d=l.getIsSorted()?"desc"===l.getIsSorted()?s.sortedByColumnDesc.replace("{column}",c.header):s.sortedByColumnAsc.replace("{column}",c.header):s.unsorted,h=u.length>=2&&-1!==l.getSortIndex();return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,position:"top",label:d,children:(0,Pg.jsx)(fne,{color:"transparent",disabled:!h,inline:!0,label:l.getSortIndex()+1,offset:3,children:(0,Pg.jsx)(iq,{"aria-label":d,size:"xs",sx:{opacity:l.getIsSorted()?1:.5,transform:h?"translate(-2px, 2px) scale(0.9)":void 0,transition:"opacity 100ms ease-in-out","&:hover":{opacity:1}},children:"desc"===l.getIsSorted()?(0,Pg.jsx)(i,{}):"asc"===l.getIsSorted()?(0,Pg.jsx)(o,{}):(0,Pg.jsx)(a,{})})})})},uce=e=>{let{header:n,table:r}=e;var i,o,a,s;const l=HT(),{getState:c,options:{enableColumnActions:u,enableColumnDragging:d,enableColumnOrdering:h,enableGrouping:f,enableMultiSort:p,layoutMode:m,mantineTableHeadCellProps:g},refs:{tableHeadCellRefs:v},setHoveredColumn:y}=r,{density:b,draggingColumn:x,grouping:w,hoveredColumn:S}=c(),{column:E}=n,{columnDef:M}=E,{columnDefType:C}=M,_=g instanceof Function?g({column:E,table:r}):g,T=M.mantineTableHeadCellProps instanceof Function?M.mantineTableHeadCellProps({column:E,table:r}):M.mantineTableHeadCellProps,A=Object.assign(Object.assign({},_),T),P=(u||M.enableColumnActions)&&!1!==M.enableColumnActions,O=!1!==d&&!1!==M.enableColumnDragging&&(d||h&&!1!==M.enableColumnOrdering||f&&!1!==M.enableGrouping&&!w.includes(E.id)),D=(0,t.useMemo)((()=>{let e=0;return E.getCanSort()&&e++,P&&(e+=1.75),O&&(e+=1.25),e}),[P,O]),R=(0,t.useMemo)((()=>(null===x||void 0===x?void 0:x.id)===E.id?`1px dashed ${l.colors.gray[7]} !important`:(null===S||void 0===S?void 0:S.id)===E.id?`2px dashed ${ale(l)} !important`:void 0),[x,S]),k=R?{borderLeft:R,borderRight:R,borderTop:R}:void 0,I=(null===M||void 0===M?void 0:M.Header)instanceof Function?null===(i=null===M||void 0===M?void 0:M.Header)||void 0===i?void 0:i.call(M,{column:E,header:n,table:r}):null!==(o=null===M||void 0===M?void 0:M.Header)&&void 0!==o?o:M.header;return(0,Pg.jsxs)(hP,Object.assign({component:"th",align:"group"===C?"center":"left",colSpan:n.colSpan,onDragEnter:e=>{f&&"drop-zone"===(null===S||void 0===S?void 0:S.id)&&y(null),h&&x&&"group"!==C&&y(!1!==M.enableColumnOrdering?E:null)},ref:e=>{e&&(v.current[E.id]=e)}},A,{sx:e=>Object.assign(Object.assign({flexDirection:"grid"===m?"column":void 0,fontWeight:"bold",overflow:"visible",padding:"xl"===b?"23px":"md"===b?"16px":"10px",userSelect:p&&E.getCanSort()?"none":void 0,verticalAlign:"top",zIndex:E.getIsResizing()||(null===x||void 0===x?void 0:x.id)===E.id?3:E.getIsPinned()&&"group"!==C?2:1,"&:hover .mantine-ActionIcon-root":{opacity:1}},rle({column:E,header:n,table:r,tableCellProps:A,theme:e})),k),children:[n.isPlaceholder?null:(0,Pg.jsxs)(J8,{className:"mantine-TableHeadCell-Content",sx:{alignItems:"flex-start",flexDirection:"right"===(null===A||void 0===A?void 0:A.align)?"row-reverse":"row",justifyContent:"group"===C||"center"===(null===A||void 0===A?void 0:A.align)?"center":E.getCanResize()?"space-between":"flex-start",position:"relative",width:"100%"},children:[(0,Pg.jsxs)(J8,{className:"mantine-TableHeadCell-Content-Labels",onClick:E.getToggleSortingHandler(),sx:{alignItems:"center",cursor:E.getCanSort()&&"group"!==C?"pointer":void 0,flexDirection:"right"===(null===A||void 0===A?void 0:A.align)?"row-reverse":"row",overflow:"data"===C?"hidden":void 0,paddingLeft:"center"===(null===A||void 0===A?void 0:A.align)?`${D}rem`:void 0},children:[(0,Pg.jsx)(J8,{className:"mantine-TableHeadCell-Content-Wrapper",sx:{overflow:"data"===C?"hidden":void 0,textOverflow:"ellipsis",whiteSpace:(null!==(s=null===(a=M.header)||void 0===a?void 0:a.length)&&void 0!==s?s:0)<20?"nowrap":"normal"},title:"data"===C?M.header:void 0,children:I}),E.getCanSort()&&(0,Pg.jsx)(cce,{header:n,table:r}),E.getCanFilter()&&(0,Pg.jsx)(ace,{header:n,table:r})]}),"group"!==C&&(0,Pg.jsxs)(J8,{className:"mantine-TableHeadCell-Content-Actions",sx:{alignItems:"center",alignSelf:"center",whiteSpace:"nowrap"},children:[O&&(0,Pg.jsx)(sce,{column:E,table:r,tableHeadCellRef:{current:v.current[E.id]}}),P&&(0,Pg.jsx)(tce,{header:n,table:r})]}),E.getCanResize()&&(0,Pg.jsx)(lce,{header:n,table:r})]}),E.getCanFilter()&&(0,Pg.jsx)(oce,{header:n,table:r})]}))},dce=e=>{let{headerGroup:t,table:n,virtualColumns:r,virtualPaddingLeft:i,virtualPaddingRight:o}=e;const{getState:a,options:{enableStickyHeader:s,layoutMode:l,mantineTableHeadRowProps:c}}=n,{isFullScreen:u}=a(),d=c instanceof Function?c({headerGroup:t,table:n}):c,h=s||u;return(0,Pg.jsxs)(hP,Object.assign({component:"tr"},d,{sx:e=>Object.assign(Object.assign({backgroundColor:"dark"===e.colorScheme?e.colors.dark[7]:e.white,boxShadow:`4px 0 8px ${e.fn.rgba(e.black,.1)}`,display:"grid"===l?"flex":"table-row",top:h?0:void 0},(null===d||void 0===d?void 0:d.sx)instanceof Function?null===d||void 0===d?void 0:d.sx(e):null===d||void 0===d?void 0:d.sx),{position:h?"sticky":void 0}),children:[i?(0,Pg.jsx)("th",{style:{display:"flex",width:i}}):null,(null!==r&&void 0!==r?r:t.headers).map((e=>{const i=r?t.headers[e.index]:e;return(0,Pg.jsx)(uce,{header:i,table:n},i.id)})),o?(0,Pg.jsx)("th",{style:{display:"flex",width:o}}):null]}))},hce=e=>{let{table:t,virtualColumns:n,virtualPaddingLeft:r,virtualPaddingRight:i}=e;const{getHeaderGroups:o,getState:a,options:{enableStickyHeader:s,layoutMode:l,mantineTableHeadProps:c}}=t,{isFullScreen:u}=a(),d=c instanceof Function?c({table:t}):c,h=s||u;return(0,Pg.jsx)(hP,Object.assign({component:"thead"},d,{sx:e=>Object.assign({display:"grid"===l?"grid":"table-row-group",position:h&&"grid"===l?"sticky":"relative",opacity:.97,top:h?0:void 0,zIndex:h?2:void 0},(null===d||void 0===d?void 0:d.sx)instanceof Function?null===d||void 0===d?void 0:d.sx(e):null===d||void 0===d?void 0:d.sx),children:o().map((e=>(0,Pg.jsx)(dce,{headerGroup:e,table:t,virtualColumns:n,virtualPaddingLeft:r,virtualPaddingRight:i},e.id)))}))},fce=e=>{let{cell:n,table:r}=e;var i;const{getState:o,options:{editingMode:a,mantineEditTextInputProps:s,mantineEditSelectProps:l},refs:{editInputRefs:c},setEditingCell:u,setEditingRow:d}=r,{column:h,row:f}=n,{columnDef:p}=h,{editingRow:m}=o(),g="select"===p.editVariant,[v,y]=(0,t.useState)((()=>n.getValue())),b=s instanceof Function?s({cell:n,column:h,row:f,table:r}):s,x=p.mantineEditTextInputProps instanceof Function?p.mantineEditTextInputProps({cell:n,column:h,row:f,table:r}):p.mantineEditTextInputProps,w=Object.assign(Object.assign({},b),x),S=l instanceof Function?l({cell:n,column:h,row:f,table:r}):l,E=p.mantineEditSelectProps instanceof Function?p.mantineEditSelectProps({cell:n,column:h,row:f,table:r}):p.mantineEditSelectProps,M=Object.assign(Object.assign({},S),E),C=e=>{var t,n;null===(t=w.onBlur)||void 0===t||t.call(w,e),n=v,m&&d(Object.assign(Object.assign({},m),{_valuesCache:Object.assign(Object.assign({},m._valuesCache),{[h.id]:n})})),u(null)};if(p.Edit)return(0,Pg.jsx)(Pg.Fragment,{children:null===(i=p.Edit)||void 0===i?void 0:i.call(p,{cell:n,column:h,row:f,table:r})});const _={disabled:!1===(p.enableEditing instanceof Function?p.enableEditing(f):p.enableEditing),label:"modal"===a?h.columnDef.header:void 0,name:h.id,placeholder:p.header,value:v,variant:"table"===a?"unstyled":"default",onClick:e=>{var t;e.stopPropagation(),null===(t=null===w||void 0===w?void 0:w.onClick)||void 0===t||t.call(w,e)}};return g?(0,Pg.jsx)(See,Object.assign({},_,{searchable:!0,value:v,withinPortal:!0},M,{onBlur:C,onChange:e=>{var t;null===(t=M.onChange)||void 0===t||t.call(M,e),y(e)},onClick:e=>{var t;e.stopPropagation(),null===(t=null===M||void 0===M?void 0:M.onClick)||void 0===t||t.call(M,e)},ref:e=>{e&&(c.current[h.id]=e,M.ref&&(M.ref.current=e))}})):(0,Pg.jsx)(DY,Object.assign({},_,{onKeyDown:e=>{var t;"Enter"===e.key&&(null===(t=c.current[h.id])||void 0===t||t.blur())},value:null!==v&&void 0!==v?v:""},w,{onBlur:C,onChange:e=>{var t;null===(t=w.onChange)||void 0===t||t.call(w,e),y(e.target.value)},onClick:e=>{var t;e.stopPropagation(),null===(t=null===w||void 0===w?void 0:w.onClick)||void 0===t||t.call(w,e)},ref:e=>{e&&(c.current[h.id]=e,w.ref&&(w.ref.current=e))}}))},pce=e=>{let{cell:t,children:n,table:r}=e;const{options:{localization:i,mantineCopyButtonProps:o}}=r,{column:a,row:s}=t,{columnDef:l}=a,c=o instanceof Function?o({cell:t,column:a,row:s,table:r}):o,u=l.mantineCopyButtonProps instanceof Function?l.mantineCopyButtonProps({cell:t,column:a,row:s,table:r}):l.mantineCopyButtonProps,d=Object.assign(Object.assign({},c),u);return(0,Pg.jsx)(wne,{value:t.getValue(),children:e=>{let{copied:t,copy:r}=e;var o;return(0,Pg.jsx)(_4,{withinPortal:!0,withArrow:!0,openDelay:1e3,position:"top",label:null!==(o=null===d||void 0===d?void 0:d.title)&&void 0!==o?o:t?i.copiedToClipboard:i.clickToCopy,children:(0,Pg.jsx)(eI,Object.assign({},d,{onClick:e=>{e.stopPropagation(),r()},sx:e=>Object.assign({backgroundColor:"transparent",border:"none",borderRadius:"4px",color:"inherit",cursor:"copy",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",justifyContent:"inherit",letterSpacing:"inherit",margin:"-4px",minWidth:"unset",padding:"4px",textAlign:"inherit",textTransform:"inherit","&:active":{transform:"translateY(1px)"},"&:hover":{backgroundColor:e.fn.rgba(ale(e),.1)}},(null===d||void 0===d?void 0:d.sx)instanceof Function?d.sx(e):null===d||void 0===d?void 0:d.sx),title:void 0,children:n}))})}})},mce=e=>{let{cell:t,rowRef:n,table:r}=e;const{options:{mantineRowDragHandleProps:i}}=r,{row:o}=t,a=i instanceof Function?i({row:o,table:r}):i;return(0,Pg.jsx)(Hle,{actionIconProps:a,onDragStart:e=>{var t;null===(t=null===a||void 0===a?void 0:a.onDragStart)||void 0===t||t.call(a,e),e.dataTransfer.setDragImage(n.current,0,0),r.setDraggingRow(o)},onDragEnd:e=>{var t;null===(t=null===a||void 0===a?void 0:a.onDragEnd)||void 0===t||t.call(a,e),r.setDraggingRow(null),r.setHoveredRow(null)},table:r})},gce=["string","number"],vce=e=>{let{cell:t,table:n}=e;var r,i,o,a;const{getState:s,options:{enableFilterMatchHighlighting:l}}=n,{column:c,row:u}=t,{columnDef:d}=c,{globalFilter:h,globalFilterFn:f}=s(),p=c.getFilterValue();let m=t.getIsAggregated()&&d.AggregatedCell?d.AggregatedCell({cell:t,column:c,row:u,table:n}):u.getIsGrouped()&&!t.getIsGrouped()?null:t.getIsGrouped()&&d.GroupedCell?d.GroupedCell({cell:t,column:c,row:u,table:n}):void 0;const g=void 0!==m;if(g||(m=t.renderValue()),l&&!1!==d.enableFilterMatchHighlighting&&m&&gce.includes(typeof m)&&(p&&gce.includes(typeof p)&&"text"===d.filterVariant||h&&gce.includes(typeof h)&&c.getCanGlobalFilter())){const e=null===Wse||void 0===Wse?void 0:Wse({text:null===m||void 0===m?void 0:m.toString(),query:(null!==(i=null!==(r=c.getFilterValue())&&void 0!==r?r:h)&&void 0!==i?i:"").toString(),matchExactly:"fuzzy"!==(p?d._filterFn:f)});((null===e||void 0===e?void 0:e.length)>1||(null===(o=null===e||void 0===e?void 0:e[0])||void 0===o?void 0:o.match))&&(m=(0,Pg.jsx)("span",{"aria-label":m,role:"note",children:null!==(a=null===e||void 0===e?void 0:e.map((e=>{let{key:t,match:n,text:r}=e;return(0,Pg.jsx)(hP,{"aria-hidden":"true",component:"span",sx:n?e=>({backgroundColor:e.colors.yellow["dark"===e.colorScheme?9:5],borderRadius:"2px",color:"dark"===e.colorScheme?e.white:e.black,p:"2px 1px"}):void 0,children:r},t)})))&&void 0!==a?a:m}))}return d.Cell&&!g&&(m=d.Cell({cell:t,renderedCellValue:m,column:c,row:u,table:n})),(0,Pg.jsx)(Pg.Fragment,{children:m})},yce=e=>{let{cell:n,isStriped:r,measureElement:i,numRows:o,rowIndex:a,rowRef:s,table:l,virtualCell:c}=e;var u,d,h,f;const p=HT(),{getState:m,options:{editingMode:g,enableClickToCopy:v,enableColumnOrdering:y,enableEditing:b,enableGrouping:x,enableRowNumbers:w,layoutMode:S,mantineTableBodyCellProps:E,mantineSkeletonProps:M,rowNumberMode:C},refs:{editInputRefs:_},setEditingCell:T,setHoveredColumn:A}=l,{draggingColumn:P,draggingRow:O,hoveredRow:D,editingCell:R,editingRow:k,hoveredColumn:I,density:L,isLoading:z,showSkeletons:F}=m(),{column:N,row:B}=n,{columnDef:U}=N,{columnDefType:j}=U,H=E instanceof Function?E({cell:n,column:N,row:B,table:l}):E,V=U.mantineTableBodyCellProps instanceof Function?U.mantineTableBodyCellProps({cell:n,column:N,row:B,table:l}):U.mantineTableBodyCellProps,G=Object.assign(Object.assign({},H),V),W=M instanceof Function?M({cell:n,column:N,row:B,table:l}):M,[Y,X]=(0,t.useState)(0);(0,t.useEffect)((()=>X(z||F?"display"===j?N.getSize()/2:Math.round(Math.random()*(N.getSize()-N.getSize()/3)+N.getSize()/3):100)),[]);const Q=(0,t.useMemo)((()=>{const e=(null===P||void 0===P?void 0:P.id)===N.id,t=(null===I||void 0===I?void 0:I.id)===N.id,n=(null===O||void 0===O?void 0:O.id)===B.id,r=(null===D||void 0===D?void 0:D.id)===B.id,i=((e,t)=>t.getVisibleLeafColumns()[0].id===e.id)(N,l),s=((e,t)=>{const n=t.getVisibleLeafColumns();return n[n.length-1].id===e.id})(N,l),c=a===o-1,u=e||n?`1px dashed ${p.colors.gray[7]} !important`:t||r?`2px dashed ${ale(p)} !important`:void 0;return u?{borderLeft:e||t||(n||r)&&i?u:void 0,borderRight:e||t||(n||r)&&s?u:void 0,borderBottom:n||r||c?u:void 0,borderTop:n||r?u:void 0}:void 0}),[P,O,I,D,a]),q=(b instanceof Function?b(B):b)&&!1!==(U.enableEditing instanceof Function?U.enableEditing(B):U.enableEditing),K=q&&"modal"!==g&&("table"===g||(null===k||void 0===k?void 0:k.id)===B.id||(null===R||void 0===R?void 0:R.id)===n.id)&&!B.getIsGrouped();return(0,Pg.jsxs)(hP,Object.assign({component:"td","data-index":null===c||void 0===c?void 0:c.index,ref:e=>{e&&(null===i||void 0===i||i(e))}},G,{onDragEnter:e=>{var t;null===(t=null===G||void 0===G?void 0:G.onDragEnter)||void 0===t||t.call(G,e),x&&"drop-zone"===(null===I||void 0===I?void 0:I.id)&&A(null),y&&P&&A(!1!==U.enableColumnOrdering?N:null)},onDoubleClick:e=>{var t;null===(t=null===G||void 0===G?void 0:G.onDoubleClick)||void 0===t||t.call(G,e),q&&"cell"===g&&(T(n),setTimeout((()=>{var e;const t=_.current[N.id];t&&(t.focus(),null===(e=t.select)||void 0===e||e.call(t))}),100))},sx:e=>Object.assign(Object.assign({alignItems:"grid"===S?"center":void 0,cursor:q&&"cell"===g?"pointer":"inherit",justifyContent:"grid"===S?G.align:void 0,overflow:"hidden",paddingLeft:"mrt-row-expand"===N.id?`${B.depth+1}rem !important`:void 0,textOverflow:"display"!==j?"ellipsis":void 0,whiteSpace:"xs"===L?"nowrap":"normal",zIndex:(null===P||void 0===P?void 0:P.id)===N.id?2:N.getIsPinned()?1:0,"&:hover":{outline:["table","cell"].includes(null!==g&&void 0!==g?g:"")&&"display"!==j?`1px solid ${e.colors.gray[7]}`:void 0,outlineOffset:"-1px",textOverflow:"clip"}},rle({column:N,isStriped:r,row:B,table:l,theme:e,tableCellProps:G})),Q),children:[(0,Pg.jsx)(Pg.Fragment,{children:n.getIsPlaceholder()?null!==(d=null===(u=U.PlaceholderCell)||void 0===u?void 0:u.call(U,{cell:n,column:N,row:B,table:l}))&&void 0!==d?d:null:z||F?(0,Pg.jsx)(Une,Object.assign({height:20,width:Y},W)):w&&"static"===C&&"mrt-row-numbers"===N.id?a+1:"mrt-row-drag"===N.id?(0,Pg.jsx)(mce,{cell:n,rowRef:s,table:l}):"display"!==j||"mrt-row-select"!==N.id&&"mrt-row-expand"!==N.id&&B.getIsGrouped()?K?(0,Pg.jsx)(fce,{cell:n,table:l}):(v||U.enableClickToCopy)&&!1!==U.enableClickToCopy?(0,Pg.jsx)(pce,{cell:n,table:l,children:(0,Pg.jsx)(vce,{cell:n,table:l})}):(0,Pg.jsx)(vce,{cell:n,table:l}):null===(h=U.Cell)||void 0===h?void 0:h.call(U,{cell:n,column:N,row:B,renderedCellValue:n.getValue(),table:l})}),n.getIsGrouped()&&!U.GroupedCell&&(0,Pg.jsxs)(Pg.Fragment,{children:[" (",null===(f=B.subRows)||void 0===f?void 0:f.length,")"]})]}))},bce=(0,t.memo)(yce,((e,t)=>t.cell===e.cell)),xce=e=>{let{parentRowRef:t,row:n,rowIndex:r,table:i,virtualRow:o}=e;const{getVisibleLeafColumns:a,getState:s,options:{layoutMode:l,mantineTableBodyRowProps:c,mantineDetailPanelProps:u,renderDetailPanel:d}}=i,{isLoading:h}=s(),f=c instanceof Function?c({isDetailPanel:!0,row:n,staticRowIndex:r,table:i}):c,p=u instanceof Function?u({row:n,table:i}):u;return(0,Pg.jsx)(hP,Object.assign({component:"tr",className:"mantine-TableBodyCell-DetailPanel"},f,{sx:e=>{var n,r;return Object.assign({display:"grid"===l?"flex":"table-row",position:o?"absolute":void 0,top:o?`${null===(r=null===(n=t.current)||void 0===n?void 0:n.getBoundingClientRect())||void 0===r?void 0:r.height}px`:void 0,transform:o?`translateY(${null===o||void 0===o?void 0:o.start}px)`:void 0,width:"100%",zIndex:o?2:void 0},(null===f||void 0===f?void 0:f.sx)instanceof Function?f.sx(e):null===f||void 0===f?void 0:f.sx)},children:(0,Pg.jsx)(hP,Object.assign({component:"td",className:"mantine-TableBodyCell-DetailPanel",colSpan:a().length},p,{sx:e=>Object.assign({backgroundColor:o?e.fn.lighten(e.colors.dark[7],.06):void 0,borderBottom:n.getIsExpanded()?void 0:"none",display:"grid"===l?"flex":"table-cell",paddingBottom:n.getIsExpanded()?"16px !important":"0 !important",paddingTop:n.getIsExpanded()?"16px !important":"0 !important",transition:"all 100ms ease-in-out",width:`${i.getTotalSize()}px`},(null===p||void 0===p?void 0:p.sx)instanceof Function?p.sx(e):null===p||void 0===p?void 0:p.sx),children:d&&(0,Pg.jsx)(y9,{in:n.getIsExpanded(),children:!h&&d({row:n,table:i})})}))}))},wce=e=>{let{columnVirtualizer:n,enableHover:r,isStriped:i,measureElement:o,numRows:a,row:s,rowIndex:l,table:c,virtualColumns:u,virtualPaddingLeft:d,virtualPaddingRight:h,virtualRow:f}=e;const{getState:p,options:{enableRowOrdering:m,layoutMode:g,memoMode:v,mantineTableBodyRowProps:y,renderDetailPanel:b},setHoveredRow:x}=c,{draggingColumn:w,draggingRow:S,editingCell:E,editingRow:M,hoveredRow:C}=p(),_=y instanceof Function?y({row:s,staticRowIndex:l,table:c}):y,T=(0,t.useRef)(null);return(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsxs)(hP,Object.assign({component:"tr","data-index":null===f||void 0===f?void 0:f.index,onDragEnter:e=>{m&&S&&x(s)},ref:e=>{e&&(T.current=e,null===o||void 0===o||o(e))}},_,{sx:e=>Object.assign({boxSizing:"border-box",display:"grid"===g?"flex":"table-row",opacity:(null===S||void 0===S?void 0:S.id)===s.id||(null===C||void 0===C?void 0:C.id)===s.id?.5:1,position:f?"absolute":void 0,top:f?0:void 0,transition:f?"none":"all 100ms ease-in-out",width:"100%","&:hover td":{backgroundColor:!1!==r?s.getIsSelected()?e.fn.rgba(ale(e),.2):"dark"===e.colorScheme?`${e.fn.lighten(e.colors.dark[7],.12)}`:`${e.fn.darken(e.white,.05)}`:void 0}},(null===_||void 0===_?void 0:_.sx)instanceof Function?_.sx(e):null===_||void 0===_?void 0:_.sx),style:Object.assign({transform:f?`translateY(${null===f||void 0===f?void 0:f.start}px)`:void 0},null===_||void 0===_?void 0:_.style),children:[d?(0,Pg.jsx)("td",{style:{display:"flex",width:d}}):null,(null!==u&&void 0!==u?u:s.getVisibleCells()).map((e=>{const t=n?s.getVisibleCells()[e.index]:e,r={cell:t,isStriped:i,measureElement:null===n||void 0===n?void 0:n.measureElement,numRows:a,rowIndex:l,rowRef:T,table:c,virtualCell:n?e:void 0};return"cells"!==v||"data"!==t.column.columnDef.columnDefType||w||S||(null===E||void 0===E?void 0:E.id)===t.id||(null===M||void 0===M?void 0:M.id)===s.id?(0,Pg.jsx)(yce,Object.assign({},r),t.id):(0,Pg.jsx)(bce,Object.assign({},r),t.id)})),h?(0,Pg.jsx)("td",{style:{display:"flex",width:h}}):null]})),b&&!s.getIsGrouped()&&(0,Pg.jsx)(xce,{parentRowRef:T,row:s,rowIndex:l,table:c,virtualRow:f})]})},Sce=(0,t.memo)(wce,((e,t)=>e.row===t.row&&e.rowIndex===t.rowIndex)),Ece=e=>{let{columnVirtualizer:n,enableHover:r,isStriped:i,table:o,virtualColumns:a,virtualPaddingLeft:s,virtualPaddingRight:l}=e;var c,u,d;const{getRowModel:h,getPrePaginationRowModel:f,getState:p,options:{enableGlobalFilterRankedResults:m,enablePagination:g,enableRowVirtualization:v,layoutMode:y,localization:b,mantineTableBodyProps:x,manualExpanding:w,manualFiltering:S,manualGrouping:E,manualPagination:M,manualSorting:C,memoMode:_,renderEmptyRowsFallback:T,rowVirtualizerInstanceRef:A,rowVirtualizerProps:P},refs:{tableContainerRef:O,tablePaperRef:D}}=o,{columnFilters:R,density:k,expanded:I,globalFilter:L,globalFilterFn:z,pagination:F,sorting:N}=p(),B=x instanceof Function?x({table:o}):x,U=P instanceof Function?P({table:o}):P,j=(0,t.useMemo)((()=>!w&&!S&&!E&&!C&&m&&L&&"fuzzy"===z&&!0!==I&&!Object.values(N).some(Boolean)&&!Object.values(I).some(Boolean)),[m,I,L,w,S,E,C,N]),H=(0,t.useMemo)((()=>{if(!j)return h().rows;const e=f().rows.sort(((e,t)=>{return n=e,r=t,Math.max(...Object.values(r.columnFiltersMeta).map((e=>e.rank)))-Math.max(...Object.values(n.columnFiltersMeta).map((e=>e.rank)));var n,r}));if(g&&!M){const t=F.pageIndex*F.pageSize;return e.slice(t,t+F.pageSize)}return e}),[j,j?f().rows:h().rows,F.pageIndex,F.pageSize]),V=v?wre(Object.assign({count:H.length,estimateSize:()=>"xs"===k?42.7:"md"===k?54.7:70.7,getScrollElement:()=>O.current,measureElement:"undefined"!==typeof window&&-1===navigator.userAgent.indexOf("Firefox")?e=>null===e||void 0===e?void 0:e.getBoundingClientRect().height:void 0,overscan:4},U)):void 0;A&&V&&(A.current=V);const G=V?V.getVirtualItems():void 0;return(0,Pg.jsx)(hP,Object.assign({component:"tbody"},B,{sx:e=>Object.assign({display:"grid"===y?"grid":"table-row-group",height:V?`${V.getTotalSize()}px`:"inherit",minHeight:H.length?void 0:"100px",position:"relative"},(null===B||void 0===B?void 0:B.sx)instanceof Function?null===B||void 0===B?void 0:B.sx(e):null===B||void 0===B?void 0:B.sx),children:H.length?(0,Pg.jsx)(Pg.Fragment,{children:(null!==G&&void 0!==G?G:H).map(((e,t)=>{const c=V?H[e.index]:e,u={columnVirtualizer:n,enableHover:r,isStriped:i,measureElement:null===V||void 0===V?void 0:V.measureElement,numRows:H.length,row:c,rowIndex:V?e.index:t,table:o,virtualColumns:a,virtualPaddingLeft:s,virtualPaddingRight:l,virtualRow:V?e:void 0};return"rows"===_?(0,Pg.jsx)(Sce,Object.assign({},u),c.id):(0,Pg.jsx)(wce,Object.assign({},u),c.id)}))}):(0,Pg.jsx)("tr",{style:{display:"grid"===y?"grid":"table-row"},children:(0,Pg.jsx)("td",{colSpan:o.getVisibleLeafColumns().length,style:{display:"grid"===y?"grid":"table-cell"},children:null!==(c=null===T||void 0===T?void 0:T({table:o}))&&void 0!==c?c:(0,Pg.jsx)(xP,{sx:{color:"gray",fontStyle:"italic",maxWidth:`min(100vw, ${null!==(d=null===(u=D.current)||void 0===u?void 0:u.clientWidth)&&void 0!==d?d:360}px)`,paddingTop:"2rem",paddingBottom:"2rem",textAlign:"center",width:"100%"},children:L||R.length?b.noResultsFound:b.noRecordsToDisplay})})})}))},Mce=(0,t.memo)(Ece,((e,t)=>e.table.options.data===t.table.options.data)),Cce=e=>{let{footer:t,table:n}=e;var r,i,o;const{options:{layoutMode:a,mantineTableFooterCellProps:s}}=n,{column:l}=t,{columnDef:c}=l,{columnDefType:u}=c,d=s instanceof Function?s({column:l,table:n}):s,h=c.mantineTableFooterCellProps instanceof Function?c.mantineTableFooterCellProps({column:l,table:n}):c.mantineTableFooterCellProps,f=Object.assign(Object.assign({},d),h);return(0,Pg.jsx)(hP,Object.assign({component:"th",align:"group"===u?"center":"left",colSpan:t.colSpan},f,{sx:e=>Object.assign({display:"grid"===a?"grid":"table-cell",fontWeight:"bold",justifyContent:"group"===u?"center":void 0,padding:"8px",verticalAlign:"top",zIndex:l.getIsPinned()&&"group"!==u?2:1},rle({column:l,table:n,theme:e,tableCellProps:f})),children:(0,Pg.jsx)(Pg.Fragment,{children:t.isPlaceholder?null:null!==(o=null!==(i=c.Footer instanceof Function?null===(r=c.Footer)||void 0===r?void 0:r.call(c,{column:l,footer:t,table:n}):c.Footer)&&void 0!==i?i:c.footer)&&void 0!==o?o:null})}))},_ce=e=>{let{footerGroup:t,table:n,virtualColumns:r,virtualPaddingLeft:i,virtualPaddingRight:o}=e;var a;const{options:{layoutMode:s,mantineTableFooterRowProps:l}}=n;if(!(null===(a=t.headers)||void 0===a?void 0:a.some((e=>"string"===typeof e.column.columnDef.footer&&!!e.column.columnDef.footer||e.column.columnDef.Footer))))return null;const c=l instanceof Function?l({footerGroup:t,table:n}):l;return(0,Pg.jsxs)(hP,Object.assign({component:"tr"},c,{sx:e=>Object.assign({backgroundColor:e.fn.lighten("dark"===e.colorScheme?e.colors.dark[7]:e.white,.06),display:"grid"===s?"flex":"table-row",width:"100%"},(null===c||void 0===c?void 0:c.sx)instanceof Function?null===c||void 0===c?void 0:c.sx(e):null===c||void 0===c?void 0:c.sx),children:[i?(0,Pg.jsx)("th",{style:{display:"flex",width:i}}):null,(null!==r&&void 0!==r?r:t.headers).map((e=>{const i=r?t.headers[e.index]:e;return(0,Pg.jsx)(Cce,{footer:i,table:n},i.id)})),o?(0,Pg.jsx)("th",{style:{display:"flex",width:o}}):null]}))},Tce=e=>{let{table:t,virtualColumns:n,virtualPaddingLeft:r,virtualPaddingRight:i}=e;const{getFooterGroups:o,getState:a,options:{enableStickyFooter:s,layoutMode:l,mantineTableFooterProps:c}}=t,{isFullScreen:u}=a(),d=c instanceof Function?c({table:t}):c,h=(u||s)&&!1!==s;return(0,Pg.jsx)(hP,Object.assign({component:"tfoot"},d,{sx:e=>Object.assign({bottom:h?0:void 0,display:"grid"===l?"grid":"table-row-group",opacity:h?.97:void 0,outline:h?"light"===e.colorScheme?`1px solid ${e.colors.gray[3]}`:`1px solid ${e.colors.gray[7]}`:void 0,position:h?"sticky":void 0,zIndex:h?1:void 0},(null===d||void 0===d?void 0:d.sx)instanceof Function?null===d||void 0===d?void 0:d.sx(e):null===d||void 0===d?void 0:d.sx),children:o().map((e=>(0,Pg.jsx)(_ce,{footerGroup:e,table:t,virtualColumns:n,virtualPaddingLeft:r,virtualPaddingRight:i},e.id)))}))},Ace=e=>{let{table:n}=e;var r,i,o,a;const{getFlatHeaders:s,getState:l,options:{columns:c,columnVirtualizerInstanceRef:u,columnVirtualizerProps:d,enableColumnResizing:h,enableColumnVirtualization:f,enablePinning:p,enableTableFooter:m,enableTableHead:g,layoutMode:v,memoMode:y,mantineTableProps:b},refs:{tableContainerRef:x}}=n,{columnSizing:w,columnSizingInfo:S,columnPinning:E,columnVisibility:M,density:C}=l(),_=b instanceof Function?b({table:n}):b,T=d instanceof Function?d({table:n}):d,A=(0,t.useMemo)((()=>{const e=s(),t={};for(let n=0;n<e.length;n++){const r=e[n],i=r.getSize();t[`--header-${sle(r.id)}-size`]=i,t[`--col-${sle(r.column.id)}-size`]=i}return t}),[c,w,S,M]),P=(0,t.useMemo)((()=>{var e,t,r,i;if(!f)return 0;const o=null!==(i=null===(r=null===(t=null===(e=n.getRowModel().rows[0])||void 0===e?void 0:e.getCenterVisibleCells())||void 0===t?void 0:t.slice(0,16))||void 0===r?void 0:r.map((e=>1.2*e.column.getSize())))&&void 0!==i?i:[];return o.reduce(((e,t)=>e+t),0)/o.length}),[n.getRowModel().rows,E,M]),[O,D]=(0,t.useMemo)((()=>f&&p?[n.getLeftLeafColumns().map((e=>e.getPinnedIndex())),n.getRightLeafColumns().map((e=>n.getVisibleLeafColumns().length-e.getPinnedIndex()-1))]:[[],[]]),[E,f,p]),R=f?wre(Object.assign({count:n.getVisibleLeafColumns().length,estimateSize:()=>P,getScrollElement:()=>x.current,horizontal:!0,overscan:3,rangeExtractor:(0,t.useCallback)((e=>[...new Set([...O,...hre(e),...D])]),[O,D])},T)):void 0;u&&R&&(u.current=R);const k=R?R.getVirtualItems():void 0;let I,L;R&&(null===k||void 0===k?void 0:k.length)&&(I=null!==(i=null===(r=k[O.length])||void 0===r?void 0:r.start)&&void 0!==i?i:0,L=R.getTotalSize()-(null!==(a=null===(o=k[k.length-1-D.length])||void 0===o?void 0:o.end)&&void 0!==a?a:0));const z={columnVirtualizer:R,enableHover:null===_||void 0===_?void 0:_.highlightOnHover,isStriped:null===_||void 0===_?void 0:_.striped,table:n,virtualColumns:k,virtualPaddingLeft:I,virtualPaddingRight:L};return(0,Pg.jsxs)(ore,Object.assign({highlightOnHover:!0,horizontalSpacing:C,verticalSpacing:C},_,{sx:e=>Object.assign({display:"grid"===v?"grid":"table",tableLayout:"grid"!==v&&h?"fixed":void 0,"& tr:first-of-type td":{borderTop:`1px solid ${e.colors.gray["dark"===e.colorScheme?8:3]}`},"& tr:last-of-type td":{borderBottom:`1px solid ${e.colors.gray["dark"===e.colorScheme?8:3]}`}},(null===_||void 0===_?void 0:_.sx)instanceof Function?_.sx(e):null===_||void 0===_?void 0:_.sx),style:Object.assign(Object.assign({},A),null===_||void 0===_?void 0:_.style),children:[g&&(0,Pg.jsx)(hce,Object.assign({},z)),"table-body"===y||S.isResizingColumn?(0,Pg.jsx)(Mce,Object.assign({},z)):(0,Pg.jsx)(Ece,Object.assign({},z)),m&&(0,Pg.jsx)(Tce,Object.assign({},z))]}))},Pce="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Oce=e=>{let{table:n}=e;const{getState:r,options:{enableStickyHeader:i,mantineTableContainerProps:o},refs:{tableContainerRef:a,bottomToolbarRef:s,topToolbarRef:l}}=n,{isFullScreen:c}=r(),[u,d]=(0,t.useState)(0),h=o instanceof Function?o({table:n}):o;return Pce((()=>{var e,t,n,r;const i="undefined"!==typeof document&&null!==(t=null===(e=l.current)||void 0===e?void 0:e.offsetHeight)&&void 0!==t?t:0,o="undefined"!==typeof document&&null!==(r=null===(n=null===s||void 0===s?void 0:s.current)||void 0===n?void 0:n.offsetHeight)&&void 0!==r?r:0;d(i+o)})),(0,Pg.jsx)(hP,Object.assign({},h,{ref:e=>{e&&(a.current=e,(null===h||void 0===h?void 0:h.ref)&&(h.ref.current=e))},sx:e=>Object.assign({maxWidth:"100%",maxHeight:i?`clamp(350px, calc(100vh - ${u}px), 9999px)`:void 0,overflow:"auto"},(null===h||void 0===h?void 0:h.sx)instanceof Function?h.sx(e):null===h||void 0===h?void 0:h.sx),style:Object.assign({maxHeight:c?`calc(100vh - ${u}px)`:void 0},null===h||void 0===h?void 0:h.style),children:(0,Pg.jsx)(Ace,{table:n})}))},Dce=e=>{let{table:t}=e;const{getState:n,options:{enableBottomToolbar:r,enableTopToolbar:i,mantinePaperProps:o,renderBottomToolbar:a,renderTopToolbar:s},refs:{tablePaperRef:l}}=t,{isFullScreen:c}=n(),u=o instanceof Function?o({table:t}):o;return(0,Pg.jsxs)(YZ,Object.assign({shadow:"xs",withBorder:!0},u,{ref:e=>{l.current=e,(null===u||void 0===u?void 0:u.ref)&&(u.ref.current=e)},sx:e=>Object.assign({overflow:"hidden",transition:"all 100ms ease-in-out"},(null===u||void 0===u?void 0:u.sx)instanceof Function?null===u||void 0===u?void 0:u.sx(e):null===u||void 0===u?void 0:u.sx),style:Object.assign(Object.assign({},null===u||void 0===u?void 0:u.style),c?{bottom:0,height:"100vh",left:0,margin:0,maxHeight:"100vh",maxWidth:"100vw",padding:0,position:"fixed",right:0,top:0,width:"100vw",zIndex:10}:{}),children:[i&&(s instanceof Function?s({table:t}):null!==s&&void 0!==s?s:(0,Pg.jsx)($le,{table:t})),(0,Pg.jsx)(Oce,{table:t}),r&&(a instanceof Function?a({table:t}):null!==a&&void 0!==a?a:(0,Pg.jsx)(ece,{table:t}))]}))},Rce=e=>{let{open:t,row:n,table:r}=e;const{options:{localization:i,onEditingRowCancel:o},setEditingRow:a}=r;return(0,Pg.jsxs)(I$,{closeOnClickOutside:!1,onClose:()=>{null===o||void 0===o||o({row:n,table:r}),a(null)},opened:t,withCloseButton:!1,children:[(0,Pg.jsx)(xP,{sx:{textAlign:"center"},children:i.edit}),(0,Pg.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,Pg.jsx)(BG,{sx:{gap:"24px",paddingTop:"16px",width:"100%"},children:n.getAllCells().filter((e=>"data"===e.column.columnDef.columnDefType)).map((e=>(0,Pg.jsx)(fce,{cell:e,table:r},e.id)))})}),(0,Pg.jsx)(J8,{sx:{paddingTop:"24px",justifyContent:"flex-end"},children:(0,Pg.jsx)(Ale,{row:n,table:r,variant:"text"})})]})},kce=e=>{var n,r,i,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,x,w,S,E,M,C,_,T,A,P,O,D,R,k,I,L,z,F,N,B;const U=(0,t.useRef)(null),j=(0,t.useRef)({}),H=(0,t.useRef)({}),V=(0,t.useRef)(null),G=(0,t.useRef)(null),W=(0,t.useRef)({}),Y=(0,t.useRef)(null),X=(0,t.useRef)(null),Q=(0,t.useMemo)((()=>{var t,n,r;const i=null!==(t=e.initialState)&&void 0!==t?t:{};return i.columnOrder=null!==(n=i.columnOrder)&&void 0!==n?n:$se(e),i.globalFilterFn=null!==(r=e.globalFilterFn)&&void 0!==r?r:"fuzzy",i}),[]),[q,K]=(0,t.useState)((()=>Object.assign({},...qse(e.columns).map((e=>{var t,n,r,i,o;return{[Qse(e)]:e.filterFn instanceof Function?null!==(t=e.filterFn.name)&&void 0!==t?t:"custom":null!==(i=null!==(n=e.filterFn)&&void 0!==n?n:null===(r=null===Q||void 0===Q?void 0:Q.columnFilterFns)||void 0===r?void 0:r[Qse(e)])&&void 0!==i?i:(o=e,"multi-select"===o.filterVariant?"arrIncludesSome":"range"===o.filterVariant||"date-range"===o.filterVariant?"betweenInclusive":"select"===o.filterVariant||"checkbox"===o.filterVariant||"date"===o.filterVariant?"equals":"fuzzy")}}))))),[Z,J]=(0,t.useState)(null!==(n=Q.columnOrder)&&void 0!==n?n:[]),[$,ee]=(0,t.useState)(null!==(r=null===Q||void 0===Q?void 0:Q.density)&&void 0!==r?r:"md"),[te,ne]=(0,t.useState)(null!==(i=Q.draggingColumn)&&void 0!==i?i:null),[re,ie]=(0,t.useState)(null!==(o=Q.draggingRow)&&void 0!==o?o:null),[oe,ae]=(0,t.useState)(null!==(a=Q.editingCell)&&void 0!==a?a:null),[se,le]=(0,t.useState)(null!==(s=Q.editingRow)&&void 0!==s?s:null),[ce,ue]=(0,t.useState)(null!==(l=Q.globalFilterFn)&&void 0!==l?l:"fuzzy"),[de,he]=(0,t.useState)(null!==(c=Q.grouping)&&void 0!==c?c:[]),[fe,pe]=(0,t.useState)(null!==(u=Q.hoveredColumn)&&void 0!==u?u:null),[me,ge]=(0,t.useState)(null!==(d=Q.hoveredRow)&&void 0!==d?d:null),[ve,ye]=(0,t.useState)(null!==(h=null===Q||void 0===Q?void 0:Q.isFullScreen)&&void 0!==h&&h),[be,xe]=(0,t.useState)(null!==(p=null===(f=e.initialState)||void 0===f?void 0:f.showAlertBanner)&&void 0!==p&&p),[we,Se]=(0,t.useState)(null!==(m=null===Q||void 0===Q?void 0:Q.showColumnFilters)&&void 0!==m&&m),[Ee,Me]=(0,t.useState)(null!==(g=null===Q||void 0===Q?void 0:Q.showGlobalFilter)&&void 0!==g&&g),[Ce,_e]=(0,t.useState)(null!==(v=null===Q||void 0===Q?void 0:Q.showToolbarDropZone)&&void 0!==v&&v),Te=(0,t.useMemo)((()=>{var t,n,r,i,o,a,s,l,c,u,d,h,f,p,m,g,v;return[(null!==(n=null===(t=e.state)||void 0===t?void 0:t.columnOrder)&&void 0!==n?n:Z).includes("mrt-row-drag")&&Object.assign(Object.assign(Object.assign({header:e.localization.move,size:60},e.defaultDisplayColumn),null===(r=e.displayColumnDefOptions)||void 0===r?void 0:r["mrt-row-drag"]),{id:"mrt-row-drag"}),(null!==(o=null===(i=e.state)||void 0===i?void 0:i.columnOrder)&&void 0!==o?o:Z).includes("mrt-row-actions")&&Object.assign(Object.assign(Object.assign({Cell:e=>{let{cell:t,row:n}=e;return(0,Pg.jsx)(Ple,{cell:t,row:n,table:Oe})},header:e.localization.actions,size:70},e.defaultDisplayColumn),null===(a=e.displayColumnDefOptions)||void 0===a?void 0:a["mrt-row-actions"]),{id:"mrt-row-actions"}),(null!==(l=null===(s=e.state)||void 0===s?void 0:s.columnOrder)&&void 0!==l?l:Z).includes("mrt-row-expand")&&Jse(e,null!==(u=null===(c=e.state)||void 0===c?void 0:c.grouping)&&void 0!==u?u:de)&&Object.assign(Object.assign(Object.assign({Cell:e=>{let{row:t}=e;return(0,Pg.jsx)(_le,{row:t,table:Oe})},Header:e.enableExpandAll?()=>(0,Pg.jsx)(Cle,{table:Oe}):null,header:e.localization.expand,size:60},e.defaultDisplayColumn),null===(d=e.displayColumnDefOptions)||void 0===d?void 0:d["mrt-row-expand"]),{id:"mrt-row-expand"}),(null!==(f=null===(h=e.state)||void 0===h?void 0:h.columnOrder)&&void 0!==f?f:Z).includes("mrt-row-select")&&Object.assign(Object.assign(Object.assign({Cell:e=>{let{row:t}=e;return(0,Pg.jsx)(Ole,{row:t,table:Oe})},Header:e.enableSelectAll&&e.enableMultiRowSelection?()=>(0,Pg.jsx)(Ole,{selectAll:!0,table:Oe}):null,header:e.localization.select,size:60},e.defaultDisplayColumn),null===(p=e.displayColumnDefOptions)||void 0===p?void 0:p["mrt-row-select"]),{id:"mrt-row-select"}),(null!==(g=null===(m=e.state)||void 0===m?void 0:m.columnOrder)&&void 0!==g?g:Z).includes("mrt-row-numbers")&&Object.assign(Object.assign(Object.assign({Cell:e=>{let{row:t}=e;return t.index+1},Header:()=>e.localization.rowNumber,header:e.localization.rowNumbers,size:60},e.defaultDisplayColumn),null===(v=e.displayColumnDefOptions)||void 0===v?void 0:v["mrt-row-numbers"]),{id:"mrt-row-numbers"})].filter(Boolean)}),[Z,de,e.displayColumnDefOptions,e.editingMode,e.enableColumnDragging,e.enableColumnFilterModes,e.enableColumnOrdering,e.enableEditing,e.enableExpandAll,e.enableExpanding,e.enableGrouping,e.enableRowActions,e.enableRowDragging,e.enableRowNumbers,e.enableRowOrdering,e.enableRowSelection,e.enableSelectAll,e.localization,e.positionActionsColumn,e.renderDetailPanel,e.renderRowActionMenuItems,e.renderRowActions,null===(y=e.state)||void 0===y?void 0:y.columnOrder,null===(b=e.state)||void 0===b?void 0:b.grouping]),Ae=(0,t.useMemo)((()=>{var t,n,r;return Kse({aggregationFns:e.aggregationFns,columnDefs:[...Te,...e.columns],columnFilterFns:null!==(n=null===(t=e.state)||void 0===t?void 0:t.columnFilterFns)&&void 0!==n?n:q,defaultDisplayColumn:null!==(r=e.defaultDisplayColumn)&&void 0!==r?r:{},filterFns:e.filterFns,sortingFns:e.sortingFns})}),[q,Te,e.columns,null===(x=e.state)||void 0===x?void 0:x.columnFilterFns]),Pe=(0,t.useMemo)((()=>{var t,n,r,i,o;return!(null===(t=e.state)||void 0===t?void 0:t.isLoading)&&!(null===(n=e.state)||void 0===n?void 0:n.showSkeletons)||e.data.length?e.data:[...Array((null===(i=null===(r=e.state)||void 0===r?void 0:r.pagination)||void 0===i?void 0:i.pageSize)||(null===(o=null===Q||void 0===Q?void 0:Q.pagination)||void 0===o?void 0:o.pageSize)||10).fill(null)].map((()=>Object.assign({},...qse(e.columns).map((e=>({[Qse(e)]:null}))))))}),[e.data,null===(w=e.state)||void 0===w?void 0:w.isLoading,null===(S=e.state)||void 0===S?void 0:S.showSkeletons]),Oe=Object.assign(Object.assign({},function(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=t.useState((()=>({current:O0(n)}))),[i,o]=t.useState((()=>r.current.initialState));return r.current.setOptions((t=>({...t,...e,state:{...i,...e.state},onStateChange:t=>{o(t),null==e.onStateChange||e.onStateChange(t)}}))),r.current}(Object.assign(Object.assign({getCoreRowModel:e=>G$((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,i,o){void 0===i&&(i=0);const a=[];for(let l=0;l<t.length;l++){const c=D0(e,e._getRowId(t[l],l,o),t[l],l,i,void 0,null==o?void 0:o.id);var s;n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows&&(c.originalSubRows=e.options.getSubRows(t[l],l),null!=(s=c.originalSubRows)&&s.length&&(c.subRows=r(c.originalSubRows,i+1,c)))}return a};return n.rows=r(t),n}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}}),getExpandedRowModel:e=>G$((()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows]),((e,t,n)=>!t.rows.length||!0!==e&&!Object.keys(null!=e?e:{}).length?t:n?I0(t):t),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getFacetedRowModel:(e,t)=>G$((()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()]),((n,r,i)=>{if(!n.rows.length||(null==r||!r.length)&&!i)return n;const o=[...r.map((e=>e.id)).filter((e=>e!==t)),i?"__global__":void 0].filter(Boolean);return R0(n.rows,(e=>{for(let t=0;t<o.length;t++)if(!1===e.columnFilters[o[t]])return!1;return!0}),e)}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable},onChange:()=>{}}),getFilteredRowModel:e=>G$((()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter]),((t,n,r)=>{if(!t.rows.length||(null==n||!n.length)&&!r){for(let e=0;e<t.flatRows.length;e++)t.flatRows[e].columnFilters={},t.flatRows[e].columnFiltersMeta={};return t}const i=[],o=[];(null!=n?n:[]).forEach((t=>{var n;const r=e.getColumn(t.id);if(!r)return;const o=r.getFilterFn();o&&i.push({id:t.id,filterFn:o,resolvedValue:null!=(n=null==o.resolveFilterValue?void 0:o.resolveFilterValue(t.value))?n:t.value})}));const a=n.map((e=>e.id)),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter((e=>e.getCanGlobalFilter()));let c,u;r&&s&&l.length&&(a.push("__global__"),l.forEach((e=>{var t;o.push({id:e.id,filterFn:s,resolvedValue:null!=(t=null==s.resolveFilterValue?void 0:s.resolveFilterValue(r))?t:r})})));for(let e=0;e<t.flatRows.length;e++){const n=t.flatRows[e];if(n.columnFilters={},i.length)for(let e=0;e<i.length;e++){c=i[e];const t=c.id;n.columnFilters[t]=c.filterFn(n,t,c.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))}if(o.length){for(let e=0;e<o.length;e++){u=o[e];const t=u.id;if(u.filterFn(n,t,u.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))){n.columnFilters.__global__=!0;break}}!0!==n.columnFilters.__global__&&(n.columnFilters.__global__=!1)}}return R0(t.rows,(e=>{for(let t=0;t<a.length;t++)if(!1===e.columnFilters[a[t]])return!1;return!0}),e)}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}}),getGroupedRowModel:k0(),getPaginationRowModel:e=>G$((()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded]),((t,n)=>{if(!n.rows.length)return n;const{pageSize:r,pageIndex:i}=t;let{rows:o,flatRows:a,rowsById:s}=n;const l=r*i,c=l+r;let u;o=o.slice(l,c),u=e.options.paginateExpandedRows?{rows:o,flatRows:a,rowsById:s}:I0({rows:o,flatRows:a,rowsById:s}),u.flatRows=[];const d=e=>{u.flatRows.push(e),e.subRows.length&&e.subRows.forEach(d)};return u.rows.forEach(d),u}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getSortedRowModel:e=>G$((()=>[e.getState().sorting,e.getPreSortedRowModel()]),((t,n)=>{if(!n.rows.length||null==t||!t.length)return n;const r=e.getState().sorting,i=[],o=r.filter((t=>{var n;return null==(n=e.getColumn(t.id))?void 0:n.getCanSort()})),a={};o.forEach((t=>{const n=e.getColumn(t.id);n&&(a[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})}));const s=e=>{const t=[...e];return t.sort(((e,t)=>{for(let r=0;r<o.length;r+=1){var n;const i=o[r],s=a[i.id],l=null!=(n=null==i?void 0:i.desc)&&n;if(s.sortUndefined){const n="undefined"===typeof e.getValue(i.id),r="undefined"===typeof t.getValue(i.id);if(n||r){let e=n&&r?0:n?s.sortUndefined:-s.sortUndefined;return l&&0!==e&&(e*=-1),e}}let c=s.sortingFn(e,t,i.id);if(0!==c)return l&&(c*=-1),s.invertSorting&&(c*=-1),c}return e.index-t.index})),t.forEach((e=>{var t;i.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=s(e.subRows))})),t};return{rows:s(n.rows),flatRows:i,rowsById:n.rowsById}}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}}),onColumnOrderChange:J,onGroupingChange:he,getSubRows:e=>null===e||void 0===e?void 0:e.subRows},e),{columns:Ae,data:Pe,globalFilterFn:null!==(M=null===(E=e.filterFns)||void 0===E?void 0:E[ce])&&void 0!==M?M:null===(C=e.filterFns)||void 0===C?void 0:C.fuzzy,initialState:Q,state:Object.assign({columnFilterFns:q,columnOrder:Z,density:$,draggingColumn:te,draggingRow:re,editingCell:oe,editingRow:se,globalFilterFn:ce,grouping:de,hoveredColumn:fe,hoveredRow:me,isFullScreen:ve,showAlertBanner:be,showColumnFilters:we,showGlobalFilter:Ee,showToolbarDropZone:Ce},e.state)}))),{refs:{bottomToolbarRef:U,editInputRefs:j,filterInputRefs:H,searchInputRef:V,tableContainerRef:G,tableHeadCellRefs:W,tablePaperRef:Y,topToolbarRef:X},setColumnFilterFns:null!==(_=e.onColumnFilterFnsChange)&&void 0!==_?_:K,setDensity:null!==(T=e.onDensityChange)&&void 0!==T?T:ee,setDraggingColumn:null!==(A=e.onDraggingColumnChange)&&void 0!==A?A:ne,setDraggingRow:null!==(P=e.onDraggingRowChange)&&void 0!==P?P:ie,setEditingCell:null!==(O=e.onEditingCellChange)&&void 0!==O?O:ae,setEditingRow:null!==(D=e.onEditingRowChange)&&void 0!==D?D:le,setGlobalFilterFn:null!==(R=e.onGlobalFilterFnChange)&&void 0!==R?R:ue,setHoveredColumn:null!==(k=e.onHoveredColumnChange)&&void 0!==k?k:pe,setHoveredRow:null!==(I=e.onHoveredRowChange)&&void 0!==I?I:ge,setIsFullScreen:null!==(L=e.onIsFullScreenChange)&&void 0!==L?L:ye,setShowAlertBanner:null!==(z=e.onShowAlertBannerChange)&&void 0!==z?z:xe,setShowColumnFilters:null!==(F=e.onShowColumnFiltersChange)&&void 0!==F?F:Se,setShowGlobalFilter:null!==(N=e.onShowGlobalFilterChange)&&void 0!==N?N:Me,setShowToolbarDropZone:null!==(B=e.onShowToolbarDropZoneChange)&&void 0!==B?B:_e});e.tableFeatures&&e.tableFeatures.forEach((e=>{Object.assign(Oe,e(Oe))})),e.tableInstanceRef&&(e.tableInstanceRef.current=Oe);const De=(0,t.useRef)();return(0,t.useEffect)((()=>{"undefined"!==typeof window&&(De.current=document.body.style.height)}),[]),(0,t.useEffect)((()=>{"undefined"!==typeof window&&(Oe.getState().isFullScreen?document.body.style.height="100vh":document.body.style.height=De.current)}),[Oe.getState().isFullScreen]),(0,t.useEffect)((()=>{var t;const{pageIndex:n,pageSize:r}=Oe.getState().pagination,i=null!==(t=e.rowCount)&&void 0!==t?t:Oe.getPrePaginationRowModel().rows.length;n*r>i&&Oe.setPageIndex(Math.floor(i/r))}),[e.rowCount,Oe.getPrePaginationRowModel().rows.length]),(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(Dce,{table:Oe}),se&&"modal"===e.editingMode&&(0,Pg.jsx)(Rce,{row:se,table:Oe,open:!0})]})},Ice={actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSort:"Clear sort",clickToCopy:"Click to copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all",unsorted:"Unsorted"},Lce=e=>{var n,{aggregationFns:r,autoResetExpanded:i=!1,columnResizeMode:o="onChange",defaultColumn:a,defaultDisplayColumn:s,editingMode:l="modal",enableBottomToolbar:c=!0,enableColumnActions:u=!0,enableColumnFilters:d=!0,enableColumnOrdering:h=!1,enableColumnResizing:f=!1,enableDensityToggle:p=!0,enableExpandAll:m=!0,enableFilterMatchHighlighting:g=!0,enableFilters:v=!0,enableFullScreenToggle:y=!0,enableGlobalFilter:b=!0,enableGlobalFilterRankedResults:x=!0,enableGrouping:w=!1,enableHiding:S=!0,enableMultiRowSelection:E=!0,enableMultiSort:M=!0,enablePagination:C=!0,enablePinning:_=!1,enableRowSelection:T=!1,enableSelectAll:A=!0,enableSorting:P=!0,enableStickyHeader:O=!1,enableTableFooter:D=!0,enableTableHead:R=!0,enableToolbarInternalActions:k=!0,enableTopToolbar:I=!0,filterFns:L,icons:z,layoutMode:F="semantic",localization:N,manualFiltering:B,manualGrouping:U,manualPagination:j,manualSorting:H,positionActionsColumn:V="first",positionExpandColumn:G="first",positionGlobalFilter:W="right",positionPagination:Y="bottom",positionToolbarAlertBanner:X="top",positionToolbarDropZone:Q="top",rowNumberMode:q="original",selectAllMode:K="page",sortingFns:Z}=e,J=Yse(e,["aggregationFns","autoResetExpanded","columnResizeMode","defaultColumn","defaultDisplayColumn","editingMode","enableBottomToolbar","enableColumnActions","enableColumnFilters","enableColumnOrdering","enableColumnResizing","enableDensityToggle","enableExpandAll","enableFilterMatchHighlighting","enableFilters","enableFullScreenToggle","enableGlobalFilter","enableGlobalFilterRankedResults","enableGrouping","enableHiding","enableMultiRowSelection","enableMultiSort","enablePagination","enablePinning","enableRowSelection","enableSelectAll","enableSorting","enableStickyHeader","enableTableFooter","enableTableHead","enableToolbarInternalActions","enableTopToolbar","filterFns","icons","layoutMode","localization","manualFiltering","manualGrouping","manualPagination","manualSorting","positionActionsColumn","positionExpandColumn","positionGlobalFilter","positionPagination","positionToolbarAlertBanner","positionToolbarDropZone","rowNumberMode","selectAllMode","sortingFns"]);const $=(0,t.useMemo)((()=>Object.assign(Object.assign({},Ele),z)),[z]),ee=(0,t.useMemo)((()=>Object.assign(Object.assign({},Ice),N)),[N]),te=(0,t.useMemo)((()=>Object.assign(Object.assign({},Xse),r)),[]),ne=(0,t.useMemo)((()=>Object.assign(Object.assign({},Sle),L)),[]),re=(0,t.useMemo)((()=>Object.assign(Object.assign({},Mle),Z)),[]),ie=(0,t.useMemo)((()=>Object.assign(Object.assign({},ile),a)),[a]),oe=(0,t.useMemo)((()=>Object.assign(Object.assign({},ole),s)),[s]);return(J.enableRowVirtualization||J.enableColumnVirtualization)&&(F="grid"),J.enableRowVirtualization&&(O=!0),!1===C&&void 0===j&&(j=!0),(null===(n=J.data)||void 0===n?void 0:n.length)||(B=!0,U=!0,j=!0,H=!0),(0,Pg.jsx)(kce,Object.assign({aggregationFns:te,autoResetExpanded:i,columnResizeMode:o,defaultColumn:ie,defaultDisplayColumn:oe,editingMode:l,enableBottomToolbar:c,enableColumnActions:u,enableColumnFilters:d,enableColumnOrdering:h,enableColumnResizing:f,enableDensityToggle:p,enableExpandAll:m,enableFilterMatchHighlighting:g,enableFilters:v,enableFullScreenToggle:y,enableGlobalFilter:b,enableGlobalFilterRankedResults:x,enableGrouping:w,enableHiding:S,enableMultiRowSelection:E,enableMultiSort:M,enablePagination:C,enablePinning:_,enableRowSelection:T,enableSelectAll:A,enableSorting:P,enableStickyHeader:O,enableTableFooter:D,enableTableHead:R,enableToolbarInternalActions:k,enableTopToolbar:I,filterFns:ne,icons:$,layoutMode:F,localization:ee,manualFiltering:B,manualGrouping:U,manualPagination:j,manualSorting:H,positionActionsColumn:V,positionExpandColumn:G,positionGlobalFilter:W,positionPagination:Y,positionToolbarAlertBanner:X,positionToolbarDropZone:Q,rowNumberMode:q,selectAllMode:K,sortingFns:re},J))};function zce(e){const n=t.useContext(Qce),r=n.useSceneTree((e=>e.nodeFromName)),i=n.useSceneTree((e=>e.setLabelVisibility));function o(e,t){const r=n.nodeAttributesFromName.current[e];void 0!==r&&(r.visibility=t,s())}const[,a]=t.useState(Date.now());function s(){a(Date.now())}t.useEffect((()=>{const e=setInterval(s,500);return()=>{clearInterval(e)}}),[]);const l=t.useRef(!1);l.current=!1,setTimeout((()=>{l.current=!0}),5);const c=function e(t,i,a){const s=r[t];return void 0===s?[]:s.children.map((t=>{var r,s;const c=null===(r=null===(s=n.nodeAttributesFromName.current[t])||void 0===s?void 0:s.visibility)||void 0===r||r,u=c&&a,d=c?L$:z$;return{name:t,visible:(0,Pg.jsx)(iq,{onMouseDown:()=>{var e,r;const i=null===(e=null===(r=n.nodeAttributesFromName.current[t])||void 0===r?void 0:r.visibility)||void 0===e||e;l.current&&o(t,!i)},onClick:e=>{e.stopPropagation()},onMouseEnter:e=>{if(0!==e.buttons){var r,i;const e=null===(r=null===(i=n.nodeAttributesFromName.current[t])||void 0===i?void 0:i.visibility)||void 0===r||r;l.current&&o(t,!e)}},sx:{opacity:u?"1.0":"0.5"},children:(0,Pg.jsx)(d,{})}),subRows:e(t,i+1,u)}}))}("",0,!0),u=t.useMemo((()=>[{accessorKey:"visible",header:"",size:20},{accessorKey:"name",header:"Name",Cell:function(e){var t;const n=e.row,r=e.cell,i=n.getIsExpanded()?F$:N$;return(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(i,{style:{opacity:0===(null===(t=n.subRows)||void 0===t?void 0:t.length)?"0.0":"0.4",marginLeft:(.75*n.depth).toString()+"em"},size:"1em"}),r.getValue().split("/").filter((e=>e.length>0)).map(((e,t,n)=>(0,Pg.jsxs)("span",{style:{userSelect:"none"},children:[(0,Pg.jsx)("span",{style:{opacity:"0.4"},children:t==n.length-1?"/":"/"+e}),t==n.length-1?e:""]},t)))]})}}]),[]),[d,{open:h,close:f}]=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;const{onOpen:r,onClose:i}=n||{},[o,a]=(0,t.useState)(e),s=(0,t.useCallback)((()=>{a((e=>e||(null==r||r(),!0)))}),[r]),l=(0,t.useCallback)((()=>{a((e=>e?(null==i||i(),!1):e))}),[i]),c=(0,t.useCallback)((()=>{o?l():s()}),[l,s,o]);return[o,{open:s,close:l,toggle:c}]}(!1);return(0,Pg.jsxs)(Pg.Fragment,{children:[e.compact&&(0,Pg.jsx)(I$,{padding:"0",withCloseButton:!1,opened:d,onClose:f,size:"xl",centered:!0,children:(0,Pg.jsx)(zce,{compact:!1})}),(0,Pg.jsx)(Lce,{columns:u,data:c,enableExpanding:!1,filterFromLeafRows:!0,enableDensityToggle:!1,enableRowSelection:!e.compact,enableHiding:!1,enableGlobalFilter:!0,enableColumnActions:!1,enableTopToolbar:!0,enableBottomToolbar:!1,enableColumnFilters:!1,enablePagination:!1,initialState:{density:"xs",expanded:!0},mantineExpandAllButtonProps:{size:"sm"},mantineExpandButtonProps:{size:"sm",sx:{width:"0 !important"}},mantineSelectAllCheckboxProps:{size:"sm"},mantineSelectCheckboxProps:{size:"sm"},mantineTableProps:{verticalSpacing:2},mantineTableContainerProps:{sx:{maxHeight:"30em"}},mantinePaginationProps:{showRowsPerPage:!1,showFirstLastPageButtons:!1},mantineTableBodyRowProps:e=>{let{row:t}=e;return{onPointerOver:()=>{i(t.getValue("name"),!0)},onPointerOut:()=>{i(t.getValue("name"),!1)},...void 0===t.subRows||0===t.subRows.length?{}:{onClick:()=>{t.toggleExpanded()},sx:{cursor:"pointer"}}}},enableFullScreenToggle:!1,renderTopToolbarCustomActions:e.compact?()=>(0,Pg.jsx)(iq,{onClick:h,children:(0,Pg.jsx)(B$,{})}):e=>{let{table:t}=e;const n=0==t.getFilteredSelectedRowModel().flatRows.length;return(0,Pg.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Pg.jsx)(iq,{color:"green",disabled:n,variant:"filled",onClick:()=>{t.getSelectedRowModel().flatRows.map((e=>{o(e.getValue("name"),!0)}))},children:(0,Pg.jsx)(L$,{})}),(0,Pg.jsx)(iq,{color:"gray",disabled:n,variant:"filled",onClick:()=>{t.getSelectedRowModel().flatRows.map((e=>{o(e.getValue("name"),!1)}))},children:(0,Pg.jsx)(z$,{})})]})},enableRowVirtualization:!0})]})}function Fce(){const e=t.useContext(Qce).useGui((e=>e.guiNames.length>0)),[n,r]=t.useState("server");t.useEffect((()=>{e&&r("generated")}),[e]);const i=t.memo(zce);return(0,Pg.jsxs)(_I,{radius:"xs",value:n,onTabChange:r,children:[(0,Pg.jsxs)(_I.List,{children:[e?(0,Pg.jsx)(_I.Tab,{value:"generated",icon:(0,Pg.jsx)(BR,{size:"0.8rem"}),children:"Control"}):null,(0,Pg.jsx)(_I.Tab,{value:"server",icon:(0,Pg.jsx)(UR,{size:"1rem"}),children:"Server"}),(0,Pg.jsx)(_I.Tab,{value:"scene",icon:(0,Pg.jsx)(jR,{size:"1rem"}),children:"Scene"})]}),e?(0,Pg.jsx)(_I.Panel,{value:"generated",pt:"xs",p:"sm",children:(0,Pg.jsx)(TG,{})}):null,(0,Pg.jsx)(_I.Panel,{value:"server",pt:"xs",p:"sm",children:(0,Pg.jsx)(LQ,{})}),(0,Pg.jsx)(_I.Panel,{value:"scene",pt:"xs",p:"sm",children:(0,Pg.jsx)(i,{compact:!0})})]})}function Nce(){const{useGui:e}=t.useContext(Qce),n=e((e=>e.websocketConnected)),r=e((e=>e.server)),i=e((e=>e.label)),o=n?HR:VR;return(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)(o,{color:n?"#0b0":"#b00",style:{transform:"translateY(0.1em) scale(1.2)",width:"1em",height:"1em"}}),"\xa0 \xa0",""===i?r:i]})}var Bce=NR("brand-github","IconBrandGithub",[["path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5",key:"svg-0"}]]),Uce=NR("file-description","IconFileDescription",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 17h6",key:"svg-2"}],["path",{d:"M9 13h6",key:"svg-3"}]]),jce=NR("keyboard","IconKeyboard",[["path",{d:"M2 6m0 2a2 2 0 0 1 2 -2h16a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-16a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M6 10l0 .01",key:"svg-1"}],["path",{d:"M10 10l0 .01",key:"svg-2"}],["path",{d:"M14 10l0 .01",key:"svg-3"}],["path",{d:"M18 10l0 .01",key:"svg-4"}],["path",{d:"M6 14l0 .01",key:"svg-5"}],["path",{d:"M18 14l0 .01",key:"svg-6"}],["path",{d:"M10 14l4 .01",key:"svg-7"}]]);function Hce(e){let t=null;switch(e.icon){case null:break;case"GitHub":t=Bce;break;case"Description":t=Uce;break;case"Keyboard":t=jce;break;default:!function(e){throw new Error("Didn't expect to get here",e)}(e.icon)}return(0,Pg.jsx)(IX,{component:"a",variant:"outline",href:e.href||void 0,compact:!0,target:"_blank",leftIcon:null===t?null:(0,Pg.jsx)(t,{size:"1em"}),ml:"sm",color:"gray",children:e.text})}function Vce(e){const t=(0,Pg.jsx)("img",{src:e.image_url,alt:e.image_alt,style:{height:"1.8em",margin:"0 0.5em"}});return null==e.href?t:(0,Pg.jsx)("a",{href:e.href,children:t})}function Gce(){const e=(0,t.useContext)(Qce).useGui((e=>e.theme.titlebar_content));if(null==e)return null;const n=e.buttons,r=e.image;return(0,Pg.jsxs)(hP,{p:"xs",sx:e=>({width:"100%",margin:0,display:"flex",alignItems:"center",borderBottom:"1px solid",borderColor:"light"==e.colorScheme?e.colors.gray[4]:e.colors.dark[4]}),children:[null!==r?Vce(r):null,null===n||void 0===n?void 0:n.map((e=>Hce(e)))]})}var Wce=NR("caret-up","IconCaretUp",[["path",{d:"M18 14l-6 -6l-6 6h12",key:"svg-0"}]]);const Yce=t.createContext(null);function Xce(e){let{children:n}=e;const r=t.useRef(null);return(0,Pg.jsx)(Yce.Provider,{value:r,children:(0,Pg.jsx)(YZ,{radius:"sm",withBorder:!0,sx:{boxSizing:"border-box",width:"20em",zIndex:1,position:"absolute",top:"1em",right:"1em",margin:0,overflow:"auto","&.hidden":{overflow:"hidden"},"& .panel-contents":{opacity:"1.0",visibility:"visible",height:"auto",transition:"visibility 0.2s linear,opacity 0.2s linear"},"&.hidden .panel-contents":{opacity:"0.0",visibility:"hidden",height:"0 !important",border:"0",overflow:"hidden",position:"absolute"},"& .expand-icon":{transform:"rotate(0)"},"&.hidden .expand-icon":{transform:"rotate(180deg)"}},ref:r,children:n})})}Xce.Handle=function(e){let{children:n}=e;const r=t.useContext(Yce),i=t.useRef({dragging:!1,startPosX:0,startPosY:0,startClientX:0,startClientY:0}),o=t.useRef({}),a=(e,t,n)=>Math.abs(e+t/2)<Math.abs(e-n+t/2)?e:e-n,s=15;function l(e,t){const n=r.current;if(null===n)return[e,t];const i=n.parentElement;if(null===i)return[e,t];let o=e,l=t;return o=Math.min(o,i.clientWidth-n.clientWidth-s),o=Math.max(o,s),l=Math.min(l,i.clientHeight-n.clientHeight-s),l=Math.max(l,s),n.style.top=l.toString()+"px",n.style.left=o.toString()+"px",[a(o,n.clientWidth,i.clientWidth),a(l,n.clientHeight,i.clientHeight)]}return t.useEffect((()=>{const e=r.current;if(null===e)return;const t=e.parentElement;if(null===t)return;e.style.maxHeight=(t.clientHeight-30).toString()+"px";const n=new ResizeObserver((()=>{void 0===o.current.x&&(o.current.x=a(e.offsetLeft,e.clientWidth,t.clientWidth)),void 0===o.current.y&&(o.current.y=a(e.offsetTop,e.clientHeight,t.clientHeight)),e.style.maxHeight=(t.clientHeight-30).toString()+"px";let n=o.current.x,r=o.current.y;for(;n<0;)n+=t.clientWidth;for(;r<0;)r+=t.clientHeight;l(n,r)}));return n.observe(e),n.observe(t),()=>{n.disconnect()}})),(0,Pg.jsxs)(hP,{color:"red",sx:e=>({backgroundColor:"dark"==e.colorScheme?e.colors.dark[5]:e.colors.gray[1],lineHeight:"1.5em",cursor:"pointer",position:"relative",fontWeight:400,boxSizing:"border-box",overflow:"hidden",userSelect:"none"}),onClick:()=>{const e=i.current;if(e.dragging)return void(e.dragging=!1);const t=r.current;t&&(t.classList.contains("hidden")?t.classList.remove("hidden"):t.classList.add("hidden"))},onMouseDown:e=>{const t=i.current,n=r.current;function a(e){const n=e.clientX-t.startClientX,r=e.clientY-t.startClientY;if(Math.abs(n)<=3&&Math.abs(r)<=3)return;t.dragging=!0;const i=t.startPosX+n,a=t.startPosY+r;[o.current.x,o.current.y]=l(i,a)}n&&(t.startClientX=e.clientX,t.startClientY=e.clientY,t.startPosX=n.offsetLeft,t.startPosY=n.offsetTop,window.addEventListener("mousemove",a),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",a)}),{once:!0}))},children:[(0,Pg.jsx)(hP,{component:"div",sx:{padding:"0.5em 3em 0.5em 0.8em"},children:n}),(0,Pg.jsx)(hP,{component:"div",sx:{position:"absolute",top:"50%",right:"0.5em",transform:"translateY(-48%) scale(0.8)",height:"1.5em",opacity:"0.5"},children:(0,Pg.jsx)(Wce,{className:"expand-icon"})})]})},Xce.Contents=function(e){let{children:t}=e;return(0,Pg.jsx)(hP,{className:"panel-contents",children:t})};const Qce=t.createContext(null);function qce(){const e=new URLSearchParams(window.location.search).getAll(TP),n=e.length>=1?e[0]:function(){let e=window.location.href;return e=e.replace("http://","ws://"),e=e.split("?")[0],e.endsWith("/")&&(e=e.slice(0,-1)),e}(),r={useSceneTree:t.useState((()=>QM(qM(KM((e=>({nodeFromName:{"":SP,"/WorldAxes":EP},labelVisibleFromName:{},setClickable:(t,n)=>e((e=>{const r=e.nodeFromName[t];void 0!==r&&(r.clickable=n)})),addSceneNode:t=>e((e=>{const n=e.nodeFromName[t.name];if(n)e.nodeFromName[t.name]={...t,children:n.children};else{const n=t.name.split("/").slice(0,-1).join("/");e.nodeFromName[t.name]=t,e.nodeFromName[n].children.push(t.name)}})),removeSceneNode:t=>e((e=>{if(!(t in e.nodeFromName))return void console.log("Skipping scene node removal for "+t);const n=[];!function t(r){n.push(r),e.nodeFromName[r].children.forEach(t)}(t),n.forEach((t=>{delete e.nodeFromName[t]}));const r=t.split("/").slice(0,-1).join("/");e.nodeFromName[r].children=e.nodeFromName[r].children.filter((e=>e!==t))})),resetScene:()=>e((e=>{for(const t of Object.keys(e.nodeFromName))""!==t&&"/WorldAxes"!==t&&delete e.nodeFromName[t];e.nodeFromName[""].children=["/WorldAxes"],e.nodeFromName["/WorldAxes"].children=[]})),setLabelVisibility:(t,n)=>e((e=>{e.labelVisibleFromName[t]=n}))})))))))[0],useGui:AR(n),websocketRef:t.useRef(null),sceneRef:t.useRef(null),cameraRef:t.useRef(null),cameraControlRef:t.useRef(null),nodeAttributesFromName:t.useRef({})},i=r.useGui((e=>e.theme.fixed_sidebar));return(0,Pg.jsxs)(Qce.Provider,{value:r,children:[(0,Pg.jsx)(Gce,{}),(0,Pg.jsxs)(hP,{sx:{width:"100%",height:"1px",position:"relative",flex:"1 0 auto"},children:[(0,Pg.jsx)(sD,{}),(0,Pg.jsx)(hP,{sx:e=>({top:0,bottom:0,left:0,right:i?"20em":0,position:"absolute",backgroundColor:"light"==e.colorScheme?"#fff":e.colors.dark[9]}),children:(0,Pg.jsx)(Kce,{})}),i?(0,Pg.jsx)(hP,{sx:e=>({width:"20em",boxSizing:"border-box",right:0,position:"absolute",top:"0em",bottom:"0em",borderLeft:"1px solid",borderColor:"light"==e.colorScheme?e.colors.gray[4]:e.colors.dark[4]}),children:(0,Pg.jsxs)(_R,{type:"always",sx:{height:"100%"},children:[(0,Pg.jsx)(hP,{p:"sm",sx:e=>({backgroundColor:"dark"==e.colorScheme?e.colors.dark[5]:e.colors.gray[1],lineHeight:"1.5em",fontWeight:400}),children:(0,Pg.jsx)(Nce,{})}),(0,Pg.jsx)(Fce,{})]})}):(0,Pg.jsxs)(Xce,{children:[(0,Pg.jsx)(Xce.Handle,{children:(0,Pg.jsx)(Nce,{})}),(0,Pg.jsx)(Xce.Contents,{children:(0,Pg.jsx)(Fce,{})})]})]})]})}function Kce(){return(0,Pg.jsxs)(Ag,{camera:{position:[3,3,-3]},style:{position:"relative",zIndex:0,width:"100%",height:"100%"},performance:{min:.95},children:[(0,Pg.jsx)(Hm,{pixelated:!0}),(0,Pg.jsx)(Vm,{}),(0,Pg.jsx)(Zce,{}),(0,Pg.jsx)(lD,{}),(0,Pg.jsxs)(Ex,{children:[(0,Pg.jsx)(_P,{name:""}),(0,Pg.jsx)(_x,{enabled:!0,autoClear:!1,children:(0,Pg.jsx)(kx,{hiddenEdgeColor:16514816,visibleEdgeColor:16514816,blendFunction:Wg.SCREEN,kernelSize:av.MEDIUM,edgeStrength:30,height:480,blur:!0})})]}),(0,Pg.jsx)(ng,{path:"/hdri/",files:"potsdamer_platz_1k.hdr"})]})}function Zce(){const{sceneRef:e,cameraRef:n}=t.useContext(Qce);return e.current=_m((e=>e.scene)),n.current=_m((e=>e.camera)),console.log(n.current),(0,Pg.jsx)(Pg.Fragment,{})}function Jce(){return(0,Pg.jsx)(WT,{withGlobalStyles:!0,withNormalizeCSS:!0,theme:{colorScheme:"light"},children:(0,Pg.jsx)(hP,{sx:{width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:"column"},children:(0,Pg.jsx)(qce,{})})})}qn.enabled=!0,(0,ZM.s)(document.getElementById("root")).render((0,Pg.jsx)(Jce,{}))})()})();
//# sourceMappingURL=main.d6cf6619.js.map